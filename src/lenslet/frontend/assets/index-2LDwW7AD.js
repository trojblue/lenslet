var qg=Object.defineProperty;var pd=e=>{throw TypeError(e)};var Xg=(e,t,n)=>t in e?qg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pn=(e,t,n)=>Xg(e,typeof t!="symbol"?t+"":t,n),Hl=(e,t,n)=>t.has(e)||pd("Cannot "+n);var w=(e,t,n)=>(Hl(e,t,"read from private field"),n?n.call(e):t.get(e)),te=(e,t,n)=>t.has(e)?pd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,r)=>(Hl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(Hl(e,t,"access private method"),n);var qi=(e,t,n,r)=>({set _(s){H(e,t,s,n)},get _(){return w(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ph={exports:{}},gl={},Ih={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),Zg=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),nv=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),lv=Symbol.for("react.memo"),av=Symbol.for("react.lazy"),md=Symbol.iterator;function uv(e){return e===null||typeof e!="object"?null:(e=md&&e[md]||e["@@iterator"],typeof e=="function"?e:null)}var _h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Fh={};function Ds(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||_h}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zh(){}zh.prototype=Ds.prototype;function Ku(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||_h}var Yu=Ku.prototype=new zh;Yu.constructor=Ku;Oh(Yu,Ds.prototype);Yu.isPureReactComponent=!0;var gd=Array.isArray,Dh=Object.prototype.hasOwnProperty,Gu={current:null},Ah={key:!0,ref:!0,__self:!0,__source:!0};function $h(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Dh.call(t,r)&&!Ah.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ui,type:e,key:i,ref:o,props:s,_owner:Gu.current}}function cv(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function dv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vd=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dv(""+e.key):t.toString(36)}function xo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ui:case Zg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ql(o,0):r,gd(s)?(n="",e!=null&&(n=e.replace(vd,"$&/")+"/"),xo(s,t,n,"",function(c){return c})):s!=null&&(qu(s)&&(s=cv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",gd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ql(i,l);o+=xo(i,t,n,a,s)}else if(a=uv(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ql(i,l++),o+=xo(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xi(e,t,n){if(e==null)return e;var r=[],s=0;return xo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},wo={transition:null},hv={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Gu};function Uh(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Xi,forEach:function(e,t,n){Xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xi(e,function(){t++}),t},toArray:function(e){return Xi(e,function(t){return t})||[]},only:function(e){if(!qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Ds;ce.Fragment=ev;ce.Profiler=nv;ce.PureComponent=Ku;ce.StrictMode=tv;ce.Suspense=ov;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;ce.act=Uh;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Oh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Gu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Dh.call(t,a)&&!Ah.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ui,type:e.type,key:s,ref:i,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:sv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rv,_context:e},e.Consumer=e};ce.createElement=$h;ce.createFactory=function(e){var t=$h.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:iv,render:e}};ce.isValidElement=qu;ce.lazy=function(e){return{$$typeof:av,_payload:{_status:-1,_result:e},_init:fv}};ce.memo=function(e,t){return{$$typeof:lv,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=wo.transition;wo.transition={};try{e()}finally{wo.transition=t}};ce.unstable_act=Uh;ce.useCallback=function(e,t){return ft.current.useCallback(e,t)};ce.useContext=function(e){return ft.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ft.current.useEffect(e,t)};ce.useId=function(){return ft.current.useId()};ce.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ft.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};ce.useRef=function(e){return ft.current.useRef(e)};ce.useState=function(e){return ft.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return ft.current.useTransition()};ce.version="18.3.1";Ih.exports=ce;var g=Ih.exports;const Ao=Jg(g);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=g,mv=Symbol.for("react.element"),gv=Symbol.for("react.fragment"),vv=Object.prototype.hasOwnProperty,yv=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xv={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vv.call(t,r)&&!xv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:mv,type:e,key:i,ref:o,props:s,_owner:yv.current}}gl.Fragment=gv;gl.jsx=Bh;gl.jsxs=Bh;Ph.exports=gl;var u=Ph.exports,Wh={exports:{}},Rt={},Hh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var J=O.length;O.push($);e:for(;0<J;){var de=J-1>>>1,K=O[de];if(0<s(K,$))O[de]=$,O[J]=K,J=de;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],J=O.pop();if(J!==$){O[0]=J;e:for(var de=0,K=O.length,ne=K>>>1;de<ne;){var ae=2*(de+1)-1,fe=O[ae],Pe=ae+1,je=O[Pe];if(0>s(fe,J))Pe<K&&0>s(je,fe)?(O[de]=je,O[Pe]=J,de=Pe):(O[de]=fe,O[ae]=J,de=ae);else if(Pe<K&&0>s(je,J))O[de]=je,O[Pe]=J,de=Pe;else break e}}return $}function s(O,$){var J=O.sortIndex-$.sortIndex;return J!==0?J:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,d=null,v=3,k=!1,x=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,t(a,$);else break;$=n(c)}}function p(O){if(b=!1,h(O),!x)if(n(a)!==null)x=!0,Ae(C);else{var $=n(c);$!==null&&ve(p,$.startTime-O)}}function C(O,$){x=!1,b&&(b=!1,y(N),N=-1),k=!0;var J=v;try{for(h($),d=n(a);d!==null&&(!(d.expirationTime>$)||O&&!I());){var de=d.callback;if(typeof de=="function"){d.callback=null,v=d.priorityLevel;var K=de(d.expirationTime<=$);$=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(a)&&r(a),h($)}else r(a);d=n(a)}if(d!==null)var ne=!0;else{var ae=n(c);ae!==null&&ve(p,ae.startTime-$),ne=!1}return ne}finally{d=null,v=J,k=!1}}var M=!1,R=null,N=-1,L=5,E=-1;function I(){return!(e.unstable_now()-E<L)}function X(){if(R!==null){var O=e.unstable_now();E=O;var $=!0;try{$=R(!0,O)}finally{$?re():(M=!1,R=null)}}else M=!1}var re;if(typeof m=="function")re=function(){m(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,we=V.port2;V.port1.onmessage=X,re=function(){we.postMessage(null)}}else re=function(){P(X,0)};function Ae(O){R=O,M||(M=!0,re())}function ve(O,$){N=P(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||k||(x=!0,Ae(C))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var J=v;v=$;try{return O()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=v;v=O;try{return $()}finally{v=J}},e.unstable_scheduleCallback=function(O,$,J){var de=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?de+J:de):J=de,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,O={id:f++,callback:$,priorityLevel:O,startTime:J,expirationTime:K,sortIndex:-1},J>de?(O.sortIndex=J,t(c,O),n(a)===null&&O===n(c)&&(b?(y(N),N=-1):b=!0,ve(p,J-de))):(O.sortIndex=K,t(a,O),x||k||(x=!0,Ae(C))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var $=v;return function(){var J=v;v=$;try{return O.apply(this,arguments)}finally{v=J}}}})(Qh);Hh.exports=Qh;var wv=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=g,Mt=wv;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vh=new Set,mi={};function Hr(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(mi[e]=t,e=0;e<t.length;e++)Vh.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,kv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},xd={};function Cv(e){return Ma.call(xd,e)?!0:Ma.call(yd,e)?!1:kv.test(e)?xd[e]=!0:(yd[e]=!0,!1)}function bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ev(e,t,n,r){if(t===null||typeof t>"u"||bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);qe[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);qe[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xu,Ju);qe[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zu(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ev(t,n,s,r)&&(n=null),r||s===null?Cv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pn=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ji=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),Ta=Symbol.for("react.suspense_list"),nc=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Gh=Symbol.for("react.offscreen"),wd=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=wd&&e[wd]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Vl;function Zs(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Kl=!1;function Yl(e,t){if(!e||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zs(e):""}function Nv(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=Yl(e.type,!1),e;case 11:return e=Yl(e.type.render,!1),e;case 1:return e=Yl(e.type,!0),e;default:return""}}function Pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zr:return"Fragment";case Jr:return"Portal";case Ra:return"Profiler";case ec:return"StrictMode";case La:return"Suspense";case Ta:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yh:return(e.displayName||"Context")+".Consumer";case Kh:return(e._context.displayName||"Context")+".Provider";case tc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nc:return t=e.displayName||null,t!==null?t:Pa(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Pa(e(t))}catch{}}return null}function jv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(t);case 8:return t===ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mv(e){var t=qh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zi(e){e._valueTracker||(e._valueTracker=Mv(e))}function Xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jh(e,t){t=t.checked,t!=null&&Zu(e,"checked",t,!1)}function _a(e,t){Jh(e,t);var n=cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oa(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oa(e,t,n){(t!=="number"||$o(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function cs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(ei(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cr(n)}}function Zh(e,t){var n=cr(t.value),r=cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ep(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ep(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rv=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(e){Rv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ii[t]=ii[e]})});function np(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ii.hasOwnProperty(e)&&ii[e]?(""+t).trim():t+"px"}function rp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=np(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Lv=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(e,t){if(t){if(Lv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Aa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,ds=null,fs=null;function Ed(e){if(e=Hi(e)){if(typeof Ua!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Sl(t),Ua(e.stateNode,e.type,t))}}function sp(e){ds?fs?fs.push(e):fs=[e]:ds=e}function ip(){if(ds){var e=ds,t=fs;if(fs=ds=null,Ed(e),t)for(e=0;e<t.length;e++)Ed(t[e])}}function op(e,t){return e(t)}function lp(){}var Gl=!1;function ap(e,t,n){if(Gl)return e(t,n);Gl=!0;try{return op(e,t,n)}finally{Gl=!1,(ds!==null||fs!==null)&&(lp(),ip())}}function vi(e,t){var n=e.stateNode;if(n===null)return null;var r=Sl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ba=!1;if(Mn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Ba=!1}function Tv(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var oi=!1,Uo=null,Bo=!1,Wa=null,Pv={onError:function(e){oi=!0,Uo=e}};function Iv(e,t,n,r,s,i,o,l,a){oi=!1,Uo=null,Tv.apply(Pv,arguments)}function _v(e,t,n,r,s,i,o,l,a){if(Iv.apply(this,arguments),oi){if(oi){var c=Uo;oi=!1,Uo=null}else throw Error(z(198));Bo||(Bo=!0,Wa=c)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nd(e){if(Qr(e)!==e)throw Error(z(188))}function Ov(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nd(s),e;if(i===r)return Nd(s),t;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function cp(e){return e=Ov(e),e!==null?dp(e):null}function dp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dp(e);if(t!==null)return t;e=e.sibling}return null}var fp=Mt.unstable_scheduleCallback,jd=Mt.unstable_cancelCallback,Fv=Mt.unstable_shouldYield,zv=Mt.unstable_requestPaint,De=Mt.unstable_now,Dv=Mt.unstable_getCurrentPriorityLevel,sc=Mt.unstable_ImmediatePriority,hp=Mt.unstable_UserBlockingPriority,Wo=Mt.unstable_NormalPriority,Av=Mt.unstable_LowPriority,pp=Mt.unstable_IdlePriority,vl=null,cn=null;function $v(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Wv,Uv=Math.log,Bv=Math.LN2;function Wv(e){return e>>>=0,e===0?32:31-(Uv(e)/Bv|0)|0}var to=64,no=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ho(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ti(l):(i&=o,i!==0&&(r=ti(i)))}else o=n&~s,o!==0?r=ti(o):i!==0&&(r=ti(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Hv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Gt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Hv(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mp(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function Vv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xe=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vp,oc,yp,xp,wp,Qa=!1,ro=[],er=null,tr=null,nr=null,yi=new Map,xi=new Map,Un=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(t.pointerId)}}function Qs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hi(t),t!==null&&oc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Yv(e,t,n,r,s){switch(t){case"focusin":return er=Qs(er,e,t,n,r,s),!0;case"dragenter":return tr=Qs(tr,e,t,n,r,s),!0;case"mouseover":return nr=Qs(nr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return yi.set(i,Qs(yi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xi.set(i,Qs(xi.get(i)||null,e,t,n,r,s)),!0}return!1}function Sp(e){var t=wr(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=up(n),t!==null){e.blockedOn=t,wp(e.priority,function(){yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$a=r,n.target.dispatchEvent(r),$a=null}else return t=Hi(n),t!==null&&oc(t),e.blockedOn=n,!1;t.shift()}return!0}function Rd(e,t,n){So(e)&&n.delete(t)}function Gv(){Qa=!1,er!==null&&So(er)&&(er=null),tr!==null&&So(tr)&&(tr=null),nr!==null&&So(nr)&&(nr=null),yi.forEach(Rd),xi.forEach(Rd)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Qa||(Qa=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Gv)))}function wi(e){function t(s){return Vs(s,e)}if(0<ro.length){Vs(ro[0],e);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(er!==null&&Vs(er,e),tr!==null&&Vs(tr,e),nr!==null&&Vs(nr,e),yi.forEach(t),xi.forEach(t),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)Sp(n),n.blockedOn===null&&Un.shift()}var hs=Pn.ReactCurrentBatchConfig,Qo=!0;function qv(e,t,n,r){var s=xe,i=hs.transition;hs.transition=null;try{xe=1,lc(e,t,n,r)}finally{xe=s,hs.transition=i}}function Xv(e,t,n,r){var s=xe,i=hs.transition;hs.transition=null;try{xe=4,lc(e,t,n,r)}finally{xe=s,hs.transition=i}}function lc(e,t,n,r){if(Qo){var s=Va(e,t,n,r);if(s===null)oa(e,t,r,Vo,n),Md(e,r);else if(Yv(s,e,t,n,r))r.stopPropagation();else if(Md(e,r),t&4&&-1<Kv.indexOf(e)){for(;s!==null;){var i=Hi(s);if(i!==null&&vp(i),i=Va(e,t,n,r),i===null&&oa(e,t,r,Vo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else oa(e,t,r,null,n)}}var Vo=null;function Va(e,t,n,r){if(Vo=null,e=rc(r),e=wr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=up(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vo=e,null}function kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dv()){case sc:return 1;case hp:return 4;case Wo:case Av:return 16;case pp:return 536870912;default:return 16}default:return 16}}var Jn=null,ac=null,ko=null;function Cp(){if(ko)return ko;var e,t=ac,n=t.length,r,s="value"in Jn?Jn.value:Jn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ko=s.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Ld(){return!1}function Lt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?so:Ld,this.isPropagationStopped=Ld,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Lt(As),Wi=Te({},As,{view:0,detail:0}),Jv=Lt(Wi),Xl,Jl,Ks,yl=Te({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(Xl=e.screenX-Ks.screenX,Jl=e.screenY-Ks.screenY):Jl=Xl=0,Ks=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),Td=Lt(yl),Zv=Te({},yl,{dataTransfer:0}),ey=Lt(Zv),ty=Te({},Wi,{relatedTarget:0}),Zl=Lt(ty),ny=Te({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=Lt(ny),sy=Te({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iy=Lt(sy),oy=Te({},As,{data:0}),Pd=Lt(oy),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uy[e])?!!t[e]:!1}function cc(){return cy}var dy=Te({},Wi,{key:function(e){if(e.key){var t=ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=Lt(dy),hy=Te({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=Lt(hy),py=Te({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),my=Lt(py),gy=Te({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Lt(gy),yy=Te({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=Lt(yy),wy=[9,13,27,32],dc=Mn&&"CompositionEvent"in window,li=null;Mn&&"documentMode"in document&&(li=document.documentMode);var Sy=Mn&&"TextEvent"in window&&!li,bp=Mn&&(!dc||li&&8<li&&11>=li),_d=" ",Od=!1;function Ep(e,t){switch(e){case"keyup":return wy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function ky(e,t){switch(e){case"compositionend":return Np(t);case"keypress":return t.which!==32?null:(Od=!0,_d);case"textInput":return e=t.data,e===_d&&Od?null:e;default:return null}}function Cy(e,t){if(es)return e==="compositionend"||!dc&&Ep(e,t)?(e=Cp(),ko=ac=Jn=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bp&&t.locale!=="ko"?null:t.data;default:return null}}var by={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!by[e.type]:t==="textarea"}function jp(e,t,n,r){sp(r),t=Ko(t,"onChange"),0<t.length&&(n=new uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ai=null,Si=null;function Ey(e){Dp(e,0)}function xl(e){var t=rs(e);if(Xh(t))return e}function Ny(e,t){if(e==="change")return t}var Mp=!1;if(Mn){var ea;if(Mn){var ta="oninput"in document;if(!ta){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),ta=typeof zd.oninput=="function"}ea=ta}else ea=!1;Mp=ea&&(!document.documentMode||9<document.documentMode)}function Dd(){ai&&(ai.detachEvent("onpropertychange",Rp),Si=ai=null)}function Rp(e){if(e.propertyName==="value"&&xl(Si)){var t=[];jp(t,Si,e,rc(e)),ap(Ey,t)}}function jy(e,t,n){e==="focusin"?(Dd(),ai=t,Si=n,ai.attachEvent("onpropertychange",Rp)):e==="focusout"&&Dd()}function My(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(Si)}function Ry(e,t){if(e==="click")return xl(t)}function Ly(e,t){if(e==="input"||e==="change")return xl(t)}function Ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:Ty;function ki(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ma.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function Ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Ad(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tp(){for(var e=window,t=$o();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$o(e.document)}return t}function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Py(e){var t=Tp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&fc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$d(n,i);var o=$d(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iy=Mn&&"documentMode"in document&&11>=document.documentMode,ts=null,Ka=null,ui=null,Ya=!1;function Ud(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||ts==null||ts!==$o(r)||(r=ts,"selectionStart"in r&&fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&ki(ui,r)||(ui=r,r=Ko(Ka,"onSelect"),0<r.length&&(t=new uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ts)))}function io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ns={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},na={},Pp={};Mn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function wl(e){if(na[e])return na[e];if(!ns[e])return e;var t=ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pp)return na[e]=t[n];return e}var Ip=wl("animationend"),_p=wl("animationiteration"),Op=wl("animationstart"),Fp=wl("transitionend"),zp=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){zp.set(e,t),Hr(t,[e])}for(var ra=0;ra<Bd.length;ra++){var sa=Bd[ra],_y=sa.toLowerCase(),Oy=sa[0].toUpperCase()+sa.slice(1);fr(_y,"on"+Oy)}fr(Ip,"onAnimationEnd");fr(_p,"onAnimationIteration");fr(Op,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Fp,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function Wd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_v(r,t,void 0,e),e.currentTarget=null}function Dp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Wd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Wd(s,l,c),i=a}}}if(Bo)throw e=Wa,Bo=!1,Wa=null,e}function Ce(e,t){var n=t[Za];n===void 0&&(n=t[Za]=new Set);var r=e+"__bubble";n.has(r)||(Ap(t,e,2,!1),n.add(r))}function ia(e,t,n){var r=0;t&&(r|=4),Ap(n,e,r,t)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Ci(e){if(!e[oo]){e[oo]=!0,Vh.forEach(function(n){n!=="selectionchange"&&(Fy.has(n)||ia(n,!1,e),ia(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oo]||(t[oo]=!0,ia("selectionchange",!1,t))}}function Ap(e,t,n,r){switch(kp(t)){case 1:var s=qv;break;case 4:s=Xv;break;default:s=lc}n=s.bind(null,t,n,e),s=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function oa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ap(function(){var c=i,f=rc(n),d=[];e:{var v=zp.get(e);if(v!==void 0){var k=uc,x=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":k=fy;break;case"focusin":x="focus",k=Zl;break;case"focusout":x="blur",k=Zl;break;case"beforeblur":case"afterblur":k=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=my;break;case Ip:case _p:case Op:k=ry;break;case Fp:k=vy;break;case"scroll":k=Jv;break;case"wheel":k=xy;break;case"copy":case"cut":case"paste":k=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Id}var b=(t&4)!==0,P=!b&&e==="scroll",y=b?v!==null?v+"Capture":null:v;b=[];for(var m=c,h;m!==null;){h=m;var p=h.stateNode;if(h.tag===5&&p!==null&&(h=p,y!==null&&(p=vi(m,y),p!=null&&b.push(bi(m,p,h)))),P)break;m=m.return}0<b.length&&(v=new k(v,x,null,n,f),d.push({event:v,listeners:b}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",v&&n!==$a&&(x=n.relatedTarget||n.fromElement)&&(wr(x)||x[Rn]))break e;if((k||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,k?(x=n.relatedTarget||n.toElement,k=c,x=x?wr(x):null,x!==null&&(P=Qr(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=c),k!==x)){if(b=Td,p="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=Id,p="onPointerLeave",y="onPointerEnter",m="pointer"),P=k==null?v:rs(k),h=x==null?v:rs(x),v=new b(p,m+"leave",k,n,f),v.target=P,v.relatedTarget=h,p=null,wr(f)===c&&(b=new b(y,m+"enter",x,n,f),b.target=h,b.relatedTarget=P,p=b),P=p,k&&x)t:{for(b=k,y=x,m=0,h=b;h;h=Yr(h))m++;for(h=0,p=y;p;p=Yr(p))h++;for(;0<m-h;)b=Yr(b),m--;for(;0<h-m;)y=Yr(y),h--;for(;m--;){if(b===y||y!==null&&b===y.alternate)break t;b=Yr(b),y=Yr(y)}b=null}else b=null;k!==null&&Hd(d,v,k,b,!1),x!==null&&P!==null&&Hd(d,P,x,b,!0)}}e:{if(v=c?rs(c):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var C=Ny;else if(Fd(v))if(Mp)C=Ly;else{C=My;var M=jy}else(k=v.nodeName)&&k.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=Ry);if(C&&(C=C(e,c))){jp(d,C,n,f);break e}M&&M(e,v,c),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&Oa(v,"number",v.value)}switch(M=c?rs(c):window,e){case"focusin":(Fd(M)||M.contentEditable==="true")&&(ts=M,Ka=c,ui=null);break;case"focusout":ui=Ka=ts=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Ud(d,n,f);break;case"selectionchange":if(Iy)break;case"keydown":case"keyup":Ud(d,n,f)}var R;if(dc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else es?Ep(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(bp&&n.locale!=="ko"&&(es||N!=="onCompositionStart"?N==="onCompositionEnd"&&es&&(R=Cp()):(Jn=f,ac="value"in Jn?Jn.value:Jn.textContent,es=!0)),M=Ko(c,N),0<M.length&&(N=new Pd(N,e,null,n,f),d.push({event:N,listeners:M}),R?N.data=R:(R=Np(n),R!==null&&(N.data=R)))),(R=Sy?ky(e,n):Cy(e,n))&&(c=Ko(c,"onBeforeInput"),0<c.length&&(f=new Pd("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=R))}Dp(d,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vi(e,n),i!=null&&r.unshift(bi(e,i,s)),i=vi(e,t),i!=null&&r.push(bi(e,i,s))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=vi(n,i),a!=null&&o.unshift(bi(n,a,l))):s||(a=vi(n,i),a!=null&&o.push(bi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zy=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(zy,`
`).replace(Dy,"")}function lo(e,t,n){if(t=Qd(t),Qd(e)!==t&&n)throw Error(z(425))}function Yo(){}var Ga=null,qa=null;function Xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(Uy)}:Ja;function Uy(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wi(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),un="__reactFiber$"+$s,Ei="__reactProps$"+$s,Rn="__reactContainer$"+$s,Za="__reactEvents$"+$s,By="__reactListeners$"+$s,Wy="__reactHandles$"+$s;function wr(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kd(e);e!==null;){if(n=e[un])return n;e=Kd(e)}return t}e=n,n=e.parentNode}return null}function Hi(e){return e=e[un]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Sl(e){return e[Ei]||null}var eu=[],ss=-1;function hr(e){return{current:e}}function be(e){0>ss||(e.current=eu[ss],eu[ss]=null,ss--)}function ke(e,t){ss++,eu[ss]=e.current,e.current=t}var dr={},rt=hr(dr),wt=hr(!1),zr=dr;function Ps(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function St(e){return e=e.childContextTypes,e!=null}function Go(){be(wt),be(rt)}function Yd(e,t,n){if(rt.current!==dr)throw Error(z(168));ke(rt,t),ke(wt,n)}function $p(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,jv(e)||"Unknown",s));return Te({},n,r)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,zr=rt.current,ke(rt,e),ke(wt,wt.current),!0}function Gd(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=$p(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,be(wt),be(rt),ke(rt,e)):be(wt),ke(wt,n)}var yn=null,kl=!1,aa=!1;function Up(e){yn===null?yn=[e]:yn.push(e)}function Hy(e){kl=!0,Up(e)}function pr(){if(!aa&&yn!==null){aa=!0;var e=0,t=xe;try{var n=yn;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yn=null,kl=!1}catch(s){throw yn!==null&&(yn=yn.slice(e+1)),fp(sc,pr),s}finally{xe=t,aa=!1}}return null}var is=[],os=0,Xo=null,Jo=0,It=[],_t=0,Dr=null,Cn=1,bn="";function yr(e,t){is[os++]=Jo,is[os++]=Xo,Xo=e,Jo=t}function Bp(e,t,n){It[_t++]=Cn,It[_t++]=bn,It[_t++]=Dr,Dr=e;var r=Cn;e=bn;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var i=32-Gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cn=1<<32-Gt(t)+s|n<<s|r,bn=i+e}else Cn=1<<i|n<<s|r,bn=e}function hc(e){e.return!==null&&(yr(e,1),Bp(e,1,0))}function pc(e){for(;e===Xo;)Xo=is[--os],is[os]=null,Jo=is[--os],is[os]=null;for(;e===Dr;)Dr=It[--_t],It[_t]=null,bn=It[--_t],It[_t]=null,Cn=It[--_t],It[_t]=null}var jt=null,Nt=null,Ne=!1,Yt=null;function Wp(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Nt=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:Cn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,Nt=null,!0):!1;default:return!1}}function tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nu(e){if(Ne){var t=Nt;if(t){var n=t;if(!qd(e,t)){if(tu(e))throw Error(z(418));t=rr(n.nextSibling);var r=jt;t&&qd(e,t)?Wp(r,n):(e.flags=e.flags&-4097|2,Ne=!1,jt=e)}}else{if(tu(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ne=!1,jt=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function ao(e){if(e!==jt)return!1;if(!Ne)return Xd(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xa(e.type,e.memoizedProps)),t&&(t=Nt)){if(tu(e))throw Hp(),Error(z(418));for(;t;)Wp(e,t),t=rr(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=jt?rr(e.stateNode.nextSibling):null;return!0}function Hp(){for(var e=Nt;e;)e=rr(e.nextSibling)}function Is(){Nt=jt=null,Ne=!1}function mc(e){Yt===null?Yt=[e]:Yt.push(e)}var Qy=Pn.ReactCurrentBatchConfig;function Ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jd(e){var t=e._init;return t(e._payload)}function Qp(e){function t(y,m){if(e){var h=y.deletions;h===null?(y.deletions=[m],y.flags|=16):h.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=lr(y,m),y.index=0,y.sibling=null,y}function i(y,m,h){return y.index=h,e?(h=y.alternate,h!==null?(h=h.index,h<m?(y.flags|=2,m):h):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,h,p){return m===null||m.tag!==6?(m=ma(h,y.mode,p),m.return=y,m):(m=s(m,h),m.return=y,m)}function a(y,m,h,p){var C=h.type;return C===Zr?f(y,m,h.props.children,p,h.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&Jd(C)===m.type)?(p=s(m,h.props),p.ref=Ys(y,m,h),p.return=y,p):(p=Lo(h.type,h.key,h.props,null,y.mode,p),p.ref=Ys(y,m,h),p.return=y,p)}function c(y,m,h,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=ga(h,y.mode,p),m.return=y,m):(m=s(m,h.children||[]),m.return=y,m)}function f(y,m,h,p,C){return m===null||m.tag!==7?(m=Fr(h,y.mode,p,C),m.return=y,m):(m=s(m,h),m.return=y,m)}function d(y,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ma(""+m,y.mode,h),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ji:return h=Lo(m.type,m.key,m.props,null,y.mode,h),h.ref=Ys(y,null,m),h.return=y,h;case Jr:return m=ga(m,y.mode,h),m.return=y,m;case An:var p=m._init;return d(y,p(m._payload),h)}if(ei(m)||Ws(m))return m=Fr(m,y.mode,h,null),m.return=y,m;uo(y,m)}return null}function v(y,m,h,p){var C=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(y,m,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ji:return h.key===C?a(y,m,h,p):null;case Jr:return h.key===C?c(y,m,h,p):null;case An:return C=h._init,v(y,m,C(h._payload),p)}if(ei(h)||Ws(h))return C!==null?null:f(y,m,h,p,null);uo(y,h)}return null}function k(y,m,h,p,C){if(typeof p=="string"&&p!==""||typeof p=="number")return y=y.get(h)||null,l(m,y,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ji:return y=y.get(p.key===null?h:p.key)||null,a(m,y,p,C);case Jr:return y=y.get(p.key===null?h:p.key)||null,c(m,y,p,C);case An:var M=p._init;return k(y,m,h,M(p._payload),C)}if(ei(p)||Ws(p))return y=y.get(h)||null,f(m,y,p,C,null);uo(m,p)}return null}function x(y,m,h,p){for(var C=null,M=null,R=m,N=m=0,L=null;R!==null&&N<h.length;N++){R.index>N?(L=R,R=null):L=R.sibling;var E=v(y,R,h[N],p);if(E===null){R===null&&(R=L);break}e&&R&&E.alternate===null&&t(y,R),m=i(E,m,N),M===null?C=E:M.sibling=E,M=E,R=L}if(N===h.length)return n(y,R),Ne&&yr(y,N),C;if(R===null){for(;N<h.length;N++)R=d(y,h[N],p),R!==null&&(m=i(R,m,N),M===null?C=R:M.sibling=R,M=R);return Ne&&yr(y,N),C}for(R=r(y,R);N<h.length;N++)L=k(R,y,N,h[N],p),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?N:L.key),m=i(L,m,N),M===null?C=L:M.sibling=L,M=L);return e&&R.forEach(function(I){return t(y,I)}),Ne&&yr(y,N),C}function b(y,m,h,p){var C=Ws(h);if(typeof C!="function")throw Error(z(150));if(h=C.call(h),h==null)throw Error(z(151));for(var M=C=null,R=m,N=m=0,L=null,E=h.next();R!==null&&!E.done;N++,E=h.next()){R.index>N?(L=R,R=null):L=R.sibling;var I=v(y,R,E.value,p);if(I===null){R===null&&(R=L);break}e&&R&&I.alternate===null&&t(y,R),m=i(I,m,N),M===null?C=I:M.sibling=I,M=I,R=L}if(E.done)return n(y,R),Ne&&yr(y,N),C;if(R===null){for(;!E.done;N++,E=h.next())E=d(y,E.value,p),E!==null&&(m=i(E,m,N),M===null?C=E:M.sibling=E,M=E);return Ne&&yr(y,N),C}for(R=r(y,R);!E.done;N++,E=h.next())E=k(R,y,N,E.value,p),E!==null&&(e&&E.alternate!==null&&R.delete(E.key===null?N:E.key),m=i(E,m,N),M===null?C=E:M.sibling=E,M=E);return e&&R.forEach(function(X){return t(y,X)}),Ne&&yr(y,N),C}function P(y,m,h,p){if(typeof h=="object"&&h!==null&&h.type===Zr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ji:e:{for(var C=h.key,M=m;M!==null;){if(M.key===C){if(C=h.type,C===Zr){if(M.tag===7){n(y,M.sibling),m=s(M,h.props.children),m.return=y,y=m;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&Jd(C)===M.type){n(y,M.sibling),m=s(M,h.props),m.ref=Ys(y,M,h),m.return=y,y=m;break e}n(y,M);break}else t(y,M);M=M.sibling}h.type===Zr?(m=Fr(h.props.children,y.mode,p,h.key),m.return=y,y=m):(p=Lo(h.type,h.key,h.props,null,y.mode,p),p.ref=Ys(y,m,h),p.return=y,y=p)}return o(y);case Jr:e:{for(M=h.key;m!==null;){if(m.key===M)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(y,m.sibling),m=s(m,h.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=ga(h,y.mode,p),m.return=y,y=m}return o(y);case An:return M=h._init,P(y,m,M(h._payload),p)}if(ei(h))return x(y,m,h,p);if(Ws(h))return b(y,m,h,p);uo(y,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,h),m.return=y,y=m):(n(y,m),m=ma(h,y.mode,p),m.return=y,y=m),o(y)):n(y,m)}return P}var _s=Qp(!0),Vp=Qp(!1),Zo=hr(null),el=null,ls=null,gc=null;function vc(){gc=ls=el=null}function yc(e){var t=Zo.current;be(Zo),e._currentValue=t}function ru(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ps(e,t){el=e,gc=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(el===null)throw Error(z(308));ls=e,el.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var Sr=null;function xc(e){Sr===null?Sr=[e]:Sr.push(e)}function Kp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ln(e,r)}function Ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ln(e,n)}return s=r.interleaved,s===null?(t.next=t,xc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ln(e,n)}function bo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ic(e,n)}}function Zd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tl(e,t,n,r){var s=e.updateQueue;$n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,f=c=a=null,l=i;do{var v=l.lane,k=l.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:k,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(v=t,k=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){d=x.call(k,d,v);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,v=typeof x=="function"?x.call(k,d,v):x,v==null)break e;d=Te({},d,v);break e;case 2:$n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else k={eventTime:k,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=k,a=d):f=f.next=k,o|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$r|=o,e.lanes=o,e.memoizedState=d}}function ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Qi={},dn=hr(Qi),Ni=hr(Qi),ji=hr(Qi);function kr(e){if(e===Qi)throw Error(z(174));return e}function Sc(e,t){switch(ke(ji,t),ke(Ni,e),ke(dn,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}be(dn),ke(dn,t)}function Os(){be(dn),be(Ni),be(ji)}function Gp(e){kr(ji.current);var t=kr(dn.current),n=za(t,e.type);t!==n&&(ke(Ni,e),ke(dn,n))}function kc(e){Ni.current===e&&(be(dn),be(Ni))}var Re=hr(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function Cc(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var Eo=Pn.ReactCurrentDispatcher,ca=Pn.ReactCurrentBatchConfig,Ar=0,Le=null,Be=null,Ve=null,rl=!1,ci=!1,Mi=0,Vy=0;function et(){throw Error(z(321))}function bc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function Ec(e,t,n,r,s,i){if(Ar=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eo.current=e===null||e.memoizedState===null?qy:Xy,e=n(r,s),ci){i=0;do{if(ci=!1,Mi=0,25<=i)throw Error(z(301));i+=1,Ve=Be=null,t.updateQueue=null,Eo.current=Jy,e=n(r,s)}while(ci)}if(Eo.current=sl,t=Be!==null&&Be.next!==null,Ar=0,Ve=Be=Le=null,rl=!1,t)throw Error(z(300));return e}function Nc(){var e=Mi!==0;return Mi=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Le.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function At(){if(Be===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ve===null?Le.memoizedState:Ve.next;if(t!==null)Ve=t,Be=e;else{if(e===null)throw Error(z(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ve===null?Le.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ri(e,t){return typeof t=="function"?t(e):t}function da(e){var t=At(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var f=c.lane;if((Ar&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Le.lanes|=f,$r|=f}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Xt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Le.lanes|=i,$r|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fa(e){var t=At(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Xt(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qp(){}function Xp(e,t){var n=Le,r=At(),s=t(),i=!Xt(r.memoizedState,s);if(i&&(r.memoizedState=s,xt=!0),r=r.queue,jc(em.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Li(9,Zp.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(z(349));Ar&30||Jp(n,t,s)}return s}function Jp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zp(e,t,n,r){t.value=n,t.getSnapshot=r,tm(t)&&nm(e)}function em(e,t,n){return n(function(){tm(t)&&nm(e)})}function tm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function nm(e){var t=Ln(e,1);t!==null&&qt(t,e,1,-1)}function tf(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=Gy.bind(null,Le,e),[t.memoizedState,e]}function Li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rm(){return At().memoizedState}function No(e,t,n,r){var s=rn();Le.flags|=e,s.memoizedState=Li(1|t,n,void 0,r===void 0?null:r)}function Cl(e,t,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(Be!==null){var o=Be.memoizedState;if(i=o.destroy,r!==null&&bc(r,o.deps)){s.memoizedState=Li(t,n,i,r);return}}Le.flags|=e,s.memoizedState=Li(1|t,n,i,r)}function nf(e,t){return No(8390656,8,e,t)}function jc(e,t){return Cl(2048,8,e,t)}function sm(e,t){return Cl(4,2,e,t)}function im(e,t){return Cl(4,4,e,t)}function om(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lm(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,om.bind(null,t,e),n)}function Mc(){}function am(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function um(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cm(e,t,n){return Ar&21?(Xt(n,t)||(n=mp(),Le.lanes|=n,$r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function Ky(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{xe=n,ca.transition=r}}function dm(){return At().memoizedState}function Yy(e,t,n){var r=or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fm(e))hm(t,n);else if(n=Kp(e,t,n,r),n!==null){var s=dt();qt(n,e,r,s),pm(n,t,r)}}function Gy(e,t,n){var r=or(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fm(e))hm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Xt(l,o)){var a=t.interleaved;a===null?(s.next=s,xc(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Kp(e,t,s,r),n!==null&&(s=dt(),qt(n,e,r,s),pm(n,t,r))}}function fm(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function hm(e,t){ci=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ic(e,n)}}var sl={readContext:Dt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},qy={readContext:Dt,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:nf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,No(4194308,4,om.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yy.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:Mc,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=Ky.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,s=rn();if(Ne){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Ke===null)throw Error(z(349));Ar&30||Jp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nf(em.bind(null,r,i,e),[e]),r.flags|=2048,Li(9,Zp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=rn(),t=Ke.identifierPrefix;if(Ne){var n=bn,r=Cn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xy={readContext:Dt,useCallback:am,useContext:Dt,useEffect:jc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:im,useMemo:um,useReducer:da,useRef:rm,useState:function(){return da(Ri)},useDebugValue:Mc,useDeferredValue:function(e){var t=At();return cm(t,Be.memoizedState,e)},useTransition:function(){var e=da(Ri)[0],t=At().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Xp,useId:dm,unstable_isNewReconciler:!1},Jy={readContext:Dt,useCallback:am,useContext:Dt,useEffect:jc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:im,useMemo:um,useReducer:fa,useRef:rm,useState:function(){return fa(Ri)},useDebugValue:Mc,useDeferredValue:function(e){var t=At();return Be===null?t.memoizedState=e:cm(t,Be.memoizedState,e)},useTransition:function(){var e=fa(Ri)[0],t=At().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Xp,useId:dm,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function su(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bl={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=or(e),i=En(r,s);i.payload=t,n!=null&&(i.callback=n),t=sr(e,i,s),t!==null&&(qt(t,e,s,r),bo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=or(e),i=En(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sr(e,i,s),t!==null&&(qt(t,e,s,r),bo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=or(e),s=En(n,r);s.tag=2,t!=null&&(s.callback=t),t=sr(e,s,r),t!==null&&(qt(t,e,r,n),bo(t,e,r))}};function rf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ki(n,r)||!ki(s,i):!0}function mm(e,t,n){var r=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=St(t)?zr:rt.current,r=t.contextTypes,i=(r=r!=null)?Ps(e,s):dr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function iu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=St(t)?zr:rt.current,s.context=Ps(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(su(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bl.enqueueReplaceState(s,s.state,null),tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var n="",r=t;do n+=Nv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function gm(e,t,n){n=En(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ol||(ol=!0,gu=r),ou(e,t)},n}function vm(e,t,n){n=En(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ou(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ou(e,t),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function of(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=h0.bind(null,e,t,n),t.then(e,e))}function lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=En(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e)}var e0=Pn.ReactCurrentOwner,xt=!1;function ut(e,t,n,r){t.child=e===null?Vp(t,null,n,r):_s(t,e.child,n,r)}function uf(e,t,n,r,s){n=n.render;var i=t.ref;return ps(t,s),r=Ec(e,t,n,r,i,s),n=Nc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ne&&n&&hc(t),t.flags|=1,ut(e,t,r,s),t.child)}function cf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Fc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ym(e,t,i,r,s)):(e=Lo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(o,r)&&e.ref===t.ref)return Tn(e,t,s)}return t.flags|=1,e=lr(i,r),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ki(i,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Tn(e,t,s)}return lu(e,t,n,r,s)}function xm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(us,Et),Et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(us,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(us,Et),Et|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ke(us,Et),Et|=r;return ut(e,t,s,n),t.child}function wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lu(e,t,n,r,s){var i=St(n)?zr:rt.current;return i=Ps(t,i),ps(t,s),n=Ec(e,t,n,r,i,s),r=Nc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ne&&r&&hc(t),t.flags|=1,ut(e,t,n,s),t.child)}function df(e,t,n,r,s){if(St(n)){var i=!0;qo(t)}else i=!1;if(ps(t,s),t.stateNode===null)jo(e,t),mm(t,n,r),iu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=St(n)?zr:rt.current,c=Ps(t,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&sf(t,o,r,c),$n=!1;var v=t.memoizedState;o.state=v,tl(t,r,o,s),a=t.memoizedState,l!==r||v!==a||wt.current||$n?(typeof f=="function"&&(su(t,n,f,r),a=t.memoizedState),(l=$n||rf(t,n,l,r,v,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Yp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Wt(t.type,l),o.props=c,d=t.pendingProps,v=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Dt(a):(a=St(n)?zr:rt.current,a=Ps(t,a));var k=n.getDerivedStateFromProps;(f=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||v!==a)&&sf(t,o,r,a),$n=!1,v=t.memoizedState,o.state=v,tl(t,r,o,s);var x=t.memoizedState;l!==d||v!==x||wt.current||$n?(typeof k=="function"&&(su(t,n,k,r),x=t.memoizedState),(c=$n||rf(t,n,c,r,v,x,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return au(e,t,n,r,i,s)}function au(e,t,n,r,s,i){wm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Gd(t,n,!1),Tn(e,t,i);r=t.stateNode,e0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=_s(t,e.child,null,i),t.child=_s(t,null,l,i)):ut(e,t,l,i),t.memoizedState=r.state,s&&Gd(t,n,!0),t.child}function Sm(e){var t=e.stateNode;t.pendingContext?Yd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yd(e,t.context,!1),Sc(e,t.containerInfo)}function ff(e,t,n,r,s){return Is(),mc(s),t.flags|=256,ut(e,t,n,r),t.child}var uu={dehydrated:null,treeContext:null,retryLane:0};function cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function km(e,t,n){var r=t.pendingProps,s=Re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Re,s&1),e===null)return nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jl(o,r,0,null),e=Fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cu(n),t.memoizedState=uu,e):Rc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return t0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=lr(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=lr(l,i):(i=Fr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=uu,r}return i=e.child,e=i.sibling,r=lr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rc(e,t){return t=jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,n,r){return r!==null&&mc(r),_s(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(z(422))),co(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=jl({mode:"visible",children:r.children},s,0,null),i=Fr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&_s(t,e.child,null,o),t.child.memoizedState=cu(o),t.memoizedState=uu,i);if(!(t.mode&1))return co(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=ha(i,r,void 0),co(e,t,o,r)}if(l=(o&e.childLanes)!==0,xt||l){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ln(e,s),qt(r,e,s,-1))}return Oc(),r=ha(Error(z(421))),co(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=p0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Nt=rr(s.nextSibling),jt=t,Ne=!0,Yt=null,e!==null&&(It[_t++]=Cn,It[_t++]=bn,It[_t++]=Dr,Cn=e.id,bn=e.overflow,Dr=t),t=Rc(t,r.children),t.flags|=4096,t)}function hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ru(e.return,t,n)}function pa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ut(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,n,t);else if(e.tag===19)hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),pa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}pa(t,!0,n,null,i);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=lr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=lr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function n0(e,t,n){switch(t.tag){case 3:Sm(t),Is();break;case 5:Gp(t);break;case 1:St(t.type)&&qo(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ke(Zo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?km(e,t,n):(ke(Re,Re.current&1),e=Tn(e,t,n),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,xm(e,t,n)}return Tn(e,t,n)}var bm,du,Em,Nm;bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};du=function(){};Em=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kr(dn.current);var i=null;switch(n){case"input":s=Ia(e,s),r=Ia(e,r),i=[];break;case"select":s=Te({},s,{value:void 0}),r=Te({},r,{value:void 0}),i=[];break;case"textarea":s=Fa(e,s),r=Fa(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yo)}Da(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Ce("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Nm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function r0(e,t,n){var r=t.pendingProps;switch(pc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return St(t.type)&&Go(),tt(t),null;case 3:return r=t.stateNode,Os(),be(wt),be(rt),Cc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(xu(Yt),Yt=null))),du(e,t),tt(t),null;case 5:kc(t);var s=kr(ji.current);if(n=t.type,e!==null&&t.stateNode!=null)Em(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return tt(t),null}if(e=kr(dn.current),ao(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[un]=t,r[Ei]=i,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<ni.length;s++)Ce(ni[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Sd(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":Cd(r,i),Ce("invalid",r)}Da(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,l,e),s=["children",""+l]):mi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Zi(r),kd(r,i,!0);break;case"textarea":Zi(r),bd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ep(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[un]=t,e[Ei]=r,bm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Aa(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),s=r;break;case"iframe":case"object":case"embed":Ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<ni.length;s++)Ce(ni[s],e);s=r;break;case"source":Ce("error",e),s=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=r;break;case"details":Ce("toggle",e),s=r;break;case"input":Sd(e,r),s=Ia(e,r),Ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Te({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":Cd(e,r),s=Fa(e,r),Ce("invalid",e);break;default:s=r}Da(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?rp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&gi(e,a):typeof a=="number"&&gi(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mi.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Ce("scroll",e):a!=null&&Zu(e,i,a,o))}switch(n){case"input":Zi(e),kd(e,r,!1);break;case"textarea":Zi(e),bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?cs(e,!!r.multiple,i,!1):r.defaultValue!=null&&cs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Nm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=kr(ji.current),kr(dn.current),ao(t)){if(r=t.stateNode,n=t.memoizedProps,r[un]=t,(i=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=t,t.stateNode=r}return tt(t),null;case 13:if(be(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Nt!==null&&t.mode&1&&!(t.flags&128))Hp(),Is(),t.flags|=98560,i=!1;else if(i=ao(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[un]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else Yt!==null&&(xu(Yt),Yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?He===0&&(He=3):Oc())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Os(),du(e,t),e===null&&Ci(t.stateNode.containerInfo),tt(t),null;case 10:return yc(t.type._context),tt(t),null;case 17:return St(t.type)&&Go(),tt(t),null;case 19:if(be(Re),i=t.memoizedState,i===null)return tt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Gs(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nl(e),o!==null){for(t.flags|=128,Gs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&De()>zs&&(t.flags|=128,r=!0,Gs(i,!1),t.lanes=4194304)}else{if(!r)if(e=nl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return tt(t),null}else 2*De()-i.renderingStartTime>zs&&n!==1073741824&&(t.flags|=128,r=!0,Gs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=De(),t.sibling=null,n=Re.current,ke(Re,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return _c(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function s0(e,t){switch(pc(t),t.tag){case 1:return St(t.type)&&Go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Os(),be(wt),be(rt),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kc(t),null;case 13:if(be(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Re),null;case 4:return Os(),null;case 10:return yc(t.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var fo=!1,nt=!1,i0=typeof WeakSet=="function"?WeakSet:Set,Y=null;function as(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function fu(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var pf=!1;function o0(e,t){if(Ga=Qo,e=Tp(),fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,d=e,v=null;t:for(;;){for(var k;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(k=d.firstChild)!==null;)v=d,d=k;for(;;){if(d===e)break t;if(v===n&&++c===s&&(l=o),v===i&&++f===r&&(a=o),(k=d.nextSibling)!==null)break;d=v,v=d.parentNode}d=k}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(qa={focusedElem:e,selectionRange:n},Qo=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,P=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:Wt(t.type,b),P);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(p){Oe(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return x=pf,pf=!1,x}function di(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&fu(t,n,i)}s=s.next}while(s!==r)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Ei],delete t[Za],delete t[By],delete t[Wy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mm(e){return e.tag===5||e.tag===3||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yo));else if(r!==4&&(e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}function mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mu(e,t,n),e=e.sibling;e!==null;)mu(e,t,n),e=e.sibling}var Ye=null,Kt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)Rm(e,t,n),n=n.sibling}function Rm(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:nt||as(n,t);case 6:var r=Ye,s=Kt;Ye=null,Fn(e,t,n),Ye=r,Kt=s,Ye!==null&&(Kt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Kt?(e=Ye,n=n.stateNode,e.nodeType===8?la(e.parentNode,n):e.nodeType===1&&la(e,n),wi(e)):la(Ye,n.stateNode));break;case 4:r=Ye,s=Kt,Ye=n.stateNode.containerInfo,Kt=!0,Fn(e,t,n),Ye=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fu(n,t,o),s=s.next}while(s!==r)}Fn(e,t,n);break;case 1:if(!nt&&(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,t,l)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Fn(e,t,n),nt=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new i0),t.forEach(function(r){var s=m0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Kt=!1;break e;case 3:Ye=l.stateNode.containerInfo,Kt=!0;break e;case 4:Ye=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Ye===null)throw Error(z(160));Rm(i,o,s),Ye=null,Kt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}function Lm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),nn(e),r&4){try{di(3,e,e.return),El(3,e)}catch(b){Oe(e,e.return,b)}try{di(5,e,e.return)}catch(b){Oe(e,e.return,b)}}break;case 1:Ut(t,e),nn(e),r&512&&n!==null&&as(n,n.return);break;case 5:if(Ut(t,e),nn(e),r&512&&n!==null&&as(n,n.return),e.flags&32){var s=e.stateNode;try{gi(s,"")}catch(b){Oe(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jh(s,i),Aa(l,o);var c=Aa(l,i);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?rp(s,d):f==="dangerouslySetInnerHTML"?tp(s,d):f==="children"?gi(s,d):Zu(s,f,d,c)}switch(l){case"input":_a(s,i);break;case"textarea":Zh(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var k=i.value;k!=null?cs(s,!!i.multiple,k,!1):v!==!!i.multiple&&(i.defaultValue!=null?cs(s,!!i.multiple,i.defaultValue,!0):cs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ei]=i}catch(b){Oe(e,e.return,b)}}break;case 6:if(Ut(t,e),nn(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Oe(e,e.return,b)}}break;case 3:if(Ut(t,e),nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(b){Oe(e,e.return,b)}break;case 4:Ut(t,e),nn(e);break;case 13:Ut(t,e),nn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pc=De())),r&4&&gf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(c=nt)||f,Ut(t,e),nt=c):Ut(t,e),nn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(Y=e,f=e.child;f!==null;){for(d=Y=f;Y!==null;){switch(v=Y,k=v.child,v.tag){case 0:case 11:case 14:case 15:di(4,v,v.return);break;case 1:as(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Oe(r,n,b)}}break;case 5:as(v,v.return);break;case 22:if(v.memoizedState!==null){yf(d);continue}}k!==null?(k.return=v,Y=k):yf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=np("display",o))}catch(b){Oe(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){Oe(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ut(t,e),nn(e),r&4&&gf(e);break;case 21:break;default:Ut(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mm(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gi(s,""),r.flags&=-33);var i=mf(e);mu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mf(e);pu(e,l,o);break;default:throw Error(z(161))}}catch(a){Oe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e,t,n){Y=e,Tm(e)}function Tm(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fo;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||nt;l=fo;var c=nt;if(fo=o,(nt=a)&&!c)for(Y=s;Y!==null;)o=Y,a=o.child,o.tag===22&&o.memoizedState!==null?xf(s):a!==null?(a.return=o,Y=a):xf(s);for(;i!==null;)Y=i,Tm(i),i=i.sibling;Y=s,fo=l,nt=c}vf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):vf(e)}}function vf(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||El(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ef(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ef(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&wi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}nt||t.flags&512&&hu(t)}catch(v){Oe(t,t.return,v)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function yf(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function xf(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{El(4,t)}catch(a){Oe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Oe(t,s,a)}}var i=t.return;try{hu(t)}catch(a){Oe(t,i,a)}break;case 5:var o=t.return;try{hu(t)}catch(a){Oe(t,o,a)}}}catch(a){Oe(t,t.return,a)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var a0=Math.ceil,il=Pn.ReactCurrentDispatcher,Lc=Pn.ReactCurrentOwner,zt=Pn.ReactCurrentBatchConfig,ge=0,Ke=null,$e=null,Ge=0,Et=0,us=hr(0),He=0,Ti=null,$r=0,Nl=0,Tc=0,fi=null,yt=null,Pc=0,zs=1/0,vn=null,ol=!1,gu=null,ir=null,ho=!1,Zn=null,ll=0,hi=0,vu=null,Mo=-1,Ro=0;function dt(){return ge&6?De():Mo!==-1?Mo:Mo=De()}function or(e){return e.mode&1?ge&2&&Ge!==0?Ge&-Ge:Qy.transition!==null?(Ro===0&&(Ro=mp()),Ro):(e=xe,e!==0||(e=window.event,e=e===void 0?16:kp(e.type)),e):1}function qt(e,t,n,r){if(50<hi)throw hi=0,vu=null,Error(z(185));Bi(e,n,r),(!(ge&2)||e!==Ke)&&(e===Ke&&(!(ge&2)&&(Nl|=n),He===4&&Bn(e,Ge)),kt(e,r),n===1&&ge===0&&!(t.mode&1)&&(zs=De()+500,kl&&pr()))}function kt(e,t){var n=e.callbackNode;Qv(e,t);var r=Ho(e,e===Ke?Ge:0);if(r===0)n!==null&&jd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jd(n),t===1)e.tag===0?Hy(wf.bind(null,e)):Up(wf.bind(null,e)),$y(function(){!(ge&6)&&pr()}),n=null;else{switch(gp(r)){case 1:n=sc;break;case 4:n=hp;break;case 16:n=Wo;break;case 536870912:n=pp;break;default:n=Wo}n=Am(n,Pm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pm(e,t){if(Mo=-1,Ro=0,ge&6)throw Error(z(327));var n=e.callbackNode;if(ms()&&e.callbackNode!==n)return null;var r=Ho(e,e===Ke?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=al(e,r);else{t=r;var s=ge;ge|=2;var i=_m();(Ke!==e||Ge!==t)&&(vn=null,zs=De()+500,Or(e,t));do try{d0();break}catch(l){Im(e,l)}while(!0);vc(),il.current=i,ge=s,$e!==null?t=0:(Ke=null,Ge=0,t=He)}if(t!==0){if(t===2&&(s=Ha(e),s!==0&&(r=s,t=yu(e,s))),t===1)throw n=Ti,Or(e,0),Bn(e,r),kt(e,De()),n;if(t===6)Bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!u0(s)&&(t=al(e,r),t===2&&(i=Ha(e),i!==0&&(r=i,t=yu(e,i))),t===1))throw n=Ti,Or(e,0),Bn(e,r),kt(e,De()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:xr(e,yt,vn);break;case 3:if(Bn(e,r),(r&130023424)===r&&(t=Pc+500-De(),10<t)){if(Ho(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ja(xr.bind(null,e,yt,vn),t);break}xr(e,yt,vn);break;case 4:if(Bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a0(r/1960))-r,10<r){e.timeoutHandle=Ja(xr.bind(null,e,yt,vn),r);break}xr(e,yt,vn);break;case 5:xr(e,yt,vn);break;default:throw Error(z(329))}}}return kt(e,De()),e.callbackNode===n?Pm.bind(null,e):null}function yu(e,t){var n=fi;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=al(e,t),e!==2&&(t=yt,yt=n,t!==null&&xu(t)),e}function xu(e){yt===null?yt=e:yt.push.apply(yt,e)}function u0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~Tc,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function wf(e){if(ge&6)throw Error(z(327));ms();var t=Ho(e,0);if(!(t&1))return kt(e,De()),null;var n=al(e,t);if(e.tag!==0&&n===2){var r=Ha(e);r!==0&&(t=r,n=yu(e,r))}if(n===1)throw n=Ti,Or(e,0),Bn(e,t),kt(e,De()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,yt,vn),kt(e,De()),null}function Ic(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(zs=De()+500,kl&&pr())}}function Ur(e){Zn!==null&&Zn.tag===0&&!(ge&6)&&ms();var t=ge;ge|=1;var n=zt.transition,r=xe;try{if(zt.transition=null,xe=1,e)return e()}finally{xe=r,zt.transition=n,ge=t,!(ge&6)&&pr()}}function _c(){Et=us.current,be(us)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ay(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(pc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Go();break;case 3:Os(),be(wt),be(rt),Cc();break;case 5:kc(r);break;case 4:Os();break;case 13:be(Re);break;case 19:be(Re);break;case 10:yc(r.type._context);break;case 22:case 23:_c()}n=n.return}if(Ke=e,$e=e=lr(e.current,null),Ge=Et=t,He=0,Ti=null,Tc=Nl=$r=0,yt=fi=null,Sr!==null){for(t=0;t<Sr.length;t++)if(n=Sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sr=null}return e}function Im(e,t){do{var n=$e;try{if(vc(),Eo.current=sl,rl){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rl=!1}if(Ar=0,Ve=Be=Le=null,ci=!1,Mi=0,Lc.current=null,n===null||n.return===null){He=1,Ti=t,$e=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var k=lf(o);if(k!==null){k.flags&=-257,af(k,o,l,i,t),k.mode&1&&of(i,c,t),t=k,a=c;var x=t.updateQueue;if(x===null){var b=new Set;b.add(a),t.updateQueue=b}else x.add(a);break e}else{if(!(t&1)){of(i,c,t),Oc();break e}a=Error(z(426))}}else if(Ne&&l.mode&1){var P=lf(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),af(P,o,l,i,t),mc(Fs(a,l));break e}}i=a=Fs(a,l),He!==4&&(He=2),fi===null?fi=[i]:fi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=gm(i,a,t);Zd(i,y);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ir===null||!ir.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var p=vm(i,l,t);Zd(i,p);break e}}i=i.return}while(i!==null)}Fm(n)}catch(C){t=C,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function _m(){var e=il.current;return il.current=sl,e===null?sl:e}function Oc(){(He===0||He===3||He===2)&&(He=4),Ke===null||!($r&268435455)&&!(Nl&268435455)||Bn(Ke,Ge)}function al(e,t){var n=ge;ge|=2;var r=_m();(Ke!==e||Ge!==t)&&(vn=null,Or(e,t));do try{c0();break}catch(s){Im(e,s)}while(!0);if(vc(),ge=n,il.current=r,$e!==null)throw Error(z(261));return Ke=null,Ge=0,He}function c0(){for(;$e!==null;)Om($e)}function d0(){for(;$e!==null&&!Fv();)Om($e)}function Om(e){var t=Dm(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Fm(e):$e=t,Lc.current=null}function Fm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=s0(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(n=r0(n,t,Et),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function xr(e,t,n){var r=xe,s=zt.transition;try{zt.transition=null,xe=1,f0(e,t,n,r)}finally{zt.transition=s,xe=r}return null}function f0(e,t,n,r){do ms();while(Zn!==null);if(ge&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Vv(e,i),e===Ke&&($e=Ke=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,Am(Wo,function(){return ms(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var o=xe;xe=1;var l=ge;ge|=4,Lc.current=null,o0(e,n),Lm(n,e),Py(qa),Qo=!!Ga,qa=Ga=null,e.current=n,l0(n),zv(),ge=l,xe=o,zt.transition=i}else e.current=n;if(ho&&(ho=!1,Zn=e,ll=s),i=e.pendingLanes,i===0&&(ir=null),$v(n.stateNode),kt(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ol)throw ol=!1,e=gu,gu=null,e;return ll&1&&e.tag!==0&&ms(),i=e.pendingLanes,i&1?e===vu?hi++:(hi=0,vu=e):hi=0,pr(),null}function ms(){if(Zn!==null){var e=gp(ll),t=zt.transition,n=xe;try{if(zt.transition=null,xe=16>e?16:e,Zn===null)var r=!1;else{if(e=Zn,Zn=null,ll=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Y=e.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(Y=c;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:di(8,f,i)}var d=f.child;if(d!==null)d.return=f,Y=d;else for(;Y!==null;){f=Y;var v=f.sibling,k=f.return;if(jm(f),f===c){Y=null;break}if(v!==null){v.return=k,Y=v;break}Y=k}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:di(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Y=y;break e}Y=i.return}}var m=e.current;for(Y=m;Y!==null;){o=Y;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,Y=h;else e:for(o=m;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(C){Oe(l,l.return,C)}if(l===o){Y=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,Y=p;break e}Y=l.return}}if(ge=s,pr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(vl,e)}catch{}r=!0}return r}finally{xe=n,zt.transition=t}}return!1}function Sf(e,t,n){t=Fs(n,t),t=gm(e,t,1),e=sr(e,t,1),t=dt(),e!==null&&(Bi(e,1,t),kt(e,t))}function Oe(e,t,n){if(e.tag===3)Sf(e,e,n);else for(;t!==null;){if(t.tag===3){Sf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){e=Fs(n,e),e=vm(t,e,1),t=sr(t,e,1),e=dt(),t!==null&&(Bi(t,1,e),kt(t,e));break}}t=t.return}}function h0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ge&n)===n&&(He===4||He===3&&(Ge&130023424)===Ge&&500>De()-Pc?Or(e,0):Tc|=n),kt(e,t)}function zm(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var n=dt();e=Ln(e,t),e!==null&&(Bi(e,t,n),kt(e,n))}function p0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zm(e,n)}function m0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),zm(e,n)}var Dm;Dm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,n0(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Ne&&t.flags&1048576&&Bp(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jo(e,t),e=t.pendingProps;var s=Ps(t,rt.current);ps(t,n),s=Ec(null,t,r,e,s,n);var i=Nc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(i=!0,qo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wc(t),s.updater=bl,t.stateNode=s,s._reactInternals=t,iu(t,r,e,n),t=au(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&hc(t),ut(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=v0(r),e=Wt(r,e),s){case 0:t=lu(null,t,r,e,n);break e;case 1:t=df(null,t,r,e,n);break e;case 11:t=uf(null,t,r,e,n);break e;case 14:t=cf(null,t,r,Wt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),lu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),df(e,t,r,s,n);case 3:e:{if(Sm(t),e===null)throw Error(z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Yp(e,t),tl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(z(423)),t),t=ff(e,t,r,n,s);break e}else if(r!==s){s=Fs(Error(z(424)),t),t=ff(e,t,r,n,s);break e}else for(Nt=rr(t.stateNode.containerInfo.firstChild),jt=t,Ne=!0,Yt=null,n=Vp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===s){t=Tn(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return Gp(t),e===null&&nu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Xa(r,s)?o=null:i!==null&&Xa(r,i)&&(t.flags|=32),wm(e,t),ut(e,t,o,n),t.child;case 6:return e===null&&nu(t),null;case 13:return km(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_s(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),uf(e,t,r,s,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ke(Zo,r._currentValue),r._currentValue=o,i!==null)if(Xt(i.value,o)){if(i.children===s.children&&!wt.current){t=Tn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=En(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ru(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ru(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ut(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ps(t,n),s=Dt(s),r=r(s),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,s=Wt(r,t.pendingProps),s=Wt(r.type,s),cf(e,t,r,s,n);case 15:return ym(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),jo(e,t),t.tag=1,St(r)?(e=!0,qo(t)):e=!1,ps(t,n),mm(t,r,s),iu(t,r,s,n),au(null,t,r,!0,e,n);case 19:return Cm(e,t,n);case 22:return xm(e,t,n)}throw Error(z(156,t.tag))};function Am(e,t){return fp(e,t)}function g0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new g0(e,t,n,r)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tc)return 11;if(e===nc)return 14}return 2}function lr(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Fc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zr:return Fr(n.children,s,i,t);case ec:o=8,s|=8;break;case Ra:return e=Ft(12,n,t,s|2),e.elementType=Ra,e.lanes=i,e;case La:return e=Ft(13,n,t,s),e.elementType=La,e.lanes=i,e;case Ta:return e=Ft(19,n,t,s),e.elementType=Ta,e.lanes=i,e;case Gh:return jl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kh:o=10;break e;case Yh:o=9;break e;case tc:o=11;break e;case nc:o=14;break e;case An:o=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Ft(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Fr(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function jl(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=Gh,e.lanes=n,e.stateNode={isHidden:!1},e}function ma(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function ga(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,s,i,o,l,a){return e=new y0(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(i),e}function x0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $m(e){if(!e)return dr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(St(n))return $p(e,n,t)}return t}function Um(e,t,n,r,s,i,o,l,a){return e=zc(n,r,!0,e,s,i,o,l,a),e.context=$m(null),n=e.current,r=dt(),s=or(n),i=En(r,s),i.callback=t??null,sr(n,i,s),e.current.lanes=s,Bi(e,s,r),kt(e,r),e}function Ml(e,t,n,r){var s=t.current,i=dt(),o=or(s);return n=$m(n),t.context===null?t.context=n:t.pendingContext=n,t=En(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(s,t,o),e!==null&&(qt(e,s,o,i),bo(e,s,o)),o}function ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dc(e,t){kf(e,t),(e=e.alternate)&&kf(e,t)}function w0(){return null}var Bm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}Rl.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Ml(e,t,null,null)};Rl.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Ml(null,e,null,null)}),t[Rn]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&Sp(e)}};function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function S0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ul(o);i.call(c)}}var o=Um(t,r,e,0,null,!1,!1,"",Cf);return e._reactRootContainer=o,e[Rn]=o.current,Ci(e.nodeType===8?e.parentNode:e),Ur(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ul(a);l.call(c)}}var a=zc(e,0,!1,null,null,!1,!1,"",Cf);return e._reactRootContainer=a,e[Rn]=a.current,Ci(e.nodeType===8?e.parentNode:e),Ur(function(){Ml(t,a,n,r)}),a}function Tl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ul(o);l.call(a)}}Ml(t,o,e,s)}else o=S0(n,t,e,s,r);return ul(o)}vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ti(t.pendingLanes);n!==0&&(ic(t,n|1),kt(t,De()),!(ge&6)&&(zs=De()+500,pr()))}break;case 13:Ur(function(){var r=Ln(e,1);if(r!==null){var s=dt();qt(r,e,1,s)}}),Dc(e,1)}};oc=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var n=dt();qt(t,e,134217728,n)}Dc(e,134217728)}};yp=function(e){if(e.tag===13){var t=or(e),n=Ln(e,t);if(n!==null){var r=dt();qt(n,e,t,r)}Dc(e,t)}};xp=function(){return xe};wp=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Ua=function(e,t,n){switch(t){case"input":if(_a(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Sl(r);if(!s)throw Error(z(90));Xh(r),_a(r,s)}}}break;case"textarea":Zh(e,n);break;case"select":t=n.value,t!=null&&cs(e,!!n.multiple,t,!1)}};op=Ic;lp=Ur;var k0={usingClientEntryPoint:!1,Events:[Hi,rs,Sl,sp,ip,Ic]},qs={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cp(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{vl=po.inject(C0),cn=po}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k0;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(t))throw Error(z(200));return x0(e,t,null,n)};Rt.createRoot=function(e,t){if(!$c(e))throw Error(z(299));var n=!1,r="",s=Bm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,null,n,!1,r,s),e[Rn]=t.current,Ci(e.nodeType===8?e.parentNode:e),new Ac(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=cp(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Ur(e)};Rt.hydrate=function(e,t,n){if(!Ll(t))throw Error(z(200));return Tl(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Bm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Um(t,null,e,1,n??null,s,!1,i,o),e[Rn]=t.current,Ci(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rl(t)};Rt.render=function(e,t,n){if(!Ll(t))throw Error(z(200));return Tl(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(z(40));return e._reactRootContainer?(Ur(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Ic;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ll(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Tl(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(e){console.error(e)}}Wm(),Wh.exports=Rt;var Uc=Wh.exports,Hm,bf=Uc;Hm=bf.createRoot,bf.hydrateRoot;var Us=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},b0={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Wn,Vu,Sh,E0=(Sh=class{constructor(){te(this,Wn,b0);te(this,Vu,!1)}setTimeoutProvider(e){H(this,Wn,e)}setTimeout(e,t){return w(this,Wn).setTimeout(e,t)}clearTimeout(e){w(this,Wn).clearTimeout(e)}setInterval(e,t){return w(this,Wn).setInterval(e,t)}clearInterval(e){w(this,Wn).clearInterval(e)}},Wn=new WeakMap,Vu=new WeakMap,Sh),Cr=new E0;function N0(e){setTimeout(e,0)}var Br=typeof window>"u"||"Deno"in globalThis;function ct(){}function j0(e,t){return typeof e=="function"?e(t):e}function wu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ar(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){return typeof e=="function"?e(t):e}function Ef(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Bc(o,t.options))return!1}else if(!Pi(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Nf(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wr(t.options.mutationKey)!==Wr(i))return!1}else if(!Pi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Bc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wr)(e)}function Wr(e){return JSON.stringify(e,(t,n)=>Su(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Pi(e[n],t[n])):!1}var M0=Object.prototype.hasOwnProperty;function Vm(e,t){if(e===t)return e;const n=jf(e)&&jf(t);if(!n&&!(Su(e)&&Su(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let c=0;c<o;c++){const f=n?c:i[c],d=e[f],v=t[f];if(d===v){l[f]=d,(n?c<s:M0.call(e,f))&&a++;continue}if(d===null||v===null||typeof d!="object"||typeof v!="object"){l[f]=v;continue}const k=Vm(d,v);l[f]=k,k===d&&a++}return s===o&&a===s?e:l}function cl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Su(e){if(!Mf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Mf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mf(e){return Object.prototype.toString.call(e)==="[object Object]"}function R0(e){return new Promise(t=>{Cr.setTimeout(t,e)})}function ku(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vm(e,t):t}function L0(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function T0(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Wc=Symbol();function Km(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ym(e,t){return typeof e=="function"?e(...t):!!e}function P0(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var Nr,Hn,xs,kh,I0=(kh=class extends Us{constructor(){super();te(this,Nr);te(this,Hn);te(this,xs);H(this,xs,t=>{if(!Br&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){w(this,Hn)||this.setEventListener(w(this,xs))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Hn))==null||t.call(this),H(this,Hn,void 0))}setEventListener(t){var n;H(this,xs,t),(n=w(this,Hn))==null||n.call(this),H(this,Hn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){w(this,Nr)!==t&&(H(this,Nr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof w(this,Nr)=="boolean"?w(this,Nr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nr=new WeakMap,Hn=new WeakMap,xs=new WeakMap,kh),Hc=new I0;function Cu(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var _0=N0;function O0(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=_0;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var We=O0(),ws,Qn,Ss,Ch,F0=(Ch=class extends Us{constructor(){super();te(this,ws,!0);te(this,Qn);te(this,Ss);H(this,Ss,t=>{if(!Br&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){w(this,Qn)||this.setEventListener(w(this,Ss))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Qn))==null||t.call(this),H(this,Qn,void 0))}setEventListener(t){var n;H(this,Ss,t),(n=w(this,Qn))==null||n.call(this),H(this,Qn,t(this.setOnline.bind(this)))}setOnline(t){w(this,ws)!==t&&(H(this,ws,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return w(this,ws)}},ws=new WeakMap,Qn=new WeakMap,Ss=new WeakMap,Ch),dl=new F0;function z0(e){return Math.min(1e3*2**e,3e4)}function Gm(e){return(e??"online")==="online"?dl.isOnline():!0}var bu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qm(e){let t=!1,n=0,r;const s=Cu(),i=()=>s.status!=="pending",o=b=>{var P;if(!i()){const y=new bu(b);v(y),(P=e.onCancel)==null||P.call(e,y)}},l=()=>{t=!0},a=()=>{t=!1},c=()=>Hc.isFocused()&&(e.networkMode==="always"||dl.isOnline())&&e.canRun(),f=()=>Gm(e.networkMode)&&e.canRun(),d=b=>{i()||(r==null||r(),s.resolve(b))},v=b=>{i()||(r==null||r(),s.reject(b))},k=()=>new Promise(b=>{var P;r=y=>{(i()||c())&&b(y)},(P=e.onPause)==null||P.call(e)}).then(()=>{var b;r=void 0,i()||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(i())return;let b;const P=n===0?e.initialPromise:void 0;try{b=P??e.fn()}catch(y){b=Promise.reject(y)}Promise.resolve(b).then(d).catch(y=>{var M;if(i())return;const m=e.retry??(Br?0:3),h=e.retryDelay??z0,p=typeof h=="function"?h(n,y):h,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,y);if(t||!C){v(y);return}n++,(M=e.onFail)==null||M.call(e,n,y),R0(p).then(()=>c()?void 0:k()).then(()=>{t?v(y):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:f,start:()=>(f()?x():k().then(x),s)}}var jr,bh,Xm=(bh=class{constructor(){te(this,jr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wu(this.gcTime)&&H(this,jr,Cr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Br?1/0:5*60*1e3))}clearGcTimeout(){w(this,jr)&&(Cr.clearTimeout(w(this,jr)),H(this,jr,void 0))}},jr=new WeakMap,bh),Mr,ks,Tt,Rr,Qe,Fi,Lr,Qt,gn,Eh,D0=(Eh=class extends Xm{constructor(t){super();te(this,Qt);te(this,Mr);te(this,ks);te(this,Tt);te(this,Rr);te(this,Qe);te(this,Fi);te(this,Lr);H(this,Lr,!1),H(this,Fi,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Rr,t.client),H(this,Tt,w(this,Rr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,Mr,Lf(this.options)),this.state=t.state??w(this,Mr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,Qe))==null?void 0:t.promise}setOptions(t){if(this.options={...w(this,Fi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Lf(this.options);n.data!==void 0&&(this.setState(Rf(n.data,n.dataUpdatedAt)),H(this,Mr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,Tt).remove(this)}setData(t,n){const r=ku(this.state.data,t,this.options);return le(this,Qt,gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Qt,gn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=w(this,Qe))==null?void 0:r.promise;return(s=w(this,Qe))==null||s.cancel(t),n?n.then(ct).catch(ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Mr))}isActive(){return this.observers.some(t=>Pt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ar(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=w(this,Qe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=w(this,Qe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,Tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(w(this,Qe)&&(w(this,Lr)?w(this,Qe).cancel({revert:!0}):w(this,Qe).cancelRetry()),this.scheduleGc()),w(this,Tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Qt,gn).call(this,{type:"invalidate"})}async fetch(t,n){var a,c,f,d,v,k,x,b,P,y,m,h;if(this.state.fetchStatus!=="idle"&&((a=w(this,Qe))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(w(this,Qe))return w(this,Qe).continueRetry(),w(this,Qe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(H(this,Lr,!0),r.signal)})},i=()=>{const p=Km(this.options,n),M=(()=>{const R={client:w(this,Rr),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return H(this,Lr,!1),this.options.persister?this.options.persister(p,M,this):p(M)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:w(this,Rr),state:this.state,fetchFn:i};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(l,this),H(this,ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&le(this,Qt,gn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),H(this,Qe,qm({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:p=>{p instanceof bu&&p.revert&&this.setState({...w(this,ks),fetchStatus:"idle"}),r.abort()},onFail:(p,C)=>{le(this,Qt,gn).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{le(this,Qt,gn).call(this,{type:"pause"})},onContinue:()=>{le(this,Qt,gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const p=await w(this,Qe).start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),(k=(v=w(this,Tt).config).onSuccess)==null||k.call(v,p,this),(b=(x=w(this,Tt).config).onSettled)==null||b.call(x,p,this.state.error,this),p}catch(p){if(p instanceof bu){if(p.silent)return w(this,Qe).promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw le(this,Qt,gn).call(this,{type:"error",error:p}),(y=(P=w(this,Tt).config).onError)==null||y.call(P,p,this),(h=(m=w(this,Tt).config).onSettled)==null||h.call(m,this.state.data,p,this),p}finally{this.scheduleGc()}}},Mr=new WeakMap,ks=new WeakMap,Tt=new WeakMap,Rr=new WeakMap,Qe=new WeakMap,Fi=new WeakMap,Lr=new WeakMap,Qt=new WeakSet,gn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jm(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Rf(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,ks,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),We.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),w(this,Tt).notify({query:this,type:"updated",action:t})})},Eh);function Jm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Rf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Lf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gt,he,zi,lt,Tr,Cs,xn,Vn,Di,bs,Es,Pr,Ir,Kn,Ns,ye,ri,Eu,Nu,ju,Mu,Ru,Lu,Tu,Zm,Nh,A0=(Nh=class extends Us{constructor(t,n){super();te(this,ye);te(this,gt);te(this,he);te(this,zi);te(this,lt);te(this,Tr);te(this,Cs);te(this,xn);te(this,Vn);te(this,Di);te(this,bs);te(this,Es);te(this,Pr);te(this,Ir);te(this,Kn);te(this,Ns,new Set);this.options=n,H(this,gt,t),H(this,Vn,null),H(this,xn,Cu()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,he).addObserver(this),Tf(w(this,he),this.options)?le(this,ye,ri).call(this):this.updateResult(),le(this,ye,Mu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pu(w(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pu(w(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,ye,Ru).call(this),le(this,ye,Lu).call(this),w(this,he).removeObserver(this)}setOptions(t){const n=this.options,r=w(this,he);if(this.options=w(this,gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,w(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,ye,Tu).call(this),w(this,he).setOptions(this.options),n._defaulted&&!cl(this.options,n)&&w(this,gt).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,he),observer:this});const s=this.hasListeners();s&&Pf(w(this,he),r,this.options,n)&&le(this,ye,ri).call(this),this.updateResult(),s&&(w(this,he)!==r||Pt(this.options.enabled,w(this,he))!==Pt(n.enabled,w(this,he))||ar(this.options.staleTime,w(this,he))!==ar(n.staleTime,w(this,he)))&&le(this,ye,Eu).call(this);const i=le(this,ye,Nu).call(this);s&&(w(this,he)!==r||Pt(this.options.enabled,w(this,he))!==Pt(n.enabled,w(this,he))||i!==w(this,Kn))&&le(this,ye,ju).call(this,i)}getOptimisticResult(t){const n=w(this,gt).getQueryCache().build(w(this,gt),t),r=this.createResult(n,t);return U0(this,r)&&(H(this,lt,r),H(this,Cs,this.options),H(this,Tr,w(this,he).state)),r}getCurrentResult(){return w(this,lt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&w(this,xn).status==="pending"&&w(this,xn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){w(this,Ns).add(t)}getCurrentQuery(){return w(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=w(this,gt).defaultQueryOptions(t),r=w(this,gt).getQueryCache().build(w(this,gt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,ye,ri).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,lt)))}createResult(t,n){var L;const r=w(this,he),s=this.options,i=w(this,lt),o=w(this,Tr),l=w(this,Cs),c=t!==r?t.state:w(this,zi),{state:f}=t;let d={...f},v=!1,k;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&Tf(t,n),X=E&&Pf(t,r,n,s);(I||X)&&(d={...d,...Jm(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:P}=d;k=d.data;let y=!1;if(n.placeholderData!==void 0&&k===void 0&&P==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,y=!0):E=typeof n.placeholderData=="function"?n.placeholderData((L=w(this,Es))==null?void 0:L.state.data,w(this,Es)):n.placeholderData,E!==void 0&&(P="success",k=ku(i==null?void 0:i.data,E,n),v=!0)}if(n.select&&k!==void 0&&!y)if(i&&k===(o==null?void 0:o.data)&&n.select===w(this,Di))k=w(this,bs);else try{H(this,Di,n.select),k=n.select(k),k=ku(i==null?void 0:i.data,k,n),H(this,bs,k),H(this,Vn,null)}catch(E){H(this,Vn,E)}w(this,Vn)&&(x=w(this,Vn),k=w(this,bs),b=Date.now(),P="error");const m=d.fetchStatus==="fetching",h=P==="pending",p=P==="error",C=h&&m,M=k!==void 0,N={status:P,fetchStatus:d.fetchStatus,isPending:h,isSuccess:P==="success",isError:p,isInitialLoading:C,isLoading:C,data:k,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!h,isLoadingError:p&&!M,isPaused:d.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:p&&M,isStale:Qc(t,n),refetch:this.refetch,promise:w(this,xn),isEnabled:Pt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=re=>{N.status==="error"?re.reject(N.error):N.data!==void 0&&re.resolve(N.data)},I=()=>{const re=H(this,xn,N.promise=Cu());E(re)},X=w(this,xn);switch(X.status){case"pending":t.queryHash===r.queryHash&&E(X);break;case"fulfilled":(N.status==="error"||N.data!==X.value)&&I();break;case"rejected":(N.status!=="error"||N.error!==X.reason)&&I();break}}return N}updateResult(){const t=w(this,lt),n=this.createResult(w(this,he),this.options);if(H(this,Tr,w(this,he).state),H(this,Cs,this.options),w(this,Tr).data!==void 0&&H(this,Es,w(this,he)),cl(n,t))return;H(this,lt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!w(this,Ns).size)return!0;const o=new Set(i??w(this,Ns));return this.options.throwOnError&&o.add("error"),Object.keys(w(this,lt)).some(l=>{const a=l;return w(this,lt)[a]!==t[a]&&o.has(a)})};le(this,ye,Zm).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,ye,Mu).call(this)}},gt=new WeakMap,he=new WeakMap,zi=new WeakMap,lt=new WeakMap,Tr=new WeakMap,Cs=new WeakMap,xn=new WeakMap,Vn=new WeakMap,Di=new WeakMap,bs=new WeakMap,Es=new WeakMap,Pr=new WeakMap,Ir=new WeakMap,Kn=new WeakMap,Ns=new WeakMap,ye=new WeakSet,ri=function(t){le(this,ye,Tu).call(this);let n=w(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ct)),n},Eu=function(){le(this,ye,Ru).call(this);const t=ar(this.options.staleTime,w(this,he));if(Br||w(this,lt).isStale||!wu(t))return;const r=Qm(w(this,lt).dataUpdatedAt,t)+1;H(this,Pr,Cr.setTimeout(()=>{w(this,lt).isStale||this.updateResult()},r))},Nu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,he)):this.options.refetchInterval)??!1},ju=function(t){le(this,ye,Lu).call(this),H(this,Kn,t),!(Br||Pt(this.options.enabled,w(this,he))===!1||!wu(w(this,Kn))||w(this,Kn)===0)&&H(this,Ir,Cr.setInterval(()=>{(this.options.refetchIntervalInBackground||Hc.isFocused())&&le(this,ye,ri).call(this)},w(this,Kn)))},Mu=function(){le(this,ye,Eu).call(this),le(this,ye,ju).call(this,le(this,ye,Nu).call(this))},Ru=function(){w(this,Pr)&&(Cr.clearTimeout(w(this,Pr)),H(this,Pr,void 0))},Lu=function(){w(this,Ir)&&(Cr.clearInterval(w(this,Ir)),H(this,Ir,void 0))},Tu=function(){const t=w(this,gt).getQueryCache().build(w(this,gt),this.options);if(t===w(this,he))return;const n=w(this,he);H(this,he,t),H(this,zi,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Zm=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(w(this,lt))}),w(this,gt).getQueryCache().notify({query:w(this,he),type:"observerResultsUpdated"})})},Nh);function $0(e,t){return Pt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Tf(e,t){return $0(e,t)||e.state.data!==void 0&&Pu(e,t,t.refetchOnMount)}function Pu(e,t,n){if(Pt(t.enabled,e)!==!1&&ar(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Qc(e,t)}return!1}function Pf(e,t,n,r){return(e!==t||Pt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Qc(e,n)}function Qc(e,t){return Pt(t.enabled,e)!==!1&&e.isStaleByTime(ar(t.staleTime,e))}function U0(e,t){return!cl(e.getCurrentResult(),t)}function If(e){return{onFetch:(t,n)=>{var f,d,v,k,x;const r=t.options,s=(v=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:v.direction,i=((k=t.state.data)==null?void 0:k.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const c=async()=>{let b=!1;const P=h=>{P0(h,()=>t.signal,()=>b=!0)},y=Km(t.options,t.fetchOptions),m=async(h,p,C)=>{if(b)return Promise.reject();if(p==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:p,direction:C?"backward":"forward",meta:t.options.meta};return P(I),I})(),N=await y(R),{maxPages:L}=t.options,E=C?T0:L0;return{pages:E(h.pages,N,L),pageParams:E(h.pageParams,p,L)}};if(s&&i.length){const h=s==="backward",p=h?B0:_f,C={pages:i,pageParams:o},M=p(r,C);l=await m(C,M,h)}else{const h=e??i.length;do{const p=a===0?o[0]??r.initialPageParam:_f(r,l);if(a>0&&p==null)break;l=await m(l,p),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var b,P;return(P=(b=t.options).persister)==null?void 0:P.call(b,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function _f(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function B0(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ai,sn,at,_r,on,Dn,jh,W0=(jh=class extends Xm{constructor(t){super();te(this,on);te(this,Ai);te(this,sn);te(this,at);te(this,_r);H(this,Ai,t.client),this.mutationId=t.mutationId,H(this,at,t.mutationCache),H(this,sn,[]),this.state=t.state||eg(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,sn).includes(t)||(w(this,sn).push(t),this.clearGcTimeout(),w(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,sn,w(this,sn).filter(n=>n!==t)),this.scheduleGc(),w(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,sn).length||(this.state.status==="pending"?this.scheduleGc():w(this,at).remove(this))}continue(){var t;return((t=w(this,_r))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,c,f,d,v,k,x,b,P,y,m,h,p,C,M,R,N,L;const n=()=>{le(this,on,Dn).call(this,{type:"continue"})},r={client:w(this,Ai),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,_r,qm({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{le(this,on,Dn).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{le(this,on,Dn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,at).canRun(this)}));const s=this.state.status==="pending",i=!w(this,_r).canStart();try{if(s)n();else{le(this,on,Dn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=w(this,at).config).onMutate)==null?void 0:l.call(o,t,this,r));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t,r));I!==this.state.context&&le(this,on,Dn).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const E=await w(this,_r).start();return await((d=(f=w(this,at).config).onSuccess)==null?void 0:d.call(f,E,t,this.state.context,this,r)),await((k=(v=this.options).onSuccess)==null?void 0:k.call(v,E,t,this.state.context,r)),await((b=(x=w(this,at).config).onSettled)==null?void 0:b.call(x,E,null,this.state.variables,this.state.context,this,r)),await((y=(P=this.options).onSettled)==null?void 0:y.call(P,E,null,t,this.state.context,r)),le(this,on,Dn).call(this,{type:"success",data:E}),E}catch(E){try{await((h=(m=w(this,at).config).onError)==null?void 0:h.call(m,E,t,this.state.context,this,r))}catch(I){Promise.reject(I)}try{await((C=(p=this.options).onError)==null?void 0:C.call(p,E,t,this.state.context,r))}catch(I){Promise.reject(I)}try{await((R=(M=w(this,at).config).onSettled)==null?void 0:R.call(M,void 0,E,this.state.variables,this.state.context,this,r))}catch(I){Promise.reject(I)}try{await((L=(N=this.options).onSettled)==null?void 0:L.call(N,void 0,E,t,this.state.context,r))}catch(I){Promise.reject(I)}throw le(this,on,Dn).call(this,{type:"error",error:E}),E}finally{w(this,at).runNext(this)}}},Ai=new WeakMap,sn=new WeakMap,at=new WeakMap,_r=new WeakMap,on=new WeakSet,Dn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),We.batch(()=>{w(this,sn).forEach(r=>{r.onMutationUpdate(t)}),w(this,at).notify({mutation:this,type:"updated",action:t})})},jh);function eg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,Vt,$i,Mh,H0=(Mh=class extends Us{constructor(t={}){super();te(this,wn);te(this,Vt);te(this,$i);this.config=t,H(this,wn,new Set),H(this,Vt,new Map),H(this,$i,0)}build(t,n,r){const s=new W0({client:t,mutationCache:this,mutationId:++qi(this,$i)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){w(this,wn).add(t);const n=mo(t);if(typeof n=="string"){const r=w(this,Vt).get(n);r?r.push(t):w(this,Vt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(w(this,wn).delete(t)){const n=mo(t);if(typeof n=="string"){const r=w(this,Vt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&w(this,Vt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=mo(t);if(typeof n=="string"){const r=w(this,Vt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=mo(t);if(typeof n=="string"){const s=(r=w(this,Vt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{w(this,wn).forEach(t=>{this.notify({type:"removed",mutation:t})}),w(this,wn).clear(),w(this,Vt).clear()})}getAll(){return Array.from(w(this,wn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nf(n,r))}findAll(t={}){return this.getAll().filter(n=>Nf(t,n))}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return We.batch(()=>Promise.all(t.map(n=>n.continue().catch(ct))))}},wn=new WeakMap,Vt=new WeakMap,$i=new WeakMap,Mh);function mo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Sn,Yn,vt,kn,jn,To,Iu,Rh,Q0=(Rh=class extends Us{constructor(n,r){super();te(this,jn);te(this,Sn);te(this,Yn);te(this,vt);te(this,kn);H(this,Sn,n),this.setOptions(r),this.bindMethods(),le(this,jn,To).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=w(this,Sn).defaultMutationOptions(n),cl(this.options,r)||w(this,Sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,vt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wr(r.mutationKey)!==Wr(this.options.mutationKey)?this.reset():((s=w(this,vt))==null?void 0:s.state.status)==="pending"&&w(this,vt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=w(this,vt))==null||n.removeObserver(this)}onMutationUpdate(n){le(this,jn,To).call(this),le(this,jn,Iu).call(this,n)}getCurrentResult(){return w(this,Yn)}reset(){var n;(n=w(this,vt))==null||n.removeObserver(this),H(this,vt,void 0),le(this,jn,To).call(this),le(this,jn,Iu).call(this)}mutate(n,r){var s;return H(this,kn,r),(s=w(this,vt))==null||s.removeObserver(this),H(this,vt,w(this,Sn).getMutationCache().build(w(this,Sn),this.options)),w(this,vt).addObserver(this),w(this,vt).execute(n)}},Sn=new WeakMap,Yn=new WeakMap,vt=new WeakMap,kn=new WeakMap,jn=new WeakSet,To=function(){var r;const n=((r=w(this,vt))==null?void 0:r.state)??eg();H(this,Yn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Iu=function(n){We.batch(()=>{var r,s,i,o,l,a,c,f;if(w(this,kn)&&this.hasListeners()){const d=w(this,Yn).variables,v=w(this,Yn).context,k={client:w(this,Sn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=w(this,kn)).onSuccess)==null||s.call(r,n.data,d,v,k)}catch(x){Promise.reject(x)}try{(o=(i=w(this,kn)).onSettled)==null||o.call(i,n.data,null,d,v,k)}catch(x){Promise.reject(x)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=w(this,kn)).onError)==null||a.call(l,n.error,d,v,k)}catch(x){Promise.reject(x)}try{(f=(c=w(this,kn)).onSettled)==null||f.call(c,void 0,n.error,d,v,k)}catch(x){Promise.reject(x)}}}this.listeners.forEach(d=>{d(w(this,Yn))})})},Rh),ln,Lh,V0=(Lh=class extends Us{constructor(t={}){super();te(this,ln);this.config=t,H(this,ln,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Bc(s,n);let o=this.get(i);return o||(o=new D0({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){w(this,ln).has(t.queryHash)||(w(this,ln).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=w(this,ln).get(t.queryHash);n&&(t.destroy(),n===t&&w(this,ln).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,ln).get(t)}getAll(){return[...w(this,ln).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ef(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ef(t,r)):n}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ln=new WeakMap,Lh),_e,Gn,qn,js,Ms,Xn,Rs,Ls,Th,K0=(Th=class{constructor(e={}){te(this,_e);te(this,Gn);te(this,qn);te(this,js);te(this,Ms);te(this,Xn);te(this,Rs);te(this,Ls);H(this,_e,e.queryCache||new V0),H(this,Gn,e.mutationCache||new H0),H(this,qn,e.defaultOptions||{}),H(this,js,new Map),H(this,Ms,new Map),H(this,Xn,0)}mount(){qi(this,Xn)._++,w(this,Xn)===1&&(H(this,Rs,Hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,_e).onFocus())})),H(this,Ls,dl.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,_e).onOnline())})))}unmount(){var e,t;qi(this,Xn)._--,w(this,Xn)===0&&((e=w(this,Rs))==null||e.call(this),H(this,Rs,void 0),(t=w(this,Ls))==null||t.call(this),H(this,Ls,void 0))}isFetching(e){return w(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,Gn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=w(this,_e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=w(this,_e).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ar(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return w(this,_e).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=w(this,_e).get(r.queryHash),i=s==null?void 0:s.state.data,o=j0(t,i);if(o!==void 0)return w(this,_e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return We.batch(()=>w(this,_e).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=w(this,_e).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=w(this,_e);We.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=w(this,_e);return We.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=We.batch(()=>w(this,_e).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ct).catch(ct)}invalidateQueries(e,t={}){return We.batch(()=>(w(this,_e).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=We.batch(()=>w(this,_e).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ct)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ct)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=w(this,_e).build(this,t);return n.isStaleByTime(ar(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ct).catch(ct)}fetchInfiniteQuery(e){return e.behavior=If(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ct).catch(ct)}ensureInfiniteQueryData(e){return e.behavior=If(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dl.isOnline()?w(this,Gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,_e)}getMutationCache(){return w(this,Gn)}getDefaultOptions(){return w(this,qn)}setDefaultOptions(e){H(this,qn,e)}setQueryDefaults(e,t){w(this,js).set(Wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,js).values()],n={};return t.forEach(r=>{Pi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){w(this,Ms).set(Wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,Ms).values()],n={};return t.forEach(r=>{Pi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,qn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,qn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,_e).clear(),w(this,Gn).clear()}},_e=new WeakMap,Gn=new WeakMap,qn=new WeakMap,js=new WeakMap,Ms=new WeakMap,Xn=new WeakMap,Rs=new WeakMap,Ls=new WeakMap,Th),tg=g.createContext(void 0),Vr=e=>{const t=g.useContext(tg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y0=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(tg.Provider,{value:e,children:t})),ng=g.createContext(!1),G0=()=>g.useContext(ng);ng.Provider;function q0(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var X0=g.createContext(q0()),J0=()=>g.useContext(X0),Z0=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ex=e=>{g.useEffect(()=>{e.clearReset()},[e])},tx=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Ym(n,[e.error,r])),nx=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rx=(e,t)=>e.isLoading&&e.isFetching&&!t,sx=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Of=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ix(e,t,n){var d,v,k,x,b;const r=G0(),s=J0(),i=Vr(),o=i.defaultQueryOptions(e);(v=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||v.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",nx(o),Z0(o,s),ex(s);const l=!i.getQueryCache().get(o.queryHash),[a]=g.useState(()=>new t(i,o)),c=a.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(P=>{const y=f?a.subscribe(We.batchCalls(P)):ct;return a.updateResult(),y},[a,f]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g.useEffect(()=>{a.setOptions(o)},[o,a]),sx(o,c))throw Of(o,a,s);if(tx({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((x=(k=i.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||x.call(k,o,c),o.experimental_prefetchInRender&&!Br&&rx(c,r)){const P=l?Of(o,a,s):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;P==null||P.catch(ct).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?c:a.trackResult(c)}function Vc(e,t){return ix(e,A0)}function ox(e,t){const n=Vr(),[r]=g.useState(()=>new Q0(n,e));g.useEffect(()=>{r.setOptions(e)},[r,e]);const s=g.useSyncExternalStore(g.useCallback(o=>r.subscribe(We.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((o,l)=>{r.mutate(o,l).catch(ct)},[r]);if(s.error&&Ym(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Ff(e){return e.length>0&&"options"in e[0]}function zf({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:c=!0,title:f,disabled:d=!1,"aria-label":v}){var N;const[k,x]=g.useState(!1),b=g.useRef(null),P=g.useRef(null),m=g.useCallback(()=>{const L=E=>{const I=E.find(X=>X.value===e);return I?I.label:null};if(Ff(n))for(const E of n){const I=L(E.options);if(I)return I}else{const E=L(n);if(E)return E}return r},[e,n,r])();g.useEffect(()=>{if(!k)return;const L=I=>{b.current&&!b.current.contains(I.target)&&x(!1)},E=I=>{var X;I.key==="Escape"&&(x(!1),(X=P.current)==null||X.focus())};return window.addEventListener("click",L),window.addEventListener("keydown",E),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",E)}},[k]);const h=L=>{var E;t(L),x(!1),(E=P.current)==null||E.focus()},p=L=>L.map(E=>u.jsxs("button",{className:"dropdown-item","data-active":E.value===e,disabled:E.disabled,onClick:()=>!E.disabled&&h(E.value),role:"menuitem",children:[E.icon&&u.jsx("span",{className:"shrink-0",children:E.icon}),u.jsx("span",{className:"flex-1 truncate",children:E.label}),E.value===e&&u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})})]},E.value)),C=((N=P.current)==null?void 0:N.offsetWidth)??0,M=a==="trigger"?C:a==="auto"?void 0:a,R={...M?{width:M,minWidth:M}:{},...l==="right"?{right:0}:{left:0}};return u.jsxs("div",{ref:b,className:"relative",children:[s?u.jsx("div",{onClick:()=>!d&&x(L=>!L),children:s}):u.jsxs("button",{ref:P,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>x(L=>!L),disabled:d,title:f,"aria-label":v,"aria-haspopup":"listbox","aria-expanded":k,children:[u.jsx("span",{className:"truncate",children:m}),c&&u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${k?"rotate-180":""}`,children:u.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),k&&u.jsx("div",{className:`dropdown-panel ${o}`,style:R,role:"listbox","aria-label":v,children:Ff(n)?n.map((L,E)=>u.jsxs("div",{children:[L.label&&u.jsx("div",{className:"dropdown-label",children:L.label}),p(L.options),E<n.length-1&&u.jsx("div",{className:"dropdown-divider"})]},L.label||E)):p(n)})]})}function lx({rootRef:e,onSearch:t,viewerActive:n,onBack:r,zoomPercent:s,onZoomPercentChange:i,currentLabel:o,itemCount:l,totalCount:a,sortSpec:c,metricKeys:f,onSortChange:d,filterCount:v,onOpenFilters:k,starFilters:x,onToggleStar:b,onClearStars:P,onClearFilters:y,starCounts:m,viewMode:h,onViewMode:p,gridItemSize:C,onGridItemSize:M,leftOpen:R,rightOpen:N,onToggleLeft:L,onToggleRight:E,onPrevImage:I,onNextImage:X,canPrevImage:re,canNextImage:V}){const[we,Ae]=g.useState(!1),[ve,O]=g.useState(!1),[$,J]=g.useState(!1),de=g.useRef(null),K=g.useRef(null);g.useEffect(()=>{if(!we)return;const F=T=>{de.current&&!de.current.contains(T.target)&&Ae(!1)};return window.addEventListener("click",F),()=>window.removeEventListener("click",F)},[we]),g.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;const F=window.matchMedia("(max-width: 900px)"),T=D=>O(D.matches);return O(F.matches),"addEventListener"in F?(F.addEventListener("change",T),()=>F.removeEventListener("change",T)):(F.addListener(T),()=>F.removeListener(T))},[]),g.useEffect(()=>{if(!ve||n){J(!1);return}if(!$)return;const F=window.requestAnimationFrame(()=>{var T;return(T=K.current)==null?void 0:T.focus()});return()=>window.cancelAnimationFrame(F)},[ve,$,n]);const ne=c??{kind:"builtin",key:"added",dir:"desc"},ae=ne.dir,fe=ne.kind==="builtin"&&ne.key==="random",Pe=f!=null&&f.length?f.map(F=>({value:`metric:${F}`,label:F})):[],je=[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...Pe],Jt=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:je}],Me=ne.kind==="metric"?`metric:${ne.key}`:`builtin:${ne.key}`,pt=[{label:"Sort by",options:je}],mr=ve&&!n,gr=F=>{if(F.startsWith("layout:")){const T=F==="layout:masonry"?"adaptive":"grid";p==null||p(T)}else d==null||d(Df(F,ne))},In=()=>{d&&d(fe?ne:{...ne,dir:ae==="desc"?"asc":"desc"})},Zt=x??[],en=Zt.length,$t=ux(v,en),A=ax(l,a),Z=o||"Root";return u.jsxs("div",{ref:e,className:"toolbar-shell fixed top-0 left-0 right-0 h-12 grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1 select-none",children:[u.jsxs("div",{className:"toolbar-left flex items-center gap-4 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsxs("div",{className:"flex flex-col min-w-0 leading-tight",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted",children:"Scope"}),u.jsx("span",{className:"text-sm font-medium text-text truncate",title:Z,children:Z})]}),A&&u.jsx("span",{className:"toolbar-count text-xs text-muted whitespace-nowrap tabular-nums",children:A}),n&&u.jsxs("button",{className:"btn btn-sm",onClick:r,title:"Back to grid",children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]})]}),u.jsxs("div",{className:`toolbar-sort flex items-center gap-2 ${n?"opacity-40 pointer-events-none":""}`,children:[u.jsxs("div",{className:"toolbar-sort-controls flex items-center gap-2",children:[u.jsx(zf,{value:Me,onChange:gr,options:Jt,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),u.jsx("button",{className:"toolbar-sort-dir btn btn-icon",onClick:In,title:fe?"Shuffle":`Sort ${ae==="desc"?"descending":"ascending"}`,"aria-label":fe?"Shuffle":"Toggle sort direction","aria-disabled":n,children:fe?u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),u.jsx("path",{d:"M21 3v5h-5"})]}):ae==="desc"?u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 5v14"}),u.jsx("path",{d:"M19 12l-7 7-7-7"})]}):u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 19V5"}),u.jsx("path",{d:"M5 12l7-7 7 7"})]})})]}),u.jsxs("div",{ref:de,className:"toolbar-filter relative",children:[u.jsxs("button",{className:`btn ${$t>0?"btn-active":""}`,onClick:()=>Ae(F=>!F),"aria-haspopup":"dialog","aria-expanded":we,title:"Filters","aria-disabled":n,children:[u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),u.jsx("span",{className:"toolbar-filters-label",children:"Filters"}),$t>0&&u.jsx("span",{className:"toolbar-filters-count px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:$t})]}),we&&u.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[u.jsx("div",{className:"dropdown-label",children:"Rating"}),u.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(F=>{const T=Zt.includes(F),D=(m==null?void 0:m[String(F)])??0;return u.jsxs("button",{onClick:()=>b==null?void 0:b(F),className:`dropdown-item justify-between ${T?"bg-accent-muted":""}`,children:[u.jsxs("span",{className:T?"text-star-active":"text-text",children:["".repeat(F),"".repeat(5-F)]}),u.jsx("span",{className:"text-xs text-muted",children:D})]},F)}),u.jsxs("button",{onClick:()=>b==null?void 0:b(0),className:`dropdown-item justify-between ${Zt.includes(0)?"bg-accent-muted":""}`,children:[u.jsx("span",{className:"text-text",children:"Unrated"}),u.jsx("span",{className:"text-xs text-muted",children:(m==null?void 0:m["0"])??0})]})]}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("div",{className:"dropdown-label",children:"Metrics"}),u.jsxs("button",{className:"dropdown-item",onClick:()=>{Ae(!1),k==null||k()},children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M4 19V9"}),u.jsx("path",{d:"M10 19V5"}),u.jsx("path",{d:"M16 19v-7"}),u.jsx("path",{d:"M3 19h18"})]}),u.jsx("span",{children:"Open Metrics Panel"}),(v||0)>0&&u.jsxs("span",{className:"ml-auto text-xs text-muted",children:[v," active"]})]}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{y?y():P==null||P()},disabled:$t===0,children:"Clear all filters"})]})]})]})]}),u.jsx("div",{className:"toolbar-center flex items-center gap-3 justify-center min-w-0",children:n?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,s??100))),onChange:F=>i==null?void 0:i(Number(F.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),u.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(s??100),"%"]})]}):M&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-muted",children:"Size"}),u.jsx("input",{type:"range",min:80,max:500,step:10,value:C??220,onChange:F=>M(Number(F.target.value)),className:"w-28 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),u.jsxs("div",{className:"toolbar-right flex items-center gap-2 justify-end",children:[u.jsxs("div",{className:`toolbar-nav flex items-center gap-1 mr-1 ${n?"":"opacity-0 pointer-events-none"}`,"aria-hidden":!n,children:[u.jsx("button",{className:`btn btn-icon ${re?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>re&&(I==null?void 0:I()),"aria-label":"Previous image","aria-disabled":!re,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M15 18l-6-6 6-6"})})}),u.jsx("button",{className:`btn btn-icon ${V?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>V&&(X==null?void 0:X()),"aria-label":"Next image","aria-disabled":!V,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),u.jsxs("div",{className:"toolbar-panels flex items-center gap-1",children:[u.jsx("button",{className:`btn btn-icon ${R?"":"opacity-50"}`,title:R?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:L,"aria-pressed":R,"aria-label":"Toggle left panel",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),u.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),u.jsx("button",{className:`btn btn-icon ${N?"":"opacity-50"}`,title:N?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:E,"aria-pressed":N,"aria-label":"Toggle right panel",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),u.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),!n&&ve&&u.jsx("button",{className:`btn btn-icon ${$?"btn-active":""}`,"aria-label":$?"Close search":"Open search",title:$?"Close search":"Search",onClick:()=>J(F=>!F),children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[u.jsx("circle",{cx:"11",cy:"11",r:"7"}),u.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),!n&&!ve?u.jsx("div",{className:"toolbar-search w-[240px]",children:u.jsx("input",{ref:K,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:F=>t(F.target.value),className:"toolbar-search-input input h-8 w-full focus:w-full transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}):n?u.jsx("div",{className:"toolbar-search w-[240px]","aria-hidden":"true"}):null]}),!n&&ve&&$&&u.jsx("div",{className:"toolbar-search-row",children:u.jsx("input",{ref:K,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:F=>t(F.target.value),className:"toolbar-search-input-mobile h-9 w-full rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}),mr&&u.jsx("div",{className:"mobile-drawer",children:u.jsxs("div",{className:"mobile-drawer-row",children:[u.jsxs("div",{className:"mobile-pill-group",children:[u.jsx("button",{className:`mobile-pill ${h==="grid"?"is-active":""}`,onClick:()=>p==null?void 0:p("grid"),"aria-pressed":h==="grid",children:"Grid"}),u.jsx("button",{className:`mobile-pill ${h==="adaptive"?"is-active":""}`,onClick:()=>p==null?void 0:p("adaptive"),"aria-pressed":h==="adaptive",children:"Masonry"})]}),u.jsx(zf,{value:Me,onChange:F=>d==null?void 0:d(Df(F,ne)),options:pt,"aria-label":"Sort",triggerClassName:"mobile-pill mobile-pill-dropdown",panelClassName:"mobile-drawer-panel"}),u.jsx("button",{className:"mobile-pill mobile-pill-icon",onClick:In,title:fe?"Shuffle":`Sort ${ae==="desc"?"descending":"ascending"}`,"aria-label":fe?"Shuffle":"Toggle sort direction",children:fe?u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),u.jsx("path",{d:"M21 3v5h-5"})]}):ae==="desc"?u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 5v14"}),u.jsx("path",{d:"M19 12l-7 7-7-7"})]}):u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 19V5"}),u.jsx("path",{d:"M5 12l7-7 7 7"})]})})]})})]})}function ax(e,t){if(typeof e!="number")return null;const n=e.toLocaleString();if(typeof t!="number")return`${n} items`;const r=t.toLocaleString();return t===e?`${n} items`:`${n} / ${r} items`}function ux(e,t){return typeof e=="number"?e:t>0?1:0}function Df(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}class ur extends Error{constructor(n,r,s,i){super(r);pn(this,"status");pn(this,"url");pn(this,"body");this.name="FetchError",this.status=n,this.url=s,this.body=i}}function cx(e){const t=e.trim();return t.startsWith("{")||t.startsWith("[")}function rg(e,t,n){if(t&&typeof t=="object"){const r=t,s=typeof r.error=="string"?r.error:null,i=typeof r.message=="string"?r.message:null;if(s&&i)return`${s}: ${i}`;if(s)return s;if(i)return i}return typeof t=="string"&&t?t:`HTTP ${e} for ${n}`}function ot(e,t={}){const{timeoutMs:n,...r}=t,s=new AbortController;let i;return n&&(i=window.setTimeout(()=>s.abort(),n)),{promise:fetch(e,{...r,signal:s.signal}).then(async l=>{let a=null;const c=await l.text().catch(()=>"");if(c)if((l.headers.get("content-type")||"").includes("application/json")||cx(c))try{a=JSON.parse(c)}catch{a=c}else a=c;if(!l.ok)throw new ur(l.status,rg(l.status,a,e),e,a);return a}).finally(()=>{i&&window.clearTimeout(i)}),abort:()=>s.abort()}}function go(e,t={}){const{timeoutMs:n,...r}=t,s=new AbortController;let i;return n&&(i=window.setTimeout(()=>s.abort(),n)),{promise:fetch(e,{...r,signal:s.signal}).then(async l=>{if(!l.ok){const a=await l.text().catch(()=>""),c=a||null;throw new ur(l.status,rg(l.status,c,e),e,c)}return l.blob()}).finally(()=>{i&&window.clearTimeout(i)}),abort:()=>s.abort()}}class sg{constructor(t){pn(this,"store",new Map);pn(this,"inflight",new Map);pn(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,c=l.then(f=>(this.set(t,f),f)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:c,abort:a}),c}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Xr=new sg(60*1024*1024),_u=new sg(20*1024*1024),va={};function dx(){const e=va==null?void 0:va.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const ze=dx();const fx=40*1024*1024,Af="lenslet.client_id",ig="lenslet.last_event_id",hx=1e3,px=3e4,mx=5;let Xs=null,Po=null,$f=0,gs=null,vs=0,Pl=!0,fl=!1;function og(){return typeof window<"u"&&typeof EventSource<"u"}function Io(){if(Xs)return Xs;try{const e=window.localStorage.getItem(Af);if(e)return Xs=e,e;const t=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`client_${Math.random().toString(36).slice(2,10)}_${Date.now()}`;return window.localStorage.setItem(Af,t),Xs=t,t}catch{const e=`client_${Math.random().toString(36).slice(2,10)}_${Date.now()}`;return Xs=e,e}}function Ii(e="lenslet"){$f+=1;const t=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`nonce_${Math.random().toString(36).slice(2,10)}_${Date.now()}_${$f}`;return`${e}:${Io()}:${t}`}function gx(){if(Po!=null)return Po;if(typeof window>"u")return null;try{const e=window.localStorage.getItem(ig);if(!e)return null;const t=Number(e);return!Number.isFinite(t)||t<=0?null:(Po=t,t)}catch{return null}}function vx(e){if(!(!Number.isFinite(e)||e<=0)&&(Po=e,!(typeof window>"u")))try{window.localStorage.setItem(ig,String(e))}catch{}}function yx(){if(typeof window>"u")return`${ze}/events`;const e=new URL(`${ze}/events`,window.location.origin),t=gx();return t!=null&&Number.isFinite(t)&&e.searchParams.set("last_event_id",String(t)),e.toString()}function xx(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}let Ht=null,lg="idle";const Ou=new Set,Fu=new Set,zu=new Set;function ys(e){lg=e;for(const t of Fu)t(e)}function Kc(e){if(fl!==e){fl=e;for(const t of zu)t(e)}}function Yc(){gs!=null&&(window.clearTimeout(gs),gs=null)}function wx(){vs=0,Yc()}function Sx(){if(!Pl||gs!=null)return;vs+=1;const e=Math.min(hx*Math.pow(2,vs-1),px);vs>=mx?(ys("offline"),Kc(!0)):ys("reconnecting"),gs=window.setTimeout(()=>{gs=null,ag()},e)}function ag(){if(!Pl||!og()||(Ht&&Ht.readyState===EventSource.CLOSED&&(Ht.close(),Ht=null),Ht))return;vs>0?ys("reconnecting"):ys("connecting");const e=new EventSource(yx());Ht=e;const t=n=>r=>{const s=xx(r.data);if(!s)return;const i=r.lastEventId?Number(r.lastEventId):null,o=i!=null&&Number.isFinite(i)?i:null;o!=null&&vx(o);for(const l of Ou)l({type:n,id:o,data:s})};e.addEventListener("item-updated",t("item-updated")),e.addEventListener("metrics-updated",t("metrics-updated")),e.addEventListener("presence",t("presence")),e.onopen=()=>{wx(),Kc(!1),ys("live")},e.onerror=()=>{Ht===e&&(e.close(),Ht=null,Sx())}}function kx(){Pl=!0,og()&&(Yc(),ag())}function Cx(){Pl=!1,Yc(),vs=0,Ht&&(Ht.close(),Ht=null),Kc(!1),ys("offline")}function bx(e){return Ou.add(e),()=>{Ou.delete(e)}}function Ex(e){return Fu.add(e),e(lg),()=>{Fu.delete(e)}}function Nx(e){return zu.add(e),e(fl),()=>{zu.delete(e)}}function jx(){return fl}const me={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),ot(`${ze}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),ot(`${ze}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return ot(`${ze}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>ot(`${ze}/item?path=${encodeURIComponent(e)}`).promise,patchSidecar:(e,t,n)=>{const s={"Content-Type":"application/json","Idempotency-Key":(n==null?void 0:n.idempotencyKey)??Ii("patch"),"x-client-id":Io(),"x-updated-by":"web"};return(n==null?void 0:n.ifMatch)!=null&&(s["If-Match"]=String(n.ifMatch)),ot(`${ze}/item?path=${encodeURIComponent(e)}`,{method:"PATCH",headers:s,body:JSON.stringify(t)}).promise},getMetadata:e=>ot(`${ze}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>ot(`${ze}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json","x-client-id":Io(),"x-updated-by":"web"},body:JSON.stringify(t)}).promise,getHealth:()=>ot(`${ze}/health`).promise,postPresence:(e,t)=>ot(`${ze}/presence`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gallery_id:e,client_id:t??Io()})}).promise,getThumb:e=>_u.getOrFetch(e,()=>go(`${ze}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{_u.prefetch(e,()=>go(`${ze}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Xr.getOrFetch(e,()=>go(`${ze}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Xr.has(e)||Xr.isInflight(e)))try{const t=await go(`${ze}/file?path=${encodeURIComponent(e)}`).promise;t.size<=fx&&Xr.set(e,t)}catch{}},cancelPrefetch:e=>{Xr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),ot(`${ze}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),ot(`${ze}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>ot(`${ze}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),ot(`${ze}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>ot(`${ze}/views`).promise,saveViews:e=>ot(`${ze}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise};class Mx{constructor(t=400){pn(this,"cache",new Map);pn(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const ya=new Mx(400);function Rx({path:e,name:t,onClick:n,selected:r,highlighted:s,displayW:i,displayH:o,ioRoot:l,isScrolling:a,priority:c}){const f=g.useRef(null),[d,v]=g.useState(()=>ya.get(e)??null),[k,x]=g.useState(!1),[b,P]=g.useState(()=>!!d);return g.useEffect(()=>{const y=f.current;if(!y)return;const m=new IntersectionObserver(h=>{for(const p of h)p.target===y&&x(p.isIntersecting||p.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return m.observe(y),()=>{m.unobserve(y),m.disconnect()}},[l]),g.useEffect(()=>{if(d||!(k&&!a||c))return;let y=!0;return me.getThumb(e).then(m=>{if(!y)return;const h=URL.createObjectURL(m);ya.set(e,h),v(h)}).catch(()=>{}),()=>{y=!1}},[e,d,k,a,c]),g.useEffect(()=>{var m;if(!d){P(!1);return}const y=(m=f.current)==null?void 0:m.querySelector("img");y&&y.complete&&y.naturalWidth>0?P(!0):P(!1)},[d]),g.useEffect(()=>{v(ya.get(e)??null)},[e]),u.jsx("div",{ref:f,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} ${s?"ring-2 ring-accent/60 animate-pulse":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?u.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${b?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>P(!0),width:i?Math.round(i):void 0,height:o?Math.round(o):void 0}):null})}function Gr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,c;let f;n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now());const d=e();if(!(d.length!==r.length||d.some((x,b)=>r[b]!==x)))return s;r=d;let k;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(k=Date.now()),s=t(...d),n.key&&((c=n.debug)!=null&&c.call(n))){const x=Math.round((Date.now()-f)*100)/100,b=Math.round((Date.now()-k)*100)/100,P=b/16,y=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c ${y(b,5)} /${y(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*P,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function Uf(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Lx=(e,t)=>Math.abs(e-t)<1.01,Tx=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Bf=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Px=e=>e,Ix=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},_x=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Bf(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(Bf(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Wf={passive:!0},Hf=typeof window>"u"?!0:"onscrollend"in window,Ox=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&Hf?()=>{}:Tx(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=f=>()=>{const{horizontal:d,isRtl:v}=e.options;s=d?n.scrollLeft*(v&&-1||1):n.scrollTop,i(),t(s,f)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,Wf);const c=e.options.useScrollendEvent&&Hf;return c&&n.addEventListener("scrollend",a,Wf),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",a)}},Fx=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},zx=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Dx{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Px,rangeExtractor:Ix,onChange:()=>{},measureElement:Fx,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Gr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Gr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Gr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const f=this.measurementsCache.slice(0,c),d=new Array(l).fill(void 0);for(let v=0;v<c;v++){const k=f[v];k&&(d[k.lane]=v)}for(let v=c;v<n;v++){const k=i(v),x=this.laneAssignments.get(v);let b,P;if(x!==void 0&&this.options.lanes>1){b=x;const p=d[b],C=p!==void 0?f[p]:void 0;P=C?C.end+this.options.gap:r+s}else{const p=this.options.lanes===1?f[v-1]:this.getFurthestMeasurement(f,v);P=p?p.end+this.options.gap:r+s,b=p?p.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,b)}const y=a.get(k),m=typeof y=="number"?y:this.options.estimateSize(v),h=P+m;f[v]={index:v,start:P,size:m,end:h,key:k,lane:b},d[b]=v}return this.measurementsCache=f,f},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Gr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?Ax({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Gr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Gr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Uf(r[ug(0,r.length-1,s=>Uf(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=c=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(n,c);if(!f){console.warn("Failed to get offset for index:",n);return}const[d,v]=f;this._scrollToOffset(d,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const k=this.getScrollOffset(),x=this.getOffsetForIndex(n,v);if(!x){console.warn("Failed to get offset for index:",n);return}Lx(x[0],k)||a(v)})},a=c=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(c)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const ug=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Ax({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=ug(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(f=>f<n+t);){const f=e[l];a[f.lane]=f.end,l++}const c=Array(r).fill(n+t);for(;o>=0&&c.some(f=>f>=n);){const f=e[o];c[f.lane]=f.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const Qf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function $x(e){const t=g.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Uc.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=g.useState(()=>new Dx(n));return r.setOptions(n),Qf(()=>r._didMount(),[]),Qf(()=>r._willUpdate()),r}function Ux(e){return $x({observeElementRect:_x,observeElementOffset:Ox,scrollToFn:zx,...e})}function Bx({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s}){const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}}const Wx=1.333;function Hx({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;const a=(c,f)=>({index:i.length,height:f+s+r,imageH:f,items:c.map(d=>({item:d.item,displayW:d.aspect*f,displayH:f,originalIndex:d.originalIndex}))});for(let c=0;c<e.length;c++){const f=e[c],d=f.w>0&&f.h>0?f.w/f.h:Wx;o.push({item:f,aspect:d,originalIndex:c}),l+=d;const v=(o.length-1)*r;if(l*n+v>=t){const x=(t-v)/l;i.push(a(o,x)),o=[],l=0}}return o.length>0&&i.push(a(o,n)),i}function Qx(e,t,n){return{mode:"adaptive",rows:Hx({items:t,containerWidth:e,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})}}function Vx(e,t,n){const{columns:r,cellW:s,mediaH:i,rowH:o}=Bx({containerW:e,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),l=Math.ceil(t.length/Math.max(1,r));return{mode:"grid",columns:r,cellW:s,mediaH:i,rowH:o,rowCount:l}}function Kx(e,t,n){const[r,s]=g.useState(0);g.useLayoutEffect(()=>{const a=e.current;if(!a)return;const c=()=>{const d=getComputedStyle(a),v=a.clientWidth-parseFloat(d.paddingLeft)-parseFloat(d.paddingRight);s(v)},f=new ResizeObserver(c);return f.observe(a),c(),()=>f.disconnect()},[]);const i=g.useMemo(()=>n.viewMode==="adaptive"?Qx(r,t,n):Vx(r,t,n),[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=Ux({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return g.useEffect(()=>{o.measure()},[i,o]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function Yx(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}const mn=12,Gx=44,qx={w:4,h:3},Xx=350,Jx=120;function Zx({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,recentlyUpdated:l,suppressSelectionHighlight:a=!1,viewMode:c="grid",targetCellSize:f=220,scrollRef:d,hideScrollbar:v=!1}){const[k,x]=g.useState(null),[b,P]=g.useState(null),[y,m]=g.useState(!1),[h,p]=g.useState(null),[C,M]=g.useState(null),R=g.useRef(null),N=g.useRef(null),L=g.useRef(null),E=d??L,I=g.useRef(null),X=f,{width:re,layout:V,rowVirtualizer:we,virtualRows:Ae}=Kx(E,e,{gap:mn,targetCell:X,aspect:qx,captionH:Gx,viewMode:c}),ve=g.useMemo(()=>{const A=new Map;for(let Z=0;Z<e.length;Z++)A.set(e[Z].path,Z);return A},[e]),O=g.useMemo(()=>{if(V.mode!=="adaptive")return null;const A=new Map;return V.rows.forEach((Z,F)=>{let T=0;Z.items.forEach((D,q)=>{const U=T+D.displayW/2;A.set(D.item.path,{row:F,center:U,order:q}),T+=D.displayW+mn})}),A},[V]);g.useEffect(()=>{if(!t.length)return;const A=t[0];h!==A&&p(A)},[t,h]);const $=g.useMemo(()=>{if(V.mode!=="adaptive")return null;let A=0;return V.rows.map(Z=>{const F=A;return A+=Z.height,{start:F,height:Z.height}})},[V]),J=g.useRef(null),de=(A,Z)=>{try{if(J.current!=null){try{cancelAnimationFrame(J.current)}catch{}J.current=null}const F=A.scrollTop,T=Z-F;if(Math.abs(T)<1){A.scrollTop=Z;return}const D=140,q=performance.now(),U=pe=>1-Math.pow(1-pe,3),ie=pe=>{const Ie=Math.min(1,(pe-q)/D),Se=U(Ie);A.scrollTop=F+T*Se,Ie<1?J.current=requestAnimationFrame(ie):J.current=null};J.current=requestAnimationFrame(ie)}catch{A.scrollTop=Z}},[K,ne]=g.useState(!1);g.useEffect(()=>{const A=E.current;if(!A)return;let Z=0;const F=()=>{ne(!0),window.clearTimeout(Z),Z=window.setTimeout(()=>ne(!1),Jx)};return A.addEventListener("scroll",F,{passive:!0}),()=>A.removeEventListener("scroll",F)},[]);const ae=()=>{N.current!=null&&(window.clearTimeout(N.current),N.current=null)},fe=()=>{if(ae(),m(!1),x(null),R.current){try{URL.revokeObjectURL(R.current)}catch{}R.current=null}P(null)},Pe=A=>{K||(ae(),x(A),m(!1),N.current=window.setTimeout(async()=>{N.current=null;try{const Z=await me.getFile(A),F=URL.createObjectURL(Z);if(R.current)try{URL.revokeObjectURL(R.current)}catch{}R.current=F,P(F),m(!0)}catch{}},Xx))},je=V.mode==="grid"?V.columns:Math.max(1,Math.floor(re/(X+mn))),Jt=(A,Z)=>{if(V.mode!=="adaptive")return null;const F=V.rows[A];if(!F)return null;let T=0,D=null;for(const q of F.items){const U=T+q.displayW/2,ie=Math.abs(U-Z);(!D||ie<D.dist)&&(D={path:q.item.path,dist:ie}),T+=q.displayW+mn}return D?D.path:null},Me=(A,Z)=>{var Se,st,Ee,mt;if(!e.length)return null;const F=A??e[0].path;if(V.mode!=="adaptive"){const oe=Yx(e,je,F,Z);return oe==="open"||oe==null?oe:((Se=e[oe])==null?void 0:Se.path)??null}const T=O==null?void 0:O.get(F);if(!T)return F;const D=ve.get(F)??0,q=Z.key;if(q==="Enter")return"open";if(q==="ArrowRight"||q==="d")return((st=e[Math.min(e.length-1,D+1)])==null?void 0:st.path)??F;if(q==="ArrowLeft"||q==="a")return((Ee=e[Math.max(0,D-1)])==null?void 0:Ee.path)??F;const U=q==="ArrowDown"||q==="s"?1:q==="ArrowUp"||q==="w"?-1:0;if(U===0)return null;const ie=T.row+U;if(ie<0||ie>=(((mt=V.rows)==null?void 0:mt.length)??0))return F;const pe=T.center;return Jt(ie,pe)??F},pt=A=>{var Z;try{(Z=document.getElementById(`cell-${encodeURIComponent(A)}`))==null||Z.focus()}catch{}},mr=A=>{try{me.prefetchFile(A),me.prefetchThumb(A)}catch{}},gr=(A,Z)=>{p(A),M(A);const F=!!Z.shiftKey,T=!!(Z.ctrlKey||Z.metaKey);if(F){const D=I.current??h??t[0]??A,q=ve.get(D)??e.findIndex(ie=>ie.path===D),U=ve.get(A)??e.findIndex(ie=>ie.path===A);if(q!==-1&&U!==-1){const ie=Math.min(q,U),pe=Math.max(q,U),Ie=e.slice(ie,pe+1).map(Se=>Se.path);if(T){const Se=new Set(t);for(const st of Ie)Se.add(st);r(Array.from(Se))}else r(Ie)}else r([A])}else if(T){const D=new Set(t);D.has(A)?D.delete(A):D.add(A),r(Array.from(D)),I.current=A}else r([A]),I.current=A;K||mr(A),pt(A)},In=(A,Z)=>{var F,T;try{const D=Zt.has(A)&&t.length>0?t:[A];(F=Z.dataTransfer)==null||F.setData("application/x-lenslet-paths",JSON.stringify(D)),Z.dataTransfer&&(Z.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const U=Z.currentTarget.querySelector(".cell-content img"),ie=document.createElement("div");ie.className="drag-ghost";const pe=document.createElement("img");pe.draggable=!1,pe.alt="drag",U&&U.src&&(pe.src=U.src),ie.appendChild(pe),document.body.appendChild(ie);const Ie=ie.getBoundingClientRect().width||150;(T=Z.dataTransfer)==null||T.setDragImage(ie,Math.round(Ie/2),0);const Se=()=>{try{ie.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Se),window.removeEventListener("pointerup",Se),document.removeEventListener("visibilitychange",Se)};window.addEventListener("dragend",Se),window.addEventListener("pointerup",Se),document.addEventListener("visibilitychange",Se)}catch{}};g.useEffect(()=>{const A=E.current;if(!A)return;const Z=F=>{var Se,st,Ee;const T=Me(C,F);if(T==null)return;if(F.preventDefault(),T==="open"){C&&s(C);return}const D=e.find(mt=>mt.path===T);if(!D)return;M(D.path),p(D.path),r([D.path]);try{I.current=D.path}catch{}const q=V.mode==="grid"?Math.floor((ve.get(D.path)??0)/Math.max(1,V.columns)):((Se=O==null?void 0:O.get(D.path))==null?void 0:Se.row)??0,U=A.scrollTop,ie=U+A.clientHeight,pe=V.mode==="adaptive"?((st=$==null?void 0:$[q])==null?void 0:st.start)??0:q*V.rowH,Ie=V.mode==="adaptive"?pe+(((Ee=$==null?void 0:$[q])==null?void 0:Ee.height)??0):pe+V.rowH;(pe<U||Ie>ie)&&de(A,pe),pt(D.path)};return A.addEventListener("keydown",Z),()=>{A.removeEventListener("keydown",Z)}},[e,C,je,s,V,O,$,ve]),g.useLayoutEffect(()=>{var q;const A=E.current;if(!A||!n||!t||t.length===0)return;const Z=t[0],F=ve.get(Z);if(F==null||F<0)return;let T=0;if(V.mode==="grid")T=Math.floor(F/Math.max(1,V.columns));else{let U=0,ie=V.rows.length-1;for(;U<=ie;){const pe=U+ie>>1,Ie=V.rows[pe];if(F>=Ie.items[0].originalIndex&&F<=Ie.items[Ie.items.length-1].originalIndex){T=pe;break}F<Ie.items[0].originalIndex?ie=pe-1:U=pe+1}}const D=V.mode==="adaptive"?((q=$==null?void 0:$[T])==null?void 0:q.start)??0:T*V.rowH;try{A.scrollTop=D}catch{}},[n,V,$]);const Zt=g.useMemo(()=>new Set(t),[t]),en=!!(k&&b&&y);g.useEffect(()=>{var A;(A=E.current)==null||A.focus()},[]),g.useEffect(()=>{var A;if(a){try{(A=E.current)==null||A.blur()}catch{}try{M(null)}catch{}}},[a]);const $t=C?`cell-${encodeURIComponent(C)}`:void 0;return u.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none ${v?"scrollbar-hidden":"scrollbar-thin"} ${en?"cursor-zoom-in":""}`,ref:E,tabIndex:0,"aria-activedescendant":$t,onMouseDown:()=>{var A;return(A=E.current)==null?void 0:A.focus()},style:{"--gap":`${mn}px`},children:u.jsxs("div",{className:"relative w-full",style:{height:we.getTotalSize()},children:[Ae.map(A=>{var q;let Z=[],F={},T="";if(V.mode==="adaptive"){const U=V.rows[A.index];if(!U)return null;Z=U.items,F={height:U.height,transform:`translate3d(0, ${A.start}px, 0)`,display:"flex",gap:mn,paddingBottom:mn},T="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const U=A.index*V.columns;Z=e.slice(U,U+V.columns).map(pe=>({item:pe,displayW:V.cellW,displayH:V.mediaH})),F={transform:`translate3d(0, ${A.start}px, 0)`,gridTemplateColumns:`repeat(${V.columns}, minmax(0, 1fr))`,gap:mn,paddingBottom:mn},T="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const D=A.index===((q=Ae[0])==null?void 0:q.index);try{if(!K)for(const{item:U}of Z)try{me.prefetchThumb(U.path)}catch{}}catch{}return u.jsx("div",{className:T,role:"row",style:F,children:Z.map(({item:U,displayW:ie,displayH:pe})=>{const Ie=!a&&(h===U.path||Zt.has(U.path)),Se=(l==null?void 0:l.has(U.path))??!1,st=V.mode==="adaptive"?{width:ie}:{},Ee=V.mode==="adaptive"?{height:pe}:{},mt=V.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return u.jsxs("div",{id:`cell-${encodeURIComponent(U.path)}`,className:`relative min-w-0 ${Ie?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Ie,tabIndex:C===U.path?0:-1,onFocus:()=>M(U.path),draggable:!0,style:st,onDragStart:oe=>In(U.path,oe),onDragEnd:()=>{},onContextMenu:oe=>{oe.preventDefault(),oe.stopPropagation(),i&&i(oe,U.path)},children:[u.jsxs("div",{className:mt,style:Ee,onMouseEnter:()=>{try{me.prefetchFile(U.path)}catch{}},onDoubleClick:()=>s(U.path),onMouseLeave:fe,children:[u.jsx("div",{className:"cell-content absolute inset-0",children:u.jsx(Rx,{path:U.path,name:U.name,selected:Ie,highlighted:Se,displayW:ie,displayH:pe,ioRoot:E.current,isScrolling:K,priority:D,onClick:oe=>gr(U.path,oe)})}),u.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:()=>Pe(U.path),onMouseLeave:fe,children:u.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:u.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[u.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),u.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),u.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[u.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:U.name,children:(()=>{const oe=(o||"").trim();if(!oe)return U.name;const _n=U.name,Kr=_n.toLowerCase().indexOf(oe.toLowerCase());if(Kr===-1)return U.name;const ed=_n.slice(0,Kr),hn=_n.slice(Kr,Kr+oe.length),Vi=_n.slice(Kr+oe.length);return u.jsxs(u.Fragment,{children:[ed,u.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:hn}),Vi]})})()}),u.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[U.w,"  ",U.h]})]})]},U.path)})},A.key)}),k&&b&&y&&Uc.createPortal(u.jsx("div",{className:"toolbar-offset fixed inset-0 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:u.jsx("img",{src:b,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${c}-${je}`)})}const ew=48,tw=[.1,.24,.5,.74,.9];function nw({items:e,metricKey:t,scrollRef:n,sortDir:r}){const{orderedValues:s,numericValues:i}=g.useMemo(()=>{var E;const N=[],L=[];for(const I of e){const X=(E=I.metrics)==null?void 0:E[t],re=X==null||Number.isNaN(X)?null:X;N.push(re),re!=null&&L.push(re)}return{orderedValues:N,numericValues:L}},[e,t]),o=g.useMemo(()=>rw(i,ew),[i]),l=g.useMemo(()=>sw(i,tw),[i]),[a,c]=g.useState(0),[f,d]=g.useState(null),[v,k]=g.useState(!1),x=g.useRef(null);if(g.useEffect(()=>{const N=n.current;if(!N)return;const L=()=>{const E=Math.max(1,N.scrollHeight-N.clientHeight),I=br(E>0?N.scrollTop/E:0);c(I)};return L(),N.addEventListener("scroll",L,{passive:!0}),window.addEventListener("resize",L),()=>{N.removeEventListener("scroll",L),window.removeEventListener("resize",L)}},[n,e.length]),g.useEffect(()=>{d(null)},[t,e.length]),!o)return null;const b={min:o.min,max:o.max},P=f!=null?Kf(f):null,y=Kf(a),m=r==="desc",h=g.useMemo(()=>f==null?null:lw(s,f),[s,f]);function p(N){d(br(N))}function C(){d(null)}function M(N){const L=n.current;if(!L)return;const E=Math.max(0,L.scrollHeight-L.clientHeight);L.scrollTop=br(N)*E}function R(N){var E;const L=(E=x.current)==null?void 0:E.getBoundingClientRect();return L?br((N.clientY-L.top)/L.height):null}return u.jsxs("div",{className:"absolute right-3 top-3 bottom-3 w-3 flex items-stretch pointer-events-auto",children:[u.jsxs("svg",{ref:x,viewBox:"0 0 10 100",preserveAspectRatio:"none",className:"w-full h-full rounded bg-surface-inset border border-border/60 cursor-ns-resize",onPointerDown:N=>{var E;N.preventDefault();const L=R(N);L!=null&&(k(!0),p(L),M(L),(E=x.current)==null||E.setPointerCapture(N.pointerId))},onPointerMove:N=>{const L=R(N);if(L==null){v||C();return}p(L),v&&M(L)},onPointerUp:N=>{var L;k(!1),(L=x.current)==null||L.releasePointerCapture(N.pointerId)},onPointerLeave:()=>{v||C()},children:[iw(o.bins,"#2e3a4b",{flip:m}),ow(l,b,{flip:m}),Vf(y,{color:"var(--accent)",strokeWidth:.8}),P!=null&&Vf(P,{color:"rgba(255,255,255,0.75)",strokeWidth:.6,dashed:!0})]}),h!=null&&f!=null&&u.jsx("div",{className:"pointer-events-none absolute right-full mr-2 px-1.5 py-0.5 rounded border border-border bg-surface text-[10px] text-text shadow",style:{top:`calc(${(f*100).toFixed(2)}% - 8px)`},children:uw(h)})]})}function rw(e,t){if(!e.length)return null;const n=Math.min(...e);let r=Math.max(...e);n===r&&(r=n+1);const s=new Array(t).fill(0),i=t/(r-n);for(const o of e){const l=Math.max(0,Math.min(t-1,Math.floor((o-n)*i)));s[l]+=1}return{bins:s,min:n,max:r}}function sw(e,t){if(!e.length)return[];const n=[...e].sort((s,i)=>s-i),r=n.length-1;return t.map(s=>{const i=r*s,o=Math.floor(i),l=Math.ceil(i);if(o===l)return n[o];const a=i-o;return n[o]+(n[l]-n[o])*a})}function iw(e,t,n){const r=Math.max(1,...e),s=100/e.length,i=(n==null?void 0:n.flip)??!1;return e.map((o,l)=>{const a=Math.max(.8,o/r*10),c=(i?e.length-1-l:l)*s;return u.jsx("rect",{x:10-a,y:c,width:a,height:Math.max(.2,s-.2),fill:t,opacity:.9},`sb-${l}`)})}function ow(e,t,n){const r=(n==null?void 0:n.flip)??!1;return e.map((s,i)=>{const o=aw(s,t,r),l=i===2;return u.jsx("line",{x1:0,y1:o,x2:10,y2:o,stroke:"rgba(255,255,255,0.45)",strokeWidth:l?.8:.5,opacity:l?.9:.6,vectorEffect:"non-scaling-stroke"},`qt-${i}-${s}`)})}function Vf(e,t){return u.jsx("line",{x1:0,y1:e,x2:10,y2:e,stroke:t.color,strokeWidth:t.strokeWidth??.6,strokeDasharray:t.dashed?"1.2 1.2":void 0,opacity:.95,vectorEffect:"non-scaling-stroke"})}function lw(e,t){if(!e.length)return null;const n=Math.round(br(t)*(e.length-1)),r=e[n];if(r!=null)return r;for(let s=1;s<e.length;s++){const i=n-s;if(i>=0&&e[i]!=null)return e[i];const o=n+s;if(o<e.length&&e[o]!=null)return e[o]}return null}function aw(e,t,n){const r=t.max-t.min;if(r===0)return 0;const s=br((e-t.min)/r);return(n?1-s:s)*100}function Kf(e){return br(e)*100}function br(e){return e<0?0:e>1?1:e}function uw(e){if(e==null||Number.isNaN(e))return"-";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Du(e,t){const[n,r]=g.useState(null),s=g.useRef(null);return g.useEffect(()=>{if(!e){if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}r(null);return}let i=!0;return e().then(o=>{if(!i)return;const l=URL.createObjectURL(o);if(s.current)try{URL.revokeObjectURL(s.current)}catch{}s.current=l,r(l)}).catch(()=>{}),()=>{i=!1}},t),g.useEffect(()=>()=>{if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}},[]),n}function cw(){const[e,t]=g.useState(1),[n,r]=g.useState(0),[s,i]=g.useState(0),[o,l]=g.useState(1),[a,c]=g.useState(!1),[f,d]=g.useState(!1),[v,k]=g.useState(!1),x=g.useRef(null),b=g.useRef(null),P=()=>{const h=x.current,p=b.current;if(!h||!p||!p.naturalWidth||!p.naturalHeight)return;const C=h.getBoundingClientRect(),M=C.width/p.naturalWidth,R=C.height/p.naturalHeight,N=Math.min(1,Math.min(M,R));l(N);const L=p.naturalWidth*N,E=p.naturalHeight*N;r((C.width-L)/2),i((C.height-E)/2)};return g.useEffect(()=>{const h=x.current;if(!h)return;const p=new ResizeObserver(()=>{try{requestAnimationFrame(()=>P())}catch{P()}});return p.observe(h),()=>p.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:c,dragging:f,setDragging:d,visible:v,setVisible:k,containerRef:x,imgRef:b,fitAndCenter:P,handleWheel:h=>{h.preventDefault();const p=h.deltaY>0?-1:1,C=1.2,M=.05,R=8,N=x.current;if(!N)return;const L=N.getBoundingClientRect(),E=h.clientX-L.left,I=h.clientY-L.top;t(X=>{const re=Math.min(R,Math.max(M,X*Math.pow(C,p))),V=re/X;return r(we=>E-V*(E-we)),i(we=>I-V*(I-we)),Number(re.toFixed(4))})},handleMouseDown:h=>{const p=x.current,C=b.current;if(!p||!C||h.target!==C)return;const R=p.getBoundingClientRect();if(h.clientX<R.left||h.clientX>R.right||h.clientY<R.top||h.clientY>R.bottom)return;h.preventDefault(),h.stopPropagation(),d(!0);const N=h.clientX,L=h.clientY,E=n,I=s,X=V=>{r(E+(V.clientX-N)),i(I+(V.clientY-L))},re=()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",re),d(!1)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",re)}}}function dw({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const{scale:o,setScale:l,tx:a,setTx:c,ty:f,setTy:d,base:v,ready:k,setReady:x,dragging:b,visible:P,setVisible:y,containerRef:m,imgRef:h,fitAndCenter:p,handleWheel:C,handleMouseDown:M}=cw(),R=Du(()=>me.getFile(e),[e]),N=Du(()=>me.getThumb(e),[e]),L=g.useCallback(()=>{y(!1),window.setTimeout(t,110)},[t,y]);return g.useEffect(()=>{requestAnimationFrame(()=>{var E;y(!0),(E=m.current)==null||E.focus()})},[e]),g.useEffect(()=>{const E=I=>{I.key==="Escape"?L():(I.key==="ArrowRight"||I.key==="d")&&n?n(1):(I.key==="ArrowLeft"||I.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,n]),g.useEffect(()=>{x(!1)},[R]),g.useEffect(()=>{r&&r(v*o*100)},[v,o,r]),g.useEffect(()=>{if(s==null)return;const E=m.current;if(!E){i&&i();return}const I=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,v))),X=E.getBoundingClientRect(),re=X.width/2,V=X.height/2;l(we=>{const Ae=I/we;return c(ve=>re-Ae*(re-ve)),d(ve=>V-Ae*(V-ve)),Number(I.toFixed(4))}),i&&i()},[s,v,i]),u.jsxs("div",{ref:m,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`toolbar-offset absolute inset-0 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${b?"cursor-grabbing select-none":""} ${P?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:L,onWheel:C,onMouseDown:M,onKeyDown:E=>{E.key==="Tab"&&E.preventDefault()},children:[u.jsxs("button",{"aria-label":"Close",onClick:E=>{E.stopPropagation(),L()},className:"btn btn-sm absolute top-3 right-3 z-10",title:"Close (Esc)",children:[u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[u.jsx("path",{d:"M18 6 6 18"}),u.jsx("path",{d:"M6 6l12 12"})]}),"Close"]}),N&&u.jsx("img",{src:N,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:E=>E.preventDefault(),style:{transform:`translate(${a}px, ${f}px) scale(${v})`,transformOrigin:"0 0",opacity:k?0:.5,filter:"blur(0.25px)"}}),R&&u.jsx("img",{ref:h,src:R,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:E=>{E.preventDefault()},onLoad:E=>{p(),l(1);try{requestAnimationFrame(()=>x(!0))}catch{x(!0)}},onClick:E=>E.stopPropagation(),style:{transform:`translate(${a}px, ${f}px) scale(${v*o})`,transformOrigin:"0 0",opacity:k?.99:0,WebkitUserDrag:"none"}})]})}function Gc(){const[e,t]=g.useState(jx());return g.useEffect(()=>Nx(t),[]),e}const _i=e=>["item",e],fw={v:1,tags:[],notes:"",version:1,updated_at:"",updated_by:"web"},Bt=new Map,_o=new Map,fn=new Map,si=new Map,hw=12e3,Au=new Set;let qc={state:"idle"},Oi=null,$u=0;function vo(e){qc=e;for(const t of Au)t(e)}function Nn(){const e=fn.size>0,t=Bt.size+_o.size+$u;if(e){vo({state:"error",message:"Conflict detected"});return}if(Oi){vo({state:"error",message:Oi});return}if(t>0){vo({state:"syncing"});return}vo({state:"idle"})}function hl(e){Oi=e,Nn()}function cg(){Oi&&(Oi=null,Nn())}function Yf(e){$u=Math.max(0,$u+e),Nn()}function Il(e){const t=si.get(e);if(!t||!t.size)return;const n=fn.get(e)??null;for(const r of t)r(n)}function Gf(e){return fn.get(e)??null}function _l(e){fn.delete(e)&&(Il(e),Nn())}function pw(e,t){fn.set(e,t),Il(e),Nn()}function mw(e,t){const n=si.get(e)??new Set;return n.add(t),si.set(e,n),t(fn.get(e)??null),()=>{const r=si.get(e);r&&(r.delete(t),r.size||si.delete(e))}}function gw(e){const[t,n]=g.useState(()=>e?Gf(e):null);return g.useEffect(()=>{if(!e){n(null);return}return n(Gf(e)),mw(e,n)},[e]),t}function vw(e){return Au.add(e),e(qc),()=>{Au.delete(e)}}function yw(){const[e,t]=g.useState(qc);return g.useEffect(()=>vw(t),[]),e}function Uu(e){const t={};return Object.prototype.hasOwnProperty.call(e,"star")&&(t.set_star=e.star??null),Object.prototype.hasOwnProperty.call(e,"notes")&&(t.set_notes=e.notes??""),Object.prototype.hasOwnProperty.call(e,"tags")&&(t.set_tags=Array.isArray(e.tags)?e.tags:[]),t}function Bu(e){var t,n;return e.set_star!==void 0||e.set_notes!==void 0||e.set_tags!==void 0||(((t=e.add_tags)==null?void 0:t.length)??0)>0||(((n=e.remove_tags)==null?void 0:n.length)??0)>0}function Js(e){const t=[],n=new Set;for(const r of e??[]){if(typeof r!="string")continue;const s=r.trim();!s||n.has(s)||(n.add(s),t.push(s))}return t}function xw(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}function ww(e,t){if(e.set_star!==void 0&&(t.star??null)!==e.set_star||e.set_notes!==void 0&&(t.notes??"")!==(e.set_notes??""))return!1;if(e.set_tags!==void 0){const r=Js(e.set_tags),s=Js(t.tags);return xw(r,s)}const n=Js(t.tags);for(const r of Js(e.add_tags))if(!n.includes(r))return!1;for(const r of Js(e.remove_tags))if(n.includes(r))return!1;return!0}function dg(e,t,n){if(n instanceof ur&&n.status===409){const r=n.body;if(r!=null&&r.current)return pw(e,{path:e,current:r.current,pending:t,receivedAt:new Date().toISOString()}),!0}return!1}function Sw(e,t){const n=fn.get(e);if(n){if(ww(n.pending,t)){_l(e);return}fn.set(e,{...n,current:t}),Il(e),Nn()}}function kw(e){const t=Gc();return Vc({queryKey:_i(e),queryFn:()=>me.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2,refetchInterval:t?hw:!1,refetchIntervalInBackground:t})}function Cw(e){const t=Vr();return ox({mutationFn:async({patch:n,baseVersion:r,idempotencyKey:s})=>{const i=Uu(n);if(!Bu(i))return t.getQueryData(_i(e))??fw;const o={...i,base_version:r};try{return await me.patchSidecar(e,o,{idempotencyKey:s??Ii("patch"),ifMatch:r})}catch(l){throw dg(e,i,l),l}},retry:(n,r)=>r instanceof ur&&r.status===409?!1:n<2,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onMutate:()=>{cg(),Yf(1)},onSuccess:n=>{_l(e),t.setQueryData(_i(e),n)},onError:n=>{n instanceof ur&&n.status===409||(n instanceof ur?hl(n.message):hl("Failed to save"))},onSettled:()=>{Yf(-1)}})}const bw=6;async function qf(e,t){if(!e.length)return;let n=0;const r=[],s=async()=>{for(;n<e.length;){const o=n++,l=e[o];try{await fg(l,t)}catch(a){r.push({path:l,error:a}),console.error(`[bulkUpdateSidecars] Failed for ${l}:`,a)}}},i=Array.from({length:Math.min(bw,e.length)},()=>s());if(await Promise.all(i),r.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}async function fg(e,t){const n=Bt.get(e)||{};Bt.set(e,{...n,...t}),cg(),Nn();const r=_o.get(e);if(r)return r;const s=(async()=>{try{for(;Bt.has(e);){const i=Bt.get(e);if(!i)break;const o=Uu(i);if(!Bu(o)){Bt.get(e)===i&&Bt.delete(e);continue}let l=1;try{l=(await me.getSidecar(e)).version??1}catch{l=1}const a={...o,base_version:l};try{await me.patchSidecar(e,a,{idempotencyKey:Ii("patch"),ifMatch:l}),_l(e),Bt.get(e)===i&&Bt.delete(e)}catch(c){if(dg(e,o,c)){const d=Bt.get(e);if(d&&d!==i){const v=Uu(d);if(Bu(v)){const k=fn.get(e);k&&(fn.set(e,{...k,pending:v}),Il(e))}}Bt.delete(e)}else c instanceof ur?hl(c.message):hl("Failed to save");throw c}}}finally{_o.delete(e),Nn()}})();return _o.set(e,s),Nn(),s}function xa(e){const t=["B","KB","MB","GB","TB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n+=1;return`${r.toFixed(1)} ${t[n]}`}function wa(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Ew(e,t=28){if(e.length<=t)return e;const n=Math.max(4,Math.floor((t-1)/2));return`${e.slice(0,n)}${e.slice(-n)}`}function hg(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Oo(e){if(Array.isArray(e))return e.map(Oo);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Oo(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Oo(r)}catch{return e}}return e}function Sa(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Nw(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Xf(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function jw(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=Sa(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${Sa(o)}</span>`,r=i+o.length}return n+=Sa(e.slice(r)),n}const Mw=["overview","notes","metadata","basics"],Jf="lenslet.inspector.sections",Zf="lenslet.inspector.metricsExpanded",ka=12,Rw={overview:!0,notes:!0,metadata:!0,basics:!0};function yo({title:e,open:t,onToggle:n,actions:r,children:s,contentClassName:i}){const[o,l]=g.useState(t),[a,c]=g.useState(t?"open":"closed");return g.useEffect(()=>{if(t){l(!0);const d=window.requestAnimationFrame(()=>c("open"));return()=>window.cancelAnimationFrame(d)}c("closing");const f=window.setTimeout(()=>{l(!1),c("closed")},140);return()=>window.clearTimeout(f)},[t]),u.jsxs("div",{className:"border-b border-border",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[u.jsxs("button",{type:"button",onClick:n,"aria-expanded":t,className:"flex items-center gap-2 text-xs uppercase tracking-wide text-muted hover:text-text transition-colors",children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${t?"rotate-90":""}`,"aria-hidden":"true",children:u.jsx("path",{d:"m9 18 6-6-6-6"})}),u.jsx("span",{children:e})]}),r]}),o&&u.jsx("div",{className:"inspector-section-body","data-state":a,"aria-hidden":!t,children:u.jsx("div",{className:i??"px-3 pb-3",children:s})})]})}function Lw({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s,sortSpec:i}){const o=!!e,{data:l,isLoading:a}=kw(e??""),c=Cw(e??""),f=Vr(),[d,v]=g.useState(Rw),k=g.useCallback(T=>{v(D=>({...D,[T]:!D[T]}))},[]),[x,b]=g.useState(!1),[P,y]=g.useState(""),[m,h]=g.useState(""),[p,C]=g.useState(""),[M,R]=g.useState(null),[N,L]=g.useState("idle"),[E,I]=g.useState(!1),[X,re]=g.useState(null),[V,we]=g.useState({}),ve=g.useMemo(()=>{const T=n.find(D=>D.path===e);return T&&T.star!==void 0?T.star:null},[n,e])??(l==null?void 0:l.star)??null,O=t.length>1,$=gw(O?null:e),J={tags:!!($!=null&&$.pending.set_tags),notes:($==null?void 0:$.pending.set_notes)!==void 0,star:($==null?void 0:$.pending.set_star)!==void 0},de=g.useMemo(()=>{const T=new Set(t);return n.filter(D=>T.has(D.path))},[n,t]),K=g.useMemo(()=>de.reduce((T,D)=>T+(D.size||0),0),[de]);g.useEffect(()=>{l&&(y((l.tags||[]).join(", ")),h(l.notes||"")),C(""),R(null),L("idle"),I(!1)},[l==null?void 0:l.updated_at,e]);const ne=g.useCallback(T=>{if(O&&t.length){qf(t,T);return}if(!e)return;const D=(l==null?void 0:l.version)??1;c.mutate({patch:T,baseVersion:D,idempotencyKey:Ii("patch")})},[O,t,e,l==null?void 0:l.version,c]),ae=g.useCallback(()=>{if(!$||!e)return;const T={};$.pending.set_tags!==void 0&&(T.tags=Xf(P)),$.pending.set_notes!==void 0&&(T.notes=m),$.pending.set_star!==void 0&&(T.star=ve??null);const D=$.current.version??1;c.mutate({patch:T,baseVersion:D,idempotencyKey:Ii("patch")})},[$,e,P,m,ve,c]),fe=g.useCallback(()=>{if(!$||!e)return;const T=$.current;y((T.tags||[]).join(", ")),h(T.notes||""),f.setQueryData(_i(e),T),_l(e),s==null||s([e],T.star??null)},[$,e,f,s]);g.useEffect(()=>{if(!e)return;const T=D=>{if(hg(D.target))return;const q=D.key;if(!/^[0-5]$/.test(q))return;D.preventDefault();const U=q==="0"?null:Number(q);if(O&&t.length){ne({star:U}),s==null||s(t,U);return}ne({star:U}),s==null||s([e],U)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e,O,t,ne,s]);const Pe=Du(e?()=>me.getThumb(e):null,[e]),je=e?e.split("/").pop()||e:"",Jt=g.useMemo(()=>{var D;if(je.includes("."))return je.slice(je.lastIndexOf(".")+1).toUpperCase();const T=n.find(q=>q.path===e);return(D=T==null?void 0:T.type)!=null&&D.includes("/")?T.type.split("/")[1].toUpperCase():""},[je,n,e]),Me=g.useMemo(()=>n.find(T=>T.path===e),[n,e]),pt=g.useMemo(()=>e?(Me==null?void 0:Me.source)??e:"",[Me,e]),mr=g.useCallback(async()=>{if(e){L("loading"),R(null);try{const T=await me.getMetadata(e),D=Oo(T.meta),q=JSON.stringify(D,null,2);C(q),L("loaded")}catch(T){const D=T instanceof Error?T.message:"Failed to load metadata";C(D),R(D),L("error")}}},[e]),gr=g.useCallback(()=>{var T;p&&((T=navigator.clipboard)==null||T.writeText(p).then(()=>{I(!0),setTimeout(()=>I(!1),1200)}).catch(D=>{const q=D instanceof Error?D.message:"Copy failed";R(q)}))},[p]),In=g.useMemo(()=>p?jw(p):"",[p]),Zt=N==="loading"?"Loading metadata":p||"PNG metadata not loaded yet.",en=N==="loaded"&&!!p,$t=en?"h-48":"h-24",A=O?null:u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[p&&u.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:gr,disabled:!p,title:"Copy metadata",children:E?"Copied":"Copy"}),u.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:mr,disabled:!e||N==="loading",children:N==="loading"?"Loading":"Load meta"})]});g.useEffect(()=>{try{const T=localStorage.getItem(Jf);if(!T)return;const D=JSON.parse(T);if(!D||typeof D!="object")return;const q={};for(const U of Mw)typeof D[U]=="boolean"&&(q[U]=D[U]);Object.keys(q).length>0&&v(U=>({...U,...q}))}catch{}},[]),g.useEffect(()=>{try{localStorage.setItem(Jf,JSON.stringify(d))}catch{}},[d]),g.useEffect(()=>{try{const T=localStorage.getItem(Zf);T==="1"||T==="true"?b(!0):(T==="0"||T==="false")&&b(!1)}catch{}},[]),g.useEffect(()=>{try{localStorage.setItem(Zf,x?"1":"0")}catch{}},[x]);const Z=g.useCallback((T,D)=>{var q;D&&((q=navigator.clipboard)==null||q.writeText(D).then(()=>{re(T),setTimeout(()=>re(U=>U===T?null:U),1e3)}).catch(()=>{}))},[]),F=g.useCallback((T,D)=>{if(D&&!V[T]){const q=D.offsetHeight;q&&we(U=>U[T]?U:{...U,[T]:q})}},[V]);return o?u.jsxs("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!O&&u.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:u.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel select-none",children:[Pe&&u.jsx("img",{src:Pe,alt:"thumb",className:"block w-full h-full object-contain"}),!!Jt&&u.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md select-none",children:Jt})]})}),u.jsx(yo,{title:O?"Selection":"Item",open:d.overview,onToggle:()=>k("overview"),children:O?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),u.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",xa(K)]})]}):u.jsx("div",{className:"font-mono text-text break-all",title:je,children:je})}),u.jsxs(yo,{title:"Notes & Tags",open:d.notes,onToggle:()=>k("notes"),contentClassName:"px-3 pb-3 space-y-1.5",children:[!O&&$&&(J.tags||J.notes)&&u.jsxs("div",{className:"rounded-md border border-danger/40 bg-danger/10 text-danger text-xs px-2.5 py-2",children:[u.jsx("div",{className:"font-semibold",children:"Conflicting edits detected."}),u.jsx("div",{className:"text-[11px] text-muted mt-0.5",children:"Your changes were not saved because this item was updated elsewhere."}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx("button",{className:"btn btn-sm",onClick:ae,children:"Apply my changes again"}),u.jsx("button",{className:"btn btn-sm btn-ghost",onClick:fe,children:"Keep theirs"})]})]}),u.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:m,onChange:T=>h(T.target.value),onBlur:()=>{ne({notes:m})},"aria-label":O?"Notes for selected items":"Notes"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-muted mb-1",children:O?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),u.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:P,onChange:T=>y(T.target.value),onBlur:()=>{ne({tags:Xf(P)})},"aria-label":O?"Tags for selected items":"Tags"})]})]}),!O&&u.jsxs(yo,{title:"Metadata",open:d.metadata,onToggle:()=>k("metadata"),actions:A,children:[u.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${$t} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:en?u.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:In}}):Zt}),M&&u.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:M})]}),u.jsxs(yo,{title:"Basics",open:d.basics,onToggle:()=>k("basics"),children:[u.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[u.jsx("span",{className:"text-muted w-16 shrink-0",children:O?"Rating (all)":"Rating"}),u.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(T=>{const D=(ve??0)>=T;return u.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${D?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const q=ve===T&&!O?null:T;O&&t.length?(s==null||s(t,q),qf(t,{star:q})):e&&(s==null||s([e],q),fg(e,{star:q}))},title:`${T} star${T>1?"s":""} (key ${T})`,"aria-label":`${T} star${T>1?"s":""}`,"aria-pressed":ve===T,children:D?"":""},T)})})]}),!O&&$&&J.star&&u.jsxs("div",{className:"mt-2 rounded-md border border-danger/40 bg-danger/10 text-danger text-[11px] px-2 py-1 flex items-center justify-between gap-2",children:[u.jsx("span",{children:"Rating conflict."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm",onClick:ae,children:"Apply again"}),u.jsx("button",{className:"btn btn-sm btn-ghost",onClick:fe,children:"Keep theirs"})]})]}),!O&&Me&&u.jsxs("div",{className:"text-[12px] space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Z("dimensions",`${Me.w}${Me.h}`),children:"Dimensions"}),u.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:T=>F("dimensions",T),style:V.dimensions?{minHeight:V.dimensions}:void 0,children:X==="dimensions"?"Copied":`${Me.w}${Me.h}`})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Z("size",xa(Me.size)),children:"Size"}),u.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:T=>F("size",T),style:V.size?{minHeight:V.size}:void 0,children:X==="size"?"Copied":xa(Me.size)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Z("type",Me.type),children:"Type"}),u.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:T=>F("type",T),style:V.type?{minHeight:V.type}:void 0,children:X==="type"?"Copied":Me.type})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>pt&&Z("source",pt),children:"Source"}),u.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:T=>F("source",T),style:V.source?{minHeight:V.source}:void 0,children:X==="source"?"Copied":pt})]}),(()=>{const T=Me.metrics||null;if(!T)return null;const D=Object.entries(T).filter(([,Ee])=>Ee!=null);if(!D.length)return null;const q=(i==null?void 0:i.kind)==="metric"?i.key:null,U=[...D].sort(([Ee],[mt])=>Ee.localeCompare(mt));let ie=U;if(q){const Ee=U.findIndex(([mt])=>mt===q);Ee>0&&(ie=[U[Ee],...U.slice(0,Ee),...U.slice(Ee+1)])}const pe=ie.length>ka,Se=x||!pe?ie:ie.slice(0,ka),st=ie.length-ka;return u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),u.jsxs("div",{className:"space-y-1",children:[Se.map(([Ee,mt])=>{const oe=q===Ee;return u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:`w-24 shrink-0 ${oe?"text-accent font-medium":"text-muted"}`,children:Ee}),u.jsx("span",{className:`font-mono text-right ${oe?"text-accent font-medium":"text-text"}`,children:Nw(mt)})]},Ee)}),pe&&u.jsx("button",{type:"button",className:"text-[11px] text-muted underline underline-offset-2 hover:text-text",onClick:()=>b(Ee=>!Ee),"aria-expanded":x,children:x?"Show less":`+${st} more`})]})]})})()]})]}),u.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):u.jsx("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:u.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const Tw=e=>["folder",e],Pw=15e3;function pg(e){const t=Gc();return Vc({queryKey:Tw(e),queryFn:()=>me.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:n=>Math.min(1e3*Math.pow(2,n),5e3),refetchOnWindowFocus:!1,refetchInterval:t?Pw:!1,refetchIntervalInBackground:t})}const Iw=(e,t)=>["search",e,t],_w=2e4;function Ow(e,t){const n=Gc();return Vc({enabled:!!e.trim(),queryKey:Iw(e,t),queryFn:()=>me.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:r=>r,retry:1,refetchInterval:n?_w:!1,refetchIntervalInBackground:n})}const Fw=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function an(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Fw.test(s)?s:"/"}catch{return"/"}}function eh(){return(window.location.hash||"").replace(/^#/,"")}function zw(e){const t=an(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Xc(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Dw(e){const n=an(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function Aw(e){return e.endsWith("/_trash_")}const $w=new Set([0,1,2,3,4,5]),Jc=new Set(["<","<=",">",">="]),Uw=/^\d{4}-\d{2}-\d{2}$/;function Bw(e,t){return!t||!t.and.length?e:e.filter(n=>Ww(n,t.and))}function Ww(e,t){for(const n of t)if(!Hw(e,n))return!1;return!0}function Hw(e,t){var n,r,s,i,o,l,a;if("stars"in t){const c=t.stars;if(!c||!c.length)return!0;const f=e.star??0;return c.includes(f)}if("starsIn"in t){const c=t.starsIn.values;if(!c||!c.length)return!0;const f=e.star??0;return c.includes(f)}if("starsNotIn"in t){const c=t.starsNotIn.values;if(!c||!c.length)return!0;const f=e.star??0;return!c.includes(f)}if("nameContains"in t){const c=(n=t.nameContains.value)==null?void 0:n.trim();return c?(e.name??"").toLowerCase().includes(c.toLowerCase()):!0}if("nameNotContains"in t){const c=(r=t.nameNotContains.value)==null?void 0:r.trim();return c?!(e.name??"").toLowerCase().includes(c.toLowerCase()):!0}if("commentsContains"in t){const c=(s=t.commentsContains.value)==null?void 0:s.trim();if(!c)return!0;const f=e.comments??"";return f?f.toLowerCase().includes(c.toLowerCase()):!1}if("commentsNotContains"in t){const c=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!c)return!0;const f=e.comments??"";return f?!f.toLowerCase().includes(c.toLowerCase()):!1}if("urlContains"in t){const c=(o=t.urlContains.value)==null?void 0:o.trim();if(!c)return!0;const f=e.source??e.url??"";return f?f.toLowerCase().includes(c.toLowerCase()):!1}if("urlNotContains"in t){const c=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!c)return!0;const f=e.source??e.url??"";return f?!f.toLowerCase().includes(c.toLowerCase()):!1}if("dateRange"in t){const{from:c,to:f}=t.dateRange;if(!c&&!f)return!0;if(!e.addedAt)return!1;const d=Date.parse(e.addedAt);if(Number.isNaN(d))return!1;const v=rh(c,!1),k=rh(f,!0);return!(v!=null&&d<v||k!=null&&d>k)}if("widthCompare"in t){const{op:c,value:f}=t.widthCompare;if(!Number.isFinite(f))return!0;const d=e.w;return!Number.isFinite(d)||d<=0?!1:sh(d,c,f)}if("heightCompare"in t){const{op:c,value:f}=t.heightCompare;if(!Number.isFinite(f))return!0;const d=e.h;return!Number.isFinite(d)||d<=0?!1:sh(d,c,f)}if("metricRange"in t){const{key:c,min:f,max:d}=t.metricRange,v=(a=e.metrics)==null?void 0:a[c];return!(v==null||v<f||v>d)}return!0}function Wu(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=i1(r);s&&n.push(s)}return{and:n}}function th(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function Ca(e,t){return mg(e,t)}function Qw(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function mg(e,t){const n=pi(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function Vw(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function gg(e,t){const n=pi(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function Kw(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function vg(e,t){const n=Ot(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function Yw(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function yg(e,t){const n=Ot(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function Gw(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function xg(e,t){const n=Ot(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function qw(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function wg(e,t){const n=Ot(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function Xw(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function Sg(e,t){const n=Ot(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function Jw(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function kg(e,t){const n=Ot(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function Zw(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function Hu(e,t){const n=pl((t==null?void 0:t.from)??null),r=pl((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function e1(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function Fo(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!Jc.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function t1(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function zo(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!Jc.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function n1(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function r1(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function s1(e){const t=Wu(e);return t?t.and.length:0}function i1(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const c=pi(e.stars);return c.length?{starsIn:{values:c}}:null}if("starsIn"in e){const c=pi((t=e.starsIn)==null?void 0:t.values);return c.length?{starsIn:{values:c}}:null}if("starsNotIn"in e){const c=pi((n=e.starsNotIn)==null?void 0:n.values);return c.length?{starsNotIn:{values:c}}:null}if("nameContains"in e){const c=Ot((r=e.nameContains)==null?void 0:r.value);return c?{nameContains:{value:c}}:null}if("nameNotContains"in e){const c=Ot((s=e.nameNotContains)==null?void 0:s.value);return c?{nameNotContains:{value:c}}:null}if("commentsContains"in e){const c=Ot((i=e.commentsContains)==null?void 0:i.value);return c?{commentsContains:{value:c}}:null}if("commentsNotContains"in e){const c=Ot((o=e.commentsNotContains)==null?void 0:o.value);return c?{commentsNotContains:{value:c}}:null}if("urlContains"in e){const c=Ot((l=e.urlContains)==null?void 0:l.value);return c?{urlContains:{value:c}}:null}if("urlNotContains"in e){const c=Ot((a=e.urlNotContains)==null?void 0:a.value);return c?{urlNotContains:{value:c}}:null}if("dateRange"in e){const c=e.dateRange,f=pl((c==null?void 0:c.from)??null),d=pl((c==null?void 0:c.to)??null);return!f&&!d?null:{dateRange:{...f?{from:f}:{},...d?{to:d}:{}}}}if("widthCompare"in e){const c=e.widthCompare,f=nh(c==null?void 0:c.op,c==null?void 0:c.value);return f?{widthCompare:f}:null}if("heightCompare"in e){const c=e.heightCompare,f=nh(c==null?void 0:c.op,c==null?void 0:c.value);return f?{heightCompare:f}:null}if("metricRange"in e){const c=e.metricRange;if(!c||typeof c!="object")return null;const f=typeof c.key=="string"?c.key:"",d=Qu(c.min),v=Qu(c.max);return!f||d==null||v==null||d>v?null:{metricRange:{key:f,min:d,max:v}}}return null}function pi(e){if(!Array.isArray(e))return[];const t=[],n=new Set;for(const r of e){const s=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;!Number.isInteger(s)||!$w.has(s)||n.has(s)||(n.add(s),t.push(s))}return t}function Ot(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function pl(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function nh(e,t){if(typeof e!="string"||!Jc.has(e))return null;const n=Qu(t);return n==null?null:{op:e,value:n}}function rh(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&Uw.test(n)?r+24*60*60*1e3-1:r}function sh(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function Qu(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function ih(e){return e.addedAt?Date.parse(e.addedAt):0}function ml(e,t){return e.name.localeCompare(t.name)}function o1(e,t){const n=ih(e),r=ih(t);return n===r?ml(e,t):n-r}function l1(e){return(t,n)=>{var i,o;const r=(i=t.metrics)==null?void 0:i[e],s=(o=n.metrics)==null?void 0:o[e];return r==null&&s==null?ml(t,n):r==null?1:s==null?-1:r===s?ml(t,n):r-s}}function a1(e,t){return Bw(e,t)}function u1(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function c1(e,t){const n=u1(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function d1(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return c1(e,i)}let r=o1;t.kind==="metric"?r=l1(t.key):t.key==="name"&&(r=ml);const s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}function f1(e){const[t,n]=g.useState(250),[r,s]=g.useState(240),i=g.useRef(t),o=g.useRef(r);return g.useEffect(()=>{i.current=t},[t]),g.useEffect(()=>{o.current=r},[r]),g.useEffect(()=>{try{const c=window.localStorage,f=Number(c.getItem("leftW"));Number.isFinite(f)&&f>0&&n(f);const d=Number(c.getItem("rightW"));Number.isFinite(d)&&d>0&&s(d)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:c=>{c.preventDefault();const f=e.current;if(!f)return;const d=f.getBoundingClientRect(),v=x=>{const b=x.clientX-d.left,P=200,y=Math.max(P,d.width-o.current-200),m=Math.min(Math.max(b,P),y);n(m)},k=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",k);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",k)},onResizeRight:c=>{c.preventDefault();const f=e.current;if(!f)return;const d=f.getBoundingClientRect(),v=x=>{const b=x.clientX-d.left,P=d.width-b,y=240,m=Math.max(y,d.width-i.current-200),h=Math.min(Math.max(P,y),m);s(h)},k=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",k);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",k)}}}function h1({x:e,y:t,items:n}){return u.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>u.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&u.jsx("span",{className:"shrink-0",children:r.icon}),u.jsx("span",{children:r.label})]},s))})}function oh(e){return JSON.stringify(e,null,2)}function lh(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function ba(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function p1(e,t=250){const[n,r]=Ao.useState(e);return Ao.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Cg="application/x-lenslet-paths",m1='[role="treeitem"].drop-target';function ah(e){var n;return Array.from(((n=e.dataTransfer)==null?void 0:n.types)||[]).includes(Cg)}function g1(e){document.querySelectorAll(m1).forEach(t=>{t!==e&&t.classList.remove("drop-target")})}function uh(e){g1(e),e.classList.add("drop-target")}function ch(e){return e.startsWith("/")?e:`/${e}`}function v1({path:e,isLeaf:t}){const n=Vr(),r=g.useCallback(l=>{ah(l)&&(l.preventDefault(),t&&uh(l.currentTarget))},[t]),s=g.useCallback(l=>{!t||!ah(l)||(l.preventDefault(),uh(l.currentTarget))},[t]),i=g.useCallback(l=>{const a=l.currentTarget,c=document.elementFromPoint(l.clientX,l.clientY);c&&a.contains(c)||a.classList.remove("drop-target")},[]),o=g.useCallback(async l=>{const a=l.dataTransfer;if(!a)return;l.preventDefault(),l.currentTarget.classList.remove("drop-target");const c=a.getData(Cg),d=(c?JSON.parse(c):[]).filter(Boolean);if(!d.length)return;let v=d[0].split("/").slice(0,-1).join("/")||"/";v=ch(v);const k=ch(e);try{for(const x of d)await me.moveFile(x,k);n.invalidateQueries({queryKey:["folder",v]}),n.invalidateQueries({queryKey:["folder",k]}),n.setQueryData(["folder",v],x=>!x||!Array.isArray(x.items)?x:{...x,items:x.items.filter(b=>!d.includes(b.path))})}catch{}},[e,n]);return{onDragOver:r,onDragEnter:s,onDragLeave:i,onDrop:o}}const y1='[role="tree"] [role="treeitem"]';function x1(){return Array.from(document.querySelectorAll(y1))}function w1(e,t){var i;const n=x1(),r=n.findIndex(o=>o===e);if(r===-1)return;let s=r;t==="ArrowDown"?s=Math.min(n.length-1,r+1):t==="ArrowUp"?s=Math.max(0,r-1):t==="Home"?s=0:t==="End"&&(s=n.length-1),(i=n[s])==null||i.focus()}function S1({path:e,isLeaf:t,isExpanded:n,setExpanded:r,onOpen:s}){return g.useCallback(i=>{if(i.key==="Enter"){i.preventDefault(),s(e);return}if(i.key==="ArrowRight"){!t&&!n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.add(e),l}));return}if(i.key==="ArrowLeft"){!t&&n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.delete(e),l}));return}(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="Home"||i.key==="End")&&(i.preventDefault(),w1(i.currentTarget,i.key))},[e,t,n,r,s])}function k1({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,c]=g.useState(new Set(["/"])),f=g.useRef(new Map),d=g.useRef(new Map),v=g.useCallback(async(x,b)=>{const P=an(x||"/"),y=f.current,m=d.current,h=y.get(P);if(h!==void 0)return h;const p=m.get(P);if(p)return p;const C=(async()=>{let M=0;const R=new Set,N=[{path:P,index:b}];for(;N.length;){const L=N.pop(),{path:E,index:I}=L;if(R.has(E))continue;R.add(E);let X=I;if(!X)try{X=await me.getFolder(E)}catch(re){console.warn(`Failed to count folder ${E}:`,re);continue}M+=X.items.length;for(const re of X.dirs)re.kind==="branch"&&N.push({path:Xc(E,re.name)})}return y.set(P,M),m.delete(P),M})();return m.set(P,C),C},[]);g.useEffect(()=>{const x=e.split("/").filter(Boolean),b=["/"];let P="";for(const y of x)P=P?`${P}/${y}`:`/${y}`,b.push(P);c(y=>{const m=new Set(y);for(const h of b)m.add(h);return m})},[e]);const k=o??"h-full overflow-auto bg-panel scrollbar-thin";return u.jsxs("div",{className:k,children:[u.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(x=>u.jsx(bg,{path:x.path,label:x.label,depth:0,current:e,expanded:a,setExpanded:c,onOpen:r,onContextMenu:i,initial:n,getSubtreeCount:v},x.path))}),l&&u.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function bg({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a,getSubtreeCount:c}){var R,N;const f=s.has(e),{data:d}=pg(e),v=a&&e===a.path?a:d,k=r===e,x=(((R=v==null?void 0:v.dirs)==null?void 0:R.length)??0)===0,[b,P]=g.useState(v?v.items.length:null),y=S1({path:e,isLeaf:x,isExpanded:f,setExpanded:i,onOpen:o}),{onDragOver:m,onDragEnter:h,onDragLeave:p,onDrop:C}=v1({path:e,isLeaf:x}),M=L=>{L.stopPropagation(),i(E=>{const I=new Set(E);return I.has(e)?I.delete(e):I.add(e),I})};return g.useEffect(()=>{let L=!1;if(!v){P(null);return}return P(v.items.length),c(e,v).then(E=>{L||P(E)}).catch(E=>{L||console.warn(`Failed to compute subtree count for ${e}:`,E)}),()=>{L=!0}},[v,e,c]),u.jsxs("div",{children:[u.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${k?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":x?void 0:f,"aria-selected":k,tabIndex:k?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:L=>{L.preventDefault(),L.stopPropagation(),l&&l(L,e)},onKeyDown:y,onDragOver:m,onDragEnter:h,onDragLeave:p,onDrop:C,children:[u.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:M,children:f?"":""}),u.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Ew(t,28)}),b!==null&&u.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:b})]}),f&&((N=v==null?void 0:v.dirs)==null?void 0:N.map(L=>u.jsx(bg,{path:Xc(e,L.name),label:L.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,getSubtreeCount:c},L.name)))]})}const Er=40,C1=12,dh=[5,4,3,2,1],fh=["<","<=",">",">="];function b1({items:e,filteredItems:t,metricKeys:n,selectedItems:r,selectedMetric:s,onSelectMetric:i,filters:o,onChangeRange:l,onChangeFilters:a}){const c=r&&r.length?u.jsx(E1,{selectedItems:r,metricKeys:n}):null,f=u.jsx(N1,{filters:o,onChangeFilters:a});return n.length?u.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[c,u.jsx(j1,{items:e,filteredItems:t,metricKeys:n,selectedItems:r,selectedMetric:s,onSelectMetric:i,filters:o,onChangeRange:l}),f]}):u.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[c,f,u.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function E1({selectedItems:e,metricKeys:t}){const n=g.useMemo(()=>{if(!e.length)return null;const a=new Map;for(const d of e){const v=d.metrics;if(v)for(const[k,x]of Object.entries(v)){if(x==null||Number.isNaN(x))continue;const b=a.get(k);b?b.push(x):a.set(k,[x])}}return a.size?{entries:(t.length?t.filter(d=>a.has(d)):Array.from(a.keys()).sort()).map(d=>{const v=a.get(d)??[],k=Math.min(...v),x=Math.max(...v),b=v.reduce((P,y)=>P+y,0)/Math.max(1,v.length);return{key:d,value:v[0],min:k,max:x,avg:b,count:v.length}}),totalItems:e.length}:null},[e,t]);if(!n)return null;const{entries:r,totalItems:s}=n,i=r.slice(0,C1),o=r.length-i.length,l=s>1;return u.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Selected metrics"}),u.jsxs("div",{className:"text-[11px] text-muted",children:[s," item",s===1?"":"s"]})]}),u.jsxs("div",{className:"space-y-1",children:[i.map(a=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"text-muted w-28 shrink-0 truncate",title:a.key,children:a.key}),u.jsxs("span",{className:"font-mono text-text text-right",children:[l?`${bt(a.min)}  ${bt(a.max)}`:bt(a.value),l&&u.jsxs("span",{className:"text-[10px] text-muted ml-2",children:["avg ",bt(a.avg),a.count!==s?`  ${a.count}/${s}`:""]})]})]},a.key)),o>0&&u.jsxs("div",{className:"text-[11px] text-muted",children:["+",o," more"]})]})]})}function N1({filters:e,onChangeFilters:t}){const n=g.useMemo(()=>Qw(e),[e]),r=g.useMemo(()=>Vw(e),[e]),s=g.useMemo(()=>Kw(e)??"",[e]),i=g.useMemo(()=>Yw(e)??"",[e]),o=g.useMemo(()=>Gw(e)??"",[e]),l=g.useMemo(()=>qw(e)??"",[e]),a=g.useMemo(()=>Xw(e)??"",[e]),c=g.useMemo(()=>Jw(e)??"",[e]),f=g.useMemo(()=>Zw(e)??{},[e]),d=g.useMemo(()=>xh(f.from),[f.from]),v=g.useMemo(()=>xh(f.to),[f.to]),k=g.useMemo(()=>e1(e),[e]),x=g.useMemo(()=>t1(e),[e]),[b,P]=g.useState((k==null?void 0:k.op)??">="),[y,m]=g.useState((x==null?void 0:x.op)??">=");g.useEffect(()=>{k!=null&&k.op&&P(k.op)},[k==null?void 0:k.op]),g.useEffect(()=>{x!=null&&x.op&&m(x.op)},[x==null?void 0:x.op]);const h=(p,C)=>{const M=new Set(n),R=new Set(r);p==="include"?M.has(C)?M.delete(C):(M.add(C),R.delete(C)):R.has(C)?R.delete(C):(R.add(C),M.delete(C));let N=mg(e,Array.from(M));N=gg(N,Array.from(R)),t(N)};return u.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[dh.map(p=>{const C=n.includes(p);return u.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",p),"aria-pressed":C,title:`Include ${p} star${p>1?"s":""}`,children:[p,""]},`stars-in-${p}`)}),u.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${n.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",0),"aria-pressed":n.includes(0),title:"Include unrated",children:"None"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[dh.map(p=>{const C=r.includes(p);return u.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",p),"aria-pressed":C,title:`Exclude ${p} star${p>1?"s":""}`,children:[p,""]},`stars-out-${p}`)}),u.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${r.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",0),"aria-pressed":r.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:s,placeholder:"e.g. draft",onChange:p=>t(vg(e,p.target.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:i,placeholder:"e.g. v1",onChange:p=>t(yg(e,p.target.value))})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,placeholder:"e.g. hero",onChange:p=>t(xg(e,p.target.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,placeholder:"e.g. todo",onChange:p=>t(wg(e,p.target.value))})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,placeholder:"e.g. s3://bucket",onChange:p=>t(Sg(e,p.target.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),u.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:c,placeholder:"e.g. http://",onChange:p=>t(kg(e,p.target.value))})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),u.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d,onChange:p=>t(Hu(e,{from:p.target.value||null,to:f.to??null}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),u.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:v,onChange:p=>t(Hu(e,{from:f.from??null,to:p.target.value||null}))})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:b,onChange:p=>{const C=p.target.value;P(C),k&&t(Fo(e,{op:C,value:k.value}))},children:fh.map(p=>u.jsx("option",{value:p,children:p},`w-${p}`))}),u.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:k?String(k.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(Fo(e,null));return}const M=Number(C);Number.isFinite(M)&&t(Fo(e,{op:b,value:M}))}})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:y,onChange:p=>{const C=p.target.value;m(C),x&&t(zo(e,{op:C,value:x.value}))},children:fh.map(p=>u.jsx("option",{value:p,children:p},`h-${p}`))}),u.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:x?String(x.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(zo(e,null));return}const M=Number(C);Number.isFinite(M)&&t(zo(e,{op:y,value:M}))}})]})]})]})]})]})]})}function j1({items:e,filteredItems:t,metricKeys:n,selectedItems:r,selectedMetric:s,onSelectMetric:i,filters:o,onChangeRange:l}){const[a,c]=g.useState(!1),f=s&&n.includes(s)?s:n[0];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-end justify-between gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),a?u.jsx("div",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-[12px] text-muted flex items-center",children:"All metrics"}):u.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:f,onChange:d=>i(d.target.value),children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:()=>c(d=>!d),"aria-pressed":a,children:a?"Show one":"Show all"})]}),a?u.jsx("div",{className:"space-y-3",children:n.map(d=>u.jsx(hh,{metricKey:d,items:e,filteredItems:t,selectedItems:r,filters:o,onChangeRange:l,showTitle:!0},d))}):f?u.jsx(hh,{metricKey:f,items:e,filteredItems:t,selectedItems:r,filters:o,onChangeRange:l}):u.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]})}function hh({items:e,filteredItems:t,metricKey:n,selectedItems:r,filters:s,onChangeRange:i,showTitle:o=!1}){const l=g.useMemo(()=>ph(e,n),[e,n]),a=g.useMemo(()=>Ea(l,Er),[l]),c=g.useMemo(()=>ph(t,n),[t,n]),f=g.useMemo(()=>a?Ea(c,Er,a):null,[c,a]),d=n1(s,n),[v,k]=g.useState(null),[x,b]=g.useState(!1),P=g.useRef(null),y=g.useRef(null),[m,h]=g.useState(null),[p,C]=g.useState(""),[M,R]=g.useState(""),[N,L]=g.useState(null),E=v??d,I=a?{min:a.min,max:a.max}:null,X=g.useMemo(()=>{var ne;if(!(r!=null&&r.length))return[];const K=[];for(const ae of r){const fe=(ne=ae.metrics)==null?void 0:ne[n];fe==null||Number.isNaN(fe)||K.push(fe)}return K},[r,n]),re=X.length===1?X[0]:null,V=g.useMemo(()=>!a||X.length<2?null:Ea(X,Er,a),[X,a]);g.useEffect(()=>{if(!d||!I){N!=="min"&&C(d?zn(d.min):""),N!=="max"&&R(d?zn(d.max):"");return}if(N!=="min"){const K=qr(d.min,I.min)?"":zn(d.min);C(K)}if(N!=="max"){const K=qr(d.max,I.max)?"":zn(d.max);R(K)}},[d,I,N]),g.useEffect(()=>{h(null)},[n,I==null?void 0:I.min,I==null?void 0:I.max]);const we=K=>{var fe;if(!I)return null;const ne=(fe=y.current)==null?void 0:fe.getBoundingClientRect();if(!ne)return null;const ae=Zc((K.clientX-ne.left)/ne.width);return I.min+(I.max-I.min)*ae},Ae=(K,ne)=>{if(!I)return;const ae=P.current??K,fe=gh(ae,K);k(fe),ne&&i(n,fe)},ve=K=>{var ae;if(!I)return;K.preventDefault();const ne=we(K);ne!=null&&(b(!0),k(null),P.current=ne,h(ne),(ae=y.current)==null||ae.setPointerCapture(K.pointerId),Ae(ne,!1))},O=K=>{const ne=we(K);if(ne==null){x||h(null);return}h(ne),x&&Ae(ne,!1)},$=K=>{var ae;if(!x)return;b(!1),(ae=y.current)==null||ae.releasePointerCapture(K.pointerId);const ne=we(K);ne!=null&&(h(ne),Ae(ne,!0)),P.current=null,setTimeout(()=>k(null),0)},J=(K,ne)=>{if(!I)return;const ae=vh(K),fe=vh(ne);if(!ae.valid||!fe.valid){ae.valid||C(d?zn(d.min):""),fe.valid||R(d?zn(d.max):"");return}if(ae.value==null&&fe.value==null){i(n,null);return}const Pe=ae.value??I.min,je=fe.value??I.max,Jt=yh(Pe,I.min,I.max),Me=yh(je,I.min,I.max),pt=gh(Jt,Me);if(qr(pt.min,I.min)&&qr(pt.max,I.max)){i(n,null);return}i(n,pt)};if(!a||!I)return u.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[o&&u.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-2",children:n}),u.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]});const de=X.length;return u.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[o&&u.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-2",children:n}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{children:["Population: ",a.count]}),u.jsxs("span",{children:["Filtered: ",(f==null?void 0:f.count)??0]}),de>1&&u.jsxs("span",{className:"text-text",children:["Selected: ",de]})]}),re!=null&&u.jsxs("span",{className:"text-text",children:["Selected: ",bt(re)]})]}),u.jsxs("svg",{ref:y,viewBox:`0 0 ${Er} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:ve,onPointerMove:O,onPointerUp:$,onPointerLeave:()=>h(null),children:[Na(a.bins,"#2e3a4b"),f&&Na(f.bins,"#3a8fff"),V&&Na(V.bins,"#f59e0b",{opacity:.55}),E&&M1(E,I),re!=null&&mh(re,I,{color:"var(--accent)",strokeWidth:.7}),m!=null&&mh(m,I,{color:"rgba(255,255,255,0.75)",strokeWidth:.5,dashed:!0})]}),u.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[u.jsx("span",{children:bt(I==null?void 0:I.min)}),u.jsxs("div",{className:"flex flex-col items-center text-center leading-tight",children:[E?u.jsx("span",{className:"text-text",children:qr(E.min,I.min)?` ${bt(E.max)}`:qr(E.max,I.max)?` ${bt(E.min)}`:`${bt(E.min)}  ${bt(E.max)}`}):m!=null?u.jsxs("span",{className:"text-text",children:["Cursor: ",bt(m)]}):u.jsx("span",{children:"Drag to filter"}),E&&m!=null&&u.jsxs("span",{className:"text-[10px] text-muted",children:["Cursor: ",bt(m)]})]}),u.jsx("span",{children:bt(I==null?void 0:I.max)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Min"}),u.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:p,placeholder:zn(I.min),onFocus:()=>L("min"),onBlur:()=>{L(null),J(p,M)},onChange:K=>C(K.target.value),onKeyDown:K=>{K.key==="Enter"&&K.currentTarget.blur()}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Max"}),u.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:M,placeholder:zn(I.max),onFocus:()=>L("max"),onBlur:()=>{L(null),J(p,M)},onChange:K=>R(K.target.value),onKeyDown:K=>{K.key==="Enter"&&K.currentTarget.blur()}})]})]}),u.jsx("div",{className:"flex items-center gap-2 mt-2",children:u.jsx("button",{className:"btn btn-sm",onClick:()=>i(n,null),children:"Clear"})})]})}function Ea(e,t,n){if(!e.length)return null;const r=n?n.min:Math.min(...e);let s=n?n.max:Math.max(...e);r===s&&(s=r+1);const i=new Array(t).fill(0),o=t/(s-r);for(const l of e){const a=Math.max(0,Math.min(t-1,Math.floor((l-r)*o)));i[a]+=1}return{bins:i,min:r,max:s,count:e.length}}function ph(e,t){var r;const n=[];for(const s of e){const i=(r=s.metrics)==null?void 0:r[t];i==null||Number.isNaN(i)||n.push(i)}return n}function Na(e,t,n){const r=Math.max(1,...e),s=(n==null?void 0:n.opacity)??.9;return e.map((i,o)=>{const l=i/r*100;return u.jsx("rect",{x:o+.05,y:100-l,width:.9,height:l,fill:t,opacity:s},`${t}-${o}`)})}function M1(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Er*Zc(Math.min(n,r)),i=Er*Math.abs(r-n);return u.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function mh(e,t,n){const r=Zc((e-t.min)/(t.max-t.min)),s=Er*r;return u.jsx("line",{x1:s,y1:0,x2:s,y2:100,stroke:n.color,strokeWidth:n.strokeWidth??.5,strokeDasharray:n.dashed?"1.2 1.2":void 0,opacity:.95,vectorEffect:"non-scaling-stroke"})}function gh(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function Zc(e){return e<0?0:e>1?1:e}function bt(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function zn(e){if(!Number.isFinite(e))return"";const t=e.toString();return t.includes("e")?e.toFixed(6):t}function vh(e){const t=e.trim();if(!t)return{value:null,valid:!0};const n=Number(t);return Number.isFinite(n)?{value:n,valid:!0}:{value:null,valid:!1}}function yh(e,t,n){return e<t?t:e>n?n:e}function qr(e,t){const n=Math.max(1,Math.abs(e),Math.abs(t));return Math.abs(e-t)<=1e-6*n}function xh(e){return e?e.length>=10?e.slice(0,10):e:""}const R1=[{label:"Root",path:"/"}];function L1({leftTool:e,onToolChange:t,views:n,activeViewId:r,onActivateView:s,onSaveView:i,current:o,data:l,onOpenFolder:a,onContextMenu:c,items:f,filteredItems:d,metricKeys:v,selectedItems:k,selectedMetric:x,onSelectMetric:b,filters:P,onChangeRange:y,onChangeFilters:m,onResize:h}){const p=e==="folders"?"w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors bg-accent-muted text-accent":"w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors bg-surface text-text hover:bg-surface-hover",C=e==="metrics"?"w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors bg-accent-muted text-accent":"w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors bg-surface text-text hover:bg-surface-hover";return u.jsxs("div",{className:"app-left-panel col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[u.jsx("button",{className:p,title:"Folders","aria-label":"Folders","aria-pressed":e==="folders",onClick:()=>t("folders"),children:u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:u.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),u.jsx("button",{className:C,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":e==="metrics",onClick:()=>t("metrics"),children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[u.jsx("path",{d:"M4 19V9"}),u.jsx("path",{d:"M10 19V5"}),u.jsx("path",{d:"M16 19v-7"}),u.jsx("path",{d:"M3 19h18"})]})})]}),u.jsx("div",{className:"ml-10 h-full",children:e==="folders"?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),u.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:i,title:"Save current view as Smart Folder",children:"+ New"})]}),n.length?u.jsx("div",{className:"flex flex-col gap-1",children:n.map(M=>{const R=M.id===r;return u.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${R?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>s(M),children:M.name},M.id)})}):u.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),u.jsx(k1,{current:o,roots:R1,data:l,onOpen:a,onContextMenu:c,className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):u.jsx(b1,{items:f,filteredItems:d,metricKeys:v,selectedItems:k,selectedMetric:x,onSelectMetric:b,filters:P,onChangeRange:y,onChangeFilters:m})}),u.jsx("div",{className:"toolbar-offset absolute bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:h})]})}function T1({persistenceEnabled:e,recentSummary:t,onDismissRecent:n,syncTone:r,syncLabel:s,connectionTone:i,connectionLabel:o,presence:l}){const a=t?` (${t.names.join(", ")}${t.extra?` +${t.extra}`:""})`:"",c=!!(t!=null&&t.names.length);return u.jsx("div",{className:"border-b border-border bg-panel",children:u.jsxs("div",{className:"px-3 py-2 flex flex-col gap-2",children:[!e&&u.jsxs("div",{className:"rounded-md border border-danger/40 bg-danger/10 text-danger text-xs px-2.5 py-1.5",children:[u.jsx("span",{className:"font-semibold",children:"Not persisted."})," Workspace is read-only; edits stay in memory until restart."]}),t&&u.jsxs("div",{className:"rounded-md border border-accent/30 bg-accent/10 text-text text-xs px-2.5 py-1.5 flex items-center justify-between gap-3",children:[u.jsxs("span",{children:["Recent updates: ",t.count," item",t.count===1?"":"s",c?a:""]}),u.jsx("button",{className:"text-muted hover:text-text transition-colors",onClick:n,"aria-label":"Dismiss recent activity",children:"Dismiss"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[u.jsx("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full border ${r}`,children:s}),u.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full border border-border text-muted",children:[u.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${i}`}),o]}),l?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-border text-muted",children:[l.viewing," viewing  ",l.editing," editing"]}):u.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-border text-muted",children:"Presence: "})]})]})})}const Fe={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function P1(){var hd;const[e,t]=g.useState("/"),[n,r]=g.useState(""),[s,i]=g.useState([]),[o,l]=g.useState(null),[a,c]=g.useState(0),[f,d]=g.useState(null),[v,k]=g.useState(100),[x,b]=g.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[P,y]=g.useState(()=>Date.now()),[m,h]=g.useState("adaptive"),[p,C]=g.useState(220),[M,R]=g.useState(!0),[N,L]=g.useState(!0),[E,I]=g.useState("folders"),[X,re]=g.useState([]),[V,we]=g.useState(null),[Ae,ve]=g.useState(null),[O,$]=g.useState(null),[J,de]=g.useState({}),K=g.useRef(null),ne=g.useRef(null),ae=g.useRef(null),fe=g.useRef(null),Pe=g.useRef(!1),je=g.useRef(null),Jt=g.useRef(new Map),Me=g.useRef(new Map),{leftW:pt,rightW:mr,onResizeLeft:gr,onResizeRight:In}=f1(K),[Zt,en]=g.useState(!1),[$t,A]=g.useState(null),Z=Vr(),F=yw(),[T,D]=g.useState("idle"),[q,U]=g.useState({}),[ie,pe]=g.useState([]),[Ie,Se]=g.useState(new Set),st=g.useRef(new Map),[Ee,mt]=g.useState(!0);g.useEffect(()=>{const S=an(eh());t(S);const j=()=>{const _=an(eh());l(null),t(B=>B===_?B:(c(Q=>Q+1),_))};return window.addEventListener("hashchange",j),()=>window.removeEventListener("hashchange",j)},[]),g.useEffect(()=>()=>{for(const S of st.current.values())window.clearTimeout(S);st.current.clear()},[]),g.useEffect(()=>{const S=window.setInterval(()=>{const j=Date.now();pe(_=>_.filter(B=>j-B.ts<3e4))},5e3);return()=>window.clearInterval(S)},[]);const{data:oe,refetch:_n,isLoading:Kr,isError:ed}=pg(e),hn=n.trim().length>0,Vi=p1(n,250),td=g.useMemo(()=>Vi.trim().replace(/\s+/g," "),[Vi]),nd=Ow(hn?td:"",e),Ol=g.useMemo(()=>th(x.filters),[x.filters]),tn=g.useMemo(()=>{var j;return(hn?((j=nd.data)==null?void 0:j.items)??[]:(oe==null?void 0:oe.items)??[]).map(_=>({..._,star:J[_.path]!==void 0?J[_.path]:_.star}))},[hn,nd.data,oe,J]),Xe=g.useMemo(()=>{const S=a1(tn,x.filters);return d1(S,x.sort,P)},[tn,x.filters,x.sort,P]),Eg=tn.length,Ng=Xe.length,Ct=g.useMemo(()=>Xe.map(S=>S.path),[Xe]),jg=g.useMemo(()=>{if(!s.length)return[];const S=new Map(tn.map(_=>[_.path,_])),j=new Map(Xe.map(_=>[_.path,_]));return s.map(_=>S.get(_)??j.get(_)).filter(_=>!!_)},[s,tn,Xe]),Bs=x.sort.kind==="metric"?x.sort.key:null,rd=g.useMemo(()=>Bs?Xe.some(S=>{var _;const j=(_=S.metrics)==null?void 0:_[Bs];return j!=null&&!Number.isNaN(j)}):!1,[Xe,Bs]),sd=g.useCallback(S=>{Se(Q=>{if(Q.has(S))return Q;const W=new Set(Q);return W.add(S),W});const j=st.current,_=j.get(S);_&&window.clearTimeout(_);const B=window.setTimeout(()=>{Se(Q=>{if(!Q.has(S))return Q;const W=new Set(Q);return W.delete(S),W}),j.delete(S)},6e3);j.set(S,B)},[]),Fl=g.useCallback((S,j)=>{const _=Date.now();pe(B=>{const Q=B.filter(ue=>_-ue.ts<3e4&&ue.path!==S);return[{path:S,ts:_,kind:j},...Q].slice(0,6)}),sd(S)},[sd]),zl=g.useCallback(S=>{const j=Object.prototype.hasOwnProperty.call(S,"star"),_=S.metrics!==void 0,B=S.comments!==void 0;if(!j&&!_&&!B)return;const Q=W=>{if(W.path!==S.path)return W;let ue=W;return j&&W.star!==S.star&&(ue={...ue,star:S.star??null}),_&&(ue={...ue,metrics:S.metrics??null}),B&&W.comments!==S.comments&&(ue={...ue,comments:S.comments??""}),ue};Z.setQueriesData({predicate:({queryKey:W})=>Array.isArray(W)&&W[0]==="folder"},W=>{if(!W)return W;let ue=!1;const ee=W.items.map(G=>{const se=Q(G);return se!==G&&(ue=!0),se});return ue?{...W,items:ee}:W}),Z.setQueriesData({predicate:({queryKey:W})=>Array.isArray(W)&&W[0]==="search"},W=>{if(!W)return W;let ue=!1;const ee=W.items.map(G=>{const se=Q(G);return se!==G&&(ue=!0),se});return ue?{...W,items:ee}:W})},[Z]),Dl=g.useCallback(async S=>{const j=an(S||"/"),_=Jt.current,B=Me.current,Q=_.get(j);if(Q!==void 0)return Q;const W=B.get(j);if(W)return W;const ue=(async()=>{const ee=[j],G=new Set;let se=0;for(;ee.length;){const Je=ee.pop();if(!G.has(Je)){G.add(Je);try{const vr=await me.getFolder(Je);se+=vr.items.length;for(const Bl of vr.dirs)Bl.kind==="branch"&&ee.push(Xc(Je,Bl.name))}catch(vr){console.warn(`Failed to count folder ${Je}:`,vr)}}}return _.set(j,se),B.delete(j),se})();return B.set(j,ue),ue},[]);g.useEffect(()=>{let S=!1;const j=an(e||"/");return(async()=>{const B=Dl("/"),Q=j==="/"?B:Dl(j),[W,ue]=await Promise.all([B,Q]);S||($(W),ve(ue))})().catch(B=>console.warn("Failed to compute folder counts:",B)),()=>{S=!0}},[e,Dl]),g.useEffect(()=>{kx();const S=bx(_=>{if(_.type==="presence"){const W=_.data;if(!(W!=null&&W.gallery_id))return;U(ue=>({...ue,[W.gallery_id]:W}));return}const B=_.data;if(!(B!=null&&B.path))return;const Q=B.path;if(_.type==="item-updated"){const W=_.data,ue={v:1,tags:W.tags??[],notes:W.notes??"",star:W.star??null,version:W.version??1,updated_at:W.updated_at??"",updated_by:W.updated_by??"server"};Z.setQueryData(_i(Q),ue),zl({path:Q,star:W.star??null,metrics:W.metrics,comments:W.notes??""}),Sw(Q,ue),Fl(Q,"item-updated"),de(ee=>{if(ee[Q]===void 0)return ee;const G={...ee};return delete G[Q],G})}else if(_.type==="metrics-updated"){const W=_.data;zl({path:Q,metrics:W.metrics}),Fl(Q,"metrics-updated")}}),j=Ex(D);return()=>{S(),j(),Cx()}},[Fl,Z,zl]),g.useEffect(()=>{let S=!1;const j=an(e||"/"),_=async()=>{try{const Q=await me.postPresence(j);!S&&(Q!=null&&Q.gallery_id)&&U(W=>({...W,[Q.gallery_id]:Q}))}catch{}};_();const B=window.setInterval(_,3e4);return()=>{S=!0,window.clearInterval(B)}},[e]),g.useEffect(()=>{let S=!1;return me.getHealth().then(j=>{var B;if(S)return;const _=((B=j==null?void 0:j.labels)==null?void 0:B.enabled)??!0;mt(_)}).catch(()=>{}),()=>{S=!0}},[]);const Mg=g.useMemo(()=>{const S=tn,j={0:0,1:0,2:0,3:0,4:0,5:0};for(const _ of S){const B=J[_.path]??_.star??0;j[String(B)]=(j[String(B)]||0)+1}return j},[tn,J]),On=g.useMemo(()=>{const S=new Set;let j=0;for(const _ of tn){const B=_.metrics;if(B)for(const Q of Object.keys(B))S.add(Q);if(j+=1,j>=250&&S.size>0)break}return Array.from(S).sort()},[tn]);g.useEffect(()=>{On.length&&b(S=>{const j=S.selectedMetric&&On.includes(S.selectedMetric)?S.selectedMetric:On[0];return j===S.selectedMetric?S:{...S,selectedMetric:j}})},[On]),g.useEffect(()=>{x.sort.kind==="metric"&&(On.includes(x.sort.key)||b(S=>({...S,sort:{kind:"builtin",key:"added",dir:S.sort.dir}})))},[On,x.sort]);const id=g.useMemo(()=>s1(x.filters),[x.filters]),Ki=Ae??Eg,Rg=O??Ki,od=hn||id>0,Lg=q[e],Tg=F.state==="syncing"?"Syncing":F.state==="error"?F.message?`Not saved  ${F.message}`:"Not saved  retry":"All changes saved",Pg=F.state==="error"?"border-danger/40 text-danger":F.state==="syncing"?"border-accent/40 text-accent":"border-border text-muted",ld=T==="live"?{label:"Live",tone:"bg-success"}:T==="reconnecting"?{label:"Reconnecting",tone:"bg-accent"}:T==="offline"?{label:"Offline",tone:"bg-danger"}:{label:"Connecting",tone:"bg-border"},Ig=ld.label,_g=ld.tone,Og=g.useMemo(()=>{if(!ie.length)return null;const S=new Set,j=[];for(const B of ie)S.has(B.path)||(S.add(B.path),j.push(B.path));const _=j.slice(0,2).map(B=>{const Q=Xe.find(W=>W.path===B);return(Q==null?void 0:Q.name)??B.split("/").pop()??B});return{count:j.length,names:_,extra:Math.max(0,j.length-_.length)}},[ie,Xe]),Fg=od?Ng:Ki,zg=od||e==="/"?Ki:Rg,it=g.useCallback(S=>{b(j=>({...j,filters:S(j.filters)}))},[]),Dg=g.useCallback(S=>{b(j=>({...j,filters:S}))},[]),Yi=g.useCallback(()=>{it(S=>Ca(S,[]))},[it]),ad=g.useCallback(()=>{b(S=>({...S,filters:{and:[]}}))},[]),Al=g.useCallback((S,j)=>{it(_=>r1(_,S,j))},[it]),ud=g.useMemo(()=>{var j,_,B,Q,W,ue;const S=[];for(const ee of x.filters.and)if("stars"in ee){const G=ee.stars||[];if(!G.length)continue;S.push({id:"stars",label:`Rating in: ${ja(G)}`,onRemove:()=>Yi()})}else if("starsIn"in ee){const G=ee.starsIn.values||[];if(!G.length)continue;S.push({id:"stars-in",label:`Rating in: ${ja(G)}`,onRemove:()=>Yi()})}else if("starsNotIn"in ee){const G=ee.starsNotIn.values||[];if(!G.length)continue;S.push({id:"stars-not-in",label:`Rating not in: ${ja(G)}`,onRemove:()=>it(se=>gg(se,[]))})}else if("nameContains"in ee){const G=(j=ee.nameContains.value)==null?void 0:j.trim();if(!G)continue;S.push({id:"name-contains",label:`Filename contains: ${G}`,onRemove:()=>it(se=>vg(se,""))})}else if("nameNotContains"in ee){const G=(_=ee.nameNotContains.value)==null?void 0:_.trim();if(!G)continue;S.push({id:"name-not-contains",label:`Filename not: ${G}`,onRemove:()=>it(se=>yg(se,""))})}else if("commentsContains"in ee){const G=(B=ee.commentsContains.value)==null?void 0:B.trim();if(!G)continue;S.push({id:"comments-contains",label:`Comments contain: ${G}`,onRemove:()=>it(se=>xg(se,""))})}else if("commentsNotContains"in ee){const G=(Q=ee.commentsNotContains.value)==null?void 0:Q.trim();if(!G)continue;S.push({id:"comments-not-contains",label:`Comments not: ${G}`,onRemove:()=>it(se=>wg(se,""))})}else if("urlContains"in ee){const G=(W=ee.urlContains.value)==null?void 0:W.trim();if(!G)continue;S.push({id:"url-contains",label:`URL contains: ${G}`,onRemove:()=>it(se=>Sg(se,""))})}else if("urlNotContains"in ee){const G=(ue=ee.urlNotContains.value)==null?void 0:ue.trim();if(!G)continue;S.push({id:"url-not-contains",label:`URL not: ${G}`,onRemove:()=>it(se=>kg(se,""))})}else if("dateRange"in ee){const{from:G,to:se}=ee.dateRange;if(!G&&!se)continue;S.push({id:"date-range",label:`Date: ${O1(G,se)}`,onRemove:()=>it(Je=>Hu(Je,null))})}else if("widthCompare"in ee){const{op:G,value:se}=ee.widthCompare;S.push({id:"width-compare",label:`Width ${G} ${se}`,onRemove:()=>it(Je=>Fo(Je,null))})}else if("heightCompare"in ee){const{op:G,value:se}=ee.heightCompare;S.push({id:"height-compare",label:`Height ${G} ${se}`,onRemove:()=>it(Je=>zo(Je,null))})}else if("metricRange"in ee){const{key:G,min:se,max:Je}=ee.metricRange;S.push({id:`metric:${G}`,label:`${G}: ${z1(se,Je)}`,onRemove:()=>Al(G,null)})}return S},[x.filters,Yi,Al,it]),Ag=g.useCallback(S=>{const j=new Set(Ol);j.has(S)?j.delete(S):j.add(S),b(_=>({..._,filters:Ca(_.filters,Array.from(j))}))},[Ol]),$g=g.useCallback(()=>{R(!0),I("metrics")},[]),Ug=g.useCallback(S=>{b(j=>({...j,sort:S})),S.kind==="builtin"&&S.key==="random"&&y(Date.now())},[]),cd=g.useCallback(S=>{if(S==="/"||S==="")return"Lenslet | Root";const j=S.split("/").filter(Boolean);if(!j.length)return"Lenslet";const _=j.slice(-2).join("/");return`Lenslet | ${j.length>2?`.../${_}`:`/${_}`}`},[]),Bg=g.useMemo(()=>F1(e),[e]);g.useEffect(()=>{document.title=cd(e)},[e,cd]),g.useEffect(()=>{let S=!0;return me.getViews().then(j=>{S&&re(j.views||[])}).catch(()=>{S&&re([])}),()=>{S=!1}},[]),g.useEffect(()=>{hn&&(i([]),l(null))},[hn]),g.useEffect(()=>{const S=K.current,j=fe.current;if(!S||!j)return;const _=()=>{const B=Math.max(48,Math.round(j.getBoundingClientRect().height));S.style.setProperty("--toolbar-h",`${B}px`)};if(_(),"ResizeObserver"in window){const B=new ResizeObserver(_);return B.observe(j),()=>B.disconnect()}return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),g.useEffect(()=>{try{const S=localStorage.getItem(Fe.sortKey),j=localStorage.getItem(Fe.sortDir),_=localStorage.getItem(Fe.sortSpec),B=localStorage.getItem(Fe.starFilters),Q=localStorage.getItem(Fe.filterAst),W=localStorage.getItem(Fe.selectedMetric),ue=localStorage.getItem(Fe.viewMode),ee=localStorage.getItem(Fe.gridItemSize),G=localStorage.getItem(Fe.leftOpen),se=localStorage.getItem(Fe.rightOpen),vr=(Ze=>{if(!Ze)return null;const Ue=wa(Ze);return!Ue||typeof Ue!="object"?null:Ue.kind==="builtin"&&(Ue.key==="name"||Ue.key==="added"||Ue.key==="random")&&(Ue.dir==="asc"||Ue.dir==="desc")||Ue.kind==="metric"&&typeof Ue.key=="string"&&Ue.key.length>0&&(Ue.dir==="asc"||Ue.dir==="desc")?Ue:null})(_)??{kind:"builtin",key:S==="name"||S==="added"||S==="random"?S:"added",dir:j==="asc"||j==="desc"?j:"desc"};vr.key==="random"&&y(Date.now());let Wl=(Ze=>{if(!Ze)return null;const Ue=wa(Ze);return Wu(Ue)})(Q)??{and:[]};if(B){const Ze=wa(B);if(Array.isArray(Ze)){const Ue=Ze.filter(Gg=>[0,1,2,3,4,5].includes(Gg));Wl=Ca(Wl,Ue)}}if(b(Ze=>({...Ze,sort:vr,filters:Wl,selectedMetric:W||Ze.selectedMetric})),(ue==="grid"||ue==="adaptive")&&h(ue),ee){const Ze=Number(ee);!isNaN(Ze)&&Ze>=80&&Ze<=500&&C(Ze)}(G==="0"||G==="false")&&R(!1),(se==="0"||se==="false")&&L(!1)}catch{}},[]),g.useEffect(()=>{if(typeof window>"u")return;const S=window.matchMedia("(max-width: 900px)"),j=()=>{S.matches&&(R(!1),L(!1))};return j(),"addEventListener"in S?(S.addEventListener("change",j),()=>S.removeEventListener("change",j)):(S.addListener(j),()=>S.removeListener(j))},[]),g.useEffect(()=>{try{localStorage.setItem(Fe.sortKey,x.sort.kind==="builtin"?x.sort.key:"added"),localStorage.setItem(Fe.sortDir,x.sort.dir),localStorage.setItem(Fe.sortSpec,JSON.stringify(x.sort));const S=th(x.filters);localStorage.setItem(Fe.starFilters,JSON.stringify(S)),localStorage.setItem(Fe.filterAst,JSON.stringify(x.filters)),x.selectedMetric?localStorage.setItem(Fe.selectedMetric,x.selectedMetric):localStorage.removeItem(Fe.selectedMetric),localStorage.setItem(Fe.viewMode,m),localStorage.setItem(Fe.gridItemSize,String(p)),localStorage.setItem(Fe.leftOpen,M?"1":"0"),localStorage.setItem(Fe.rightOpen,N?"1":"0")}catch{}},[x,m,p,M,N]),g.useEffect(()=>{const S=ne.current;if(!S)return;const j=B=>Math.min(500,Math.max(80,B)),_=B=>{B.ctrlKey&&(B.preventDefault(),C(Q=>j(Q+(B.deltaY<0?20:-20))))};return S.addEventListener("wheel",_,{passive:!1}),()=>S.removeEventListener("wheel",_)},[]),g.useEffect(()=>{if(o)return;const S=ne.current;if(!S)return;const j=ee=>Math.min(500,Math.max(80,ee));let _=null;const B=ee=>{if(ee.length<2)return 0;const[G,se]=[ee[0],ee[1]];return Math.hypot(G.clientX-se.clientX,G.clientY-se.clientY)},Q=ee=>{if(ee.touches.length!==2)return;const G=B(ee.touches);G&&(_={dist:G,size:p})},W=ee=>{if(!_||ee.touches.length!==2)return;const G=B(ee.touches);if(!G)return;ee.preventDefault();const se=j(_.size*(G/_.dist));C(se)},ue=()=>{_=null};return S.addEventListener("touchstart",Q,{passive:!0}),S.addEventListener("touchmove",W,{passive:!1}),S.addEventListener("touchend",ue),S.addEventListener("touchcancel",ue),()=>{S.removeEventListener("touchstart",Q),S.removeEventListener("touchmove",W),S.removeEventListener("touchend",ue),S.removeEventListener("touchcancel",ue)}},[o,p]),g.useEffect(()=>{if(!o)return;const S=Ct.indexOf(o);if(S===-1)return;const j=[Ct[S-2],Ct[S-1],Ct[S+1],Ct[S+2]].filter(_=>!!_);for(const _ of j)me.prefetchFile(_),me.prefetchThumb(_)},[o,Ct]),g.useEffect(()=>{var j;if(!((j=oe==null?void 0:oe.items)!=null&&j.length))return;const S=oe.items.slice(0,5);for(const _ of S)me.prefetchFile(_.path)},[oe==null?void 0:oe.path,oe==null?void 0:oe.items]);const Gi=g.useCallback(S=>{l(null);const j=an(S);t(j),zw(j)},[]),Wg=g.useCallback(async()=>{const S=window.prompt("Save Smart Folder as:","New Smart Folder");if(!S)return;const j=I1(S,X),_={id:j,name:S,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(x))},B=[...X.filter(Q=>Q.id!==j),_];re(B),we(j);try{await me.saveViews({version:1,views:B})}catch(Q){if(Q instanceof ur&&Q.status===403){const W=new Blob([JSON.stringify({version:1,views:B},null,2)],{type:"application/json"});Do(W,`lenslet-smart-folder-${j}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",Q)}},[e,x,X]);g.useEffect(()=>{if(!V)return;const S=X.find(B=>B.id===V);if(!S){we(null);return}const j=S.pool.path===e,_=JSON.stringify(S.view)===JSON.stringify(x);(!j||!_)&&we(null)},[V,X,e,x]);const Hg=g.useCallback(S=>{l(S),Pe.current||(window.history.pushState({viewer:!0},"",window.location.href),Pe.current=!0)},[]),dd=g.useCallback(()=>{l(null),Pe.current&&(Pe.current=!1,window.history.back());const S=je.current;if(S){const j=document.getElementById(`cell-${encodeURIComponent(S)}`);j==null||j.focus()}},[]);g.useEffect(()=>{const S=()=>{o&&(Pe.current=!1,l(null))};return window.addEventListener("popstate",S),()=>window.removeEventListener("popstate",S)},[o]),g.useEffect(()=>{const S=K.current;if(!S)return;const j=Q=>{Q.dataTransfer&&Array.from(Q.dataTransfer.types).includes("Files")&&(Q.preventDefault(),en(!0))},_=Q=>{const W=Q.relatedTarget;W&&S.contains(W)||en(!1)},B=async Q=>{var ee,G;Q.preventDefault(),en(!1);const W=Array.from(((ee=Q.dataTransfer)==null?void 0:ee.files)??[]);if(!W.length)return;if(!((((G=oe==null?void 0:oe.dirs)==null?void 0:G.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const se of W)try{await me.uploadFile(e,se)}catch(Je){console.error(`Failed to upload ${se.name}:`,Je)}_n()};return S.addEventListener("dragover",j),S.addEventListener("dragleave",_),S.addEventListener("drop",B),()=>{S.removeEventListener("dragover",j),S.removeEventListener("dragleave",_),S.removeEventListener("drop",B)}},[e,(hd=oe==null?void 0:oe.dirs)==null?void 0:hd.length,_n]),g.useEffect(()=>{const S=()=>A(null),j=_=>{_.key==="Escape"&&A(null)};return window.addEventListener("click",S),window.addEventListener("keydown",j),()=>{window.removeEventListener("click",S),window.removeEventListener("keydown",j)}},[]),g.useEffect(()=>{const S=j=>{if(!hg(j.target)){if((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="b"){j.preventDefault(),j.altKey?L(_=>!_):R(_=>!_);return}if(!o){if(j.key==="Backspace"||j.key==="Delete")j.preventDefault(),Gi(Dw(e));else if((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="a")j.preventDefault(),i(Xe.map(_=>_.path));else if(j.key==="Escape")s.length&&(j.preventDefault(),i([]));else if(j.key==="/"){j.preventDefault();const _=document.querySelector(".toolbar-right .input");_==null||_.focus()}}}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,Xe,s,o,Gi]);const Qg=M?`${pt}px`:"0px",Vg=N?`${mr}px`:"0px",fd=o??s[0]??null,$l=fd?Ct.indexOf(fd):-1,Kg=$l>0,Yg=$l>=0&&$l<Ct.length-1,Ul=g.useCallback(S=>{if(!Ct.length)return;const j=o??s[0];if(!j)return;const _=Ct.indexOf(j);if(_===-1)return;const B=Math.min(Ct.length-1,Math.max(0,_+S)),Q=Ct[B];!Q||Q===j||(o&&l(Q),i([Q]))},[Ct,o,s]);return u.jsxs("div",{className:"app-shell grid h-full grid-cols-[var(--left)_1fr_var(--right)]",ref:K,style:{"--left":Qg,"--right":Vg},children:[u.jsx(lx,{rootRef:fe,onSearch:r,viewerActive:!!o,onBack:dd,zoomPercent:o?v:void 0,onZoomPercentChange:S=>d(S),currentLabel:Bg,itemCount:Fg,totalCount:zg,sortSpec:x.sort,metricKeys:On,onSortChange:Ug,filterCount:id,onOpenFilters:$g,starFilters:Ol,onToggleStar:Ag,onClearStars:Yi,onClearFilters:ad,starCounts:Mg,viewMode:m,onViewMode:h,gridItemSize:p,onGridItemSize:C,leftOpen:M,rightOpen:N,onToggleLeft:()=>R(S=>!S),onToggleRight:()=>L(S=>!S),onPrevImage:()=>Ul(-1),onNextImage:()=>Ul(1),canPrevImage:Kg,canNextImage:Yg}),M&&u.jsx(L1,{leftTool:E,onToolChange:I,views:X,activeViewId:V,onActivateView:S=>{var _;we(S.id);const j=Wu((_=S.view)==null?void 0:_.filters)??{and:[]};b({...S.view,filters:j}),Gi(S.pool.path),I("metrics")},onSaveView:Wg,current:e,data:oe,onOpenFolder:S=>{we(null),Gi(S)},onContextMenu:(S,j)=>{S.preventDefault(),A({x:S.clientX,y:S.clientY,kind:"tree",payload:{path:j}})},items:tn,filteredItems:Xe,metricKeys:On,selectedItems:jg,selectedMetric:x.selectedMetric,onSelectMetric:S=>b(j=>({...j,selectedMetric:S})),filters:x.filters,onChangeRange:Al,onChangeFilters:Dg,onResize:gr}),u.jsxs("div",{className:"grid-shell col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:ne,children:[u.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),u.jsx(T1,{persistenceEnabled:Ee,recentSummary:Og,onDismissRecent:()=>pe([]),syncTone:Pg,syncLabel:Tg,connectionTone:_g,connectionLabel:Ig,presence:Lg}),ud.length>0&&u.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel border-b border-border",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),ud.map(S=>u.jsxs("span",{className:"filter-chip",children:[u.jsx("span",{className:"truncate max-w-[240px]",title:S.label,children:S.label}),u.jsx("button",{className:"filter-chip-remove","aria-label":`Clear filter ${S.label}`,onClick:S.onRemove,children:""})]},S.id)),u.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:ad,children:"Clear all"})]})}),!1,u.jsxs("div",{className:"flex-1 min-h-0 relative",children:[u.jsx(Zx,{items:Xe,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:S=>{try{je.current=S}catch{}Hg(S),i([S])},highlight:hn?td:"",recentlyUpdated:Ie,suppressSelectionHighlight:!!o,viewMode:m,targetCellSize:p,onContextMenuItem:(S,j)=>{S.preventDefault();const _=s.length?s:[j];A({x:S.clientX,y:S.clientY,kind:"grid",payload:{paths:_}})},scrollRef:ae,hideScrollbar:rd}),rd&&Bs&&u.jsx(nw,{items:Xe,metricKey:Bs,scrollRef:ae,sortDir:x.sort.dir})]})]}),N&&u.jsx(Lw,{path:s[0]??null,selectedPaths:s,items:Xe,sortSpec:x.sort,onResize:In,onStarChanged:(S,j)=>{de(_=>{const B={..._};for(const Q of S)B[Q]=j;return B})}}),o&&u.jsx(dw,{path:o,onClose:dd,onZoomChange:S=>k(Math.round(S)),requestedZoomPercent:f,onZoomRequestConsumed:()=>d(null),onNavigate:Ul}),Zt&&u.jsx("div",{className:"toolbar-offset fixed inset-0 left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),$t&&u.jsx(D1,{ctx:$t,current:e,items:Xe,refetch:_n,setCtx:A})]})}function I1(e,t){const n=_1(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function _1(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function ja(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function O1(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function F1(e){if(e==="/"||e==="")return"Root";const t=e.split("/").filter(Boolean);return t.length?t.length<=2?`/${t.join("/")}`:`.../${t.slice(-2).join("/")}`:"Root"}function z1(e,t){return`${wh(e)}${wh(t)}`}function wh(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Do(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function D1({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=Aw(t),o=(h,p)=>h==="/"?`/${p}`:`${h}/${p}`,l=Vr(),[a,c]=Ao.useState(!1),[f,d]=Ao.useState(null),v=()=>new Date().toISOString().replace(/[:.]/g,"-"),k=h=>{const p=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const M=typeof C[1]=="string"?C[1]:"";return p(M)}})},x=h=>{const p=an(h);return p===""?"/":p},b=async()=>{const h=x(e.payload.path||"/");c(!0);try{await me.refreshFolder(h),k(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),_u.evictPrefix(h),Xr.evictPrefix(h)}catch(p){console.error("Failed to refresh folder:",p)}finally{c(!1),s(null)}},P=async h=>{const p=[h],C=new Set,M=[];for(;p.length;){const R=p.pop();if(!C.has(R)){C.add(R);try{const N=await me.getFolder(R);M.push(...N.items);for(const L of N.dirs)L.kind==="branch"&&p.push(o(R,L.name))}catch(N){console.error(`Failed to fetch folder ${R}:`,N)}}}return M},y=h=>async()=>{d(h);const p=e.payload.path||t;try{const C=await P(p),M=ba(C),R=h==="csv"?lh(M):oh(M),N=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",L=p==="/"?"root":(p.replace(/^\/+/,"")||"root").replace(/\//g,"_");Do(new Blob([R],{type:N}),`metadata_${L}_${v()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{d(null),s(null)}},m=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:b},{label:f==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!f||a,onClick:y("csv")},{label:f==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!f||a,onClick:y("json")}]:(()=>{const h=e.payload.paths??[],p=[];return p.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await me.moveFile(C,"/_trash_")}catch(M){console.error(`Failed to trash ${C}:`,M)}r(),s(null)}}}),i&&(p.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await me.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),p.push({label:"Recover",onClick:async()=>{for(const C of h)try{const R=(await me.getSidecar(C)).original_position,N=R&&R.split("/").slice(0,-1).join("/")||"/";await me.moveFile(C,N)}catch(M){console.error(`Failed to recover ${C}:`,M)}r(),s(null)}})),h.length&&(p.push({label:f==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!f,onClick:async()=>{d("csv");try{const C=new Set(h),M=n.filter(L=>C.has(L.path)),R=ba(M),N=lh(R);Do(new Blob([N],{type:"text/csv;charset=utf-8"}),`metadata_selection_${v()}.csv`)}finally{d(null),s(null)}}}),p.push({label:f==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!f,onClick:async()=>{d("json");try{const C=new Set(h),M=n.filter(L=>C.has(L.path)),R=ba(M),N=oh(R);Do(new Blob([N],{type:"application/json;charset=utf-8"}),`metadata_selection_${v()}.json`)}finally{d(null),s(null)}}})),p})();return u.jsx(h1,{x:e.x,y:e.y,items:m})}const A1=new K0({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function $1(){return u.jsx(Y0,{client:A1,children:u.jsx(P1,{})})}Hm(document.getElementById("root")).render(u.jsx($1,{}));
