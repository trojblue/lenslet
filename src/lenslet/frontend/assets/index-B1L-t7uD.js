var vp=Object.defineProperty;var Qu=e=>{throw TypeError(e)};var wp=(e,t,n)=>t in e?vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>wp(e,typeof t!="symbol"?t+"":t,n),ql=(e,t,n)=>t.has(e)||Qu("Cannot "+n);var y=(e,t,n)=>(ql(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Qu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(ql(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X=(e,t,n)=>(ql(e,t,"access private method"),n);var yi=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pd={exports:{}},jl={},_d={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=Symbol.for("react.element"),Sp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),Np=Symbol.for("react.provider"),bp=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Rp=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),Wu=Symbol.iterator;function Op(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var Ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,zd={};function fs(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Ld}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Id(){}Id.prototype=fs.prototype;function Da(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Ld}var Aa=Da.prototype=new Id;Aa.constructor=Da;Fd(Aa,fs.prototype);Aa.isPureReactComponent=!0;var Hu=Array.isArray,Dd=Object.prototype.hasOwnProperty,$a={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Dd.call(t,r)&&!Ad.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:di,type:e,key:i,ref:l,props:s,_owner:$a.current}}function Pp(e,t){return{$$typeof:di,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ua(e){return typeof e=="object"&&e!==null&&e.$$typeof===di}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vu=/\/+/g;function Gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function Ai(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case di:case Sp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Gl(l,0):r,Hu(s)?(n="",e!=null&&(n=e.replace(Vu,"$&/")+"/"),Ai(s,t,n,"",function(u){return u})):s!=null&&(Ua(s)&&(s=Pp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Vu,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Hu(e))for(var o=0;o<e.length;o++){i=e[o];var a=r+Gl(i,o);l+=Ai(i,t,n,a,s)}else if(a=Op(e),typeof a=="function")for(e=a.call(e),o=0;!(i=e.next()).done;)i=i.value,a=r+Gl(i,o++),l+=Ai(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function vi(e,t,n){if(e==null)return e;var r=[],s=0;return Ai(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Lp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},$i={transition:null},Fp={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:$i,ReactCurrentOwner:$a};function Ud(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:vi,forEach:function(e,t,n){vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!Ua(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=fs;ee.Fragment=kp;ee.Profiler=Cp;ee.PureComponent=Da;ee.StrictMode=Ep;ee.Suspense=jp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;ee.act=Ud;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fd({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)Dd.call(t,a)&&!Ad.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:di,type:e.type,key:s,ref:i,props:r,_owner:l}};ee.createContext=function(e){return e={$$typeof:bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Np,_context:e},e.Consumer=e};ee.createElement=$d;ee.createFactory=function(e){var t=$d.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Mp,render:e}};ee.isValidElement=Ua;ee.lazy=function(e){return{$$typeof:Tp,_payload:{_status:-1,_result:e},_init:Lp}};ee.memo=function(e,t){return{$$typeof:Rp,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=$i.transition;$i.transition={};try{e()}finally{$i.transition=t}};ee.unstable_act=Ud;ee.useCallback=function(e,t){return ot.current.useCallback(e,t)};ee.useContext=function(e){return ot.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ee.useEffect=function(e,t){return ot.current.useEffect(e,t)};ee.useId=function(){return ot.current.useId()};ee.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return ot.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};ee.useRef=function(e){return ot.current.useRef(e)};ee.useState=function(e){return ot.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return ot.current.useTransition()};ee.version="18.3.1";_d.exports=ee;var w=_d.exports;const el=xp(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=w,Ip=Symbol.for("react.element"),Dp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,$p=zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Up={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ap.call(t,r)&&!Up.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ip,type:e,key:i,ref:l,props:s,_owner:$p.current}}jl.Fragment=Dp;jl.jsx=Bd;jl.jsxs=Bd;Pd.exports=jl;var g=Pd.exports,Qd={exports:{}},St={},Wd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,I){var Q=_.length;_.push(I);e:for(;0<Q;){var le=Q-1>>>1,oe=_[le];if(0<s(oe,I))_[le]=I,_[Q]=oe,Q=le;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var I=_[0],Q=_.pop();if(Q!==I){_[0]=Q;e:for(var le=0,oe=_.length,tt=oe>>>1;le<tt;){var H=2*(le+1)-1,Fe=_[H],ge=H+1,Pe=_[ge];if(0>s(Fe,Q))ge<oe&&0>s(Pe,Fe)?(_[le]=Pe,_[ge]=Q,le=ge):(_[le]=Fe,_[H]=Q,le=H);else if(ge<oe&&0>s(Pe,Q))_[le]=Pe,_[ge]=Q,le=ge;else break e}}return I}function s(_,I){var Q=_.sortIndex-I.sortIndex;return Q!==0?Q:_.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],u=[],m=1,p=null,v=3,k=!1,x=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(_){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=_)r(u),I.sortIndex=I.expirationTime,t(a,I);else break;I=n(u)}}function h(_){if(S=!1,c(_),!x)if(n(a)!==null)x=!0,me(C);else{var I=n(u);I!==null&&fe(h,I.startTime-_)}}function C(_,I){x=!1,S&&(S=!1,f(M),M=-1),k=!0;var Q=v;try{for(c(I),p=n(a);p!==null&&(!(p.expirationTime>I)||_&&!D());){var le=p.callback;if(typeof le=="function"){p.callback=null,v=p.priorityLevel;var oe=le(p.expirationTime<=I);I=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(a)&&r(a),c(I)}else r(a);p=n(a)}if(p!==null)var tt=!0;else{var H=n(u);H!==null&&fe(h,H.startTime-I),tt=!1}return tt}finally{p=null,v=Q,k=!1}}var E=!1,b=null,M=-1,R=5,L=-1;function D(){return!(e.unstable_now()-L<R)}function W(){if(b!==null){var _=e.unstable_now();L=_;var I=!0;try{I=b(!0,_)}finally{I?q():(E=!1,b=null)}}else E=!1}var q;if(typeof d=="function")q=function(){d(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=W,q=function(){he.postMessage(null)}}else q=function(){j(W,0)};function me(_){b=_,E||(E=!0,q())}function fe(_,I){M=j(function(){_(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||k||(x=!0,me(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(_){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var Q=v;v=I;try{return _()}finally{v=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,I){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Q=v;v=_;try{return I()}finally{v=Q}},e.unstable_scheduleCallback=function(_,I,Q){var le=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,_){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,_={id:m++,callback:I,priorityLevel:_,startTime:Q,expirationTime:oe,sortIndex:-1},Q>le?(_.sortIndex=Q,t(u,_),n(a)===null&&_===n(u)&&(S?(f(M),M=-1):S=!0,fe(h,Q-le))):(_.sortIndex=oe,t(a,_),x||k||(x=!0,me(C))),_},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(_){var I=v;return function(){var Q=v;v=I;try{return _.apply(this,arguments)}finally{v=Q}}}})(Hd);Wd.exports=Hd;var Bp=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=w,xt=Bp;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vd=new Set,Qs={};function xr(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Qs[e]=t,e=0;e<t.length;e++)Vd.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=Object.prototype.hasOwnProperty,Wp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},qu={};function Hp(e){return To.call(qu,e)?!0:To.call(Ku,e)?!1:Wp.test(e)?qu[e]=!0:(Ku[e]=!0,!1)}function Vp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kp(e,t,n,r){if(t===null||typeof t>"u"||Vp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ba=/[\-:]([a-z])/g;function Qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ba,Qa);Ve[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ba,Qa);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ba,Qa);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wa(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kp(t,n,s,r)&&(n=null),r||s===null?Hp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wi=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Ha=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),qd=Symbol.for("react.context"),Va=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),Ka=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Gd=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Yl;function js(e){if(Yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yl=t&&t[1]||""}return`
`+Yl+e}var Xl=!1;function Jl(e,t){if(!e||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var a=`
`+s[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?js(e):""}function qp(e){switch(e.tag){case 5:return js(e.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function Lo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case jr:return"Portal";case Oo:return"Profiler";case Ha:return"StrictMode";case Po:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case Kd:return(e._context.displayName||"Context")+".Provider";case Va:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ka:return t=e.displayName||null,t!==null?t:Lo(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Lo(e(t))}catch{}}return null}function Gp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lo(t);case 8:return t===Ha?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yp(e){var t=Yd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xi(e){e._valueTracker||(e._valueTracker=Yp(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fo(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jd(e,t){t=t.checked,t!=null&&Wa(e,"checked",t,!1)}function zo(e,t){Jd(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Io(e,t.type,n):t.hasOwnProperty("defaultValue")&&Io(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Io(e,t,n){(t!=="number"||tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Do(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ju(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Rs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function Zd(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Si,tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xp=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(e){Xp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_s[t]=_s[e]})});function nf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_s.hasOwnProperty(e)&&_s[e]?(""+t).trim():t+"px"}function rf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Jp=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(e,t){if(t){if(Jp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,Ur=null,Br=null;function ec(e){if(e=pi(e)){if(typeof Qo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=_l(t),Qo(e.stateNode,e.type,t))}}function sf(e){Ur?Br?Br.push(e):Br=[e]:Ur=e}function lf(){if(Ur){var e=Ur,t=Br;if(Br=Ur=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function of(e,t){return e(t)}function af(){}var Zl=!1;function uf(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return of(e,t,n)}finally{Zl=!1,(Ur!==null||Br!==null)&&(af(),lf())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Wo=!1;if(dn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Wo=!1}function Zp(e,t,n,r,s,i,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Ls=!1,nl=null,rl=!1,Ho=null,em={onError:function(e){Ls=!0,nl=e}};function tm(e,t,n,r,s,i,l,o,a){Ls=!1,nl=null,Zp.apply(em,arguments)}function nm(e,t,n,r,s,i,l,o,a){if(tm.apply(this,arguments),Ls){if(Ls){var u=nl;Ls=!1,nl=null}else throw Error(P(198));rl||(rl=!0,Ho=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Sr(e)!==e)throw Error(P(188))}function rm(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tc(s),e;if(i===r)return tc(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function df(e){return e=rm(e),e!==null?ff(e):null}function ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ff(e);if(t!==null)return t;e=e.sibling}return null}var hf=xt.unstable_scheduleCallback,nc=xt.unstable_cancelCallback,sm=xt.unstable_shouldYield,im=xt.unstable_requestPaint,Oe=xt.unstable_now,lm=xt.unstable_getCurrentPriorityLevel,Ga=xt.unstable_ImmediatePriority,pf=xt.unstable_UserBlockingPriority,sl=xt.unstable_NormalPriority,om=xt.unstable_LowPriority,mf=xt.unstable_IdlePriority,Rl=null,Yt=null;function am(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:dm,um=Math.log,cm=Math.LN2;function dm(e){return e>>>=0,e===0?32:31-(um(e)/cm|0)|0}var ki=64,Ei=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Ts(o):(i&=l,i!==0&&(r=Ts(i)))}else l=n&~s,l!==0?r=Ts(l):i!==0&&(r=Ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-$t(i),o=1<<l,a=s[l];a===-1?(!(o&n)||o&r)&&(s[l]=fm(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}}function Vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gf(){var e=ki;return ki<<=1,!(ki&4194240)&&(ki=64),e}function eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function pm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ya(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vf,Xa,wf,xf,Sf,Ko=!1,Ci=[],Fn=null,zn=null,In=null,Vs=new Map,Ks=new Map,Sn=[],mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pi(t),t!==null&&Xa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gm(e,t,n,r,s){switch(t){case"focusin":return Fn=Ss(Fn,e,t,n,r,s),!0;case"dragenter":return zn=Ss(zn,e,t,n,r,s),!0;case"mouseover":return In=Ss(In,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,Ss(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ks.set(i,Ss(Ks.get(i)||null,e,t,n,r,s)),!0}return!1}function kf(e){var t=Jn(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=cf(n),t!==null){e.blockedOn=t,Sf(e.priority,function(){wf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bo=r,n.target.dispatchEvent(r),Bo=null}else return t=pi(n),t!==null&&Xa(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){Ui(e)&&n.delete(t)}function ym(){Ko=!1,Fn!==null&&Ui(Fn)&&(Fn=null),zn!==null&&Ui(zn)&&(zn=null),In!==null&&Ui(In)&&(In=null),Vs.forEach(sc),Ks.forEach(sc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,ym)))}function qs(e){function t(s){return ks(s,e)}if(0<Ci.length){ks(Ci[0],e);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&ks(Fn,e),zn!==null&&ks(zn,e),In!==null&&ks(In,e),Vs.forEach(t),Ks.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)kf(n),n.blockedOn===null&&Sn.shift()}var Qr=mn.ReactCurrentBatchConfig,ll=!0;function vm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=1,Ja(e,t,n,r)}finally{de=s,Qr.transition=i}}function wm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=4,Ja(e,t,n,r)}finally{de=s,Qr.transition=i}}function Ja(e,t,n,r){if(ll){var s=qo(e,t,n,r);if(s===null)co(e,t,r,ol,n),rc(e,r);else if(gm(s,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<mm.indexOf(e)){for(;s!==null;){var i=pi(s);if(i!==null&&vf(i),i=qo(e,t,n,r),i===null&&co(e,t,r,ol,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else co(e,t,r,null,n)}}var ol=null;function qo(e,t,n,r){if(ol=null,e=qa(r),e=Jn(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ol=e,null}function Ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case Ga:return 1;case pf:return 4;case sl:case om:return 16;case mf:return 536870912;default:return 16}default:return 16}}var _n=null,Za=null,Bi=null;function Cf(){if(Bi)return Bi;var e,t=Za,n=t.length,r,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Bi=s.slice(e,1<r?1-r:void 0)}function Qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function ic(){return!1}function kt(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:ic,this.isPropagationStopped=ic,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=kt(hs),hi=Ee({},hs,{view:0,detail:0}),xm=kt(hi),to,no,Es,Tl=Ee({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(to=e.screenX-Es.screenX,no=e.screenY-Es.screenY):no=to=0,Es=e),to)},movementY:function(e){return"movementY"in e?e.movementY:no}}),lc=kt(Tl),Sm=Ee({},Tl,{dataTransfer:0}),km=kt(Sm),Em=Ee({},hi,{relatedTarget:0}),ro=kt(Em),Cm=Ee({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nm=kt(Cm),bm=Ee({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mm=kt(bm),jm=Ee({},hs,{data:0}),oc=kt(jm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Om[e])?!!t[e]:!1}function tu(){return Pm}var _m=Ee({},hi,{key:function(e){if(e.key){var t=Rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lm=kt(_m),Fm=Ee({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=kt(Fm),zm=Ee({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),Im=kt(zm),Dm=Ee({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=kt(Dm),$m=Ee({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Um=kt($m),Bm=[9,13,27,32],nu=dn&&"CompositionEvent"in window,Fs=null;dn&&"documentMode"in document&&(Fs=document.documentMode);var Qm=dn&&"TextEvent"in window&&!Fs,Nf=dn&&(!nu||Fs&&8<Fs&&11>=Fs),uc=" ",cc=!1;function bf(e,t){switch(e){case"keyup":return Bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Wm(e,t){switch(e){case"compositionend":return Mf(t);case"keypress":return t.which!==32?null:(cc=!0,uc);case"textInput":return e=t.data,e===uc&&cc?null:e;default:return null}}function Hm(e,t){if(Tr)return e==="compositionend"||!nu&&bf(e,t)?(e=Cf(),Bi=Za=_n=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nf&&t.locale!=="ko"?null:t.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vm[e.type]:t==="textarea"}function jf(e,t,n,r){sf(r),t=al(t,"onChange"),0<t.length&&(n=new eu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zs=null,Gs=null;function Km(e){Af(e,0)}function Ol(e){var t=_r(e);if(Xd(t))return e}function qm(e,t){if(e==="change")return t}var Rf=!1;if(dn){var so;if(dn){var io="oninput"in document;if(!io){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),io=typeof fc.oninput=="function"}so=io}else so=!1;Rf=so&&(!document.documentMode||9<document.documentMode)}function hc(){zs&&(zs.detachEvent("onpropertychange",Tf),Gs=zs=null)}function Tf(e){if(e.propertyName==="value"&&Ol(Gs)){var t=[];jf(t,Gs,e,qa(e)),uf(Km,t)}}function Gm(e,t,n){e==="focusin"?(hc(),zs=t,Gs=n,zs.attachEvent("onpropertychange",Tf)):e==="focusout"&&hc()}function Ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Gs)}function Xm(e,t){if(e==="click")return Ol(t)}function Jm(e,t){if(e==="input"||e==="change")return Ol(t)}function Zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Zm;function Ys(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!To.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function Of(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Of(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pf(){for(var e=window,t=tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tl(e.document)}return t}function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eg(e){var t=Pf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Of(n.ownerDocument.documentElement,n)){if(r!==null&&ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=mc(n,i);var l=mc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tg=dn&&"documentMode"in document&&11>=document.documentMode,Or=null,Go=null,Is=null,Yo=!1;function gc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||Or==null||Or!==tl(r)||(r=Or,"selectionStart"in r&&ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Ys(Is,r)||(Is=r,r=al(Go,"onSelect"),0<r.length&&(t=new eu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},lo={},_f={};dn&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Pl(e){if(lo[e])return lo[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _f)return lo[e]=t[n];return e}var Lf=Pl("animationend"),Ff=Pl("animationiteration"),zf=Pl("animationstart"),If=Pl("transitionend"),Df=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){Df.set(e,t),xr(t,[e])}for(var oo=0;oo<yc.length;oo++){var ao=yc[oo],ng=ao.toLowerCase(),rg=ao[0].toUpperCase()+ao.slice(1);Vn(ng,"on"+rg)}Vn(Lf,"onAnimationEnd");Vn(Ff,"onAnimationIteration");Vn(zf,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(If,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function vc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nm(r,t,void 0,e),e.currentTarget=null}function Af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;vc(s,o,u),i=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;vc(s,o,u),i=a}}}if(rl)throw e=Ho,rl=!1,Ho=null,e}function ye(e,t){var n=t[ta];n===void 0&&(n=t[ta]=new Set);var r=e+"__bubble";n.has(r)||($f(t,e,2,!1),n.add(r))}function uo(e,t,n){var r=0;t&&(r|=4),$f(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Mi]){e[Mi]=!0,Vd.forEach(function(n){n!=="selectionchange"&&(sg.has(n)||uo(n,!1,e),uo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,uo("selectionchange",!1,t))}}function $f(e,t,n,r){switch(Ef(t)){case 1:var s=vm;break;case 4:s=wm;break;default:s=Ja}n=s.bind(null,t,n,e),s=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function co(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Jn(o),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}o=o.parentNode}}r=r.return}uf(function(){var u=i,m=qa(n),p=[];e:{var v=Df.get(e);if(v!==void 0){var k=eu,x=e;switch(e){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":k=Lm;break;case"focusin":x="focus",k=ro;break;case"focusout":x="blur",k=ro;break;case"beforeblur":case"afterblur":k=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Im;break;case Lf:case Ff:case zf:k=Nm;break;case If:k=Am;break;case"scroll":k=xm;break;case"wheel":k=Um;break;case"copy":case"cut":case"paste":k=Mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ac}var S=(t&4)!==0,j=!S&&e==="scroll",f=S?v!==null?v+"Capture":null:v;S=[];for(var d=u,c;d!==null;){c=d;var h=c.stateNode;if(c.tag===5&&h!==null&&(c=h,f!==null&&(h=Hs(d,f),h!=null&&S.push(Js(d,h,c)))),j)break;d=d.return}0<S.length&&(v=new k(v,x,null,n,m),p.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",v&&n!==Bo&&(x=n.relatedTarget||n.fromElement)&&(Jn(x)||x[fn]))break e;if((k||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,k?(x=n.relatedTarget||n.toElement,k=u,x=x?Jn(x):null,x!==null&&(j=Sr(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=u),k!==x)){if(S=lc,h="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=ac,h="onPointerLeave",f="onPointerEnter",d="pointer"),j=k==null?v:_r(k),c=x==null?v:_r(x),v=new S(h,d+"leave",k,n,m),v.target=j,v.relatedTarget=c,h=null,Jn(m)===u&&(S=new S(f,d+"enter",x,n,m),S.target=c,S.relatedTarget=j,h=S),j=h,k&&x)t:{for(S=k,f=x,d=0,c=S;c;c=Nr(c))d++;for(c=0,h=f;h;h=Nr(h))c++;for(;0<d-c;)S=Nr(S),d--;for(;0<c-d;)f=Nr(f),c--;for(;d--;){if(S===f||f!==null&&S===f.alternate)break t;S=Nr(S),f=Nr(f)}S=null}else S=null;k!==null&&wc(p,v,k,S,!1),x!==null&&j!==null&&wc(p,j,x,S,!0)}}e:{if(v=u?_r(u):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var C=qm;else if(dc(v))if(Rf)C=Jm;else{C=Ym;var E=Gm}else(k=v.nodeName)&&k.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=Xm);if(C&&(C=C(e,u))){jf(p,C,n,m);break e}E&&E(e,v,u),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Io(v,"number",v.value)}switch(E=u?_r(u):window,e){case"focusin":(dc(E)||E.contentEditable==="true")&&(Or=E,Go=u,Is=null);break;case"focusout":Is=Go=Or=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,gc(p,n,m);break;case"selectionchange":if(tg)break;case"keydown":case"keyup":gc(p,n,m)}var b;if(nu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Tr?bf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Nf&&n.locale!=="ko"&&(Tr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Tr&&(b=Cf()):(_n=m,Za="value"in _n?_n.value:_n.textContent,Tr=!0)),E=al(u,M),0<E.length&&(M=new oc(M,e,null,n,m),p.push({event:M,listeners:E}),b?M.data=b:(b=Mf(n),b!==null&&(M.data=b)))),(b=Qm?Wm(e,n):Hm(e,n))&&(u=al(u,"onBeforeInput"),0<u.length&&(m=new oc("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:u}),m.data=b))}Af(p,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function al(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hs(e,n),i!=null&&r.unshift(Js(e,i,s)),i=Hs(e,t),i!=null&&r.push(Js(e,i,s))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&u!==null&&(o=u,s?(a=Hs(n,i),a!=null&&l.unshift(Js(n,a,o))):s||(a=Hs(n,i),a!=null&&l.push(Js(n,a,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ig=/\r\n?/g,lg=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(ig,`
`).replace(lg,"")}function ji(e,t,n){if(t=xc(t),xc(e)!==t&&n)throw Error(P(425))}function ul(){}var Xo=null,Jo=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,Sc=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Sc<"u"?function(e){return Sc.resolve(null).then(e).catch(ug)}:ea;function ug(e){setTimeout(function(){throw e})}function fo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ps,Zs="__reactProps$"+ps,fn="__reactContainer$"+ps,ta="__reactEvents$"+ps,cg="__reactListeners$"+ps,dg="__reactHandles$"+ps;function Jn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kc(e);e!==null;){if(n=e[Gt])return n;e=kc(e)}return t}e=n,n=e.parentNode}return null}function pi(e){return e=e[Gt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function _l(e){return e[Zs]||null}var na=[],Lr=-1;function Kn(e){return{current:e}}function ve(e){0>Lr||(e.current=na[Lr],na[Lr]=null,Lr--)}function pe(e,t){Lr++,na[Lr]=e.current,e.current=t}var Hn={},et=Kn(Hn),ht=Kn(!1),hr=Hn;function ls(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function cl(){ve(ht),ve(et)}function Ec(e,t,n){if(et.current!==Hn)throw Error(P(168));pe(et,t),pe(ht,n)}function Uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Gp(e)||"Unknown",s));return Ee({},n,r)}function dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,hr=et.current,pe(et,e),pe(ht,ht.current),!0}function Cc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Uf(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,ve(ht),ve(et),pe(et,e)):ve(ht),pe(ht,n)}var nn=null,Ll=!1,ho=!1;function Bf(e){nn===null?nn=[e]:nn.push(e)}function fg(e){Ll=!0,Bf(e)}function qn(){if(!ho&&nn!==null){ho=!0;var e=0,t=de;try{var n=nn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,Ll=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),hf(Ga,qn),s}finally{de=t,ho=!1}}return null}var Fr=[],zr=0,fl=null,hl=0,bt=[],Mt=0,pr=null,on=1,an="";function Yn(e,t){Fr[zr++]=hl,Fr[zr++]=fl,fl=e,hl=t}function Qf(e,t,n){bt[Mt++]=on,bt[Mt++]=an,bt[Mt++]=pr,pr=e;var r=on;e=an;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,on=1<<32-$t(t)+s|n<<s|r,an=i+e}else on=1<<i|n<<s|r,an=e}function su(e){e.return!==null&&(Yn(e,1),Qf(e,1,0))}function iu(e){for(;e===fl;)fl=Fr[--zr],Fr[zr]=null,hl=Fr[--zr],Fr[zr]=null;for(;e===pr;)pr=bt[--Mt],bt[Mt]=null,an=bt[--Mt],bt[Mt]=null,on=bt[--Mt],bt[Mt]=null}var wt=null,vt=null,xe=!1,Dt=null;function Wf(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,vt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:on,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,vt=null,!0):!1;default:return!1}}function ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sa(e){if(xe){var t=vt;if(t){var n=t;if(!Nc(e,t)){if(ra(e))throw Error(P(418));t=Dn(n.nextSibling);var r=wt;t&&Nc(e,t)?Wf(r,n):(e.flags=e.flags&-4097|2,xe=!1,wt=e)}}else{if(ra(e))throw Error(P(418));e.flags=e.flags&-4097|2,xe=!1,wt=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ri(e){if(e!==wt)return!1;if(!xe)return bc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=vt)){if(ra(e))throw Hf(),Error(P(418));for(;t;)Wf(e,t),t=Dn(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=wt?Dn(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=vt;e;)e=Dn(e.nextSibling)}function os(){vt=wt=null,xe=!1}function lu(e){Dt===null?Dt=[e]:Dt.push(e)}var hg=mn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mc(e){var t=e._init;return t(e._payload)}function Vf(e){function t(f,d){if(e){var c=f.deletions;c===null?(f.deletions=[d],f.flags|=16):c.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=Bn(f,d),f.index=0,f.sibling=null,f}function i(f,d,c){return f.index=c,e?(c=f.alternate,c!==null?(c=c.index,c<d?(f.flags|=2,d):c):(f.flags|=2,d)):(f.flags|=1048576,d)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,d,c,h){return d===null||d.tag!==6?(d=xo(c,f.mode,h),d.return=f,d):(d=s(d,c),d.return=f,d)}function a(f,d,c,h){var C=c.type;return C===Rr?m(f,d,c.props.children,h,c.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&Mc(C)===d.type)?(h=s(d,c.props),h.ref=Cs(f,d,c),h.return=f,h):(h=Yi(c.type,c.key,c.props,null,f.mode,h),h.ref=Cs(f,d,c),h.return=f,h)}function u(f,d,c,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==c.containerInfo||d.stateNode.implementation!==c.implementation?(d=So(c,f.mode,h),d.return=f,d):(d=s(d,c.children||[]),d.return=f,d)}function m(f,d,c,h,C){return d===null||d.tag!==7?(d=fr(c,f.mode,h,C),d.return=f,d):(d=s(d,c),d.return=f,d)}function p(f,d,c){if(typeof d=="string"&&d!==""||typeof d=="number")return d=xo(""+d,f.mode,c),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case wi:return c=Yi(d.type,d.key,d.props,null,f.mode,c),c.ref=Cs(f,null,d),c.return=f,c;case jr:return d=So(d,f.mode,c),d.return=f,d;case wn:var h=d._init;return p(f,h(d._payload),c)}if(Rs(d)||ws(d))return d=fr(d,f.mode,c,null),d.return=f,d;Ti(f,d)}return null}function v(f,d,c,h){var C=d!==null?d.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return C!==null?null:o(f,d,""+c,h);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case wi:return c.key===C?a(f,d,c,h):null;case jr:return c.key===C?u(f,d,c,h):null;case wn:return C=c._init,v(f,d,C(c._payload),h)}if(Rs(c)||ws(c))return C!==null?null:m(f,d,c,h,null);Ti(f,c)}return null}function k(f,d,c,h,C){if(typeof h=="string"&&h!==""||typeof h=="number")return f=f.get(c)||null,o(d,f,""+h,C);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case wi:return f=f.get(h.key===null?c:h.key)||null,a(d,f,h,C);case jr:return f=f.get(h.key===null?c:h.key)||null,u(d,f,h,C);case wn:var E=h._init;return k(f,d,c,E(h._payload),C)}if(Rs(h)||ws(h))return f=f.get(c)||null,m(d,f,h,C,null);Ti(d,h)}return null}function x(f,d,c,h){for(var C=null,E=null,b=d,M=d=0,R=null;b!==null&&M<c.length;M++){b.index>M?(R=b,b=null):R=b.sibling;var L=v(f,b,c[M],h);if(L===null){b===null&&(b=R);break}e&&b&&L.alternate===null&&t(f,b),d=i(L,d,M),E===null?C=L:E.sibling=L,E=L,b=R}if(M===c.length)return n(f,b),xe&&Yn(f,M),C;if(b===null){for(;M<c.length;M++)b=p(f,c[M],h),b!==null&&(d=i(b,d,M),E===null?C=b:E.sibling=b,E=b);return xe&&Yn(f,M),C}for(b=r(f,b);M<c.length;M++)R=k(b,f,M,c[M],h),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?M:R.key),d=i(R,d,M),E===null?C=R:E.sibling=R,E=R);return e&&b.forEach(function(D){return t(f,D)}),xe&&Yn(f,M),C}function S(f,d,c,h){var C=ws(c);if(typeof C!="function")throw Error(P(150));if(c=C.call(c),c==null)throw Error(P(151));for(var E=C=null,b=d,M=d=0,R=null,L=c.next();b!==null&&!L.done;M++,L=c.next()){b.index>M?(R=b,b=null):R=b.sibling;var D=v(f,b,L.value,h);if(D===null){b===null&&(b=R);break}e&&b&&D.alternate===null&&t(f,b),d=i(D,d,M),E===null?C=D:E.sibling=D,E=D,b=R}if(L.done)return n(f,b),xe&&Yn(f,M),C;if(b===null){for(;!L.done;M++,L=c.next())L=p(f,L.value,h),L!==null&&(d=i(L,d,M),E===null?C=L:E.sibling=L,E=L);return xe&&Yn(f,M),C}for(b=r(f,b);!L.done;M++,L=c.next())L=k(b,f,M,L.value,h),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?M:L.key),d=i(L,d,M),E===null?C=L:E.sibling=L,E=L);return e&&b.forEach(function(W){return t(f,W)}),xe&&Yn(f,M),C}function j(f,d,c,h){if(typeof c=="object"&&c!==null&&c.type===Rr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case wi:e:{for(var C=c.key,E=d;E!==null;){if(E.key===C){if(C=c.type,C===Rr){if(E.tag===7){n(f,E.sibling),d=s(E,c.props.children),d.return=f,f=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&Mc(C)===E.type){n(f,E.sibling),d=s(E,c.props),d.ref=Cs(f,E,c),d.return=f,f=d;break e}n(f,E);break}else t(f,E);E=E.sibling}c.type===Rr?(d=fr(c.props.children,f.mode,h,c.key),d.return=f,f=d):(h=Yi(c.type,c.key,c.props,null,f.mode,h),h.ref=Cs(f,d,c),h.return=f,f=h)}return l(f);case jr:e:{for(E=c.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){n(f,d.sibling),d=s(d,c.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=So(c,f.mode,h),d.return=f,f=d}return l(f);case wn:return E=c._init,j(f,d,E(c._payload),h)}if(Rs(c))return x(f,d,c,h);if(ws(c))return S(f,d,c,h);Ti(f,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,d!==null&&d.tag===6?(n(f,d.sibling),d=s(d,c),d.return=f,f=d):(n(f,d),d=xo(c,f.mode,h),d.return=f,f=d),l(f)):n(f,d)}return j}var as=Vf(!0),Kf=Vf(!1),pl=Kn(null),ml=null,Ir=null,ou=null;function au(){ou=Ir=ml=null}function uu(e){var t=pl.current;ve(pl),e._currentValue=t}function ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){ml=e,ou=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(ou!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ml===null)throw Error(P(308));Ir=e,ml.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Zn=null;function cu(e){Zn===null?Zn=[e]:Zn.push(e)}function qf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,cu(t)):(n.next=s.next,s.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hn(e,n)}return s=r.interleaved,s===null?(t.next=t,cu(r)):(t.next=s.next,s.next=t),r.interleaved=t,hn(e,n)}function Wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ya(e,n)}}function jc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gl(e,t,n,r){var s=e.updateQueue;xn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=a))}if(i!==null){var p=s.baseState;l=0,m=u=a=null,o=i;do{var v=o.lane,k=o.eventTime;if((r&v)===v){m!==null&&(m=m.next={eventTime:k,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,S=o;switch(v=t,k=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){p=x.call(k,p,v);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,v=typeof x=="function"?x.call(k,p,v):x,v==null)break e;p=Ee({},p,v);break e;case 2:xn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[o]:v.push(o))}else k={eventTime:k,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=k,a=p):m=m.next=k,l|=v;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;v=o,o=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(m===null&&(a=p),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=l,e.lanes=l,e.memoizedState=p}}function Rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var mi={},Xt=Kn(mi),ei=Kn(mi),ti=Kn(mi);function er(e){if(e===mi)throw Error(P(174));return e}function fu(e,t){switch(pe(ti,t),pe(ei,e),pe(Xt,mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}ve(Xt),pe(Xt,t)}function us(){ve(Xt),ve(ei),ve(ti)}function Yf(e){er(ti.current);var t=er(Xt.current),n=Ao(t,e.type);t!==n&&(pe(ei,e),pe(Xt,n))}function hu(e){ei.current===e&&(ve(Xt),ve(ei))}var Se=Kn(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function pu(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var Hi=mn.ReactCurrentDispatcher,mo=mn.ReactCurrentBatchConfig,mr=0,ke=null,ze=null,Ue=null,vl=!1,Ds=!1,ni=0,pg=0;function Ye(){throw Error(P(321))}function mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function gu(e,t,n,r,s,i){if(mr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hi.current=e===null||e.memoizedState===null?vg:wg,e=n(r,s),Ds){i=0;do{if(Ds=!1,ni=0,25<=i)throw Error(P(301));i+=1,Ue=ze=null,t.updateQueue=null,Hi.current=xg,e=n(r,s)}while(Ds)}if(Hi.current=wl,t=ze!==null&&ze.next!==null,mr=0,Ue=ze=ke=null,vl=!1,t)throw Error(P(300));return e}function yu(){var e=ni!==0;return ni=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ke.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ot(){if(ze===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ue===null?ke.memoizedState:Ue.next;if(t!==null)Ue=t,ze=e;else{if(e===null)throw Error(P(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ue===null?ke.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ri(e,t){return typeof t=="function"?t(e):t}function go(e){var t=Ot(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,a=null,u=i;do{var m=u.lane;if((mr&m)===m)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=p,l=r):a=a.next=p,ke.lanes|=m,gr|=m}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=o,Bt(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yo(e){var t=Ot(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Bt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xf(){}function Jf(e,t){var n=ke,r=Ot(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,vu(th.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,si(9,eh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(P(349));mr&30||Zf(n,t,s)}return s}function Zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eh(e,t,n,r){t.value=n,t.getSnapshot=r,nh(t)&&rh(e)}function th(e,t,n){return n(function(){nh(t)&&rh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function rh(e){var t=hn(e,1);t!==null&&Ut(t,e,1,-1)}function Tc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=yg.bind(null,ke,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sh(){return Ot().memoizedState}function Vi(e,t,n,r){var s=Ht();ke.flags|=e,s.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function Fl(e,t,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(ze!==null){var l=ze.memoizedState;if(i=l.destroy,r!==null&&mu(r,l.deps)){s.memoizedState=si(t,n,i,r);return}}ke.flags|=e,s.memoizedState=si(1|t,n,i,r)}function Oc(e,t){return Vi(8390656,8,e,t)}function vu(e,t){return Fl(2048,8,e,t)}function ih(e,t){return Fl(4,2,e,t)}function lh(e,t){return Fl(4,4,e,t)}function oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ah(e,t,n){return n=n!=null?n.concat([e]):null,Fl(4,4,oh.bind(null,t,e),n)}function wu(){}function uh(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ch(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dh(e,t,n){return mr&21?(Bt(n,t)||(n=gf(),ke.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function mg(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=mo.transition;mo.transition={};try{e(!1),t()}finally{de=n,mo.transition=r}}function fh(){return Ot().memoizedState}function gg(e,t,n){var r=Un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hh(e))ph(t,n);else if(n=qf(e,t,n,r),n!==null){var s=lt();Ut(n,e,r,s),mh(n,t,r)}}function yg(e,t,n){var r=Un(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hh(e))ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Bt(o,l)){var a=t.interleaved;a===null?(s.next=s,cu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=qf(e,t,s,r),n!==null&&(s=lt(),Ut(n,e,r,s),mh(n,t,r))}}function hh(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function ph(e,t){Ds=vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ya(e,n)}}var wl={readContext:Tt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},vg={readContext:Tt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vi(4194308,4,oh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vi(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gg.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:wu,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=mg.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Ht();if(xe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Be===null)throw Error(P(349));mr&30||Zf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Oc(th.bind(null,r,i,e),[e]),r.flags|=2048,si(9,eh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Be.identifierPrefix;if(xe){var n=an,r=on;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wg={readContext:Tt,useCallback:uh,useContext:Tt,useEffect:vu,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:lh,useMemo:ch,useReducer:go,useRef:sh,useState:function(){return go(ri)},useDebugValue:wu,useDeferredValue:function(e){var t=Ot();return dh(t,ze.memoizedState,e)},useTransition:function(){var e=go(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:fh,unstable_isNewReconciler:!1},xg={readContext:Tt,useCallback:uh,useContext:Tt,useEffect:vu,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:lh,useMemo:ch,useReducer:yo,useRef:sh,useState:function(){return yo(ri)},useDebugValue:wu,useDeferredValue:function(e){var t=Ot();return ze===null?t.memoizedState=e:dh(t,ze.memoizedState,e)},useTransition:function(){var e=yo(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:fh,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function la(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),s=Un(e),i=un(r,s);i.payload=t,n!=null&&(i.callback=n),t=An(e,i,s),t!==null&&(Ut(t,e,s,r),Wi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),s=Un(e),i=un(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=An(e,i,s),t!==null&&(Ut(t,e,s,r),Wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=Un(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=An(e,s,r),t!==null&&(Ut(t,e,r,n),Wi(t,e,r))}};function Pc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,i):!0}function gh(e,t,n){var r=!1,s=Hn,i=t.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(s=pt(t)?hr:et.current,r=t.contextTypes,i=(r=r!=null)?ls(e,s):Hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _c(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},du(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Tt(i):(i=pt(t)?hr:et.current,s.context=ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(la(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zl.enqueueReplaceState(s,s.state,null),gl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=qp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,va=r),aa(e,t)},n}function vh(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){aa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){aa(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Fg.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var kg=mn.ReactCurrentOwner,ft=!1;function st(e,t,n,r){t.child=e===null?Kf(t,null,n,r):as(t,e.child,n,r)}function Ic(e,t,n,r,s){n=n.render;var i=t.ref;return Wr(t,s),r=gu(e,t,n,r,i,s),n=yu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(xe&&n&&su(t),t.flags|=1,st(e,t,r,s),t.child)}function Dc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Mu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,wh(e,t,i,r,s)):(e=Yi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(l,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=Bn(i,r),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ys(i,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,pn(e,t,s)}return ua(e,t,n,r,s)}function xh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ar,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Ar,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(Ar,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,pe(Ar,yt),yt|=r;return st(e,t,s,n),t.child}function Sh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,n,r,s){var i=pt(n)?hr:et.current;return i=ls(t,i),Wr(t,s),n=gu(e,t,n,r,i,s),r=yu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(xe&&r&&su(t),t.flags|=1,st(e,t,n,s),t.child)}function Ac(e,t,n,r,s){if(pt(n)){var i=!0;dl(t)}else i=!1;if(Wr(t,s),t.stateNode===null)Ki(e,t),gh(t,n,r),oa(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=pt(n)?hr:et.current,u=ls(t,u));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||a!==u)&&_c(t,l,r,u),xn=!1;var v=t.memoizedState;l.state=v,gl(t,r,l,s),a=t.memoizedState,o!==r||v!==a||ht.current||xn?(typeof m=="function"&&(la(t,n,m,r),a=t.memoizedState),(o=xn||Pc(t,n,o,r,v,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Gf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Lt(t.type,o),l.props=u,p=t.pendingProps,v=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=pt(n)?hr:et.current,a=ls(t,a));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||v!==a)&&_c(t,l,r,a),xn=!1,v=t.memoizedState,l.state=v,gl(t,r,l,s);var x=t.memoizedState;o!==p||v!==x||ht.current||xn?(typeof k=="function"&&(la(t,n,k,r),x=t.memoizedState),(u=xn||Pc(t,n,u,r,v,x,a)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return ca(e,t,n,r,i,s)}function ca(e,t,n,r,s,i){Sh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Cc(t,n,!1),pn(e,t,i);r=t.stateNode,kg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=as(t,e.child,null,i),t.child=as(t,null,o,i)):st(e,t,o,i),t.memoizedState=r.state,s&&Cc(t,n,!0),t.child}function kh(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),fu(e,t.containerInfo)}function $c(e,t,n,r,s){return os(),lu(s),t.flags|=256,st(e,t,n,r),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,t,n){var r=t.pendingProps,s=Se.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(Se,s&1),e===null)return sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Al(l,r,0,null),e=fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fa(n),t.memoizedState=da,e):xu(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Eg(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Bn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Bn(o,i):(i=fr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=da,r}return i=e.child,e=i.sibling,r=Bn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xu(e,t){return t=Al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oi(e,t,n,r){return r!==null&&lu(r),as(t,e.child,null,n),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eg(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=vo(Error(P(422))),Oi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Al({mode:"visible",children:r.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&as(t,e.child,null,l),t.child.memoizedState=fa(l),t.memoizedState=da,i);if(!(t.mode&1))return Oi(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=vo(i,r,void 0),Oi(e,t,l,r)}if(o=(l&e.childLanes)!==0,ft||o){if(r=Be,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hn(e,s),Ut(r,e,s,-1))}return bu(),r=vo(Error(P(421))),Oi(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=Dn(s.nextSibling),wt=t,xe=!0,Dt=null,e!==null&&(bt[Mt++]=on,bt[Mt++]=an,bt[Mt++]=pr,on=e.id,an=e.overflow,pr=t),t=xu(t,r.children),t.flags|=4096,t)}function Uc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ia(e.return,t,n)}function wo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ch(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(st(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,n,t);else if(e.tag===19)Uc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wo(t,!0,n,null,i);break;case"together":wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cg(e,t,n){switch(t.tag){case 3:kh(t),os();break;case 5:Yf(t);break;case 1:pt(t.type)&&dl(t);break;case 4:fu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(pl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?Eh(e,t,n):(pe(Se,Se.current&1),e=pn(e,t,n),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ch(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,n)}return pn(e,t,n)}var Nh,ha,bh,Mh;Nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ha=function(){};bh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,er(Xt.current);var i=null;switch(n){case"input":s=Fo(e,s),r=Fo(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Do(e,s),r=Do(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ul)}$o(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||o===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ng(e,t,n){var r=t.pendingProps;switch(iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return pt(t.type)&&cl(),Xe(t),null;case 3:return r=t.stateNode,us(),ve(ht),ve(et),pu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Sa(Dt),Dt=null))),ha(e,t),Xe(t),null;case 5:hu(t);var s=er(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)bh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Xe(t),null}if(e=er(Xt.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[Zs]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Os.length;s++)ye(Os[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Yu(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Ju(r,i),ye("invalid",r)}$o(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",""+o]):Qs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",r)}switch(n){case"input":xi(r),Xu(r,i,!0);break;case"textarea":xi(r),Zu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ul)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ef(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gt]=t,e[Zs]=r,Nh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Uo(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Os.length;s++)ye(Os[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Yu(e,r),s=Fo(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Ju(e,r),s=Do(e,r),ye("invalid",e);break;default:s=r}$o(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="style"?rf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ws(e,a):typeof a=="number"&&Ws(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&Wa(e,i,a,l))}switch(n){case"input":xi(e),Xu(e,r,!1);break;case"textarea":xi(e),Zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$r(e,!!r.multiple,i,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Mh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=er(ti.current),er(Xt.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Xe(t),null;case 13:if(ve(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&t.mode&1&&!(t.flags&128))Hf(),os(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Gt]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else Dt!==null&&(Sa(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?De===0&&(De=3):bu())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return us(),ha(e,t),e===null&&Xs(t.stateNode.containerInfo),Xe(t),null;case 10:return uu(t.type._context),Xe(t),null;case 17:return pt(t.type)&&cl(),Xe(t),null;case 19:if(ve(Se),i=t.memoizedState,i===null)return Xe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Ns(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=yl(e),l!==null){for(t.flags|=128,Ns(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&Oe()>ds&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304)}else{if(!r)if(e=yl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!xe)return Xe(t),null}else 2*Oe()-i.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Oe(),t.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function bg(e,t){switch(iu(t),t.tag){case 1:return pt(t.type)&&cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),ve(ht),ve(et),pu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hu(t),null;case 13:if(ve(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(Se),null;case 4:return us(),null;case 10:return uu(t.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var Pi=!1,Ze=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,$=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function pa(e,t,n){try{n()}catch(r){je(e,t,r)}}var Bc=!1;function jg(e,t){if(Xo=ll,e=Pf(),ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,m=0,p=e,v=null;t:for(;;){for(var k;p!==n||s!==0&&p.nodeType!==3||(o=l+s),p!==i||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(k=p.firstChild)!==null;)v=p,p=k;for(;;){if(p===e)break t;if(v===n&&++u===s&&(o=l),v===i&&++m===r&&(a=l),(k=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=k}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jo={focusedElem:e,selectionRange:n},ll=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,j=x.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?S:Lt(t.type,S),j);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(h){je(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=Bc,Bc=!1,x}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pa(t,n,i)}s=s.next}while(s!==r)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jh(e){var t=e.alternate;t!==null&&(e.alternate=null,jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Zs],delete t[ta],delete t[cg],delete t[dg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ul));else if(r!==4&&(e=e.child,e!==null))for(ga(e,t,n),e=e.sibling;e!==null;)ga(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}var We=null,It=!1;function yn(e,t,n){for(n=n.child;n!==null;)Th(e,t,n),n=n.sibling}function Th(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:Ze||Dr(n,t);case 6:var r=We,s=It;We=null,yn(e,t,n),We=r,It=s,We!==null&&(It?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(It?(e=We,n=n.stateNode,e.nodeType===8?fo(e.parentNode,n):e.nodeType===1&&fo(e,n),qs(e)):fo(We,n.stateNode));break;case 4:r=We,s=It,We=n.stateNode.containerInfo,It=!0,yn(e,t,n),We=r,It=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&pa(n,t,l),s=s.next}while(s!==r)}yn(e,t,n);break;case 1:if(!Ze&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){je(n,t,o)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,yn(e,t,n),Ze=r):yn(e,t,n);break;default:yn(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mg),t.forEach(function(r){var s=Ig.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:We=o.stateNode,It=!1;break e;case 3:We=o.stateNode.containerInfo,It=!0;break e;case 4:We=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(We===null)throw Error(P(160));Th(i,l,s),We=null,It=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}function Oh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Wt(e),r&4){try{As(3,e,e.return),Il(3,e)}catch(S){je(e,e.return,S)}try{As(5,e,e.return)}catch(S){je(e,e.return,S)}}break;case 1:_t(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(_t(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{Ws(s,"")}catch(S){je(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Jd(s,i),Uo(o,l);var u=Uo(o,i);for(l=0;l<a.length;l+=2){var m=a[l],p=a[l+1];m==="style"?rf(s,p):m==="dangerouslySetInnerHTML"?tf(s,p):m==="children"?Ws(s,p):Wa(s,m,p,u)}switch(o){case"input":zo(s,i);break;case"textarea":Zd(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var k=i.value;k!=null?$r(s,!!i.multiple,k,!1):v!==!!i.multiple&&(i.defaultValue!=null?$r(s,!!i.multiple,i.defaultValue,!0):$r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zs]=i}catch(S){je(e,e.return,S)}}break;case 6:if(_t(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){je(e,e.return,S)}}break;case 3:if(_t(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(S){je(e,e.return,S)}break;case 4:_t(t,e),Wt(e);break;case 13:_t(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Eu=Oe())),r&4&&Wc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||m,_t(t,e),Ze=u):_t(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(p=$=m;$!==null;){switch(v=$,k=v.child,v.tag){case 0:case 11:case 14:case 15:As(4,v,v.return);break;case 1:Dr(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){je(r,n,S)}}break;case 5:Dr(v,v.return);break;case 22:if(v.memoizedState!==null){Vc(p);continue}}k!==null?(k.return=v,$=k):Vc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=nf("display",l))}catch(S){je(e,e.return,S)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){je(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_t(t,e),Wt(e),r&4&&Wc(e);break;case 21:break;default:_t(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ws(s,""),r.flags&=-33);var i=Qc(e);ya(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Qc(e);ga(e,o,l);break;default:throw Error(P(161))}}catch(a){je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rg(e,t,n){$=e,Ph(e)}function Ph(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Pi;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||Ze;o=Pi;var u=Ze;if(Pi=l,(Ze=a)&&!u)for($=s;$!==null;)l=$,a=l.child,l.tag===22&&l.memoizedState!==null?Kc(s):a!==null?(a.return=l,$=a):Kc(s);for(;i!==null;)$=i,Ph(i),i=i.sibling;$=s,Pi=o,Ze=u}Hc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Hc(e)}}function Hc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&qs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ze||t.flags&512&&ma(t)}catch(v){je(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Vc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Kc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(a){je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){je(t,s,a)}}var i=t.return;try{ma(t)}catch(a){je(t,i,a)}break;case 5:var l=t.return;try{ma(t)}catch(a){je(t,l,a)}}}catch(a){je(t,t.return,a)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Tg=Math.ceil,xl=mn.ReactCurrentDispatcher,Su=mn.ReactCurrentOwner,Rt=mn.ReactCurrentBatchConfig,ie=0,Be=null,Le=null,He=0,yt=0,Ar=Kn(0),De=0,ii=null,gr=0,Dl=0,ku=0,$s=null,dt=null,Eu=0,ds=1/0,tn=null,Sl=!1,va=null,$n=null,_i=!1,Ln=null,kl=0,Us=0,wa=null,qi=-1,Gi=0;function lt(){return ie&6?Oe():qi!==-1?qi:qi=Oe()}function Un(e){return e.mode&1?ie&2&&He!==0?He&-He:hg.transition!==null?(Gi===0&&(Gi=gf()),Gi):(e=de,e!==0||(e=window.event,e=e===void 0?16:Ef(e.type)),e):1}function Ut(e,t,n,r){if(50<Us)throw Us=0,wa=null,Error(P(185));fi(e,n,r),(!(ie&2)||e!==Be)&&(e===Be&&(!(ie&2)&&(Dl|=n),De===4&&kn(e,He)),mt(e,r),n===1&&ie===0&&!(t.mode&1)&&(ds=Oe()+500,Ll&&qn()))}function mt(e,t){var n=e.callbackNode;hm(e,t);var r=il(e,e===Be?He:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?fg(qc.bind(null,e)):Bf(qc.bind(null,e)),ag(function(){!(ie&6)&&qn()}),n=null;else{switch(yf(r)){case 1:n=Ga;break;case 4:n=pf;break;case 16:n=sl;break;case 536870912:n=mf;break;default:n=sl}n=$h(n,_h.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _h(e,t){if(qi=-1,Gi=0,ie&6)throw Error(P(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=il(e,e===Be?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=El(e,r);else{t=r;var s=ie;ie|=2;var i=Fh();(Be!==e||He!==t)&&(tn=null,ds=Oe()+500,dr(e,t));do try{_g();break}catch(o){Lh(e,o)}while(!0);au(),xl.current=i,ie=s,Le!==null?t=0:(Be=null,He=0,t=De)}if(t!==0){if(t===2&&(s=Vo(e),s!==0&&(r=s,t=xa(e,s))),t===1)throw n=ii,dr(e,0),kn(e,r),mt(e,Oe()),n;if(t===6)kn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Og(s)&&(t=El(e,r),t===2&&(i=Vo(e),i!==0&&(r=i,t=xa(e,i))),t===1))throw n=ii,dr(e,0),kn(e,r),mt(e,Oe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Xn(e,dt,tn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=Eu+500-Oe(),10<t)){if(il(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ea(Xn.bind(null,e,dt,tn),t);break}Xn(e,dt,tn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-$t(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tg(r/1960))-r,10<r){e.timeoutHandle=ea(Xn.bind(null,e,dt,tn),r);break}Xn(e,dt,tn);break;case 5:Xn(e,dt,tn);break;default:throw Error(P(329))}}}return mt(e,Oe()),e.callbackNode===n?_h.bind(null,e):null}function xa(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=El(e,t),e!==2&&(t=dt,dt=n,t!==null&&Sa(t)),e}function Sa(e){dt===null?dt=e:dt.push.apply(dt,e)}function Og(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~ku,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function qc(e){if(ie&6)throw Error(P(327));Hr();var t=il(e,0);if(!(t&1))return mt(e,Oe()),null;var n=El(e,t);if(e.tag!==0&&n===2){var r=Vo(e);r!==0&&(t=r,n=xa(e,r))}if(n===1)throw n=ii,dr(e,0),kn(e,t),mt(e,Oe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,dt,tn),mt(e,Oe()),null}function Cu(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(ds=Oe()+500,Ll&&qn())}}function yr(e){Ln!==null&&Ln.tag===0&&!(ie&6)&&Hr();var t=ie;ie|=1;var n=Rt.transition,r=de;try{if(Rt.transition=null,de=1,e)return e()}finally{de=r,Rt.transition=n,ie=t,!(ie&6)&&qn()}}function Nu(){yt=Ar.current,ve(Ar)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,og(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:us(),ve(ht),ve(et),pu();break;case 5:hu(r);break;case 4:us();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:uu(r.type._context);break;case 22:case 23:Nu()}n=n.return}if(Be=e,Le=e=Bn(e.current,null),He=yt=t,De=0,ii=null,ku=Dl=gr=0,dt=$s=null,Zn!==null){for(t=0;t<Zn.length;t++)if(n=Zn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Zn=null}return e}function Lh(e,t){do{var n=Le;try{if(au(),Hi.current=wl,vl){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vl=!1}if(mr=0,Ue=ze=ke=null,Ds=!1,ni=0,Su.current=null,n===null||n.return===null){De=1,ii=t,Le=null;break}e:{var i=e,l=n.return,o=n,a=t;if(t=He,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=Fc(l);if(k!==null){k.flags&=-257,zc(k,l,o,i,t),k.mode&1&&Lc(i,u,t),t=k,a=u;var x=t.updateQueue;if(x===null){var S=new Set;S.add(a),t.updateQueue=S}else x.add(a);break e}else{if(!(t&1)){Lc(i,u,t),bu();break e}a=Error(P(426))}}else if(xe&&o.mode&1){var j=Fc(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),zc(j,l,o,i,t),lu(cs(a,o));break e}}i=a=cs(a,o),De!==4&&(De=2),$s===null?$s=[i]:$s.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=yh(i,a,t);jc(i,f);break e;case 1:o=a;var d=i.type,c=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c)))){i.flags|=65536,t&=-t,i.lanes|=t;var h=vh(i,o,t);jc(i,h);break e}}i=i.return}while(i!==null)}Ih(n)}catch(C){t=C,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Fh(){var e=xl.current;return xl.current=wl,e===null?wl:e}function bu(){(De===0||De===3||De===2)&&(De=4),Be===null||!(gr&268435455)&&!(Dl&268435455)||kn(Be,He)}function El(e,t){var n=ie;ie|=2;var r=Fh();(Be!==e||He!==t)&&(tn=null,dr(e,t));do try{Pg();break}catch(s){Lh(e,s)}while(!0);if(au(),ie=n,xl.current=r,Le!==null)throw Error(P(261));return Be=null,He=0,De}function Pg(){for(;Le!==null;)zh(Le)}function _g(){for(;Le!==null&&!sm();)zh(Le)}function zh(e){var t=Ah(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Ih(e):Le=t,Su.current=null}function Ih(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bg(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Le=null;return}}else if(n=Ng(n,t,yt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);De===0&&(De=5)}function Xn(e,t,n){var r=de,s=Rt.transition;try{Rt.transition=null,de=1,Lg(e,t,n,r)}finally{Rt.transition=s,de=r}return null}function Lg(e,t,n,r){do Hr();while(Ln!==null);if(ie&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pm(e,i),e===Be&&(Le=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_i||(_i=!0,$h(sl,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var l=de;de=1;var o=ie;ie|=4,Su.current=null,jg(e,n),Oh(n,e),eg(Jo),ll=!!Xo,Jo=Xo=null,e.current=n,Rg(n),im(),ie=o,de=l,Rt.transition=i}else e.current=n;if(_i&&(_i=!1,Ln=e,kl=s),i=e.pendingLanes,i===0&&($n=null),am(n.stateNode),mt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sl)throw Sl=!1,e=va,va=null,e;return kl&1&&e.tag!==0&&Hr(),i=e.pendingLanes,i&1?e===wa?Us++:(Us=0,wa=e):Us=0,qn(),null}function Hr(){if(Ln!==null){var e=yf(kl),t=Rt.transition,n=de;try{if(Rt.transition=null,de=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,kl=0,ie&6)throw Error(P(331));var s=ie;for(ie|=4,$=e.current;$!==null;){var i=$,l=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for($=u;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:As(8,m,i)}var p=m.child;if(p!==null)p.return=m,$=p;else for(;$!==null;){m=$;var v=m.sibling,k=m.return;if(jh(m),m===u){$=null;break}if(v!==null){v.return=k,$=v;break}$=k}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}$=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$=l;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,$=f;break e}$=i.return}}var d=e.current;for($=d;$!==null;){l=$;var c=l.child;if(l.subtreeFlags&2064&&c!==null)c.return=l,$=c;else e:for(l=d;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Il(9,o)}}catch(C){je(o,o.return,C)}if(o===l){$=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,$=h;break e}$=o.return}}if(ie=s,qn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{de=n,Rt.transition=t}}return!1}function Gc(e,t,n){t=cs(n,t),t=yh(e,t,1),e=An(e,t,1),t=lt(),e!==null&&(fi(e,1,t),mt(e,t))}function je(e,t,n){if(e.tag===3)Gc(e,e,n);else for(;t!==null;){if(t.tag===3){Gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=cs(n,e),e=vh(t,e,1),t=An(t,e,1),e=lt(),t!==null&&(fi(t,1,e),mt(t,e));break}}t=t.return}}function Fg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Oe()-Eu?dr(e,0):ku|=n),mt(e,t)}function Dh(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var n=lt();e=hn(e,t),e!==null&&(fi(e,t,n),mt(e,n))}function zg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dh(e,n)}function Ig(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Dh(e,n)}var Ah;Ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Cg(e,t,n);ft=!!(e.flags&131072)}else ft=!1,xe&&t.flags&1048576&&Qf(t,hl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ki(e,t),e=t.pendingProps;var s=ls(t,et.current);Wr(t,n),s=gu(null,t,r,e,s,n);var i=yu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(i=!0,dl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,du(t),s.updater=zl,t.stateNode=s,s._reactInternals=t,oa(t,r,e,n),t=ca(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&su(t),st(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ki(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ag(r),e=Lt(r,e),s){case 0:t=ua(null,t,r,e,n);break e;case 1:t=Ac(null,t,r,e,n);break e;case 11:t=Ic(null,t,r,e,n);break e;case 14:t=Dc(null,t,r,Lt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),ua(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ac(e,t,r,s,n);case 3:e:{if(kh(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Gf(e,t),gl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cs(Error(P(423)),t),t=$c(e,t,r,n,s);break e}else if(r!==s){s=cs(Error(P(424)),t),t=$c(e,t,r,n,s);break e}else for(vt=Dn(t.stateNode.containerInfo.firstChild),wt=t,xe=!0,Dt=null,n=Kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===s){t=pn(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return Yf(t),e===null&&sa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Zo(r,s)?l=null:i!==null&&Zo(r,i)&&(t.flags|=32),Sh(e,t),st(e,t,l,n),t.child;case 6:return e===null&&sa(t),null;case 13:return Eh(e,t,n);case 4:return fu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ic(e,t,r,s,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,pe(pl,r._currentValue),r._currentValue=l,i!==null)if(Bt(i.value,l)){if(i.children===s.children&&!ht.current){t=pn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=un(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ia(i.return,n,t),o.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),ia(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}st(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wr(t,n),s=Tt(s),r=r(s),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),Dc(e,t,r,s,n);case 15:return wh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ki(e,t),t.tag=1,pt(r)?(e=!0,dl(t)):e=!1,Wr(t,n),gh(t,r,s),oa(t,r,s,n),ca(null,t,r,!0,e,n);case 19:return Ch(e,t,n);case 22:return xh(e,t,n)}throw Error(P(156,t.tag))};function $h(e,t){return hf(e,t)}function Dg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new Dg(e,t,n,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ag(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Va)return 11;if(e===Ka)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yi(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Mu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Rr:return fr(n.children,s,i,t);case Ha:l=8,s|=8;break;case Oo:return e=jt(12,n,t,s|2),e.elementType=Oo,e.lanes=i,e;case Po:return e=jt(13,n,t,s),e.elementType=Po,e.lanes=i,e;case _o:return e=jt(19,n,t,s),e.elementType=_o,e.lanes=i,e;case Gd:return Al(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kd:l=10;break e;case qd:l=9;break e;case Va:l=11;break e;case Ka:l=14;break e;case wn:l=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=jt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function Al(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Gd,e.lanes=n,e.stateNode={isHidden:!1},e}function xo(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function So(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $g(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,s,i,l,o,a){return e=new $g(e,t,n,o,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(i),e}function Ug(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uh(e){if(!e)return Hn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(pt(n))return Uf(e,n,t)}return t}function Bh(e,t,n,r,s,i,l,o,a){return e=ju(n,r,!0,e,s,i,l,o,a),e.context=Uh(null),n=e.current,r=lt(),s=Un(n),i=un(r,s),i.callback=t??null,An(n,i,s),e.current.lanes=s,fi(e,s,r),mt(e,r),e}function $l(e,t,n,r){var s=t.current,i=lt(),l=Un(s);return n=Uh(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(s,t,l),e!==null&&(Ut(e,s,l,i),Wi(e,s,l)),l}function Cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ru(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Bg(){return null}var Qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tu(e){this._internalRoot=e}Ul.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));$l(e,t,null,null)};Ul.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){$l(null,e,null,null)}),t[fn]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=xf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&kf(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function Qg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Cl(l);i.call(u)}}var l=Bh(t,r,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=l,e[fn]=l.current,Xs(e.nodeType===8?e.parentNode:e),yr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Cl(a);o.call(u)}}var a=ju(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=a,e[fn]=a.current,Xs(e.nodeType===8?e.parentNode:e),yr(function(){$l(t,a,n,r)}),a}function Ql(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var a=Cl(l);o.call(a)}}$l(t,l,e,s)}else l=Qg(n,t,e,s,r);return Cl(l)}vf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ts(t.pendingLanes);n!==0&&(Ya(t,n|1),mt(t,Oe()),!(ie&6)&&(ds=Oe()+500,qn()))}break;case 13:yr(function(){var r=hn(e,1);if(r!==null){var s=lt();Ut(r,e,1,s)}}),Ru(e,1)}};Xa=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=lt();Ut(t,e,134217728,n)}Ru(e,134217728)}};wf=function(e){if(e.tag===13){var t=Un(e),n=hn(e,t);if(n!==null){var r=lt();Ut(n,e,t,r)}Ru(e,t)}};xf=function(){return de};Sf=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Qo=function(e,t,n){switch(t){case"input":if(zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_l(r);if(!s)throw Error(P(90));Xd(r),zo(r,s)}}}break;case"textarea":Zd(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};of=Cu;af=yr;var Wg={usingClientEntryPoint:!1,Events:[pi,_r,_l,sf,lf,Cu]},bs={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hg={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=df(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Rl=Li.inject(Hg),Yt=Li}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(P(200));return Ug(e,t,null,n)};St.createRoot=function(e,t){if(!Ou(e))throw Error(P(299));var n=!1,r="",s=Qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ju(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,Xs(e.nodeType===8?e.parentNode:e),new Tu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=df(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return yr(e)};St.hydrate=function(e,t,n){if(!Bl(t))throw Error(P(200));return Ql(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Ou(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Qh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Bh(t,null,e,1,n??null,s,!1,i,l),e[fn]=t.current,Xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ul(t)};St.render=function(e,t,n){if(!Bl(t))throw Error(P(200));return Ql(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(P(40));return e._reactRootContainer?(yr(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};St.unstable_batchedUpdates=Cu;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ql(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Qd.exports=St;var Pu=Qd.exports,Hh,Jc=Pu;Hh=Jc.createRoot,Jc.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},En,Ia,Sd,Kg=(Sd=class{constructor(){V(this,En,Vg);V(this,Ia,!1)}setTimeoutProvider(e){z(this,En,e)}setTimeout(e,t){return y(this,En).setTimeout(e,t)}clearTimeout(e){y(this,En).clearTimeout(e)}setInterval(e,t){return y(this,En).setInterval(e,t)}clearInterval(e){y(this,En).clearInterval(e)}},En=new WeakMap,Ia=new WeakMap,Sd),tr=new Kg;function qg(e){setTimeout(e,0)}var vr=typeof window>"u"||"Deno"in globalThis;function it(){}function Gg(e,t){return typeof e=="function"?e(t):e}function ka(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qn(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function Zc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==_u(l,t.options))return!1}else if(!li(t.queryKey,l))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function ed(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(wr(t.options.mutationKey)!==wr(i))return!1}else if(!li(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _u(e,t){return((t==null?void 0:t.queryKeyHashFn)||wr)(e)}function wr(e){return JSON.stringify(e,(t,n)=>Ea(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function li(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>li(e[n],t[n])):!1}var Yg=Object.prototype.hasOwnProperty;function Kh(e,t){if(e===t)return e;const n=td(e)&&td(t);if(!n&&!(Ea(e)&&Ea(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,o=n?new Array(l):{};let a=0;for(let u=0;u<l;u++){const m=n?u:i[u],p=e[m],v=t[m];if(p===v){o[m]=p,(n?u<s:Yg.call(e,m))&&a++;continue}if(p===null||v===null||typeof p!="object"||typeof v!="object"){o[m]=v;continue}const k=Kh(p,v);o[m]=k,k===p&&a++}return s===l&&a===s?e:o}function Nl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function td(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ea(e){if(!nd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!nd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xg(e){return new Promise(t=>{tr.setTimeout(t,e)})}function Ca(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Kh(e,t):t}function Jg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Zg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Lu=Symbol();function qh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Gh(e,t){return typeof e=="function"?e(...t):!!e}var nr,Cn,Kr,kd,ey=(kd=class extends ms{constructor(){super();V(this,nr);V(this,Cn);V(this,Kr);z(this,Kr,t=>{if(!vr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,Cn)||this.setEventListener(y(this,Kr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Cn))==null||t.call(this),z(this,Cn,void 0))}setEventListener(t){var n;z(this,Kr,t),(n=y(this,Cn))==null||n.call(this),z(this,Cn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,nr)!==t&&(z(this,nr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,nr)=="boolean"?y(this,nr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nr=new WeakMap,Cn=new WeakMap,Kr=new WeakMap,kd),Fu=new ey;function Na(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var ty=qg;function ny(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=ty;const i=o=>{t?e.push(o):s(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(a=>{n(a)})})})};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||l()}return a},batchCalls:o=>(...a)=>{i(()=>{o(...a)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ie=ny(),qr,Nn,Gr,Ed,ry=(Ed=class extends ms{constructor(){super();V(this,qr,!0);V(this,Nn);V(this,Gr);z(this,Gr,t=>{if(!vr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Nn)||this.setEventListener(y(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Nn))==null||t.call(this),z(this,Nn,void 0))}setEventListener(t){var n;z(this,Gr,t),(n=y(this,Nn))==null||n.call(this),z(this,Nn,t(this.setOnline.bind(this)))}setOnline(t){y(this,qr)!==t&&(z(this,qr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,qr)}},qr=new WeakMap,Nn=new WeakMap,Gr=new WeakMap,Ed),bl=new ry;function sy(e){return Math.min(1e3*2**e,3e4)}function Yh(e){return(e??"online")==="online"?bl.isOnline():!0}var ba=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xh(e){let t=!1,n=0,r;const s=Na(),i=()=>s.status!=="pending",l=S=>{var j;if(!i()){const f=new ba(S);v(f),(j=e.onCancel)==null||j.call(e,f)}},o=()=>{t=!0},a=()=>{t=!1},u=()=>Fu.isFocused()&&(e.networkMode==="always"||bl.isOnline())&&e.canRun(),m=()=>Yh(e.networkMode)&&e.canRun(),p=S=>{i()||(r==null||r(),s.resolve(S))},v=S=>{i()||(r==null||r(),s.reject(S))},k=()=>new Promise(S=>{var j;r=f=>{(i()||u())&&S(f)},(j=e.onPause)==null||j.call(e)}).then(()=>{var S;r=void 0,i()||(S=e.onContinue)==null||S.call(e)}),x=()=>{if(i())return;let S;const j=n===0?e.initialPromise:void 0;try{S=j??e.fn()}catch(f){S=Promise.reject(f)}Promise.resolve(S).then(p).catch(f=>{var E;if(i())return;const d=e.retry??(vr?0:3),c=e.retryDelay??sy,h=typeof c=="function"?c(n,f):c,C=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,f);if(t||!C){v(f);return}n++,(E=e.onFail)==null||E.call(e,n,f),Xg(h).then(()=>u()?void 0:k()).then(()=>{t?v(f):x()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:a,canStart:m,start:()=>(m()?x():k().then(x),s)}}var rr,Cd,Jh=(Cd=class{constructor(){V(this,rr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ka(this.gcTime)&&z(this,rr,tr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vr?1/0:5*60*1e3))}clearGcTimeout(){y(this,rr)&&(tr.clearTimeout(y(this,rr)),z(this,rr,void 0))}},rr=new WeakMap,Cd),sr,Yr,Ct,ir,$e,oi,lr,Ft,en,Nd,iy=(Nd=class extends Jh{constructor(t){super();V(this,Ft);V(this,sr);V(this,Yr);V(this,Ct);V(this,ir);V(this,$e);V(this,oi);V(this,lr);z(this,lr,!1),z(this,oi,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,ir,t.client),z(this,Ct,y(this,ir).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,sr,rd(this.options)),this.state=t.state??y(this,sr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,$e))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,oi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=rd(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),z(this,sr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Ct).remove(this)}setData(t,n){const r=Ca(this.state.data,t,this.options);return X(this,Ft,en).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){X(this,Ft,en).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,$e))==null?void 0:r.promise;return(s=y(this,$e))==null||s.cancel(t),n?n.then(it).catch(it):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,sr))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Vh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,$e))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,$e))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,$e)&&(y(this,lr)?y(this,$e).cancel({revert:!0}):y(this,$e).cancelRetry()),this.scheduleGc()),y(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,Ft,en).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,m,p,v,k,x,S,j,f,d,c;if(this.state.fetchStatus!=="idle"&&((a=y(this,$e))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,$e))return y(this,$e).continueRetry(),y(this,$e).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(C=>C.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(z(this,lr,!0),r.signal)})},i=()=>{const h=qh(this.options,n),E=(()=>{const b={client:y(this,ir),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return z(this,lr,!1),this.options.persister?this.options.persister(h,E,this):h(E)},o=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,ir),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),z(this,Yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&X(this,Ft,en).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),z(this,$e,Xh({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:h=>{h instanceof ba&&h.revert&&this.setState({...y(this,Yr),fetchStatus:"idle"}),r.abort()},onFail:(h,C)=>{X(this,Ft,en).call(this,{type:"failed",failureCount:h,error:C})},onPause:()=>{X(this,Ft,en).call(this,{type:"pause"})},onContinue:()=>{X(this,Ft,en).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const h=await y(this,$e).start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),(k=(v=y(this,Ct).config).onSuccess)==null||k.call(v,h,this),(S=(x=y(this,Ct).config).onSettled)==null||S.call(x,h,this.state.error,this),h}catch(h){if(h instanceof ba){if(h.silent)return y(this,$e).promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw X(this,Ft,en).call(this,{type:"error",error:h}),(f=(j=y(this,Ct).config).onError)==null||f.call(j,h,this),(c=(d=y(this,Ct).config).onSettled)==null||c.call(d,this.state.data,h,this),h}finally{this.scheduleGc()}}},sr=new WeakMap,Yr=new WeakMap,Ct=new WeakMap,ir=new WeakMap,$e=new WeakMap,oi=new WeakMap,lr=new WeakMap,Ft=new WeakSet,en=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Zh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,Yr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ie.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Ct).notify({query:this,type:"updated",action:t})})},Nd);function Zh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ut,ne,ai,nt,or,Xr,rn,bn,ui,Jr,Zr,ar,ur,Mn,es,ue,Ps,Ma,ja,Ra,Ta,Oa,Pa,_a,ep,bd,ly=(bd=class extends ms{constructor(t,n){super();V(this,ue);V(this,ut);V(this,ne);V(this,ai);V(this,nt);V(this,or);V(this,Xr);V(this,rn);V(this,bn);V(this,ui);V(this,Jr);V(this,Zr);V(this,ar);V(this,ur);V(this,Mn);V(this,es,new Set);this.options=n,z(this,ut,t),z(this,bn,null),z(this,rn,Na()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,ne).addObserver(this),sd(y(this,ne),this.options)?X(this,ue,Ps).call(this):this.updateResult(),X(this,ue,Ta).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return La(y(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return La(y(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ue,Oa).call(this),X(this,ue,Pa).call(this),y(this,ne).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,ne);if(this.options=y(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,y(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ue,_a).call(this),y(this,ne).setOptions(this.options),n._defaulted&&!Nl(this.options,n)&&y(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,ne),observer:this});const s=this.hasListeners();s&&id(y(this,ne),r,this.options,n)&&X(this,ue,Ps).call(this),this.updateResult(),s&&(y(this,ne)!==r||Nt(this.options.enabled,y(this,ne))!==Nt(n.enabled,y(this,ne))||Qn(this.options.staleTime,y(this,ne))!==Qn(n.staleTime,y(this,ne)))&&X(this,ue,Ma).call(this);const i=X(this,ue,ja).call(this);s&&(y(this,ne)!==r||Nt(this.options.enabled,y(this,ne))!==Nt(n.enabled,y(this,ne))||i!==y(this,Mn))&&X(this,ue,Ra).call(this,i)}getOptimisticResult(t){const n=y(this,ut).getQueryCache().build(y(this,ut),t),r=this.createResult(n,t);return ay(this,r)&&(z(this,nt,r),z(this,Xr,this.options),z(this,or,y(this,ne).state)),r}getCurrentResult(){return y(this,nt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&y(this,rn).status==="pending"&&y(this,rn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){y(this,es).add(t)}getCurrentQuery(){return y(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,ut).defaultQueryOptions(t),r=y(this,ut).getQueryCache().build(y(this,ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return X(this,ue,Ps).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,nt)))}createResult(t,n){var R;const r=y(this,ne),s=this.options,i=y(this,nt),l=y(this,or),o=y(this,Xr),u=t!==r?t.state:y(this,ai),{state:m}=t;let p={...m},v=!1,k;if(n._optimisticResults){const L=this.hasListeners(),D=!L&&sd(t,n),W=L&&id(t,r,n,s);(D||W)&&(p={...p,...Zh(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:j}=p;k=p.data;let f=!1;if(n.placeholderData!==void 0&&k===void 0&&j==="pending"){let L;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(L=i.data,f=!0):L=typeof n.placeholderData=="function"?n.placeholderData((R=y(this,Zr))==null?void 0:R.state.data,y(this,Zr)):n.placeholderData,L!==void 0&&(j="success",k=Ca(i==null?void 0:i.data,L,n),v=!0)}if(n.select&&k!==void 0&&!f)if(i&&k===(l==null?void 0:l.data)&&n.select===y(this,ui))k=y(this,Jr);else try{z(this,ui,n.select),k=n.select(k),k=Ca(i==null?void 0:i.data,k,n),z(this,Jr,k),z(this,bn,null)}catch(L){z(this,bn,L)}y(this,bn)&&(x=y(this,bn),k=y(this,Jr),S=Date.now(),j="error");const d=p.fetchStatus==="fetching",c=j==="pending",h=j==="error",C=c&&d,E=k!==void 0,M={status:j,fetchStatus:p.fetchStatus,isPending:c,isSuccess:j==="success",isError:h,isInitialLoading:C,isLoading:C,data:k,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!c,isLoadingError:h&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:h&&E,isStale:zu(t,n),refetch:this.refetch,promise:y(this,rn),isEnabled:Nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=q=>{M.status==="error"?q.reject(M.error):M.data!==void 0&&q.resolve(M.data)},D=()=>{const q=z(this,rn,M.promise=Na());L(q)},W=y(this,rn);switch(W.status){case"pending":t.queryHash===r.queryHash&&L(W);break;case"fulfilled":(M.status==="error"||M.data!==W.value)&&D();break;case"rejected":(M.status!=="error"||M.error!==W.reason)&&D();break}}return M}updateResult(){const t=y(this,nt),n=this.createResult(y(this,ne),this.options);if(z(this,or,y(this,ne).state),z(this,Xr,this.options),y(this,or).data!==void 0&&z(this,Zr,y(this,ne)),Nl(n,t))return;z(this,nt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,es).size)return!0;const l=new Set(i??y(this,es));return this.options.throwOnError&&l.add("error"),Object.keys(y(this,nt)).some(o=>{const a=o;return y(this,nt)[a]!==t[a]&&l.has(a)})};X(this,ue,ep).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ue,Ta).call(this)}},ut=new WeakMap,ne=new WeakMap,ai=new WeakMap,nt=new WeakMap,or=new WeakMap,Xr=new WeakMap,rn=new WeakMap,bn=new WeakMap,ui=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,ar=new WeakMap,ur=new WeakMap,Mn=new WeakMap,es=new WeakMap,ue=new WeakSet,Ps=function(t){X(this,ue,_a).call(this);let n=y(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(it)),n},Ma=function(){X(this,ue,Oa).call(this);const t=Qn(this.options.staleTime,y(this,ne));if(vr||y(this,nt).isStale||!ka(t))return;const r=Vh(y(this,nt).dataUpdatedAt,t)+1;z(this,ar,tr.setTimeout(()=>{y(this,nt).isStale||this.updateResult()},r))},ja=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,ne)):this.options.refetchInterval)??!1},Ra=function(t){X(this,ue,Pa).call(this),z(this,Mn,t),!(vr||Nt(this.options.enabled,y(this,ne))===!1||!ka(y(this,Mn))||y(this,Mn)===0)&&z(this,ur,tr.setInterval(()=>{(this.options.refetchIntervalInBackground||Fu.isFocused())&&X(this,ue,Ps).call(this)},y(this,Mn)))},Ta=function(){X(this,ue,Ma).call(this),X(this,ue,Ra).call(this,X(this,ue,ja).call(this))},Oa=function(){y(this,ar)&&(tr.clearTimeout(y(this,ar)),z(this,ar,void 0))},Pa=function(){y(this,ur)&&(tr.clearInterval(y(this,ur)),z(this,ur,void 0))},_a=function(){const t=y(this,ut).getQueryCache().build(y(this,ut),this.options);if(t===y(this,ne))return;const n=y(this,ne);z(this,ne,t),z(this,ai,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ep=function(t){Ie.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,nt))}),y(this,ut).getQueryCache().notify({query:y(this,ne),type:"observerResultsUpdated"})})},bd);function oy(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sd(e,t){return oy(e,t)||e.state.data!==void 0&&La(e,t,t.refetchOnMount)}function La(e,t,n){if(Nt(t.enabled,e)!==!1&&Qn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&zu(e,t)}return!1}function id(e,t,n,r){return(e!==t||Nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zu(e,n)}function zu(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Qn(t.staleTime,e))}function ay(e,t){return!Nl(e.getCurrentResult(),t)}function ld(e){return{onFetch:(t,n)=>{var m,p,v,k,x;const r=t.options,s=(v=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,i=((k=t.state.data)==null?void 0:k.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},a=0;const u=async()=>{let S=!1;const j=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},f=qh(t.options,t.fetchOptions),d=async(c,h,C)=>{if(S)return Promise.reject();if(h==null&&c.pages.length)return Promise.resolve(c);const b=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:h,direction:C?"backward":"forward",meta:t.options.meta};return j(D),D})(),M=await f(b),{maxPages:R}=t.options,L=C?Zg:Jg;return{pages:L(c.pages,M,R),pageParams:L(c.pageParams,h,R)}};if(s&&i.length){const c=s==="backward",h=c?uy:od,C={pages:i,pageParams:l},E=h(r,C);o=await d(C,E,c)}else{const c=e??i.length;do{const h=a===0?l[0]??r.initialPageParam:od(r,o);if(a>0&&h==null)break;o=await d(o,h),a++}while(a<c)}return o};t.options.persister?t.fetchFn=()=>{var S,j;return(j=(S=t.options).persister)==null?void 0:j.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function od(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function uy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Vt,rt,cr,Kt,vn,Md,cy=(Md=class extends Jh{constructor(t){super();V(this,Kt);V(this,Vt);V(this,rt);V(this,cr);this.mutationId=t.mutationId,z(this,rt,t.mutationCache),z(this,Vt,[]),this.state=t.state||tp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Vt).includes(t)||(y(this,Vt).push(t),this.clearGcTimeout(),y(this,rt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,Vt,y(this,Vt).filter(n=>n!==t)),this.scheduleGc(),y(this,rt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Vt).length||(this.state.status==="pending"?this.scheduleGc():y(this,rt).remove(this))}continue(){var t;return((t=y(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,o,a,u,m,p,v,k,x,S,j,f,d,c,h,C,E,b,M;const n=()=>{X(this,Kt,vn).call(this,{type:"continue"})};z(this,cr,Xh({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,L)=>{X(this,Kt,vn).call(this,{type:"failed",failureCount:R,error:L})},onPause:()=>{X(this,Kt,vn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,rt).canRun(this)}));const r=this.state.status==="pending",s=!y(this,cr).canStart();try{if(r)n();else{X(this,Kt,vn).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=y(this,rt).config).onMutate)==null?void 0:l.call(i,t,this));const L=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));L!==this.state.context&&X(this,Kt,vn).call(this,{type:"pending",context:L,variables:t,isPaused:s})}const R=await y(this,cr).start();return await((m=(u=y(this,rt).config).onSuccess)==null?void 0:m.call(u,R,t,this.state.context,this)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,R,t,this.state.context)),await((x=(k=y(this,rt).config).onSettled)==null?void 0:x.call(k,R,null,this.state.variables,this.state.context,this)),await((j=(S=this.options).onSettled)==null?void 0:j.call(S,R,null,t,this.state.context)),X(this,Kt,vn).call(this,{type:"success",data:R}),R}catch(R){try{throw await((d=(f=y(this,rt).config).onError)==null?void 0:d.call(f,R,t,this.state.context,this)),await((h=(c=this.options).onError)==null?void 0:h.call(c,R,t,this.state.context)),await((E=(C=y(this,rt).config).onSettled)==null?void 0:E.call(C,void 0,R,this.state.variables,this.state.context,this)),await((M=(b=this.options).onSettled)==null?void 0:M.call(b,void 0,R,t,this.state.context)),R}finally{X(this,Kt,vn).call(this,{type:"error",error:R})}}finally{y(this,rt).runNext(this)}}},Vt=new WeakMap,rt=new WeakMap,cr=new WeakMap,Kt=new WeakSet,vn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ie.batch(()=>{y(this,Vt).forEach(r=>{r.onMutationUpdate(t)}),y(this,rt).notify({mutation:this,type:"updated",action:t})})},Md);function tp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,zt,ci,jd,dy=(jd=class extends ms{constructor(t={}){super();V(this,sn);V(this,zt);V(this,ci);this.config=t,z(this,sn,new Set),z(this,zt,new Map),z(this,ci,0)}build(t,n,r){const s=new cy({mutationCache:this,mutationId:++yi(this,ci)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,sn).add(t);const n=Fi(t);if(typeof n=="string"){const r=y(this,zt).get(n);r?r.push(t):y(this,zt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,sn).delete(t)){const n=Fi(t);if(typeof n=="string"){const r=y(this,zt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,zt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fi(t);if(typeof n=="string"){const r=y(this,zt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Fi(t);if(typeof n=="string"){const s=(r=y(this,zt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ie.batch(()=>{y(this,sn).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,sn).clear(),y(this,zt).clear()})}getAll(){return Array.from(y(this,sn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ed(n,r))}findAll(t={}){return this.getAll().filter(n=>ed(t,n))}notify(t){Ie.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ie.batch(()=>Promise.all(t.map(n=>n.continue().catch(it))))}},sn=new WeakMap,zt=new WeakMap,ci=new WeakMap,jd);function Fi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var jn,Rn,ct,ln,cn,Xi,Fa,Rd,fy=(Rd=class extends ms{constructor(n,r){super();V(this,cn);V(this,jn);V(this,Rn);V(this,ct);V(this,ln);z(this,jn,n),this.setOptions(r),this.bindMethods(),X(this,cn,Xi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,jn).defaultMutationOptions(n),Nl(this.options,r)||y(this,jn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():((s=y(this,ct))==null?void 0:s.state.status)==="pending"&&y(this,ct).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,ct))==null||n.removeObserver(this)}onMutationUpdate(n){X(this,cn,Xi).call(this),X(this,cn,Fa).call(this,n)}getCurrentResult(){return y(this,Rn)}reset(){var n;(n=y(this,ct))==null||n.removeObserver(this),z(this,ct,void 0),X(this,cn,Xi).call(this),X(this,cn,Fa).call(this)}mutate(n,r){var s;return z(this,ln,r),(s=y(this,ct))==null||s.removeObserver(this),z(this,ct,y(this,jn).getMutationCache().build(y(this,jn),this.options)),y(this,ct).addObserver(this),y(this,ct).execute(n)}},jn=new WeakMap,Rn=new WeakMap,ct=new WeakMap,ln=new WeakMap,cn=new WeakSet,Xi=function(){var r;const n=((r=y(this,ct))==null?void 0:r.state)??tp();z(this,Rn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Fa=function(n){Ie.batch(()=>{var r,s,i,l,o,a,u,m;if(y(this,ln)&&this.hasListeners()){const p=y(this,Rn).variables,v=y(this,Rn).context;(n==null?void 0:n.type)==="success"?((s=(r=y(this,ln)).onSuccess)==null||s.call(r,n.data,p,v),(l=(i=y(this,ln)).onSettled)==null||l.call(i,n.data,null,p,v)):(n==null?void 0:n.type)==="error"&&((a=(o=y(this,ln)).onError)==null||a.call(o,n.error,p,v),(m=(u=y(this,ln)).onSettled)==null||m.call(u,void 0,n.error,p,v))}this.listeners.forEach(p=>{p(y(this,Rn))})})},Rd),qt,Td,hy=(Td=class extends ms{constructor(t={}){super();V(this,qt);this.config=t,z(this,qt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??_u(s,n);let l=this.get(i);return l||(l=new iy({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){y(this,qt).has(t.queryHash)||(y(this,qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,qt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ie.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,qt).get(t)}getAll(){return[...y(this,qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Zc(t,r)):n}notify(t){Ie.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ie.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ie.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qt=new WeakMap,Td),Me,Tn,On,ts,ns,Pn,rs,ss,Od,py=(Od=class{constructor(e={}){V(this,Me);V(this,Tn);V(this,On);V(this,ts);V(this,ns);V(this,Pn);V(this,rs);V(this,ss);z(this,Me,e.queryCache||new hy),z(this,Tn,e.mutationCache||new dy),z(this,On,e.defaultOptions||{}),z(this,ts,new Map),z(this,ns,new Map),z(this,Pn,0)}mount(){yi(this,Pn)._++,y(this,Pn)===1&&(z(this,rs,Fu.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Me).onFocus())})),z(this,ss,bl.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Me).onOnline())})))}unmount(){var e,t;yi(this,Pn)._--,y(this,Pn)===0&&((e=y(this,rs))==null||e.call(this),z(this,rs,void 0),(t=y(this,ss))==null||t.call(this),z(this,ss,void 0))}isFetching(e){return y(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Tn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,Me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,Me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,Me).get(r.queryHash),i=s==null?void 0:s.state.data,l=Gg(t,i);if(l!==void 0)return y(this,Me).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Ie.batch(()=>y(this,Me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,Me);Ie.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,Me);return Ie.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ie.batch(()=>y(this,Me).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(it).catch(it)}invalidateQueries(e,t={}){return Ie.batch(()=>(y(this,Me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ie.batch(()=>y(this,Me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(it)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(it)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,Me).build(this,t);return n.isStaleByTime(Qn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(it).catch(it)}fetchInfiniteQuery(e){return e.behavior=ld(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(it).catch(it)}ensureInfiniteQueryData(e){return e.behavior=ld(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bl.isOnline()?y(this,Tn).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Me)}getMutationCache(){return y(this,Tn)}getDefaultOptions(){return y(this,On)}setDefaultOptions(e){z(this,On,e)}setQueryDefaults(e,t){y(this,ts).set(wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,ts).values()],n={};return t.forEach(r=>{li(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,ns).set(wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ns).values()],n={};return t.forEach(r=>{li(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,On).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_u(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,On).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,Me).clear(),y(this,Tn).clear()}},Me=new WeakMap,Tn=new WeakMap,On=new WeakMap,ts=new WeakMap,ns=new WeakMap,Pn=new WeakMap,rs=new WeakMap,ss=new WeakMap,Od),np=w.createContext(void 0),gi=e=>{const t=w.useContext(np);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},my=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(np.Provider,{value:e,children:t})),rp=w.createContext(!1),gy=()=>w.useContext(rp);rp.Provider;function yy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vy=w.createContext(yy()),wy=()=>w.useContext(vy),xy=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Sy=e=>{w.useEffect(()=>{e.clearReset()},[e])},ky=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Gh(n,[e.error,r])),Ey=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Cy=(e,t)=>e.isLoading&&e.isFetching&&!t,Ny=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ad=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function by(e,t,n){var p,v,k,x,S;const r=gy(),s=wy(),i=gi(),l=i.defaultQueryOptions(e);(v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,l),l._optimisticResults=r?"isRestoring":"optimistic",Ey(l),xy(l,s),Sy(s);const o=!i.getQueryCache().get(l.queryHash),[a]=w.useState(()=>new t(i,l)),u=a.getOptimisticResult(l),m=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(j=>{const f=m?a.subscribe(Ie.batchCalls(j)):it;return a.updateResult(),f},[a,m]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),w.useEffect(()=>{a.setOptions(l)},[l,a]),Ny(l,u))throw ad(l,a,s);if(ky({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((x=(k=i.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||x.call(k,l,u),l.experimental_prefetchInRender&&!vr&&Cy(u,r)){const j=o?ad(l,a,s):(S=i.getQueryCache().get(l.queryHash))==null?void 0:S.promise;j==null||j.catch(it).finally(()=>{a.updateResult()})}return l.notifyOnChangeProps?u:a.trackResult(u)}function Iu(e,t){return by(e,ly)}function My(e,t){const n=gi(),[r]=w.useState(()=>new fy(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const s=w.useSyncExternalStore(w.useCallback(l=>r.subscribe(Ie.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=w.useCallback((l,o)=>{r.mutate(l,o).catch(it)},[r]);if(s.error&&Gh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function jy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:l,onSortChange:o,filterCount:a,onOpenFilters:u,views:m,activeViewId:p,onApplyView:v,onSaveView:k,starFilters:x,onToggleStar:S,onClearStars:j,starCounts:f,viewMode:d,onViewMode:c,gridItemSize:h,onGridItemSize:C,leftOpen:E,rightOpen:b,onToggleLeft:M,onToggleRight:R,onPrevImage:L,onNextImage:D,canPrevImage:W,canNextImage:q}){const[U,he]=w.useState(!1),[me,fe]=w.useState(!1),_=w.useRef(null),I=w.useRef(null);w.useEffect(()=>{const H=Fe=>{const ge=Fe.target;U&&_.current&&!_.current.contains(ge)&&he(!1),me&&I.current&&!I.current.contains(ge)&&fe(!1)};return(U||me)&&window.addEventListener("click",H),()=>window.removeEventListener("click",H)},[U,me]);const Q=i??{kind:"builtin",key:"added",dir:"desc"},le=Ry(Q),oe=Q.dir,tt=Q.kind==="builtin"&&Q.key==="random";return g.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-toolbar col-span-full row-start-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[t&&g.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:n,children:" Back"}),!t&&g.jsxs("div",{className:"flex gap-2 items-center relative",children:[g.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:d||"grid",onChange:H=>c&&c(H.target.value),title:"View mode",children:[g.jsx("option",{value:"grid",children:"Grid"}),g.jsx("option",{value:"adaptive",children:"Adaptive"})]}),g.jsx("div",{className:"w-px h-5 bg-border mx-1"}),g.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:le,onChange:H=>o&&o(Ty(H.target.value,Q)),title:"Sort by",children:[g.jsx("option",{value:"builtin:added",children:"Date added"}),g.jsx("option",{value:"builtin:name",children:"Filename"}),g.jsx("option",{value:"builtin:random",children:"Random"}),l&&l.length>0&&g.jsx("optgroup",{label:"Metrics",children:l.map(H=>g.jsx("option",{value:`metric:${H}`,children:H},H))})]}),g.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{o&&o(tt?Q:{...Q,dir:oe==="desc"?"asc":"desc"})},title:tt?"Shuffle":"Toggle sort",children:tt?"":oe==="desc"?"":""}),g.jsxs("button",{className:`h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5 ${a?"bg-accent/15 border-accent/30":""}`,onClick:u,title:"Open filters",children:[g.jsx("span",{className:"text-[13px]",children:"Filter"}),a?g.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded-full bg-accent/30 text-text",children:a}):null]}),g.jsxs("div",{ref:_,children:[g.jsxs("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>he(H=>!H),title:"Filter by rating","aria-haspopup":"dialog","aria-expanded":U,children:[g.jsx("span",{className:"text-sm",children:""}),g.jsx("span",{className:"text-[13px]",children:"Rating"})]}),U&&g.jsxs("div",{role:"dialog","aria-label":"Filter by rating",className:"absolute top-[38px] left-0 bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[200px]",onKeyDown:H=>{H.key==="Escape"&&he(!1)},children:[[5,4,3,2,1].map(H=>{const Fe=!!(x||[]).includes(H),ge=(f==null?void 0:f[String(H)])??0;return g.jsxs("div",{onClick:()=>S&&S(H),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${Fe?"bg-accent/15":""}`,children:[g.jsxs("div",{className:`text-[13px] ${Fe?"text-[#ffd166]":"text-text"}`,children:["".repeat(H),"".repeat(5-H)]}),g.jsx("div",{className:"opacity-80 text-xs",children:ge})]},H)}),(()=>{const H=!!(x||[]).includes(0);return g.jsxs("div",{onClick:()=>S&&S(0),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${H?"bg-accent/15":""}`,children:[g.jsx("div",{className:"text-[13px] text-text",children:"None"}),g.jsx("div",{className:"opacity-80 text-xs",children:(f==null?void 0:f["0"])??0})]})})(),g.jsx("div",{className:"h-px bg-border my-1.5"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"h-[26px] px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:j,children:"All"})})]})]}),(()=>{const H=x||[];if(!H.length)return null;const Fe=H.filter(Pe=>Pe>0).sort((Pe,F)=>F-Pe),ge=Fe.length?Fe.join(","):H.includes(0)?"None":"";return g.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 pl-1.5 bg-accent/20 border border-border text-text rounded-[10px] h-[26px]","aria-label":`Rating filter active: ${ge}`,title:`Rating filter: ${ge}`,children:[g.jsx("span",{className:"text-[#ffd166] text-[13px] leading-none",children:""}),g.jsx("span",{className:"text-[13px] opacity-95",children:ge}),g.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":"Clear rating filter",onClick:j,children:""})]})})()]})]}),g.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:H=>s&&s(Number(H.target.value)),className:"zoom-slider"}),g.jsxs("span",{className:"text-xs opacity-80 min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):C&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-muted",children:"Size"}),g.jsx("input",{type:"range",min:80,max:500,step:10,value:h??220,onChange:H=>C(Number(H.target.value)),className:"w-32 h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text","aria-label":"Thumbnail size"})]})}),g.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&g.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[g.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${W?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>W&&L&&L(),"aria-label":"Previous image","aria-disabled":!W,children:g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M15 18l-6-6 6-6"})})}),g.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${q?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>q&&D&&D(),"aria-label":"Next image","aria-disabled":!q,children:g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),!t&&g.jsxs("div",{ref:I,className:"relative",children:[g.jsxs("button",{className:"h-8 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>fe(H=>!H),"aria-haspopup":"dialog","aria-expanded":me,title:"Smart Folders",children:[g.jsx("span",{className:"text-sm",children:"Views"}),g.jsx("span",{className:"text-xs opacity-70",children:""})]}),me&&g.jsxs("div",{role:"dialog","aria-label":"Smart Folders",className:"absolute right-0 top-[38px] bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[220px]",children:[g.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted px-1.5 py-1",children:"Smart Folders"}),g.jsx("div",{className:"max-h-[220px] overflow-auto scrollbar-thin",children:m&&m.length>0?m.map(H=>{const Fe=H.id===p;return g.jsx("button",{className:`w-full text-left px-2 py-1.5 rounded-md text-sm cursor-pointer ${Fe?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{fe(!1),v&&v(H)},children:H.name},H.id)}):g.jsx("div",{className:"text-xs text-muted px-2 py-2",children:"No saved views yet."})}),g.jsx("div",{className:"h-px bg-border my-1.5"}),g.jsx("button",{className:"w-full h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{fe(!1),k&&k()},children:"Save as Smart Folder"})]})]}),g.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[g.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${E?"opacity-100":"opacity-60"}`,title:E?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:M,"aria-pressed":E,"aria-label":"Toggle left panel",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),g.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),g.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${b?"opacity-100":"opacity-60"}`,title:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:R,"aria-pressed":b,"aria-label":"Toggle right panel",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),g.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),g.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:H=>e(H.target.value),className:"input h-8 w-[220px] focus:w-[280px] transition-all duration-200 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text"})]})]})}function Ry(e){return e.kind==="metric"?`metric:${e.key}`:`builtin:${e.key}`}function Ty(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const sp=3e4;class At extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Et(e,t={}){const{timeoutMs:n=sp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function zi(e,t={}){const{timeoutMs:n=sp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class ip{constructor(t){Cr(this,"store",new Map);Cr(this,"inflight",new Map);Cr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),l=typeof i=="object"&&"promise"in i,o=l?i.promise:i,a=l?i.abort:void 0,u=o.then(m=>(this.set(t,m),m)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,l=s?r.abort:void 0,o=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:o,abort:l})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Mr=new ip(60*1024*1024),za=new ip(20*1024*1024),ko={};function Oy(){const e=ko==null?void 0:ko.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const l=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:l?"":i.origin}const Je=Oy();const Py=40*1024*1024,ce={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Et(`${Je}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Et(`${Je}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return Et(`${Je}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>Et(`${Je}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Et(`${Je}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Et(`${Je}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>za.getOrFetch(e,()=>zi(`${Je}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{za.prefetch(e,()=>zi(`${Je}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Mr.getOrFetch(e,()=>zi(`${Je}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Mr.has(e)||Mr.isInflight(e)))try{const t=await zi(`${Je}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Py&&Mr.set(e,t)}catch{}},cancelPrefetch:e=>{Mr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Et(`${Je}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Et(`${Je}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Et(`${Je}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Et(`${Je}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>Et(`${Je}/views`).promise,saveViews:e=>Et(`${Je}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},_y=e=>["folder",e];function lp(e){return Iu({queryKey:_y(e),queryFn:()=>ce.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Eo(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Ly(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const l=Math.ceil((i-1)/2),o=Math.floor((i-1)/2);return s.slice(0,l)+""+s.slice(-o)+r}function Co(e){try{return JSON.parse(e)}catch{return}}const Fy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Vr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Fy.test(s)?s:"/"}catch{return"/"}}function ud(){return(window.location.hash||"").replace(/^#/,"")}function zy(e){const t=Vr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Iy(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Dy(e){const n=Vr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function Ay(e){return e.endsWith("/_trash_")}function $y({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:l,showResizeHandle:o=!0}){const[a,u]=w.useState(new Set(["/"]));w.useEffect(()=>{const p=e.split("/").filter(Boolean),v=["/"];let k="";for(const x of p)k=k?`${k}/${x}`:`/${x}`,v.push(k);u(x=>{const S=new Set(x);for(const j of v)S.add(j);return S})},[e]);const m=l??"h-full overflow-auto bg-panel scrollbar-thin";return g.jsxs("div",{className:m,children:[g.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(p=>g.jsx(op,{path:p.path,label:p.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},p.path))}),o&&g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function op({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o,initial:a}){var f,d,c;const u=s.has(e),{data:m}=lp(e),p=a&&e===a.path?a:m,v=r===e,k=(((f=p==null?void 0:p.dirs)==null?void 0:f.length)??0)===0,x=k?((d=p==null?void 0:p.items)==null?void 0:d.length)??0:0,S=gi(),j=h=>{h.stopPropagation(),i(C=>{const E=new Set(C);return E.has(e)?E.delete(e):E.add(e),E})};return g.jsxs("div",{children:[g.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${v?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":k?void 0:u,"aria-selected":v,tabIndex:v?0:-1,style:{paddingLeft:8+n*14},onClick:()=>l(e),onContextMenu:h=>{h.preventDefault(),h.stopPropagation(),o&&o(h,e)},onKeyDown:h=>{var C;if(h.key==="Enter")h.preventDefault(),l(e);else if(h.key==="ArrowRight")!k&&!u&&(h.preventDefault(),i(E=>{const b=new Set(E);return b.add(e),b}));else if(h.key==="ArrowLeft")!k&&u&&(h.preventDefault(),i(E=>{const b=new Set(E);return b.delete(e),b}));else if(h.key==="ArrowDown"||h.key==="ArrowUp"||h.key==="Home"||h.key==="End"){h.preventDefault();const E=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),b=E.findIndex(R=>R===h.currentTarget);if(b===-1)return;let M=b;h.key==="ArrowDown"?M=Math.min(E.length-1,b+1):h.key==="ArrowUp"?M=Math.max(0,b-1):h.key==="Home"?M=0:h.key==="End"&&(M=E.length-1),(C=E[M])==null||C.focus()}},onDragOver:h=>{var E;Array.from(((E=h.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&(h.preventDefault(),k&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==h.currentTarget&&b.classList.remove("drop-target")}),h.currentTarget.classList.add("drop-target")))},onDragEnter:h=>{var E;Array.from(((E=h.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&k&&(h.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==h.currentTarget&&b.classList.remove("drop-target")}),h.currentTarget.classList.add("drop-target"))},onDragLeave:h=>{const C=h.currentTarget,E=document.elementFromPoint(h.clientX,h.clientY);E&&C.contains(E)||C.classList.remove("drop-target")},onDrop:async h=>{const C=h.dataTransfer;if(!C)return;h.preventDefault(),h.currentTarget.classList.remove("drop-target");const E=C.getData("application/x-lenslet-paths"),M=(E?JSON.parse(E):[]).filter(Boolean);if(!M.length)return;let R=M[0].split("/").slice(0,-1).join("/")||"/";R.startsWith("/")||(R=`/${R}`);let L=e;L.startsWith("/")||(L=`/${L}`);try{for(const D of M)await ce.moveFile(D,L);S.invalidateQueries({queryKey:["folder",R]}),S.invalidateQueries({queryKey:["folder",L]}),S.setQueryData(["folder",R],D=>!D||!Array.isArray(D.items)?D:{...D,items:D.items.filter(W=>!M.includes(W.path))})}catch{}},children:[g.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:j,children:u?"":""}),g.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Ly(t,28)}),k&&g.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:x})]}),u&&((c=p==null?void 0:p.dirs)==null?void 0:c.map(h=>g.jsx(op,{path:Iy(e,h.name),label:h.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o},h.name)))]})}class Uy{constructor(t=400){Cr(this,"cache",new Map);Cr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const No=new Uy(400);function By({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:l,isScrolling:o,priority:a}){const u=w.useRef(null),[m,p]=w.useState(()=>No.get(e)??null),[v,k]=w.useState(!1),[x,S]=w.useState(()=>!!m);return w.useEffect(()=>{const j=u.current;if(!j)return;const f=new IntersectionObserver(d=>{for(const c of d)c.target===j&&k(c.isIntersecting||c.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return f.observe(j),()=>{f.unobserve(j),f.disconnect()}},[l]),w.useEffect(()=>{if(m||!(v&&!o||a))return;let j=!0;return ce.getThumb(e).then(f=>{if(!j)return;const d=URL.createObjectURL(f);No.set(e,d),p(d)}).catch(()=>{}),()=>{j=!1}},[e,m,v,o,a]),w.useEffect(()=>{var f;if(!m){S(!1);return}const j=(f=u.current)==null?void 0:f.querySelector("img");j&&j.complete&&j.naturalWidth>0?S(!0):S(!1)},[m]),w.useEffect(()=>{p(No.get(e)??null)},[e]),g.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:m?g.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${x?"opacity-100":""}`,src:m,alt:t,loading:"lazy",decoding:"async",onLoad:()=>S(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function br(e,t,n){let r=n.initialDeps??[],s;function i(){var l,o,a,u;let m;n.key&&((l=n.debug)!=null&&l.call(n))&&(m=Date.now());const p=e();if(!(p.length!==r.length||p.some((x,S)=>r[S]!==x)))return s;r=p;let k;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(k=Date.now()),s=t(...p),n.key&&((a=n.debug)!=null&&a.call(n))){const x=Math.round((Date.now()-m)*100)/100,S=Math.round((Date.now()-k)*100)/100,j=S/16,f=(d,c)=>{for(d=String(d);d.length<c;)d=" "+d;return d};console.info(`%c ${f(S,5)} /${f(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*j,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,s),s}return i.updateDeps=l=>{r=l},i}function cd(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Qy=(e,t)=>Math.abs(e-t)<1.01,Wy=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},dd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Hy=e=>e,Vy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Ky=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=l=>{const{width:o,height:a}=l;t({width:Math.round(o),height:Math.round(a)})};if(s(dd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const o=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(dd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},fd={passive:!0},hd=typeof window>"u"?!0:"onscrollend"in window,qy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&hd?()=>{}:Wy(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=m=>()=>{const{horizontal:p,isRtl:v}=e.options;s=p?n.scrollLeft*(v&&-1||1):n.scrollTop,i(),t(s,m)},o=l(!0),a=l(!1);a(),n.addEventListener("scroll",o,fd);const u=e.options.useScrollendEvent&&hd;return u&&n.addEventListener("scrollend",a,fd),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",a)}},Gy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Yy=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const l=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class Xy{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Hy,rangeExtractor:Vy,onChange:()=>{},measureElement:Gy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=br(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let l=r-1;l>=0;l--){const o=n[l];if(s.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=br(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=br(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(m=>{this.itemSizeCache.set(m.key,m.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let m=a;m<n;m++){const p=i(m),v=this.options.lanes===1?u[m-1]:this.getFurthestMeasurement(u,m),k=v?v.end+this.options.gap:r+s,x=o.get(p),S=typeof x=="number"?x:this.options.estimateSize(m),j=k+S,f=v?v.lane:m%this.options.lanes;u[m]={index:m,start:k,size:S,end:j,key:p,lane:f}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=br(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?Jy({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=br(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=br(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,l=n.length;i<l;i++){const o=n[i],a=r[o];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return cd(r[ap(0,r.length-1,s=>cd(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(s.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const l=10,o=u=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,u);if(!m){console.warn("Failed to get offset for index:",n);return}const[p,v]=m;this._scrollToOffset(p,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const k=this.getScrollOffset(),x=this.getOffsetForIndex(n,v);if(!x){console.warn("Failed to get offset for index:",n);return}Qy(x[0],k)||a(v)})},a=u=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(o=>o===null);){const o=r[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}s=Math.max(...i.filter(o=>o!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const ap=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Jy({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let l=ap(0,s,i,n),o=l;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const a=Array(r).fill(0);for(;o<s&&a.some(m=>m<n+t);){const m=e[o];a[m.lane]=m.end,o++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(m=>m>=n);){const m=e[l];u[m.lane]=m.start,l--}l=Math.max(0,l-l%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const pd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Zy(e){const t=w.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var l;i?Pu.flushSync(t):t(),(l=e.onChange)==null||l.call(e,s,i)}},[r]=w.useState(()=>new Xy(n));return r.setOptions(n),pd(()=>r._didMount(),[]),pd(()=>r._willUpdate()),r}function ev(e){return Zy({observeElementRect:Ky,observeElementOffset:qy,scrollToFn:Yy,...e})}const tv=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),l=(e-t*(i-1))/i,o=l*r.h/r.w,a=o+s+t;return{columns:i,cellW:l,mediaH:o,rowH:a}};function nv({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let l=[],o=0;for(let a=0;a<e.length;a++){const u=e[a];let m=1.333;u.w>0&&u.h>0&&(m=u.w/u.h),l.push({item:u,aspect:m,originalIndex:a}),o+=m;const p=(l.length-1)*r;if(o*n+p>=t){const k=(t-p)/o,x=l.map(S=>({item:S.item,displayW:S.aspect*k,displayH:k,originalIndex:S.originalIndex}));i.push({index:i.length,height:k+s+r,imageH:k,items:x}),l=[],o=0}}if(l.length>0){const a=n,u=l.map(m=>({item:m.item,displayW:m.aspect*a,displayH:a,originalIndex:m.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function rv(e,t,n){const[r,s]=w.useState(0);w.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const p=getComputedStyle(a),v=a.clientWidth-parseFloat(p.paddingLeft)-parseFloat(p.paddingRight);s(v)},m=new ResizeObserver(u);return m.observe(a),u(),()=>m.disconnect()},[]);const i=w.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:nv({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:m,rowH:p}=tv({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),v=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:m,rowH:p,rowCount:v}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),l=ev({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),o=l.getVirtualItems();return w.useEffect(()=>{l.measure()},[i]),{width:r,layout:i,rowVirtualizer:l,virtualRows:o}}function sv(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(o=>o.path===n):0,i=Math.max(1,t);let l=s;if(r.key==="ArrowRight"||r.key==="d")l=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")l=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")l=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")l=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return l}function iv({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:l,suppressSelectionHighlight:o=!1,viewMode:a="grid",targetCellSize:u=220}){const[m,p]=w.useState(null),[v,k]=w.useState(null),[x,S]=w.useState(null),[j,f]=w.useState(!1),[d,c]=w.useState(null),[h,C]=w.useState(null),E=w.useRef(null),b=w.useRef(null),M=w.useRef(null),R=12,L=u,D={w:4,h:3},W=44,{width:q,layout:U,rowVirtualizer:he,virtualRows:me}=rv(b,e,{gap:R,targetCell:L,aspect:D,captionH:W,viewMode:a}),fe=w.useMemo(()=>{const T=new Map;for(let K=0;K<e.length;K++)T.set(e[K].path,K);return T},[e]),_=w.useMemo(()=>{if(U.mode!=="adaptive")return null;const T=new Map;return U.rows.forEach((K,Y)=>{let re=0;K.items.forEach((J,ae)=>{const B=re+J.displayW/2;T.set(J.item.path,{row:Y,center:B,order:ae}),re+=J.displayW+R})}),T},[U]);w.useEffect(()=>{if(!t.length)return;const T=t[0];d!==T&&c(T)},[t,d]);const I=w.useMemo(()=>{if(U.mode!=="adaptive")return null;let T=0;return U.rows.map(K=>{const Y=T;return T+=K.height,{start:Y,height:K.height}})},[U]),Q=w.useRef(null),le=(T,K)=>{try{if(Q.current!=null){try{cancelAnimationFrame(Q.current)}catch{}Q.current=null}const Y=T.scrollTop,re=K-Y;if(Math.abs(re)<1){T.scrollTop=K;return}const J=140,ae=performance.now(),B=we=>1-Math.pow(1-we,3),Ce=we=>{const Ne=Math.min(1,(we-ae)/J),Ae=B(Ne);T.scrollTop=Y+re*Ae,Ne<1?Q.current=requestAnimationFrame(Ce):Q.current=null};Q.current=requestAnimationFrame(Ce)}catch{T.scrollTop=K}},[oe,tt]=w.useState(!1);w.useEffect(()=>{const T=b.current;if(!T)return;let K=0;const Y=()=>{tt(!0),window.clearTimeout(K),K=window.setTimeout(()=>tt(!1),120)};return T.addEventListener("scroll",Y,{passive:!0}),()=>T.removeEventListener("scroll",Y)},[]);const H=U.mode==="grid"?U.columns:Math.max(1,Math.floor(q/(L+R))),Fe=(T,K)=>{if(U.mode!=="adaptive")return null;const Y=U.rows[T];if(!Y)return null;let re=0,J=null;for(const ae of Y.items){const B=re+ae.displayW/2,Ce=Math.abs(B-K);(!J||Ce<J.dist)&&(J={path:ae.item.path,dist:Ce}),re+=ae.displayW+R}return J?J.path:null},ge=(T,K)=>{var Ae,Re,Jt,te;if(!e.length)return null;const Y=T??e[0].path;if(U.mode!=="adaptive"){const _e=sv(e,H,Y,K);return _e==="open"||_e==null?_e:((Ae=e[_e])==null?void 0:Ae.path)??null}const re=_==null?void 0:_.get(Y);if(!re)return Y;const J=fe.get(Y)??0,ae=K.key;if(ae==="Enter")return"open";if(ae==="ArrowRight"||ae==="d")return((Re=e[Math.min(e.length-1,J+1)])==null?void 0:Re.path)??Y;if(ae==="ArrowLeft"||ae==="a")return((Jt=e[Math.max(0,J-1)])==null?void 0:Jt.path)??Y;const B=ae==="ArrowDown"||ae==="s"?1:ae==="ArrowUp"||ae==="w"?-1:0;if(B===0)return null;const Ce=re.row+B;if(Ce<0||Ce>=(((te=U.rows)==null?void 0:te.length)??0))return Y;const we=re.center;return Fe(Ce,we)??Y};w.useEffect(()=>{const T=b.current;if(!T)return;const K=Y=>{var Ae,Re,Jt,te;const re=ge(h,Y);if(re==null)return;if(Y.preventDefault(),re==="open"){h&&s(h);return}const J=e.find(_e=>_e.path===re);if(!J)return;C(J.path),c(J.path),r([J.path]);try{M.current=J.path}catch{}const ae=U.mode==="grid"?Math.floor((fe.get(J.path)??0)/Math.max(1,U.columns)):((Ae=_==null?void 0:_.get(J.path))==null?void 0:Ae.row)??0,B=T.scrollTop,Ce=B+T.clientHeight,we=U.mode==="adaptive"?((Re=I==null?void 0:I[ae])==null?void 0:Re.start)??0:ae*U.rowH,Ne=U.mode==="adaptive"?we+(((Jt=I==null?void 0:I[ae])==null?void 0:Jt.height)??0):we+U.rowH;(we<B||Ne>Ce)&&le(T,we);try{(te=document.getElementById(`cell-${encodeURIComponent(J.path)}`))==null||te.focus()}catch{}};return T.addEventListener("keydown",K),()=>{T.removeEventListener("keydown",K)}},[e,h,H,s,U,_,I,fe]),w.useLayoutEffect(()=>{var ae;const T=b.current;if(!T||!n||!t||t.length===0)return;const K=t[0],Y=fe.get(K);if(Y==null||Y<0)return;let re=0;if(U.mode==="grid")re=Math.floor(Y/Math.max(1,U.columns));else{let B=0,Ce=U.rows.length-1;for(;B<=Ce;){const we=B+Ce>>1,Ne=U.rows[we];if(Y>=Ne.items[0].originalIndex&&Y<=Ne.items[Ne.items.length-1].originalIndex){re=we;break}Y<Ne.items[0].originalIndex?Ce=we-1:B=we+1}}const J=U.mode==="adaptive"?((ae=I==null?void 0:I[re])==null?void 0:ae.start)??0:re*U.rowH;try{T.scrollTop=J}catch{}},[n,U,I]);const Pe=new Set(t),F=!!(m&&v&&j);w.useEffect(()=>{var T;(T=b.current)==null||T.focus()},[]),w.useEffect(()=>{var T;if(o){try{(T=b.current)==null||T.blur()}catch{}try{C(null)}catch{}}},[o]);const G=h?`cell-${encodeURIComponent(h)}`:void 0;return g.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${F?"cursor-zoom-in":""}`,ref:b,tabIndex:0,"aria-activedescendant":G,onMouseDown:()=>{var T;return(T=b.current)==null?void 0:T.focus()},style:{"--gap":`${R}px`},children:g.jsxs("div",{className:"relative w-full",style:{height:he.getTotalSize()},children:[me.map(T=>{var ae;let K=[],Y={},re="";if(U.mode==="adaptive"){const B=U.rows[T.index];if(!B)return null;K=B.items,Y={height:B.height,transform:`translate3d(0, ${T.start}px, 0)`,display:"flex",gap:R,paddingBottom:R},re="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const B=T.index*U.columns;K=e.slice(B,B+U.columns).map(we=>({item:we,displayW:U.cellW,displayH:U.mediaH})),Y={transform:`translate3d(0, ${T.start}px, 0)`,gridTemplateColumns:`repeat(${U.columns}, minmax(0, 1fr))`,gap:R,paddingBottom:R},re="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const J=T.index===((ae=me[0])==null?void 0:ae.index);try{if(!oe)for(const{item:B}of K)try{ce.prefetchThumb(B.path)}catch{}}catch{}return g.jsx("div",{className:re,role:"row",style:Y,children:K.map(({item:B,displayW:Ce,displayH:we})=>{const Ne=!o&&(d===B.path||Pe.has(B.path)),Ae=U.mode==="adaptive"?{width:Ce}:{},Re=U.mode==="adaptive"?{height:we}:{},Jt=U.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return g.jsxs("div",{id:`cell-${encodeURIComponent(B.path)}`,className:`relative min-w-0 ${Ne?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Ne,tabIndex:h===B.path?0:-1,onFocus:()=>C(B.path),draggable:!0,style:Ae,onDragStart:te=>{var _e;try{const Ke=Pe.has(B.path)&&t.length>0?t:[B.path];(_e=te.dataTransfer)==null||_e.setData("application/x-lenslet-paths",JSON.stringify(Ke)),te.dataTransfer&&(te.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const Qe=te.currentTarget.querySelector(".cell-content img"),qe=document.createElement("div");qe.className="drag-ghost";const Qt=document.createElement("img");Qt.draggable=!1,Qt.alt="drag",Qe&&Qe.src&&(Qt.src=Qe.src),qe.appendChild(Qt),document.body.appendChild(qe);const Zt=qe.getBoundingClientRect().width||150;te.dataTransfer.setDragImage(qe,Math.round(Zt/2),0);const Pt=()=>{try{qe.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Pt),window.removeEventListener("pointerup",Pt),document.removeEventListener("visibilitychange",Pt)};window.addEventListener("dragend",Pt),window.addEventListener("pointerup",Pt),document.addEventListener("visibilitychange",Pt)}catch{}},onDragEnd:()=>{},onContextMenu:te=>{te.preventDefault(),te.stopPropagation(),i&&i(te,B.path)},children:[g.jsxs("div",{className:Jt,style:Re,onMouseEnter:()=>{try{ce.prefetchFile(B.path)}catch{}},onDoubleClick:()=>s(B.path),onMouseLeave:()=>{if(x&&(window.clearTimeout(x),S(null)),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}k(null),f(!1)},children:[g.jsx("div",{className:"cell-content absolute inset-0",children:g.jsx(By,{path:B.path,name:B.name,selected:Ne,displayW:Ce,displayH:we,ioRoot:b.current,isScrolling:oe,priority:J,onClick:te=>{var Gn;c(B.path),C(B.path);const _e=!!te.shiftKey,Ke=!!(te.ctrlKey||te.metaKey);if(_e){const Qe=M.current??d??t[0]??B.path,qe=fe.get(Qe)??e.findIndex(Zt=>Zt.path===Qe),Qt=fe.get(B.path)??e.findIndex(Zt=>Zt.path===B.path);if(qe!==-1&&Qt!==-1){const Zt=Math.min(qe,Qt),Pt=Math.max(qe,Qt),gn=e.slice(Zt,Pt+1).map(kr=>kr.path);if(Ke){const kr=new Set(t);for(const Wl of gn)kr.add(Wl);r(Array.from(kr))}else r(gn)}else r([B.path])}else if(Ke){const Qe=new Set(t);Qe.has(B.path)?Qe.delete(B.path):Qe.add(B.path),r(Array.from(Qe));try{M.current=B.path}catch{}}else{r([B.path]);try{M.current=B.path}catch{}}try{oe||(ce.prefetchFile(B.path),ce.prefetchThumb(B.path))}catch{}try{(Gn=document.getElementById(`cell-${encodeURIComponent(B.path)}`))==null||Gn.focus()}catch{}}})}),g.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(oe)return;x&&window.clearTimeout(x),p(B.path),f(!1);const te=window.setTimeout(async()=>{try{const _e=await ce.getFile(B.path),Ke=URL.createObjectURL(_e);if(E.current)try{URL.revokeObjectURL(E.current)}catch{}E.current=Ke,k(Ke),f(!0)}catch{}},350);S(te)},onMouseLeave:()=>{if(x&&window.clearTimeout(x),S(null),f(!1),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}k(null)},children:g.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:g.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[g.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),g.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),g.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[g.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:B.name,children:(()=>{const te=(l||"").trim();if(!te)return B.name;const _e=B.name,Ke=_e.toLowerCase().indexOf(te.toLowerCase());if(Ke===-1)return B.name;const Gn=_e.slice(0,Ke),Qe=_e.slice(Ke,Ke+te.length),qe=_e.slice(Ke+te.length);return g.jsxs(g.Fragment,{children:[Gn,g.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:Qe}),qe]})})()}),g.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[B.w,"  ",B.h]})]})]},B.path)})},T.key)}),m&&v&&j&&Pu.createPortal(g.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:g.jsx("img",{src:v,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${H}`)})}function lv(){const[e,t]=w.useState(1),[n,r]=w.useState(0),[s,i]=w.useState(0),[l,o]=w.useState(1),[a,u]=w.useState(!1),[m,p]=w.useState(!1),[v,k]=w.useState(!1),x=w.useRef(null),S=w.useRef(null),j=()=>{const c=x.current,h=S.current;if(!c||!h||!h.naturalWidth||!h.naturalHeight)return;const C=c.getBoundingClientRect(),E=C.width/h.naturalWidth,b=C.height/h.naturalHeight,M=Math.min(1,Math.min(E,b));o(M);const R=h.naturalWidth*M,L=h.naturalHeight*M;r((C.width-R)/2),i((C.height-L)/2)};return w.useEffect(()=>{const c=x.current;if(!c)return;const h=new ResizeObserver(()=>{try{requestAnimationFrame(()=>j())}catch{j()}});return h.observe(c),()=>h.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:l,setBase:o,ready:a,setReady:u,dragging:m,setDragging:p,visible:v,setVisible:k,containerRef:x,imgRef:S,fitAndCenter:j,handleWheel:c=>{c.preventDefault();const h=c.deltaY>0?-1:1,C=1.2,E=.05,b=8,M=x.current;if(!M)return;const R=M.getBoundingClientRect(),L=c.clientX-R.left,D=c.clientY-R.top;t(W=>{const q=Math.min(b,Math.max(E,W*Math.pow(C,h))),U=q/W;return r(he=>L-U*(L-he)),i(he=>D-U*(D-he)),Number(q.toFixed(4))})},handleMouseDown:c=>{const h=x.current,C=S.current;if(!h||!C||c.target!==C)return;const b=h.getBoundingClientRect();if(c.clientX<b.left||c.clientX>b.right||c.clientY<b.top||c.clientY>b.bottom)return;c.preventDefault(),c.stopPropagation(),p(!0);const M=c.clientX,R=c.clientY,L=n,D=s,W=U=>{r(L+(U.clientX-M)),i(D+(U.clientY-R))},q=()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",q),p(!1)};window.addEventListener("mousemove",W),window.addEventListener("mouseup",q)}}}function ov({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[l,o]=w.useState(null),[a,u]=w.useState(null),{scale:m,setScale:p,tx:v,setTx:k,ty:x,setTy:S,base:j,ready:f,setReady:d,dragging:c,visible:h,setVisible:C,containerRef:E,imgRef:b,fitAndCenter:M,handleWheel:R,handleMouseDown:L}=lv();return w.useEffect(()=>{let D=!0;return ce.getFile(e).then(W=>{D&&o(URL.createObjectURL(W))}).catch(()=>{}),ce.getThumb(e).then(W=>{D&&u(URL.createObjectURL(W))}).catch(()=>{}),requestAnimationFrame(()=>{var W;C(!0),(W=E.current)==null||W.focus()}),()=>{D=!1}},[e]),w.useEffect(()=>{const D=W=>{W.key==="Escape"?(C(!1),setTimeout(t,110)):(W.key==="ArrowRight"||W.key==="d")&&n?n(1):(W.key==="ArrowLeft"||W.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[t,n]),w.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),w.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),w.useEffect(()=>{d(!1)},[l]),w.useEffect(()=>{r&&r(j*m*100)},[j,m,r]),w.useEffect(()=>{if(s==null)return;const D=E.current;if(!D){i&&i();return}const W=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,j))),q=D.getBoundingClientRect(),U=q.width/2,he=q.height/2;p(me=>{const fe=W/me;return k(_=>U-fe*(U-_)),S(_=>he-fe*(he-_)),Number(W.toFixed(4))}),i&&i()},[s,j,i]),g.jsxs("div",{ref:E,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${c?"cursor-grabbing select-none":""} ${h?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:R,onMouseDown:L,onKeyDown:D=>{D.key==="Tab"&&D.preventDefault()},children:[g.jsx("button",{"aria-label":"Close",onClick:D=>{D.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"absolute top-3 right-3 z-10 px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",children:""}),a&&g.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:D=>D.preventDefault(),style:{transform:`translate(${v}px, ${x}px) scale(${j})`,transformOrigin:"0 0",opacity:f?0:.5,filter:"blur(0.25px)"}}),l&&g.jsx("img",{ref:b,src:l,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:D=>{D.preventDefault()},onLoad:D=>{M(),p(1);try{requestAnimationFrame(()=>d(!0))}catch{d(!0)}},onClick:D=>D.stopPropagation(),style:{transform:`translate(${v}px, ${x}px) scale(${j*m})`,transformOrigin:"0 0",opacity:f?.99:0,WebkitUserDrag:"none"}})]})}const up=e=>["item",e],av={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function uv(e){return Iu({queryKey:up(e),queryFn:()=>ce.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function cv(e){const t=gi();return My({mutationFn:n=>ce.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(up(e),n)}})}const dv=6;async function Ii(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const o=r++,a=e[o];try{await cp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},l=Array.from({length:Math.min(dv,e.length)},()=>i());if(await Promise.all(l),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Ms=new Map,bo=new Map;async function cp(e,t,n){const r=n??new Date().toISOString(),s=Ms.get(e)||{};Ms.set(e,{...s,...t});const i=bo.get(e);if(i)return i;const l=(async()=>{try{for(;Ms.has(e);){const o=Ms.get(e);if(Ms.delete(e),!o)break;let a;try{a=await ce.getSidecar(e)}catch{a={...av,updated_at:r}}const u={...a,...o,v:1,updated_at:r,updated_by:"web"};let m=0;const p=3;for(;m<p;)try{await ce.putSidecar(e,u);break}catch(v){if(m++,m>=p)throw v;await new Promise(k=>setTimeout(k,200*Math.pow(2,m)))}}}finally{bo.delete(e)}})();return bo.set(e,l),l}function dp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Ji(e){if(Array.isArray(e))return e.map(Ji);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Ji(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Ji(r)}catch{return e}}return e}function Mo(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function fv(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function hv(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,l=s[0];n+=Mo(e.slice(r,i));let o="#cdd3dd";l.startsWith('"')&&l.trimEnd().endsWith(":")?o="#a7c4ff":l.startsWith('"')?o="#9ad4b5":/true|false|null/.test(l)?o="#c4b4f5":o="#d7c08c",n+=`<span style="color:${o}">${Mo(l)}</span>`,r=i+l.length}return n+=Mo(e.slice(r)),n}function pv({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:l,isLoading:o}=uv(e??""),a=cv(e??""),[u,m]=w.useState(""),[p,v]=w.useState(""),[k,x]=w.useState(null),[S,j]=w.useState(""),[f,d]=w.useState(null),[c,h]=w.useState("idle"),[C,E]=w.useState(!1),[b,M]=w.useState(null),[R,L]=w.useState({}),W=w.useMemo(()=>{const F=n.find(G=>G.path===e);return F&&F.star!==void 0?F.star:null},[n,e])??(l==null?void 0:l.star)??null,q=t.length>1,U=w.useMemo(()=>{const F=new Set(t);return n.filter(G=>F.has(G.path))},[n,t]),he=w.useMemo(()=>U.reduce((F,G)=>F+(G.size||0),0),[U]);w.useEffect(()=>{l&&(m((l.tags||[]).join(", ")),v(l.notes||"")),j(""),d(null),h("idle"),E(!1)},[l==null?void 0:l.updated_at,e]);const me=w.useCallback(()=>l??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[l]);w.useEffect(()=>{if(!e)return;const F=G=>{if(dp(G.target))return;const T=G.key;if(!/^[0-5]$/.test(T))return;G.preventDefault();const K=T==="0"?null:Number(T);if(q&&t.length)Ii(t,{star:K}),s==null||s(t,K);else{const Y=me();a.mutate({...Y,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[e,q,t,me,a,s]),w.useEffect(()=>{if(!e){k&&URL.revokeObjectURL(k),x(null);return}let F=!0;return ce.getThumb(e).then(G=>{if(!F)return;const T=URL.createObjectURL(G);x(K=>(K&&URL.revokeObjectURL(K),T))}).catch(()=>{}),()=>{F=!1}},[e]),w.useEffect(()=>()=>{k&&URL.revokeObjectURL(k)},[k]);const fe=e?e.split("/").pop()||e:"",_=w.useMemo(()=>{var G;if(fe.includes("."))return fe.slice(fe.lastIndexOf(".")+1).toUpperCase();const F=n.find(T=>T.path===e);return(G=F==null?void 0:F.type)!=null&&G.includes("/")?F.type.split("/")[1].toUpperCase():""},[fe,n,e]),I=w.useMemo(()=>n.find(F=>F.path===e),[n,e]),Q=w.useCallback(async()=>{if(e){h("loading"),d(null);try{const F=await ce.getMetadata(e),G=Ji(F.meta),T=JSON.stringify(G,null,2);j(T),h("loaded")}catch(F){const G=F instanceof Error?F.message:"Failed to load metadata";j(G),d(G),h("error")}}},[e]),le=w.useCallback(()=>{var F;S&&((F=navigator.clipboard)==null||F.writeText(S).then(()=>{E(!0),setTimeout(()=>E(!1),1200)}).catch(G=>{const T=G instanceof Error?G.message:"Copy failed";d(T)}))},[S]),oe=w.useMemo(()=>S?hv(S):"",[S]),tt=c==="loading"?"Loading metadata":S||"PNG metadata not loaded yet.",H=c==="loaded"&&!!S,Fe=H?"h-48":"h-24",ge=w.useCallback((F,G)=>{var T;G&&((T=navigator.clipboard)==null||T.writeText(G).then(()=>{M(F),setTimeout(()=>M(K=>K===F?null:K),1e3)}).catch(()=>{}))},[]),Pe=w.useCallback((F,G)=>{if(G&&!R[F]){const T=G.offsetHeight;T&&L(K=>K[F]?K:{...K,[F]:T})}},[R]);return i?g.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&g.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:g.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[k&&g.jsx("img",{src:k,alt:"thumb",className:"block w-full h-full object-contain"}),!!_&&g.jsx("div",{className:"absolute top-1.5 left-1.5 bg-[#1b1b1b] border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:_})]})}),g.jsx("div",{className:"p-3 border-b border-border",children:q?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),g.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),g.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Eo(he)]})]}):g.jsx(g.Fragment,{children:g.jsx("div",{className:"font-mono text-text break-all",title:fe,children:fe})})}),g.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[g.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-[#6d6d6d] focus:border-border",placeholder:"Add notes",value:p,onChange:F=>v(F.target.value),onBlur:()=>{if(q&&t.length)Ii(t,{notes:p});else{const F=me();a.mutate({...F,notes:p,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Notes for selected items":"Notes"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),g.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-[#6d6d6d] focus:border-border",placeholder:"tag1, tag2",value:u,onChange:F=>m(F.target.value),onBlur:()=>{const F=u.split(",").map(G=>G.trim()).filter(Boolean);if(q&&t.length)Ii(t,{tags:F});else{const G=me();a.mutate({...G,tags:F,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&g.jsxs("div",{className:"p-3 border-b border-border",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),g.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[S&&g.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:le,disabled:!S,title:"Copy metadata",children:C?"Copied":"Copy"}),g.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Q,disabled:!e||c==="loading",children:c==="loading"?"Loading":"Show meta"})]})]}),g.jsx("pre",{className:`bg-[#0f0f0f] text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Fe} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:H?g.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:oe}}):tt}),f&&g.jsx("div",{className:"text-[11px] text-red-400 mt-1 break-words",children:f})]}),g.jsxs("div",{className:"p-3 border-b border-border",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),g.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[g.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),g.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(F=>{const G=(W??0)>=F;return g.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${G?"text-[#e7c46a]":"text-[#6f6f6f]"} hover:border-border hover:text-[#e7c46a] transition-colors`,onClick:()=>{const T=W===F&&!q?null:F;q&&t.length?(s==null||s(t,T),Ii(t,{star:T})):e&&(s==null||s([e],T),cp(e,{star:T}))},title:`${F} star${F>1?"s":""} (key ${F})`,"aria-label":`${F} star${F>1?"s":""}`,"aria-pressed":W===F,children:G?"":""},F)})})]}),!q&&I&&g.jsxs("div",{className:"text-[12px] space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("dimensions",`${I.w}${I.h}`),children:"Dimensions"}),g.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:F=>Pe("dimensions",F),style:R.dimensions?{minHeight:R.dimensions}:void 0,children:b==="dimensions"?"Copied":`${I.w}${I.h}`})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("size",Eo(I.size)),children:"Size"}),g.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:F=>Pe("size",F),style:R.size?{minHeight:R.size}:void 0,children:b==="size"?"Copied":Eo(I.size)})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("type",I.type),children:"Type"}),g.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:F=>Pe("type",F),style:R.type?{minHeight:R.type}:void 0,children:b==="type"?"Copied":I.type})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>e&&ge("source",e),children:"Source"}),g.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:F=>Pe("source",F),style:R.source?{minHeight:R.source}:void 0,children:b==="source"?"Copied":e})]}),(()=>{const F=I.metrics||null;if(!F)return null;const G=Object.entries(F).filter(([,re])=>re!=null);if(!G.length)return null;const T=G.sort(([re],[J])=>re.localeCompare(J)),K=T.slice(0,12),Y=T.length-K.length;return g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),g.jsxs("div",{className:"space-y-1",children:[K.map(([re,J])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-24 shrink-0",children:re}),g.jsx("span",{className:"font-mono text-text text-right",children:fv(J)})]},re)),Y>0&&g.jsxs("div",{className:"text-[11px] text-muted",children:["+",Y," more"]})]})]})})()]})]}),g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):g.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const mv=(e,t)=>["search",e,t];function gv(e,t){return Iu({enabled:!!e.trim(),queryKey:mv(e,t),queryFn:()=>ce.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}function yv(e,t){return!t||!t.and.length?e:e.filter(n=>vv(n,t.and))}function vv(e,t){for(const n of t)if(!wv(e,n))return!1;return!0}function wv(e,t){var n;if("stars"in t){const r=t.stars;if(!r||!r.length)return!0;const s=e.star??0;return r.includes(s)}if("metricRange"in t){const{key:r,min:s,max:i}=t.metricRange,l=(n=e.metrics)==null?void 0:n[r];return!(l==null||l<s||l>i)}return!0}function md(e){const t=e.and.find(n=>"stars"in n);return(t==null?void 0:t.stars)??[]}function jo(e,t){const n=e.and.filter(r=>!("stars"in r));return t.length?{and:[{stars:t},...n]}:{and:n}}function xv(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function Sv(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function kv(e){return e.and.length}const Ml=(e,t)=>e.name.localeCompare(t.name),Ev=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?Ml(e,t):n-r},Cv=e=>(t,n)=>{var o,a;const r=(o=t.metrics)==null?void 0:o[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,l=s==null;return i&&l?Ml(t,n):i?1:l?-1:r===s?Ml(t,n):r-s};function Nv(e,t){return yv(e,t)}function bv(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function Mv(e,t){const n=bv(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function jv(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return Mv(e,i)}const r=t.kind==="metric"?Cv(t.key):t.key==="name"?Ml:Ev,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Bs=40;function Rv({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:l}){const o=r&&n.includes(r)?r:n[0],a=w.useMemo(()=>o?gd(e,o,Bs):null,[e,o]),u=w.useMemo(()=>o&&a?gd(t,o,Bs,a):null,[t,o,a]),m=o?xv(i,o):null,[p,v]=w.useState(null),[k,x]=w.useState(!1),S=w.useRef(null),j=p??m,f=a?{min:a.min,max:a.max}:null,d=(E,b)=>{var D;if(!f||!o)return;const M=(D=S.current)==null?void 0:D.getBoundingClientRect();if(!M)return;const R=fp((E.clientX-M.left)/M.width),L=f.min+(f.max-f.min)*R;v(W=>{const q=(W==null?void 0:W.min)??L,he=Ov(q,L);return b&&l(o,he),he})},c=E=>{var b;!f||!o||(E.preventDefault(),x(!0),v(null),(b=S.current)==null||b.setPointerCapture(E.pointerId),d(E,!1))},h=E=>{k&&d(E,!1)},C=E=>{var b;k&&(x(!1),(b=S.current)==null||b.releasePointerCapture(E.pointerId),d(E,!0),setTimeout(()=>v(null),0))};return n.length?g.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),g.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:o,onChange:E=>s(E.target.value),children:n.map(E=>g.jsx("option",{value:E,children:E},E))})]}),a?g.jsxs("div",{className:"rounded-xl border border-border bg-[#161616] p-3",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[g.jsxs("span",{children:["Population: ",a.count]}),g.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),g.jsxs("svg",{ref:S,viewBox:`0 0 ${Bs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-[#121212]",onPointerDown:c,onPointerMove:h,onPointerUp:C,children:[yd(a.bins,"#2e3a4b"),u&&yd(u.bins,"#3a8fff"),j&&f&&Tv(j,f)]}),g.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[g.jsx("span",{children:Di(f==null?void 0:f.min)}),j?g.jsxs("span",{className:"text-text",children:[Di(j.min),"  ",Di(j.max)]}):g.jsx("span",{children:"Drag to filter"}),g.jsx("span",{children:Di(f==null?void 0:f.max)})]}),g.jsx("div",{className:"flex items-center gap-2 mt-2",children:g.jsx("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>o&&l(o,null),children:"Clear"})})]}):g.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):g.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})}function gd(e,t,n,r){var u;const s=[];for(const m of e){const p=(u=m.metrics)==null?void 0:u[t];p==null||Number.isNaN(p)||s.push(p)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let l=r?r.max:Math.max(...s);i===l&&(l=i+1);const o=new Array(n).fill(0),a=n/(l-i);for(const m of s){const p=Math.max(0,Math.min(n-1,Math.floor((m-i)*a)));o[p]+=1}return{bins:o,min:i,max:l,count:s.length}}function yd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return g.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function Tv(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Bs*fp(Math.min(n,r)),i=Bs*Math.abs(r-n);return g.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function Ov(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function fp(e){return e<0?0:e>1?1:e}function Di(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Pv(e){const[t,n]=w.useState(250),[r,s]=w.useState(240),i=w.useRef(t),l=w.useRef(r);return w.useEffect(()=>{i.current=t},[t]),w.useEffect(()=>{l.current=r},[r]),w.useEffect(()=>{try{const u=window.localStorage,m=Number(u.getItem("leftW"));Number.isFinite(m)&&m>0&&n(m);const p=Number(u.getItem("rightW"));Number.isFinite(p)&&p>0&&s(p)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),v=x=>{const S=x.clientX-p.left,j=200,f=Math.max(j,p.width-l.current-200),d=Math.min(Math.max(S,j),f);n(d)},k=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",k);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",k)},onResizeRight:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),v=x=>{const S=x.clientX-p.left,j=p.width-S,f=240,d=Math.max(f,p.width-i.current-200),c=Math.min(Math.max(j,f),d);s(c)},k=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",k);try{window.localStorage.setItem("rightW",String(l.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",k)}}}function _v({x:e,y:t,items:n}){return g.jsx("div",{className:"fixed z-menu bg-[#1b1b1b] border border-border rounded-lg min-w-[160px] py-1.5 shadow-[0_10px_30px_rgba(0,0,0,0.4)]",role:"menu",style:{left:e,top:t},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>g.jsx("div",{className:`px-3 py-2 text-text cursor-default hover:bg-hover ${r.danger?"text-[#ff6b6b]":""} ${r.disabled?"text-muted cursor-not-allowed":""}`,role:"menuitem","aria-disabled":!!r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:r.label},s))})}function vd(e){return JSON.stringify(e,null,2)}function wd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),l=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,l].map(o=>t(String(o))).join(",")});return[n,...r].join(`
`)}function Ro(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function Lv(e,t=250){const[n,r]=el.useState(e);return el.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Te={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function Fv(){var $u;const[e,t]=w.useState("/"),[n,r]=w.useState(""),[s,i]=w.useState([]),[l,o]=w.useState(null),[a,u]=w.useState(0),[m,p]=w.useState(null),[v,k]=w.useState(100),[x,S]=w.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[j,f]=w.useState(()=>Date.now()),[d,c]=w.useState("adaptive"),[h,C]=w.useState(220),[E,b]=w.useState(!0),[M,R]=w.useState(!0),[L,D]=w.useState("folders"),[W,q]=w.useState([]),[U,he]=w.useState(null),[me,fe]=w.useState({}),_=w.useRef(null),I=w.useRef(null),Q=w.useRef(!1),le=w.useRef(null),{leftW:oe,rightW:tt,onResizeLeft:H,onResizeRight:Fe}=Pv(_),[ge,Pe]=w.useState(!1),[F,G]=w.useState(null);w.useEffect(()=>{const N=Vr(ud());t(N);const O=()=>{const A=Vr(ud());o(null),t(Z=>Z===A?Z:(u(se=>se+1),A))};return window.addEventListener("hashchange",O),()=>window.removeEventListener("hashchange",O)},[]);const{data:T,refetch:K,isLoading:Y,isError:re}=lp(e),J=n.trim().length>0,ae=Lv(n,250),B=w.useMemo(()=>ae.trim().replace(/\s+/g," "),[ae]),Ce=gv(J?B:"",e),we=w.useMemo(()=>md(x.filters),[x.filters]),Ne=w.useMemo(()=>{var O;return(J?((O=Ce.data)==null?void 0:O.items)??[]:(T==null?void 0:T.items)??[]).map(A=>({...A,star:me[A.path]!==void 0?me[A.path]:A.star}))},[J,Ce.data,T,me]),Ae=w.useMemo(()=>{const N=Nv(Ne,x.filters);return jv(N,x.sort,j)},[Ne,x.filters,x.sort,j]),Re=w.useMemo(()=>Ae.map(N=>N.path),[Ae]),Jt=w.useMemo(()=>{const N=Ne,O={0:0,1:0,2:0,3:0,4:0,5:0};for(const A of N){const Z=me[A.path]??A.star??0;O[String(Z)]=(O[String(Z)]||0)+1}return O},[Ne,me]),te=w.useMemo(()=>{const N=new Set;let O=0;for(const A of Ne){const Z=A.metrics;if(Z)for(const se of Object.keys(Z))N.add(se);if(O+=1,O>=250&&N.size>0)break}return Array.from(N).sort()},[Ne]);w.useEffect(()=>{te.length&&S(N=>{const O=N.selectedMetric&&te.includes(N.selectedMetric)?N.selectedMetric:te[0];return O===N.selectedMetric?N:{...N,selectedMetric:O}})},[te]),w.useEffect(()=>{x.sort.kind==="metric"&&(te.includes(x.sort.key)||S(N=>({...N,sort:{kind:"builtin",key:"added",dir:N.sort.dir}})))},[te,x.sort]);const _e=w.useMemo(()=>kv(x.filters),[x.filters]),Ke=w.useMemo(()=>{const N=[];for(const O of x.filters.and)if("stars"in O){const A=O.stars||[];if(!A.length)continue;const Z=A.filter(gt=>gt>0).sort((gt,Er)=>Er-gt),se=Z.length?Z.join(","):A.includes(0)?"None":"";N.push({id:"stars",label:`Rating: ${se}`,onRemove:()=>Qe()})}else if("metricRange"in O){const{key:A,min:Z,max:se}=O.metricRange;N.push({id:`metric:${A}`,label:`${A}: ${Dv(Z,se)}`,onRemove:()=>qe(A,null)})}return N},[x.filters,Qe,qe]),Gn=w.useCallback(N=>{const O=new Set(we);O.has(N)?O.delete(N):O.add(N),S(A=>({...A,filters:jo(A.filters,Array.from(O))}))},[we]),Qe=w.useCallback(()=>{S(N=>({...N,filters:jo(N.filters,[])}))},[]),qe=w.useCallback((N,O)=>{S(A=>({...A,filters:Sv(A.filters,N,O)}))},[]),Qt=w.useCallback(()=>{b(!0),D("metrics")},[]),Zt=w.useCallback(N=>{S(O=>({...O,sort:N})),N.kind==="builtin"&&N.key==="random"&&f(Date.now())},[]),Pt=w.useCallback(N=>{if(N==="/"||N==="")return"Lenslet | Root";const O=N.split("/").filter(Boolean);if(!O.length)return"Lenslet";const A=O.slice(-2).join("/");return`Lenslet | ${O.length>2?`.../${A}`:`/${A}`}`},[]);w.useEffect(()=>{document.title=Pt(e)},[e,Pt]),w.useEffect(()=>{let N=!0;return ce.getViews().then(O=>{N&&q(O.views||[])}).catch(()=>{N&&q([])}),()=>{N=!1}},[]),w.useEffect(()=>{J&&(i([]),o(null))},[J]),w.useEffect(()=>{try{const N=localStorage.getItem(Te.sortKey),O=localStorage.getItem(Te.sortDir),A=localStorage.getItem(Te.sortSpec),Z=localStorage.getItem(Te.starFilters),se=localStorage.getItem(Te.filterAst),gt=localStorage.getItem(Te.selectedMetric),Er=localStorage.getItem(Te.viewMode),gs=localStorage.getItem(Te.gridItemSize),ys=localStorage.getItem(Te.leftOpen),vs=localStorage.getItem(Te.rightOpen),Bu=(Ge=>{if(!Ge)return null;const be=Co(Ge);return!be||typeof be!="object"?null:be.kind==="builtin"&&(be.key==="name"||be.key==="added"||be.key==="random")&&(be.dir==="asc"||be.dir==="desc")||be.kind==="metric"&&typeof be.key=="string"&&be.key.length>0&&(be.dir==="asc"||be.dir==="desc")?be:null})(A)??{kind:"builtin",key:N==="name"||N==="added"||N==="random"?N:"added",dir:O==="asc"||O==="desc"?O:"desc"};Bu.key==="random"&&f(Date.now());let Kl=(Ge=>{if(!Ge)return null;const be=Co(Ge);return!be||typeof be!="object"||!Array.isArray(be.and)?null:be})(se)??{and:[]};if(Z){const Ge=Co(Z);if(Array.isArray(Ge)){const be=Ge.filter(yp=>[0,1,2,3,4,5].includes(yp));Kl=jo(Kl,be)}}if(S(Ge=>({...Ge,sort:Bu,filters:Kl,selectedMetric:gt||Ge.selectedMetric})),(Er==="grid"||Er==="adaptive")&&c(Er),gs){const Ge=Number(gs);!isNaN(Ge)&&Ge>=80&&Ge<=500&&C(Ge)}(ys==="0"||ys==="false")&&b(!1),(vs==="0"||vs==="false")&&R(!1)}catch{}},[]),w.useEffect(()=>{try{localStorage.setItem(Te.sortKey,x.sort.kind==="builtin"?x.sort.key:"added"),localStorage.setItem(Te.sortDir,x.sort.dir),localStorage.setItem(Te.sortSpec,JSON.stringify(x.sort));const N=md(x.filters);localStorage.setItem(Te.starFilters,JSON.stringify(N)),localStorage.setItem(Te.filterAst,JSON.stringify(x.filters)),x.selectedMetric?localStorage.setItem(Te.selectedMetric,x.selectedMetric):localStorage.removeItem(Te.selectedMetric),localStorage.setItem(Te.viewMode,d),localStorage.setItem(Te.gridItemSize,String(h)),localStorage.setItem(Te.leftOpen,E?"1":"0"),localStorage.setItem(Te.rightOpen,M?"1":"0")}catch{}},[x,d,h,E,M]),w.useEffect(()=>{const N=I.current;if(!N)return;const O=Z=>Math.min(500,Math.max(80,Z)),A=Z=>{Z.ctrlKey&&(Z.preventDefault(),C(se=>O(se+(Z.deltaY<0?20:-20))))};return N.addEventListener("wheel",A,{passive:!1}),()=>N.removeEventListener("wheel",A)},[]),w.useEffect(()=>{if(!l)return;const N=Re.indexOf(l);if(N===-1)return;const O=[Re[N-2],Re[N-1],Re[N+1],Re[N+2]].filter(A=>!!A);for(const A of O)ce.prefetchFile(A),ce.prefetchThumb(A)},[l,Re]),w.useEffect(()=>{var O;if(!((O=T==null?void 0:T.items)!=null&&O.length))return;const N=T.items.slice(0,5);for(const A of N)ce.prefetchFile(A.path)},[T==null?void 0:T.path,T==null?void 0:T.items]);const gn=w.useCallback(N=>{o(null);const O=Vr(N);t(O),zy(O)},[]),kr=w.useCallback(async()=>{const N=window.prompt("Save Smart Folder as:","New Smart Folder");if(!N)return;const O=zv(N,W),A={id:O,name:N,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(x))},Z=[...W.filter(se=>se.id!==O),A];q(Z),he(O);try{await ce.saveViews({version:1,views:Z})}catch(se){if(se instanceof At&&se.status===403){const gt=new Blob([JSON.stringify({version:1,views:Z},null,2)],{type:"application/json"});Zi(gt,`lenslet-smart-folder-${O}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",se)}},[e,x,W]);w.useEffect(()=>{if(!U)return;const N=W.find(Z=>Z.id===U);if(!N){he(null);return}const O=N.pool.path===e,A=JSON.stringify(N.view)===JSON.stringify(x);(!O||!A)&&he(null)},[U,W,e,x]);const Wl=w.useCallback(N=>{o(N),Q.current||(window.history.pushState({viewer:!0},"",window.location.href),Q.current=!0)},[]),Du=w.useCallback(()=>{o(null),Q.current&&(Q.current=!1,window.history.back());const N=le.current;if(N){const O=document.getElementById(`cell-${encodeURIComponent(N)}`);O==null||O.focus()}},[]);w.useEffect(()=>{const N=()=>{l&&(Q.current=!1,o(null))};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[l]),w.useEffect(()=>{const N=_.current;if(!N)return;const O=se=>{se.dataTransfer&&Array.from(se.dataTransfer.types).includes("Files")&&(se.preventDefault(),Pe(!0))},A=se=>{const gt=se.relatedTarget;gt&&N.contains(gt)||Pe(!1)},Z=async se=>{var gs,ys;se.preventDefault(),Pe(!1);const gt=Array.from(((gs=se.dataTransfer)==null?void 0:gs.files)??[]);if(!gt.length)return;if(!((((ys=T==null?void 0:T.dirs)==null?void 0:ys.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const vs of gt)try{await ce.uploadFile(e,vs)}catch(Uu){console.error(`Failed to upload ${vs.name}:`,Uu)}K()};return N.addEventListener("dragover",O),N.addEventListener("dragleave",A),N.addEventListener("drop",Z),()=>{N.removeEventListener("dragover",O),N.removeEventListener("dragleave",A),N.removeEventListener("drop",Z)}},[e,($u=T==null?void 0:T.dirs)==null?void 0:$u.length,K]),w.useEffect(()=>{const N=()=>G(null),O=A=>{A.key==="Escape"&&G(null)};return window.addEventListener("click",N),window.addEventListener("keydown",O),()=>{window.removeEventListener("click",N),window.removeEventListener("keydown",O)}},[]),w.useEffect(()=>{const N=O=>{if(!dp(O.target)){if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="b"){O.preventDefault(),O.altKey?R(A=>!A):b(A=>!A);return}if(!l){if(O.key==="Backspace"||O.key==="Delete")O.preventDefault(),gn(Dy(e));else if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="a")O.preventDefault(),i(Ae.map(A=>A.path));else if(O.key==="Escape")s.length&&(O.preventDefault(),i([]));else if(O.key==="/"){O.preventDefault();const A=document.querySelector(".toolbar-right .input");A==null||A.focus()}}}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,Ae,s,l,gn]);const hp=E?`${oe}px`:"0px",pp=M?`${tt}px`:"0px",Au=l??s[0]??null,Hl=Au?Re.indexOf(Au):-1,mp=Hl>0,gp=Hl>=0&&Hl<Re.length-1,Vl=w.useCallback(N=>{if(!Re.length)return;const O=l??s[0];if(!O)return;const A=Re.indexOf(O);if(A===-1)return;const Z=Math.min(Re.length-1,Math.max(0,A+N)),se=Re[Z];!se||se===O||(l&&o(se),i([se]))},[Re,l,s]);return g.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:_,style:{"--left":hp,"--right":pp},children:[g.jsx(jy,{onSearch:r,viewerActive:!!l,onBack:Du,zoomPercent:l?v:void 0,onZoomPercentChange:N=>p(N),sortSpec:x.sort,metricKeys:te,onSortChange:Zt,filterCount:_e,onOpenFilters:Qt,views:W,activeViewId:U,onApplyView:N=>{he(N.id),S(N.view),gn(N.pool.path)},onSaveView:kr,starFilters:we,onToggleStar:Gn,onClearStars:Qe,starCounts:Jt,viewMode:d,onViewMode:c,gridItemSize:h,onGridItemSize:C,leftOpen:E,rightOpen:M,onToggleLeft:()=>b(N=>!N),onToggleRight:()=>R(N=>!N),onPrevImage:()=>Vl(-1),onNextImage:()=>Vl(1),canPrevImage:mp,canNextImage:gp}),E&&g.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-[#141414]",children:[g.jsx("button",{className:`w-7 h-7 rounded-md border border-border text-xs flex items-center justify-center ${L==="folders"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Folders",onClick:()=>D("folders"),children:"F"}),g.jsx("button",{className:`w-7 h-7 rounded-md border border-border text-xs flex items-center justify-center ${L==="metrics"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Metrics",onClick:()=>D("metrics"),children:"M"})]}),g.jsx("div",{className:"ml-10 h-full",children:L==="folders"?g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[g.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-2",children:"Smart Folders"}),W.length?g.jsx("div",{className:"flex flex-col gap-1",children:W.map(N=>{const O=N.id===U;return g.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${O?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{he(N.id),S(N.view),gn(N.pool.path),D("metrics")},children:N.name},N.id)})}):g.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved views."})]}),g.jsx($y,{current:e,roots:[{label:"Root",path:"/"}],data:T,onOpen:N=>{he(null),gn(N)},onContextMenu:(N,O)=>{N.preventDefault(),G({x:N.clientX,y:N.clientY,kind:"tree",payload:{path:O}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):g.jsx(Rv,{items:Ne,filteredItems:Ae,metricKeys:te,selectedMetric:x.selectedMetric,onSelectMetric:N=>S(O=>({...O,selectedMetric:N})),filters:x.filters,onChangeRange:qe})}),g.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:H})]}),g.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:I,children:[g.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Ke.length>0&&g.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:Ke.map(N=>g.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[g.jsx("span",{children:N.label}),g.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${N.label}`,onClick:N.onRemove,children:""})]},N.id))})}),!1,g.jsx("div",{className:"flex-1 min-h-0",children:g.jsx(iv,{items:Ae,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:N=>{try{le.current=N}catch{}Wl(N),i([N])},highlight:J?B:"",suppressSelectionHighlight:!!l,viewMode:d,targetCellSize:h,onContextMenuItem:(N,O)=>{N.preventDefault();const A=s.length?s:[O];G({x:N.clientX,y:N.clientY,kind:"grid",payload:{paths:A}})}})})]}),M&&g.jsx(pv,{path:s[0]??null,selectedPaths:s,items:Ae,onResize:Fe,onStarChanged:(N,O)=>{fe(A=>{const Z={...A};for(const se of N)Z[se]=O;return Z})}}),l&&g.jsx(ov,{path:l,onClose:Du,onZoomChange:N=>k(Math.round(N)),requestedZoomPercent:m,onZoomRequestConsumed:()=>p(null),onNavigate:Vl}),ge&&g.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),F&&g.jsx(Av,{ctx:F,current:e,items:Ae,refetch:K,setCtx:G})]})}function zv(e,t){const n=Iv(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function Iv(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Dv(e,t){return`${xd(e)}${xd(t)}`}function xd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Zi(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Av({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=Ay(t),l=(c,h)=>c==="/"?`/${h}`:`${c}/${h}`,o=gi(),[a,u]=el.useState(!1),[m,p]=el.useState(null),v=()=>new Date().toISOString().replace(/[:.]/g,"-"),k=c=>{const h=C=>c==="/"?!0:C===c||C.startsWith(`${c}/`);o.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const E=typeof C[1]=="string"?C[1]:"";return h(E)}})},x=c=>{const h=Vr(c);return h===""?"/":h},S=async()=>{const c=x(e.payload.path||"/");u(!0);try{await ce.refreshFolder(c),k(c),(t===c||t.startsWith(c==="/"?"/":`${c}/`))&&await r(),za.evictPrefix(c),Mr.evictPrefix(c)}catch(h){console.error("Failed to refresh folder:",h)}finally{u(!1),s(null)}},j=async c=>{const h=[c],C=new Set,E=[];for(;h.length;){const b=h.pop();if(!C.has(b)){C.add(b);try{const M=await ce.getFolder(b);E.push(...M.items);for(const R of M.dirs)R.kind==="branch"&&h.push(l(b,R.name))}catch(M){console.error(`Failed to fetch folder ${b}:`,M)}}}return E},f=c=>async()=>{p(c);const h=e.payload.path||t;try{const C=await j(h),E=Ro(C),b=c==="csv"?wd(E):vd(E),M=c==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",R=h==="/"?"root":(h.replace(/^\/+/,"")||"root").replace(/\//g,"_");Zi(new Blob([b],{type:M}),`metadata_${R}_${v()}.${c}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{p(null),s(null)}},d=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:S},{label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m||a,onClick:f("csv")},{label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m||a,onClick:f("json")}]:(()=>{const c=e.payload.paths??[],h=[];return h.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of c)try{await ce.moveFile(C,"/_trash_")}catch(E){console.error(`Failed to trash ${C}:`,E)}r(),s(null)}}}),i&&(h.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${c.length} file(s) permanently? This cannot be undone.`)){try{await ce.deleteFiles(c)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),h.push({label:"Recover",onClick:async()=>{for(const C of c)try{const b=(await ce.getSidecar(C)).original_position,M=b&&b.split("/").slice(0,-1).join("/")||"/";await ce.moveFile(C,M)}catch(E){console.error(`Failed to recover ${C}:`,E)}r(),s(null)}})),c.length&&(h.push({label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m,onClick:async()=>{p("csv");try{const C=new Set(c),E=n.filter(R=>C.has(R.path)),b=Ro(E),M=wd(b);Zi(new Blob([M],{type:"text/csv;charset=utf-8"}),`metadata_selection_${v()}.csv`)}finally{p(null),s(null)}}}),h.push({label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m,onClick:async()=>{p("json");try{const C=new Set(c),E=n.filter(R=>C.has(R.path)),b=Ro(E),M=vd(b);Zi(new Blob([M],{type:"application/json;charset=utf-8"}),`metadata_selection_${v()}.json`)}finally{p(null),s(null)}}})),h})();return g.jsx(_v,{x:e.x,y:e.y,items:d})}const $v=new py({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Uv(){return g.jsx(my,{client:$v,children:g.jsx(Fv,{})})}Hh(document.getElementById("root")).render(g.jsx(Uv,{}));
