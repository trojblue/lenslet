var bh=Object.defineProperty;var ga=e=>{throw TypeError(e)};var Uh=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fr=(e,t,n)=>Uh(e,typeof t!="symbol"?t+"":t,n),Rl=(e,t,n)=>t.has(e)||ga("Cannot "+n);var g=(e,t,n)=>(Rl(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>t.has(e)?ga("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),I=(e,t,n,r)=>(Rl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),q=(e,t,n)=>(Rl(e,t,"access private method"),n);var ti=(e,t,n,r)=>({set _(s){I(e,t,s,n)},get _(){return g(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nf={exports:{}},ul={},rf={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),$h=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Gh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),ya=Symbol.iterator;function Xh(e){return e===null||typeof e!="object"?null:(e=ya&&e[ya]||e["@@iterator"],typeof e=="function"?e:null)}var sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lf=Object.assign,of={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=of,this.updater=n||sf}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uf(){}uf.prototype=Xr.prototype;function pu(e,t,n){this.props=e,this.context=t,this.refs=of,this.updater=n||sf}var mu=pu.prototype=new uf;mu.constructor=pu;lf(mu,Xr.prototype);mu.isPureReactComponent=!0;var va=Array.isArray,af=Object.prototype.hasOwnProperty,gu={current:null},cf={key:!0,ref:!0,__self:!0,__source:!0};function ff(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)af.call(t,r)&&!cf.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),a=0;a<o;a++)u[a]=arguments[a+2];s.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:qs,type:e,key:i,ref:l,props:s,_owner:gu.current}}function Jh(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function Zh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wa=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zh(""+e.key):t.toString(36)}function ki(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qs:case $h:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Tl(l,0):r,va(s)?(n="",e!=null&&(n=e.replace(wa,"$&/")+"/"),ki(s,t,n,"",function(a){return a})):s!=null&&(yu(s)&&(s=Jh(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(wa,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",va(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+Tl(i,o);l+=ki(i,t,n,u,s)}else if(u=Xh(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+Tl(i,o++),l+=ki(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ni(e,t,n){if(e==null)return e;var r=[],s=0;return ki(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ep(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Ei={transition:null},tp={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:gu};function df(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ni,forEach:function(e,t,n){ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Xr;J.Fragment=Bh;J.Profiler=Wh;J.PureComponent=pu;J.StrictMode=Qh;J.Suspense=qh;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;J.act=df;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lf({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=gu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)af.call(t,u)&&!cf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var a=0;a<u;a++)o[a]=arguments[a+2];r.children=o}return{$$typeof:qs,type:e.type,key:s,ref:i,props:r,_owner:l}};J.createContext=function(e){return e={$$typeof:Vh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hh,_context:e},e.Consumer=e};J.createElement=ff;J.createFactory=function(e){var t=ff.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Kh,render:e}};J.isValidElement=yu;J.lazy=function(e){return{$$typeof:Yh,_payload:{_status:-1,_result:e},_init:ep}};J.memo=function(e,t){return{$$typeof:Gh,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Ei.transition;Ei.transition={};try{e()}finally{Ei.transition=t}};J.unstable_act=df;J.useCallback=function(e,t){return Ye.current.useCallback(e,t)};J.useContext=function(e){return Ye.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ye.current.useEffect(e,t)};J.useId=function(){return Ye.current.useId()};J.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ye.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};J.useRef=function(e){return Ye.current.useRef(e)};J.useState=function(e){return Ye.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ye.current.useTransition()};J.version="18.3.1";rf.exports=J;var k=rf.exports;const io=Ah(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=k,rp=Symbol.for("react.element"),sp=Symbol.for("react.fragment"),ip=Object.prototype.hasOwnProperty,lp=np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,op={key:!0,ref:!0,__self:!0,__source:!0};function hf(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)ip.call(t,r)&&!op.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:rp,type:e,key:i,ref:l,props:s,_owner:lp.current}}ul.Fragment=sp;ul.jsx=hf;ul.jsxs=hf;nf.exports=ul;var S=nf.exports,pf={exports:{}},ft={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,A){var H=z.length;z.push(A);e:for(;0<H;){var ae=H-1>>>1,L=z[ae];if(0<s(L,A))z[ae]=A,z[H]=L,H=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var A=z[0],H=z.pop();if(H!==A){z[0]=H;e:for(var ae=0,L=z.length,K=L>>>1;ae<K;){var re=2*(ae+1)-1,Te=z[re],G=re+1,kt=z[G];if(0>s(Te,H))G<L&&0>s(kt,Te)?(z[ae]=kt,z[G]=H,ae=G):(z[ae]=Te,z[re]=H,ae=re);else if(G<L&&0>s(kt,H))z[ae]=kt,z[G]=H,ae=G;else break e}}return A}function s(z,A){var H=z.sortIndex-A.sortIndex;return H!==0?H:z.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],a=[],p=1,h=null,y=3,v=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(z){for(var A=n(a);A!==null;){if(A.callback===null)r(a);else if(A.startTime<=z)r(a),A.sortIndex=A.expirationTime,t(u,A);else break;A=n(a)}}function m(z){if(w=!1,d(z),!x)if(n(u)!==null)x=!0,be(R);else{var A=n(a);A!==null&&Pe(m,A.startTime-z)}}function R(z,A){x=!1,w&&(w=!1,f(E),E=-1),v=!0;var H=y;try{for(d(A),h=n(u);h!==null&&(!(h.expirationTime>A)||z&&!F());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,y=h.priorityLevel;var L=ae(h.expirationTime<=A);A=e.unstable_now(),typeof L=="function"?h.callback=L:h===n(u)&&r(u),d(A)}else r(u);h=n(u)}if(h!==null)var K=!0;else{var re=n(a);re!==null&&Pe(m,re.startTime-A),K=!1}return K}finally{h=null,y=H,v=!1}}var C=!1,N=null,E=-1,M=5,P=-1;function F(){return!(e.unstable_now()-P<M)}function W(){if(N!==null){var z=e.unstable_now();P=z;var A=!0;try{A=N(!0,z)}finally{A?se():(C=!1,N=null)}}else C=!1}var se;if(typeof c=="function")se=function(){c(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ge=$.port2;$.port1.onmessage=W,se=function(){ge.postMessage(null)}}else se=function(){T(W,0)};function be(z){N=z,C||(C=!0,se())}function Pe(z,A){E=T(function(){z(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,be(R))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var A=3;break;default:A=y}var H=y;y=A;try{return z()}finally{y=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=y;y=z;try{return A()}finally{y=H}},e.unstable_scheduleCallback=function(z,A,H){var ae=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,z={id:p++,callback:A,priorityLevel:z,startTime:H,expirationTime:L,sortIndex:-1},H>ae?(z.sortIndex=H,t(a,z),n(u)===null&&z===n(a)&&(w?(f(E),E=-1):w=!0,Pe(m,H-ae))):(z.sortIndex=L,t(u,z),x||v||(x=!0,be(R))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var A=y;return function(){var H=y;y=A;try{return z.apply(this,arguments)}finally{y=H}}}})(gf);mf.exports=gf;var up=mf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=k,ct=up;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yf=new Set,Ts={};function ar(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(Ts[e]=t,e=0;e<t.length;e++)yf.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xa={},Sa={};function fp(e){return lo.call(Sa,e)?!0:lo.call(xa,e)?!1:cp.test(e)?Sa[e]=!0:(xa[e]=!0,!1)}function dp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hp(e,t,n,r){if(t===null||typeof t>"u"||dp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var vu=/[\-:]([a-z])/g;function wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vu,wu);De[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vu,wu);De[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vu,wu);De[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var s=De.hasOwnProperty(t)?De[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hp(t,n,s,r)&&(n=null),r||s===null?fp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ln=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),pr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),oo=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),xf=Symbol.for("react.offscreen"),ka=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Nl;function fs(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var Ml=!1;function Ol(e,t){if(!e||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var s=a.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fs(e):""}function pp(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=Ol(e.type,!1),e;case 11:return e=Ol(e.type.render,!1),e;case 1:return e=Ol(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case pr:return"Portal";case oo:return"Profiler";case Su:return"StrictMode";case uo:return"Suspense";case ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wf:return(e.displayName||"Context")+".Consumer";case vf:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gp(e){var t=Sf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function si(e){e._valueTracker||(e._valueTracker=gp(e))}function kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fo(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ea(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ef(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function ho(e,t){Ef(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,n):t.hasOwnProperty("defaultValue")&&po(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function po(e,t,n){(t!=="number"||Fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ds=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(ds(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function Cf(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function Nf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function Mf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vp=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(e,t){if(t){if(vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function vo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,Nr=null,Mr=null;function Na(e){if(e=Xs(e)){if(typeof xo!="function")throw Error(_(280));var t=e.stateNode;t&&(t=hl(t),xo(e.stateNode,e.type,t))}}function Of(e){Nr?Mr?Mr.push(e):Mr=[e]:Nr=e}function _f(){if(Nr){var e=Nr,t=Mr;if(Mr=Nr=null,Na(e),t)for(e=0;e<t.length;e++)Na(t[e])}}function Pf(e,t){return e(t)}function Lf(){}var _l=!1;function jf(e,t,n){if(_l)return e(t,n);_l=!0;try{return Pf(e,t,n)}finally{_l=!1,(Nr!==null||Mr!==null)&&(Lf(),_f())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var So=!1;if(tn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){So=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{So=!1}function wp(e,t,n,r,s,i,l,o,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(p){this.onError(p)}}var ys=!1,Di=null,bi=!1,ko=null,xp={onError:function(e){ys=!0,Di=e}};function Sp(e,t,n,r,s,i,l,o,u){ys=!1,Di=null,wp.apply(xp,arguments)}function kp(e,t,n,r,s,i,l,o,u){if(Sp.apply(this,arguments),ys){if(ys){var a=Di;ys=!1,Di=null}else throw Error(_(198));bi||(bi=!0,ko=a)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ma(e){if(cr(e)!==e)throw Error(_(188))}function Ep(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ma(s),e;if(i===r)return Ma(s),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function If(e){return e=Ep(e),e!==null?Ff(e):null}function Ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ff(e);if(t!==null)return t;e=e.sibling}return null}var Df=ct.unstable_scheduleCallback,Oa=ct.unstable_cancelCallback,Cp=ct.unstable_shouldYield,Rp=ct.unstable_requestPaint,Ce=ct.unstable_now,Tp=ct.unstable_getCurrentPriorityLevel,Ru=ct.unstable_ImmediatePriority,bf=ct.unstable_UserBlockingPriority,Ui=ct.unstable_NormalPriority,Np=ct.unstable_LowPriority,Uf=ct.unstable_IdlePriority,al=null,Bt=null;function Mp(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Pp,Op=Math.log,_p=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Op(e)/_p|0)|0}var li=64,oi=4194304;function hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=hs(o):(i&=l,i!==0&&(r=hs(i)))}else l=n&~s,l!==0?r=hs(l):i!==0&&(r=hs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),s=1<<n,r|=e[n],t&=~s;return r}function Lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Pt(i),o=1<<l,u=s[l];u===-1?(!(o&n)||o&r)&&(s[l]=Lp(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Af(){var e=li;return li<<=1,!(li&4194240)&&(li=64),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function zp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function $f(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bf,Nu,Qf,Wf,Hf,Co=!1,ui=[],Rn=null,Tn=null,Nn=null,Os=new Map,_s=new Map,fn=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _a(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function rs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xs(t),t!==null&&Nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fp(e,t,n,r,s){switch(t){case"focusin":return Rn=rs(Rn,e,t,n,r,s),!0;case"dragenter":return Tn=rs(Tn,e,t,n,r,s),!0;case"mouseover":return Nn=rs(Nn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Os.set(i,rs(Os.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_s.set(i,rs(_s.get(i)||null,e,t,n,r,s)),!0}return!1}function Vf(e){var t=$n(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=zf(n),t!==null){e.blockedOn=t,Hf(e.priority,function(){Qf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wo=r,n.target.dispatchEvent(r),wo=null}else return t=Xs(n),t!==null&&Nu(t),e.blockedOn=n,!1;t.shift()}return!0}function Pa(e,t,n){Ci(e)&&n.delete(t)}function Dp(){Co=!1,Rn!==null&&Ci(Rn)&&(Rn=null),Tn!==null&&Ci(Tn)&&(Tn=null),Nn!==null&&Ci(Nn)&&(Nn=null),Os.forEach(Pa),_s.forEach(Pa)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Dp)))}function Ps(e){function t(s){return ss(s,e)}if(0<ui.length){ss(ui[0],e);for(var n=1;n<ui.length;n++){var r=ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&ss(Rn,e),Tn!==null&&ss(Tn,e),Nn!==null&&ss(Nn,e),Os.forEach(t),_s.forEach(t),n=0;n<fn.length;n++)r=fn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Vf(n),n.blockedOn===null&&fn.shift()}var Or=ln.ReactCurrentBatchConfig,$i=!0;function bp(e,t,n,r){var s=oe,i=Or.transition;Or.transition=null;try{oe=1,Mu(e,t,n,r)}finally{oe=s,Or.transition=i}}function Up(e,t,n,r){var s=oe,i=Or.transition;Or.transition=null;try{oe=4,Mu(e,t,n,r)}finally{oe=s,Or.transition=i}}function Mu(e,t,n,r){if($i){var s=Ro(e,t,n,r);if(s===null)$l(e,t,r,Bi,n),_a(e,r);else if(Fp(s,e,t,n,r))r.stopPropagation();else if(_a(e,r),t&4&&-1<Ip.indexOf(e)){for(;s!==null;){var i=Xs(s);if(i!==null&&Bf(i),i=Ro(e,t,n,r),i===null&&$l(e,t,r,Bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $l(e,t,r,null,n)}}var Bi=null;function Ro(e,t,n,r){if(Bi=null,e=Cu(r),e=$n(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bi=e,null}function Kf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tp()){case Ru:return 1;case bf:return 4;case Ui:case Np:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var En=null,Ou=null,Ri=null;function qf(){if(Ri)return Ri;var e,t=Ou,n=t.length,r,s="value"in En?En.value:En.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Ri=s.slice(e,1<r?1-r:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function La(){return!1}function dt(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:La,this.isPropagationStopped=La,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=dt(Jr),Ys=xe({},Jr,{view:0,detail:0}),Ap=dt(Ys),Ll,jl,is,cl=xe({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(Ll=e.screenX-is.screenX,jl=e.screenY-is.screenY):jl=Ll=0,is=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),ja=dt(cl),$p=xe({},cl,{dataTransfer:0}),Bp=dt($p),Qp=xe({},Ys,{relatedTarget:0}),zl=dt(Qp),Wp=xe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=dt(Wp),Vp=xe({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=dt(Vp),qp=xe({},Jr,{data:0}),za=dt(qp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xp[e])?!!t[e]:!1}function Pu(){return Jp}var Zp=xe({},Ys,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=dt(Zp),tm=xe({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=dt(tm),nm=xe({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),rm=dt(nm),sm=xe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=dt(sm),lm=xe({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),om=dt(lm),um=[9,13,27,32],Lu=tn&&"CompositionEvent"in window,vs=null;tn&&"documentMode"in document&&(vs=document.documentMode);var am=tn&&"TextEvent"in window&&!vs,Gf=tn&&(!Lu||vs&&8<vs&&11>=vs),Fa=" ",Da=!1;function Yf(e,t){switch(e){case"keyup":return um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function cm(e,t){switch(e){case"compositionend":return Xf(t);case"keypress":return t.which!==32?null:(Da=!0,Fa);case"textInput":return e=t.data,e===Fa&&Da?null:e;default:return null}}function fm(e,t){if(gr)return e==="compositionend"||!Lu&&Yf(e,t)?(e=qf(),Ri=Ou=En=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gf&&t.locale!=="ko"?null:t.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dm[e.type]:t==="textarea"}function Jf(e,t,n,r){Of(r),t=Qi(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ws=null,Ls=null;function hm(e){ad(e,0)}function fl(e){var t=wr(e);if(kf(t))return e}function pm(e,t){if(e==="change")return t}var Zf=!1;if(tn){var Il;if(tn){var Fl="oninput"in document;if(!Fl){var Ua=document.createElement("div");Ua.setAttribute("oninput","return;"),Fl=typeof Ua.oninput=="function"}Il=Fl}else Il=!1;Zf=Il&&(!document.documentMode||9<document.documentMode)}function Aa(){ws&&(ws.detachEvent("onpropertychange",ed),Ls=ws=null)}function ed(e){if(e.propertyName==="value"&&fl(Ls)){var t=[];Jf(t,Ls,e,Cu(e)),jf(hm,t)}}function mm(e,t,n){e==="focusin"?(Aa(),ws=t,Ls=n,ws.attachEvent("onpropertychange",ed)):e==="focusout"&&Aa()}function gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Ls)}function ym(e,t){if(e==="click")return fl(t)}function vm(e,t){if(e==="input"||e==="change")return fl(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:wm;function js(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lo.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function $a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ba(e,t){var n=$a(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$a(n)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=Fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fi(e.document)}return t}function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xm(e){var t=nd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&td(n.ownerDocument.documentElement,n)){if(r!==null&&ju(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ba(n,i);var l=Ba(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sm=tn&&"documentMode"in document&&11>=document.documentMode,yr=null,To=null,xs=null,No=!1;function Qa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||yr==null||yr!==Fi(r)||(r=yr,"selectionStart"in r&&ju(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&js(xs,r)||(xs=r,r=Qi(To,"onSelect"),0<r.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Dl={},rd={};tn&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function dl(e){if(Dl[e])return Dl[e];if(!vr[e])return e;var t=vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rd)return Dl[e]=t[n];return e}var sd=dl("animationend"),id=dl("animationiteration"),ld=dl("animationstart"),od=dl("transitionend"),ud=new Map,Wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){ud.set(e,t),ar(t,[e])}for(var bl=0;bl<Wa.length;bl++){var Ul=Wa[bl],km=Ul.toLowerCase(),Em=Ul[0].toUpperCase()+Ul.slice(1);Fn(km,"on"+Em)}Fn(sd,"onAnimationEnd");Fn(id,"onAnimationIteration");Fn(ld,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(od,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Ha(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kp(r,t,void 0,e),e.currentTarget=null}function ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,a=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Ha(s,o,a),i=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,a=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Ha(s,o,a),i=u}}}if(bi)throw e=ko,bi=!1,ko=null,e}function de(e,t){var n=t[Lo];n===void 0&&(n=t[Lo]=new Set);var r=e+"__bubble";n.has(r)||(cd(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),cd(n,e,r,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[fi]){e[fi]=!0,yf.forEach(function(n){n!=="selectionchange"&&(Cm.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,Al("selectionchange",!1,t))}}function cd(e,t,n,r){switch(Kf(t)){case 1:var s=bp;break;case 4:s=Up;break;default:s=Mu}n=s.bind(null,t,n,e),s=void 0,!So||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $l(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;o!==null;){if(l=$n(o),l===null)return;if(u=l.tag,u===5||u===6){r=i=l;continue e}o=o.parentNode}}r=r.return}jf(function(){var a=i,p=Cu(n),h=[];e:{var y=ud.get(e);if(y!==void 0){var v=_u,x=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":v=em;break;case"focusin":x="focus",v=zl;break;case"focusout":x="blur",v=zl;break;case"beforeblur":case"afterblur":v=zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=rm;break;case sd:case id:case ld:v=Hp;break;case od:v=im;break;case"scroll":v=Ap;break;case"wheel":v=om;break;case"copy":case"cut":case"paste":v=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ia}var w=(t&4)!==0,T=!w&&e==="scroll",f=w?y!==null?y+"Capture":null:y;w=[];for(var c=a,d;c!==null;){d=c;var m=d.stateNode;if(d.tag===5&&m!==null&&(d=m,f!==null&&(m=Ms(c,f),m!=null&&w.push(Is(c,m,d)))),T)break;c=c.return}0<w.length&&(y=new v(y,x,null,n,p),h.push({event:y,listeners:w}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&n!==wo&&(x=n.relatedTarget||n.fromElement)&&($n(x)||x[nn]))break e;if((v||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=a,x=x?$n(x):null,x!==null&&(T=cr(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=a),v!==x)){if(w=ja,m="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ia,m="onPointerLeave",f="onPointerEnter",c="pointer"),T=v==null?y:wr(v),d=x==null?y:wr(x),y=new w(m,c+"leave",v,n,p),y.target=T,y.relatedTarget=d,m=null,$n(p)===a&&(w=new w(f,c+"enter",x,n,p),w.target=d,w.relatedTarget=T,m=w),T=m,v&&x)t:{for(w=v,f=x,c=0,d=w;d;d=dr(d))c++;for(d=0,m=f;m;m=dr(m))d++;for(;0<c-d;)w=dr(w),c--;for(;0<d-c;)f=dr(f),d--;for(;c--;){if(w===f||f!==null&&w===f.alternate)break t;w=dr(w),f=dr(f)}w=null}else w=null;v!==null&&Va(h,y,v,w,!1),x!==null&&T!==null&&Va(h,T,x,w,!0)}}e:{if(y=a?wr(a):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var R=pm;else if(ba(y))if(Zf)R=vm;else{R=gm;var C=mm}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=ym);if(R&&(R=R(e,a))){Jf(h,R,n,p);break e}C&&C(e,y,a),e==="focusout"&&(C=y._wrapperState)&&C.controlled&&y.type==="number"&&po(y,"number",y.value)}switch(C=a?wr(a):window,e){case"focusin":(ba(C)||C.contentEditable==="true")&&(yr=C,To=a,xs=null);break;case"focusout":xs=To=yr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Qa(h,n,p);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":Qa(h,n,p)}var N;if(Lu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else gr?Yf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Gf&&n.locale!=="ko"&&(gr||E!=="onCompositionStart"?E==="onCompositionEnd"&&gr&&(N=qf()):(En=p,Ou="value"in En?En.value:En.textContent,gr=!0)),C=Qi(a,E),0<C.length&&(E=new za(E,e,null,n,p),h.push({event:E,listeners:C}),N?E.data=N:(N=Xf(n),N!==null&&(E.data=N)))),(N=am?cm(e,n):fm(e,n))&&(a=Qi(a,"onBeforeInput"),0<a.length&&(p=new za("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:a}),p.data=N))}ad(h,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ms(e,n),i!=null&&r.unshift(Is(e,i,s)),i=Ms(e,t),i!=null&&r.push(Is(e,i,s))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Va(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,a=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&a!==null&&(o=a,s?(u=Ms(n,i),u!=null&&l.unshift(Is(n,u,o))):s||(u=Ms(n,i),u!=null&&l.push(Is(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Rm=/\r\n?/g,Tm=/\u0000|\uFFFD/g;function Ka(e){return(typeof e=="string"?e:""+e).replace(Rm,`
`).replace(Tm,"")}function di(e,t,n){if(t=Ka(t),Ka(e)!==t&&n)throw Error(_(425))}function Wi(){}var Mo=null,Oo=null;function _o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,Nm=typeof clearTimeout=="function"?clearTimeout:void 0,qa=typeof Promise=="function"?Promise:void 0,Mm=typeof queueMicrotask=="function"?queueMicrotask:typeof qa<"u"?function(e){return qa.resolve(null).then(e).catch(Om)}:Po;function Om(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ps(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),At="__reactFiber$"+Zr,Fs="__reactProps$"+Zr,nn="__reactContainer$"+Zr,Lo="__reactEvents$"+Zr,_m="__reactListeners$"+Zr,Pm="__reactHandles$"+Zr;function $n(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ga(e);e!==null;){if(n=e[At])return n;e=Ga(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[At]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function hl(e){return e[Fs]||null}var jo=[],xr=-1;function Dn(e){return{current:e}}function he(e){0>xr||(e.current=jo[xr],jo[xr]=null,xr--)}function ce(e,t){xr++,jo[xr]=e.current,e.current=t}var In={},We=Dn(In),rt=Dn(!1),nr=In;function Hr(e,t){var n=e.type.contextTypes;if(!n)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function st(e){return e=e.childContextTypes,e!=null}function Hi(){he(rt),he(We)}function Ya(e,t,n){if(We.current!==In)throw Error(_(168));ce(We,t),ce(rt,n)}function fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,mp(e)||"Unknown",s));return xe({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,nr=We.current,ce(We,e),ce(rt,rt.current),!0}function Xa(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=fd(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,he(rt),he(We),ce(We,e)):he(rt),ce(rt,n)}var Kt=null,pl=!1,Ql=!1;function dd(e){Kt===null?Kt=[e]:Kt.push(e)}function Lm(e){pl=!0,dd(e)}function bn(){if(!Ql&&Kt!==null){Ql=!0;var e=0,t=oe;try{var n=Kt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kt=null,pl=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(e+1)),Df(Ru,bn),s}finally{oe=t,Ql=!1}}return null}var Sr=[],kr=0,Ki=null,qi=0,gt=[],yt=0,rr=null,Xt=1,Jt="";function Un(e,t){Sr[kr++]=qi,Sr[kr++]=Ki,Ki=e,qi=t}function hd(e,t,n){gt[yt++]=Xt,gt[yt++]=Jt,gt[yt++]=rr,rr=e;var r=Xt;e=Jt;var s=32-Pt(r)-1;r&=~(1<<s),n+=1;var i=32-Pt(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Xt=1<<32-Pt(t)+s|n<<s|r,Jt=i+e}else Xt=1<<i|n<<s|r,Jt=e}function zu(e){e.return!==null&&(Un(e,1),hd(e,1,0))}function Iu(e){for(;e===Ki;)Ki=Sr[--kr],Sr[kr]=null,qi=Sr[--kr],Sr[kr]=null;for(;e===rr;)rr=gt[--yt],gt[yt]=null,Jt=gt[--yt],gt[yt]=null,Xt=gt[--yt],gt[yt]=null}var at=null,ut=null,me=!1,_t=null;function pd(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ja(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:Xt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ut=null,!0):!1;default:return!1}}function zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(me){var t=ut;if(t){var n=t;if(!Ja(e,t)){if(zo(e))throw Error(_(418));t=Mn(n.nextSibling);var r=at;t&&Ja(e,t)?pd(r,n):(e.flags=e.flags&-4097|2,me=!1,at=e)}}else{if(zo(e))throw Error(_(418));e.flags=e.flags&-4097|2,me=!1,at=e}}}function Za(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function hi(e){if(e!==at)return!1;if(!me)return Za(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_o(e.type,e.memoizedProps)),t&&(t=ut)){if(zo(e))throw md(),Error(_(418));for(;t;)pd(e,t),t=Mn(t.nextSibling)}if(Za(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Mn(e.stateNode.nextSibling):null;return!0}function md(){for(var e=ut;e;)e=Mn(e.nextSibling)}function Vr(){ut=at=null,me=!1}function Fu(e){_t===null?_t=[e]:_t.push(e)}var jm=ln.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ec(e){var t=e._init;return t(e._payload)}function gd(e){function t(f,c){if(e){var d=f.deletions;d===null?(f.deletions=[c],f.flags|=16):d.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function s(f,c){return f=Ln(f,c),f.index=0,f.sibling=null,f}function i(f,c,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<c?(f.flags|=2,c):d):(f.flags|=2,c)):(f.flags|=1048576,c)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,c,d,m){return c===null||c.tag!==6?(c=Yl(d,f.mode,m),c.return=f,c):(c=s(c,d),c.return=f,c)}function u(f,c,d,m){var R=d.type;return R===mr?p(f,c,d.props.children,m,d.key):c!==null&&(c.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===an&&ec(R)===c.type)?(m=s(c,d.props),m.ref=ls(f,c,d),m.return=f,m):(m=ji(d.type,d.key,d.props,null,f.mode,m),m.ref=ls(f,c,d),m.return=f,m)}function a(f,c,d,m){return c===null||c.tag!==4||c.stateNode.containerInfo!==d.containerInfo||c.stateNode.implementation!==d.implementation?(c=Xl(d,f.mode,m),c.return=f,c):(c=s(c,d.children||[]),c.return=f,c)}function p(f,c,d,m,R){return c===null||c.tag!==7?(c=tr(d,f.mode,m,R),c.return=f,c):(c=s(c,d),c.return=f,c)}function h(f,c,d){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Yl(""+c,f.mode,d),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case ri:return d=ji(c.type,c.key,c.props,null,f.mode,d),d.ref=ls(f,null,c),d.return=f,d;case pr:return c=Xl(c,f.mode,d),c.return=f,c;case an:var m=c._init;return h(f,m(c._payload),d)}if(ds(c)||ts(c))return c=tr(c,f.mode,d,null),c.return=f,c;pi(f,c)}return null}function y(f,c,d,m){var R=c!==null?c.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return R!==null?null:o(f,c,""+d,m);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ri:return d.key===R?u(f,c,d,m):null;case pr:return d.key===R?a(f,c,d,m):null;case an:return R=d._init,y(f,c,R(d._payload),m)}if(ds(d)||ts(d))return R!==null?null:p(f,c,d,m,null);pi(f,d)}return null}function v(f,c,d,m,R){if(typeof m=="string"&&m!==""||typeof m=="number")return f=f.get(d)||null,o(c,f,""+m,R);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:return f=f.get(m.key===null?d:m.key)||null,u(c,f,m,R);case pr:return f=f.get(m.key===null?d:m.key)||null,a(c,f,m,R);case an:var C=m._init;return v(f,c,d,C(m._payload),R)}if(ds(m)||ts(m))return f=f.get(d)||null,p(c,f,m,R,null);pi(c,m)}return null}function x(f,c,d,m){for(var R=null,C=null,N=c,E=c=0,M=null;N!==null&&E<d.length;E++){N.index>E?(M=N,N=null):M=N.sibling;var P=y(f,N,d[E],m);if(P===null){N===null&&(N=M);break}e&&N&&P.alternate===null&&t(f,N),c=i(P,c,E),C===null?R=P:C.sibling=P,C=P,N=M}if(E===d.length)return n(f,N),me&&Un(f,E),R;if(N===null){for(;E<d.length;E++)N=h(f,d[E],m),N!==null&&(c=i(N,c,E),C===null?R=N:C.sibling=N,C=N);return me&&Un(f,E),R}for(N=r(f,N);E<d.length;E++)M=v(N,f,E,d[E],m),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?E:M.key),c=i(M,c,E),C===null?R=M:C.sibling=M,C=M);return e&&N.forEach(function(F){return t(f,F)}),me&&Un(f,E),R}function w(f,c,d,m){var R=ts(d);if(typeof R!="function")throw Error(_(150));if(d=R.call(d),d==null)throw Error(_(151));for(var C=R=null,N=c,E=c=0,M=null,P=d.next();N!==null&&!P.done;E++,P=d.next()){N.index>E?(M=N,N=null):M=N.sibling;var F=y(f,N,P.value,m);if(F===null){N===null&&(N=M);break}e&&N&&F.alternate===null&&t(f,N),c=i(F,c,E),C===null?R=F:C.sibling=F,C=F,N=M}if(P.done)return n(f,N),me&&Un(f,E),R;if(N===null){for(;!P.done;E++,P=d.next())P=h(f,P.value,m),P!==null&&(c=i(P,c,E),C===null?R=P:C.sibling=P,C=P);return me&&Un(f,E),R}for(N=r(f,N);!P.done;E++,P=d.next())P=v(N,f,E,P.value,m),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),c=i(P,c,E),C===null?R=P:C.sibling=P,C=P);return e&&N.forEach(function(W){return t(f,W)}),me&&Un(f,E),R}function T(f,c,d,m){if(typeof d=="object"&&d!==null&&d.type===mr&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case ri:e:{for(var R=d.key,C=c;C!==null;){if(C.key===R){if(R=d.type,R===mr){if(C.tag===7){n(f,C.sibling),c=s(C,d.props.children),c.return=f,f=c;break e}}else if(C.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===an&&ec(R)===C.type){n(f,C.sibling),c=s(C,d.props),c.ref=ls(f,C,d),c.return=f,f=c;break e}n(f,C);break}else t(f,C);C=C.sibling}d.type===mr?(c=tr(d.props.children,f.mode,m,d.key),c.return=f,f=c):(m=ji(d.type,d.key,d.props,null,f.mode,m),m.ref=ls(f,c,d),m.return=f,f=m)}return l(f);case pr:e:{for(C=d.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(f,c.sibling),c=s(c,d.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=Xl(d,f.mode,m),c.return=f,f=c}return l(f);case an:return C=d._init,T(f,c,C(d._payload),m)}if(ds(d))return x(f,c,d,m);if(ts(d))return w(f,c,d,m);pi(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,c!==null&&c.tag===6?(n(f,c.sibling),c=s(c,d),c.return=f,f=c):(n(f,c),c=Yl(d,f.mode,m),c.return=f,f=c),l(f)):n(f,c)}return T}var Kr=gd(!0),yd=gd(!1),Gi=Dn(null),Yi=null,Er=null,Du=null;function bu(){Du=Er=Yi=null}function Uu(e){var t=Gi.current;he(Gi),e._currentValue=t}function Fo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _r(e,t){Yi=e,Du=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Du!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(Yi===null)throw Error(_(308));Er=e,Yi.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var Bn=null;function Au(e){Bn===null?Bn=[e]:Bn.push(e)}function vd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Au(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,Au(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}function tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,r){var s=e.updateQueue;cn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,a=u.next;u.next=null,l===null?i=a:l.next=a,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=a:o.next=a,p.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;l=0,p=a=u=null,o=i;do{var y=o.lane,v=o.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,w=o;switch(y=t,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(v,h,y);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,y=typeof x=="function"?x.call(v,h,y):x,y==null)break e;h=xe({},h,y);break e;case 2:cn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[o]:y.push(o))}else v={eventTime:v,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(a=p=v,u=h):p=p.next=v,l|=y;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;y=o,o=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(u=h),s.baseState=u,s.firstBaseUpdate=a,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ir|=l,e.lanes=l,e.memoizedState=h}}function nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var Js={},Qt=Dn(Js),Ds=Dn(Js),bs=Dn(Js);function Qn(e){if(e===Js)throw Error(_(174));return e}function Bu(e,t){switch(ce(bs,t),ce(Ds,e),ce(Qt,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=go(t,e)}he(Qt),ce(Qt,t)}function qr(){he(Qt),he(Ds),he(bs)}function xd(e){Qn(bs.current);var t=Qn(Qt.current),n=go(t,e.type);t!==n&&(ce(Ds,e),ce(Qt,n))}function Qu(e){Ds.current===e&&(he(Qt),he(Ds))}var ve=Dn(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function Wu(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var Mi=ln.ReactCurrentDispatcher,Hl=ln.ReactCurrentBatchConfig,sr=0,we=null,Me=null,je=null,Zi=!1,Ss=!1,Us=0,zm=0;function $e(){throw Error(_(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Vu(e,t,n,r,s,i){if(sr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?bm:Um,e=n(r,s),Ss){i=0;do{if(Ss=!1,Us=0,25<=i)throw Error(_(301));i+=1,je=Me=null,t.updateQueue=null,Mi.current=Am,e=n(r,s)}while(Ss)}if(Mi.current=el,t=Me!==null&&Me.next!==null,sr=0,je=Me=we=null,Zi=!1,t)throw Error(_(300));return e}function Ku(){var e=Us!==0;return Us=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?we.memoizedState=je=e:je=je.next=e,je}function St(){if(Me===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=je===null?we.memoizedState:je.next;if(t!==null)je=t,Me=e;else{if(e===null)throw Error(_(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},je===null?we.memoizedState=je=e:je=je.next=e}return je}function As(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=St(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=Me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,u=null,a=i;do{var p=a.lane;if((sr&p)===p)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var h={lane:p,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(o=u=h,l=r):u=u.next=h,we.lanes|=p,ir|=p}a=a.next}while(a!==null&&a!==i);u===null?l=r:u.next=o,jt(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,ir|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kl(e){var t=St(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);jt(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Sd(){}function kd(e,t){var n=we,r=St(),s=t(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,nt=!0),r=r.queue,qu(Rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,$s(9,Cd.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(_(349));sr&30||Ed(n,t,s)}return s}function Ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cd(e,t,n,r){t.value=n,t.getSnapshot=r,Td(t)&&Nd(e)}function Rd(e,t,n){return n(function(){Td(t)&&Nd(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Nd(e){var t=rn(e,1);t!==null&&Lt(t,e,1,-1)}function rc(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=Dm.bind(null,we,e),[t.memoizedState,e]}function $s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Md(){return St().memoizedState}function Oi(e,t,n,r){var s=Ft();we.flags|=e,s.memoizedState=$s(1|t,n,void 0,r===void 0?null:r)}function ml(e,t,n,r){var s=St();r=r===void 0?null:r;var i=void 0;if(Me!==null){var l=Me.memoizedState;if(i=l.destroy,r!==null&&Hu(r,l.deps)){s.memoizedState=$s(t,n,i,r);return}}we.flags|=e,s.memoizedState=$s(1|t,n,i,r)}function sc(e,t){return Oi(8390656,8,e,t)}function qu(e,t){return ml(2048,8,e,t)}function Od(e,t){return ml(4,2,e,t)}function _d(e,t){return ml(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){return n=n!=null?n.concat([e]):null,ml(4,4,Pd.bind(null,t,e),n)}function Gu(){}function jd(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zd(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Id(e,t,n){return sr&21?(jt(n,t)||(n=Af(),we.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function Im(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Hl.transition;Hl.transition={};try{e(!1),t()}finally{oe=n,Hl.transition=r}}function Fd(){return St().memoizedState}function Fm(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dd(e))bd(t,n);else if(n=vd(e,t,n,r),n!==null){var s=Ge();Lt(n,e,r,s),Ud(n,t,r)}}function Dm(e,t,n){var r=Pn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dd(e))bd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,jt(o,l)){var u=t.interleaved;u===null?(s.next=s,Au(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=vd(e,t,s,r),n!==null&&(s=Ge(),Lt(n,e,r,s),Ud(n,t,r))}}function Dd(e){var t=e.alternate;return e===we||t!==null&&t===we}function bd(e,t){Ss=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ud(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}var el={readContext:xt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},bm={readContext:xt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4194308,4,Pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fm.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:rc,useDebugValue:Gu,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=rc(!1),t=e[0];return e=Im.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Ft();if(me){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),ze===null)throw Error(_(349));sr&30||Ed(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,sc(Rd.bind(null,r,i,e),[e]),r.flags|=2048,$s(9,Cd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ft(),t=ze.identifierPrefix;if(me){var n=Jt,r=Xt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Um={readContext:xt,useCallback:jd,useContext:xt,useEffect:qu,useImperativeHandle:Ld,useInsertionEffect:Od,useLayoutEffect:_d,useMemo:zd,useReducer:Vl,useRef:Md,useState:function(){return Vl(As)},useDebugValue:Gu,useDeferredValue:function(e){var t=St();return Id(t,Me.memoizedState,e)},useTransition:function(){var e=Vl(As)[0],t=St().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:kd,useId:Fd,unstable_isNewReconciler:!1},Am={readContext:xt,useCallback:jd,useContext:xt,useEffect:qu,useImperativeHandle:Ld,useInsertionEffect:Od,useLayoutEffect:_d,useMemo:zd,useReducer:Kl,useRef:Md,useState:function(){return Kl(As)},useDebugValue:Gu,useDeferredValue:function(e){var t=St();return Me===null?t.memoizedState=e:Id(t,Me.memoizedState,e)},useTransition:function(){var e=Kl(As)[0],t=St().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:kd,useId:Fd,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Do(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Pn(e),i=Zt(r,s);i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Lt(t,e,s,r),Ni(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Pn(e),i=Zt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Lt(t,e,s,r),Ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=Pn(e),s=Zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,r),t!==null&&(Lt(t,e,r,n),Ni(t,e,r))}};function ic(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!js(n,r)||!js(s,i):!0}function Ad(e,t,n){var r=!1,s=In,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=st(t)?nr:We.current,r=t.contextTypes,i=(r=r!=null)?Hr(e,s):In),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$u(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=st(t)?nr:We.current,s.context=Hr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Do(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gl.enqueueReplaceState(s,s.state,null),Xi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var n="",r=t;do n+=pp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function $d(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,Go=r),Uo(e,t)},n}function Bd(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Uo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uo(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $m;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=tg.bind(null,e,t,n),t.then(e,e))}function uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ac(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var Bm=ln.ReactCurrentOwner,nt=!1;function Ke(e,t,n,r){t.child=e===null?yd(t,null,n,r):Kr(t,e.child,n,r)}function cc(e,t,n,r,s){n=n.render;var i=t.ref;return _r(t,s),r=Vu(e,t,n,r,i,s),n=Ku(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&n&&zu(t),t.flags|=1,Ke(e,t,r,s),t.child)}function fc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ra(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Qd(e,t,i,r,s)):(e=ji(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:js,n(l,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=Ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(js(i,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,sn(e,t,s)}return Ao(e,t,n,r,s)}function Wd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Rr,ot),ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Rr,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Rr,ot),ot|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Rr,ot),ot|=r;return Ke(e,t,s,n),t.child}function Hd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,s){var i=st(n)?nr:We.current;return i=Hr(t,i),_r(t,s),n=Vu(e,t,n,r,i,s),r=Ku(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&r&&zu(t),t.flags|=1,Ke(e,t,n,s),t.child)}function dc(e,t,n,r,s){if(st(n)){var i=!0;Vi(t)}else i=!1;if(_r(t,s),t.stateNode===null)_i(e,t),Ad(t,n,r),bo(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,a=n.contextType;typeof a=="object"&&a!==null?a=xt(a):(a=st(n)?nr:We.current,a=Hr(t,a));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==a)&&lc(t,l,r,a),cn=!1;var y=t.memoizedState;l.state=y,Xi(t,r,l,s),u=t.memoizedState,o!==r||y!==u||rt.current||cn?(typeof p=="function"&&(Do(t,n,p,r),u=t.memoizedState),(o=cn||ic(t,n,o,r,y,u,a))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=a,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,wd(e,t),o=t.memoizedProps,a=t.type===t.elementType?o:Tt(t.type,o),l.props=a,h=t.pendingProps,y=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=xt(u):(u=st(n)?nr:We.current,u=Hr(t,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||y!==u)&&lc(t,l,r,u),cn=!1,y=t.memoizedState,l.state=y,Xi(t,r,l,s);var x=t.memoizedState;o!==h||y!==x||rt.current||cn?(typeof v=="function"&&(Do(t,n,v,r),x=t.memoizedState),(a=cn||ic(t,n,a,r,y,x,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=u,r=a):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return $o(e,t,n,r,i,s)}function $o(e,t,n,r,s,i){Hd(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Xa(t,n,!1),sn(e,t,i);r=t.stateNode,Bm.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Kr(t,e.child,null,i),t.child=Kr(t,null,o,i)):Ke(e,t,o,i),t.memoizedState=r.state,s&&Xa(t,n,!0),t.child}function Vd(e){var t=e.stateNode;t.pendingContext?Ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ya(e,t.context,!1),Bu(e,t.containerInfo)}function hc(e,t,n,r,s){return Vr(),Fu(s),t.flags|=256,Ke(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kd(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=wl(l,r,0,null),e=tr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qo(n),t.memoizedState=Bo,e):Yu(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Qm(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ln(s,u),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ln(o,i):(i=tr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Qo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Bo,r}return i=e.child,e=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yu(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mi(e,t,n,r){return r!==null&&Fu(r),Kr(t,e.child,null,n),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qm(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=ql(Error(_(422))),mi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=wl({mode:"visible",children:r.children},s,0,null),i=tr(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Kr(t,e.child,null,l),t.child.memoizedState=Qo(l),t.memoizedState=Bo,i);if(!(t.mode&1))return mi(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(_(419)),r=ql(i,r,void 0),mi(e,t,l,r)}if(o=(l&e.childLanes)!==0,nt||o){if(r=ze,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rn(e,s),Lt(r,e,s,-1))}return na(),r=ql(Error(_(421))),mi(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ng.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ut=Mn(s.nextSibling),at=t,me=!0,_t=null,e!==null&&(gt[yt++]=Xt,gt[yt++]=Jt,gt[yt++]=rr,Xt=e.id,Jt=e.overflow,rr=t),t=Yu(t,r.children),t.flags|=4096,t)}function pc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fo(e.return,t,n)}function Gl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ke(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pc(e,n,t);else if(e.tag===19)pc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ji(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ji(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gl(t,!0,n,null,i);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wm(e,t,n){switch(t.tag){case 3:Vd(t),Vr();break;case 5:xd(t);break;case 1:st(t.type)&&Vi(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Gi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Kd(e,t,n):(ce(ve,ve.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,n)}return sn(e,t,n)}var Gd,Wo,Yd,Xd;Gd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wo=function(){};Yd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qn(Qt.current);var i=null;switch(n){case"input":s=fo(e,s),r=fo(e,r),i=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),i=[];break;case"textarea":s=mo(e,s),r=mo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wi)}yo(n,r);var l;n=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style"){var o=s[a];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ts.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(o=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&u!==o&&(u!=null||o!=null))if(a==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(i||(i=[]),i.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&de("scroll",e),i||o===u||(i=[])):(i=i||[]).push(a,u))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};Xd=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hm(e,t,n){var r=t.pendingProps;switch(Iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return st(t.type)&&Hi(),Be(t),null;case 3:return r=t.stateNode,qr(),he(rt),he(We),Wu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Jo(_t),_t=null))),Wo(e,t),Be(t),null;case 5:Qu(t);var s=Qn(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)Yd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Be(t),null}if(e=Qn(Qt.current),hi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[At]=t,r[Fs]=i,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<ps.length;s++)de(ps[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Ea(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":Ra(r,i),de("invalid",r)}yo(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&di(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&di(r.textContent,o,e),s=["children",""+o]):Ts.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&de("scroll",r)}switch(n){case"input":si(r),Ca(r,i,!0);break;case"textarea":si(r),Ta(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[At]=t,e[Fs]=r,Gd(e,t,!1,!1),t.stateNode=e;e:{switch(l=vo(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<ps.length;s++)de(ps[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":Ea(e,r),s=fo(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),de("invalid",e);break;case"textarea":Ra(e,r),s=mo(e,r),de("invalid",e);break;default:s=r}yo(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Mf(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tf(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ns(e,u):typeof u=="number"&&Ns(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ts.hasOwnProperty(i)?u!=null&&i==="onScroll"&&de("scroll",e):u!=null&&xu(e,i,u,l))}switch(n){case"input":si(e),Ca(e,r,!1);break;case"textarea":si(e),Ta(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Tr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Qn(bs.current),Qn(Qt.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(i=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:di(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Be(t),null;case 13:if(he(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ut!==null&&t.mode&1&&!(t.flags&128))md(),Vr(),t.flags|=98560,i=!1;else if(i=hi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[At]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else _t!==null&&(Jo(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?_e===0&&(_e=3):na())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return qr(),Wo(e,t),e===null&&zs(t.stateNode.containerInfo),Be(t),null;case 10:return Uu(t.type._context),Be(t),null;case 17:return st(t.type)&&Hi(),Be(t),null;case 19:if(he(ve),i=t.memoizedState,i===null)return Be(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)os(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ji(e),l!==null){for(t.flags|=128,os(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>Yr&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ji(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!me)return Be(t),null}else 2*Ce()-i.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return ta(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Vm(e,t){switch(Iu(t),t.tag){case 1:return st(t.type)&&Hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),he(rt),he(We),Wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qu(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return qr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var gi=!1,Qe=!1,Km=typeof WeakSet=="function"?WeakSet:Set,D=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function Ho(e,t,n){try{n()}catch(r){ke(e,t,r)}}var mc=!1;function qm(e,t){if(Mo=$i,e=nd(),ju(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,a=0,p=0,h=e,y=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(o=l+s),h!==i||r!==0&&h.nodeType!==3||(u=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)y=h,h=v;for(;;){if(h===e)break t;if(y===n&&++a===s&&(o=l),y===i&&++p===r&&(u=l),(v=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oo={focusedElem:e,selectionRange:n},$i=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,T=x.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:Tt(t.type,w),T);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(m){ke(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=mc,mc=!1,x}function ks(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ho(t,n,i)}s=s.next}while(s!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Fs],delete t[Lo],delete t[_m],delete t[Pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zd(e){return e.tag===5||e.tag===3||e.tag===4}function gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wi));else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}function qo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}var Ie=null,Ot=!1;function on(e,t,n){for(n=n.child;n!==null;)eh(e,t,n),n=n.sibling}function eh(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 5:Qe||Cr(n,t);case 6:var r=Ie,s=Ot;Ie=null,on(e,t,n),Ie=r,Ot=s,Ie!==null&&(Ot?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Ot?(e=Ie,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Ps(e)):Bl(Ie,n.stateNode));break;case 4:r=Ie,s=Ot,Ie=n.stateNode.containerInfo,Ot=!0,on(e,t,n),Ie=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ho(n,t,l),s=s.next}while(s!==r)}on(e,t,n);break;case 1:if(!Qe&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ke(n,t,o)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,on(e,t,n),Qe=r):on(e,t,n);break;default:on(e,t,n)}}function yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Km),t.forEach(function(r){var s=rg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,Ot=!1;break e;case 3:Ie=o.stateNode.containerInfo,Ot=!0;break e;case 4:Ie=o.stateNode.containerInfo,Ot=!0;break e}o=o.return}if(Ie===null)throw Error(_(160));eh(i,l,s),Ie=null,Ot=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(a){ke(s,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),It(e),r&4){try{ks(3,e,e.return),yl(3,e)}catch(w){ke(e,e.return,w)}try{ks(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:Rt(t,e),It(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(Rt(t,e),It(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var s=e.stateNode;try{Ns(s,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Ef(s,i),vo(o,l);var a=vo(o,i);for(l=0;l<u.length;l+=2){var p=u[l],h=u[l+1];p==="style"?Mf(s,h):p==="dangerouslySetInnerHTML"?Tf(s,h):p==="children"?Ns(s,h):xu(s,p,h,a)}switch(o){case"input":ho(s,i);break;case"textarea":Cf(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Tr(s,!!i.multiple,v,!1):y!==!!i.multiple&&(i.defaultValue!=null?Tr(s,!!i.multiple,i.defaultValue,!0):Tr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fs]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(Rt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(Rt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:Rt(t,e),It(e);break;case 13:Rt(t,e),It(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zu=Ce())),r&4&&yc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(a=Qe)||p,Rt(t,e),Qe=a):Rt(t,e),It(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!p&&e.mode&1)for(D=e,p=e.child;p!==null;){for(h=D=p;D!==null;){switch(y=D,v=y.child,y.tag){case 0:case 11:case 14:case 15:ks(4,y,y.return);break;case 1:Cr(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:Cr(y,y.return);break;case 22:if(y.memoizedState!==null){wc(h);continue}}v!==null?(v.return=y,D=v):wc(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,a?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Nf("display",l))}catch(w){ke(e,e.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=a?"":h.memoizedProps}catch(w){ke(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),It(e),r&4&&yc(e);break;case 21:break;default:Rt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ns(s,""),r.flags&=-33);var i=gc(e);qo(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=gc(e);Ko(e,o,l);break;default:throw Error(_(161))}}catch(u){ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gm(e,t,n){D=e,nh(e)}function nh(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||gi;if(!l){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Qe;o=gi;var a=Qe;if(gi=l,(Qe=u)&&!a)for(D=s;D!==null;)l=D,u=l.child,l.tag===22&&l.memoizedState!==null?xc(s):u!==null?(u.return=l,D=u):xc(s);for(;i!==null;)D=i,nh(i),i=i.sibling;D=s,gi=o,Qe=a}vc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):vc(e)}}function vc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var p=a.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Qe||t.flags&512&&Vo(t)}catch(y){ke(t,t.return,y)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function wc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function xc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(u){ke(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ke(t,s,u)}}var i=t.return;try{Vo(t)}catch(u){ke(t,i,u)}break;case 5:var l=t.return;try{Vo(t)}catch(u){ke(t,l,u)}}}catch(u){ke(t,t.return,u)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var Ym=Math.ceil,tl=ln.ReactCurrentDispatcher,Xu=ln.ReactCurrentOwner,wt=ln.ReactCurrentBatchConfig,ne=0,ze=null,Re=null,Fe=0,ot=0,Rr=Dn(0),_e=0,Bs=null,ir=0,vl=0,Ju=0,Es=null,tt=null,Zu=0,Yr=1/0,Vt=null,nl=!1,Go=null,_n=null,yi=!1,Cn=null,rl=0,Cs=0,Yo=null,Pi=-1,Li=0;function Ge(){return ne&6?Ce():Pi!==-1?Pi:Pi=Ce()}function Pn(e){return e.mode&1?ne&2&&Fe!==0?Fe&-Fe:jm.transition!==null?(Li===0&&(Li=Af()),Li):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Kf(e.type)),e):1}function Lt(e,t,n,r){if(50<Cs)throw Cs=0,Yo=null,Error(_(185));Gs(e,n,r),(!(ne&2)||e!==ze)&&(e===ze&&(!(ne&2)&&(vl|=n),_e===4&&dn(e,Fe)),it(e,r),n===1&&ne===0&&!(t.mode&1)&&(Yr=Ce()+500,pl&&bn()))}function it(e,t){var n=e.callbackNode;jp(e,t);var r=Ai(e,e===ze?Fe:0);if(r===0)n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oa(n),t===1)e.tag===0?Lm(Sc.bind(null,e)):dd(Sc.bind(null,e)),Mm(function(){!(ne&6)&&bn()}),n=null;else{switch($f(r)){case 1:n=Ru;break;case 4:n=bf;break;case 16:n=Ui;break;case 536870912:n=Uf;break;default:n=Ui}n=ch(n,rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rh(e,t){if(Pi=-1,Li=0,ne&6)throw Error(_(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Ai(e,e===ze?Fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sl(e,r);else{t=r;var s=ne;ne|=2;var i=ih();(ze!==e||Fe!==t)&&(Vt=null,Yr=Ce()+500,er(e,t));do try{Zm();break}catch(o){sh(e,o)}while(!0);bu(),tl.current=i,ne=s,Re!==null?t=0:(ze=null,Fe=0,t=_e)}if(t!==0){if(t===2&&(s=Eo(e),s!==0&&(r=s,t=Xo(e,s))),t===1)throw n=Bs,er(e,0),dn(e,r),it(e,Ce()),n;if(t===6)dn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Xm(s)&&(t=sl(e,r),t===2&&(i=Eo(e),i!==0&&(r=i,t=Xo(e,i))),t===1))throw n=Bs,er(e,0),dn(e,r),it(e,Ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:An(e,tt,Vt);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Zu+500-Ce(),10<t)){if(Ai(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Po(An.bind(null,e,tt,Vt),t);break}An(e,tt,Vt);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Pt(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ym(r/1960))-r,10<r){e.timeoutHandle=Po(An.bind(null,e,tt,Vt),r);break}An(e,tt,Vt);break;case 5:An(e,tt,Vt);break;default:throw Error(_(329))}}}return it(e,Ce()),e.callbackNode===n?rh.bind(null,e):null}function Xo(e,t){var n=Es;return e.current.memoizedState.isDehydrated&&(er(e,t).flags|=256),e=sl(e,t),e!==2&&(t=tt,tt=n,t!==null&&Jo(t)),e}function Jo(e){tt===null?tt=e:tt.push.apply(tt,e)}function Xm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Ju,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Sc(e){if(ne&6)throw Error(_(327));Pr();var t=Ai(e,0);if(!(t&1))return it(e,Ce()),null;var n=sl(e,t);if(e.tag!==0&&n===2){var r=Eo(e);r!==0&&(t=r,n=Xo(e,r))}if(n===1)throw n=Bs,er(e,0),dn(e,t),it(e,Ce()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,tt,Vt),it(e,Ce()),null}function ea(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Yr=Ce()+500,pl&&bn())}}function lr(e){Cn!==null&&Cn.tag===0&&!(ne&6)&&Pr();var t=ne;ne|=1;var n=wt.transition,r=oe;try{if(wt.transition=null,oe=1,e)return e()}finally{oe=r,wt.transition=n,ne=t,!(ne&6)&&bn()}}function ta(){ot=Rr.current,he(Rr)}function er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nm(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hi();break;case 3:qr(),he(rt),he(We),Wu();break;case 5:Qu(r);break;case 4:qr();break;case 13:he(ve);break;case 19:he(ve);break;case 10:Uu(r.type._context);break;case 22:case 23:ta()}n=n.return}if(ze=e,Re=e=Ln(e.current,null),Fe=ot=t,_e=0,Bs=null,Ju=vl=ir=0,tt=Es=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Bn=null}return e}function sh(e,t){do{var n=Re;try{if(bu(),Mi.current=el,Zi){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zi=!1}if(sr=0,je=Me=we=null,Ss=!1,Us=0,Xu.current=null,n===null||n.return===null){_e=1,Bs=t,Re=null;break}e:{var i=e,l=n.return,o=n,u=t;if(t=Fe,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,p=o,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=uc(l);if(v!==null){v.flags&=-257,ac(v,l,o,i,t),v.mode&1&&oc(i,a,t),t=v,u=a;var x=t.updateQueue;if(x===null){var w=new Set;w.add(u),t.updateQueue=w}else x.add(u);break e}else{if(!(t&1)){oc(i,a,t),na();break e}u=Error(_(426))}}else if(me&&o.mode&1){var T=uc(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ac(T,l,o,i,t),Fu(Gr(u,o));break e}}i=u=Gr(u,o),_e!==4&&(_e=2),Es===null?Es=[i]:Es.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=$d(i,u,t);tc(i,f);break e;case 1:o=u;var c=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_n===null||!_n.has(d)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=Bd(i,o,t);tc(i,m);break e}}i=i.return}while(i!==null)}oh(n)}catch(R){t=R,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function ih(){var e=tl.current;return tl.current=el,e===null?el:e}function na(){(_e===0||_e===3||_e===2)&&(_e=4),ze===null||!(ir&268435455)&&!(vl&268435455)||dn(ze,Fe)}function sl(e,t){var n=ne;ne|=2;var r=ih();(ze!==e||Fe!==t)&&(Vt=null,er(e,t));do try{Jm();break}catch(s){sh(e,s)}while(!0);if(bu(),ne=n,tl.current=r,Re!==null)throw Error(_(261));return ze=null,Fe=0,_e}function Jm(){for(;Re!==null;)lh(Re)}function Zm(){for(;Re!==null&&!Cp();)lh(Re)}function lh(e){var t=ah(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?oh(e):Re=t,Xu.current=null}function oh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vm(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Re=null;return}}else if(n=Hm(n,t,ot),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);_e===0&&(_e=5)}function An(e,t,n){var r=oe,s=wt.transition;try{wt.transition=null,oe=1,eg(e,t,n,r)}finally{wt.transition=s,oe=r}return null}function eg(e,t,n,r){do Pr();while(Cn!==null);if(ne&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(zp(e,i),e===ze&&(Re=ze=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,ch(Ui,function(){return Pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var l=oe;oe=1;var o=ne;ne|=4,Xu.current=null,qm(e,n),th(n,e),xm(Oo),$i=!!Mo,Oo=Mo=null,e.current=n,Gm(n),Rp(),ne=o,oe=l,wt.transition=i}else e.current=n;if(yi&&(yi=!1,Cn=e,rl=s),i=e.pendingLanes,i===0&&(_n=null),Mp(n.stateNode),it(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nl)throw nl=!1,e=Go,Go=null,e;return rl&1&&e.tag!==0&&Pr(),i=e.pendingLanes,i&1?e===Yo?Cs++:(Cs=0,Yo=e):Cs=0,bn(),null}function Pr(){if(Cn!==null){var e=$f(rl),t=wt.transition,n=oe;try{if(wt.transition=null,oe=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,rl=0,ne&6)throw Error(_(331));var s=ne;for(ne|=4,D=e.current;D!==null;){var i=D,l=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var a=o[u];for(D=a;D!==null;){var p=D;switch(p.tag){case 0:case 11:case 15:ks(8,p,i)}var h=p.child;if(h!==null)h.return=p,D=h;else for(;D!==null;){p=D;var y=p.sibling,v=p.return;if(Jd(p),p===a){D=null;break}if(y!==null){y.return=v,D=y;break}D=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,D=l;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ks(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,D=f;break e}D=i.return}}var c=e.current;for(D=c;D!==null;){l=D;var d=l.child;if(l.subtreeFlags&2064&&d!==null)d.return=l,D=d;else e:for(l=c;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yl(9,o)}}catch(R){ke(o,o.return,R)}if(o===l){D=null;break e}var m=o.sibling;if(m!==null){m.return=o.return,D=m;break e}D=o.return}}if(ne=s,bn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(al,e)}catch{}r=!0}return r}finally{oe=n,wt.transition=t}}return!1}function kc(e,t,n){t=Gr(n,t),t=$d(e,t,1),e=On(e,t,1),t=Ge(),e!==null&&(Gs(e,1,t),it(e,t))}function ke(e,t,n){if(e.tag===3)kc(e,e,n);else for(;t!==null;){if(t.tag===3){kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Gr(n,e),e=Bd(t,e,1),t=On(t,e,1),e=Ge(),t!==null&&(Gs(t,1,e),it(t,e));break}}t=t.return}}function tg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Fe&n)===n&&(_e===4||_e===3&&(Fe&130023424)===Fe&&500>Ce()-Zu?er(e,0):Ju|=n),it(e,t)}function uh(e,t){t===0&&(e.mode&1?(t=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):t=1);var n=Ge();e=rn(e,t),e!==null&&(Gs(e,t,n),it(e,n))}function ng(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uh(e,n)}function rg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),uh(e,n)}var ah;ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,Wm(e,t,n);nt=!!(e.flags&131072)}else nt=!1,me&&t.flags&1048576&&hd(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_i(e,t),e=t.pendingProps;var s=Hr(t,We.current);_r(t,n),s=Vu(null,t,r,e,s,n);var i=Ku();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(i=!0,Vi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$u(t),s.updater=gl,t.stateNode=s,s._reactInternals=t,bo(t,r,e,n),t=$o(null,t,r,!0,i,n)):(t.tag=0,me&&i&&zu(t),Ke(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_i(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ig(r),e=Tt(r,e),s){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=dc(null,t,r,e,n);break e;case 11:t=cc(null,t,r,e,n);break e;case 14:t=fc(null,t,r,Tt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Ao(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),dc(e,t,r,s,n);case 3:e:{if(Vd(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,s=i.element,wd(e,t),Xi(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gr(Error(_(423)),t),t=hc(e,t,r,n,s);break e}else if(r!==s){s=Gr(Error(_(424)),t),t=hc(e,t,r,n,s);break e}else for(ut=Mn(t.stateNode.containerInfo.firstChild),at=t,me=!0,_t=null,n=yd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===s){t=sn(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return xd(t),e===null&&Io(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,_o(r,s)?l=null:i!==null&&_o(r,i)&&(t.flags|=32),Hd(e,t),Ke(e,t,l,n),t.child;case 6:return e===null&&Io(t),null;case 13:return Kd(e,t,n);case 4:return Bu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),cc(e,t,r,s,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,ce(Gi,r._currentValue),r._currentValue=l,i!==null)if(jt(i.value,l)){if(i.children===s.children&&!rt.current){t=sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Zt(-1,n&-n),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Fo(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(_(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Fo(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ke(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_r(t,n),s=xt(s),r=r(s),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),fc(e,t,r,s,n);case 15:return Qd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),_i(e,t),t.tag=1,st(r)?(e=!0,Vi(t)):e=!1,_r(t,n),Ad(t,r,s),bo(t,r,s,n),$o(null,t,r,!0,e,n);case 19:return qd(e,t,n);case 22:return Wd(e,t,n)}throw Error(_(156,t.tag))};function ch(e,t){return Df(e,t)}function sg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new sg(e,t,n,r)}function ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ig(e){if(typeof e=="function")return ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Eu)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ji(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")ra(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case mr:return tr(n.children,s,i,t);case Su:l=8,s|=8;break;case oo:return e=vt(12,n,t,s|2),e.elementType=oo,e.lanes=i,e;case uo:return e=vt(13,n,t,s),e.elementType=uo,e.lanes=i,e;case ao:return e=vt(19,n,t,s),e.elementType=ao,e.lanes=i,e;case xf:return wl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vf:l=10;break e;case wf:l=9;break e;case ku:l=11;break e;case Eu:l=14;break e;case an:l=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=vt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function tr(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function wl(e,t,n,r){return e=vt(22,e,r,t),e.elementType=xf,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Xl(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sa(e,t,n,r,s,i,l,o,u){return e=new lg(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(i),e}function og(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fh(e){if(!e)return In;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(st(n))return fd(e,n,t)}return t}function dh(e,t,n,r,s,i,l,o,u){return e=sa(n,r,!0,e,s,i,l,o,u),e.context=fh(null),n=e.current,r=Ge(),s=Pn(n),i=Zt(r,s),i.callback=t??null,On(n,i,s),e.current.lanes=s,Gs(e,s,r),it(e,r),e}function xl(e,t,n,r){var s=t.current,i=Ge(),l=Pn(s);return n=fh(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(s,t,l),e!==null&&(Lt(e,s,l,i),Ni(e,s,l)),l}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function ug(){return null}var hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function la(e){this._internalRoot=e}Sl.prototype.render=la.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));xl(e,t,null,null)};Sl.prototype.unmount=la.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){xl(null,e,null,null)}),t[nn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fn.length&&t!==0&&t<fn[n].priority;n++);fn.splice(n,0,e),n===0&&Vf(e)}};function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function ag(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var a=il(l);i.call(a)}}var l=dh(t,r,e,0,null,!1,!1,"",Cc);return e._reactRootContainer=l,e[nn]=l.current,zs(e.nodeType===8?e.parentNode:e),lr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var a=il(u);o.call(a)}}var u=sa(e,0,!1,null,null,!1,!1,"",Cc);return e._reactRootContainer=u,e[nn]=u.current,zs(e.nodeType===8?e.parentNode:e),lr(function(){xl(t,u,n,r)}),u}function El(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var u=il(l);o.call(u)}}xl(t,l,e,s)}else l=ag(n,t,e,s,r);return il(l)}Bf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hs(t.pendingLanes);n!==0&&(Tu(t,n|1),it(t,Ce()),!(ne&6)&&(Yr=Ce()+500,bn()))}break;case 13:lr(function(){var r=rn(e,1);if(r!==null){var s=Ge();Lt(r,e,1,s)}}),ia(e,1)}};Nu=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ge();Lt(t,e,134217728,n)}ia(e,134217728)}};Qf=function(e){if(e.tag===13){var t=Pn(e),n=rn(e,t);if(n!==null){var r=Ge();Lt(n,e,t,r)}ia(e,t)}};Wf=function(){return oe};Hf=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};xo=function(e,t,n){switch(t){case"input":if(ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hl(r);if(!s)throw Error(_(90));kf(r),ho(r,s)}}}break;case"textarea":Cf(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};Pf=ea;Lf=lr;var cg={usingClientEntryPoint:!1,Events:[Xs,wr,hl,Of,_f,ea]},us={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=If(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{al=vi.inject(fg),Bt=vi}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oa(t))throw Error(_(200));return og(e,t,null,n)};ft.createRoot=function(e,t){if(!oa(e))throw Error(_(299));var n=!1,r="",s=hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sa(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,zs(e.nodeType===8?e.parentNode:e),new la(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=If(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return lr(e)};ft.hydrate=function(e,t,n){if(!kl(t))throw Error(_(200));return El(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!oa(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=hh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=dh(t,null,e,1,n??null,s,!1,i,l),e[nn]=t.current,zs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sl(t)};ft.render=function(e,t,n){if(!kl(t))throw Error(_(200));return El(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!kl(e))throw Error(_(40));return e._reactRootContainer?(lr(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ft.unstable_batchedUpdates=ea;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return El(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ph)}catch(e){console.error(e)}}ph(),pf.exports=ft;var ua=pf.exports,mh,Rc=ua;mh=Rc.createRoot,Rc.hydrateRoot;var es=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hn,hu,Hc,hg=(Hc=class{constructor(){B(this,hn,dg);B(this,hu,!1)}setTimeoutProvider(e){I(this,hn,e)}setTimeout(e,t){return g(this,hn).setTimeout(e,t)}clearTimeout(e){g(this,hn).clearTimeout(e)}setInterval(e,t){return g(this,hn).setInterval(e,t)}clearInterval(e){g(this,hn).clearInterval(e)}},hn=new WeakMap,hu=new WeakMap,Hc),Wn=new hg;function pg(e){setTimeout(e,0)}var or=typeof window>"u"||"Deno"in globalThis;function qe(){}function mg(e,t){return typeof e=="function"?e(t):e}function Zo(e){return typeof e=="number"&&e>=0&&e!==1/0}function gh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jn(e,t){return typeof e=="function"?e(t):e}function mt(e,t){return typeof e=="function"?e(t):e}function Tc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==aa(l,t.options))return!1}else if(!Qs(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Nc(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ur(t.options.mutationKey)!==ur(i))return!1}else if(!Qs(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function aa(e,t){return((t==null?void 0:t.queryKeyHashFn)||ur)(e)}function ur(e){return JSON.stringify(e,(t,n)=>eu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qs(e[n],t[n])):!1}var gg=Object.prototype.hasOwnProperty;function yh(e,t){if(e===t)return e;const n=Mc(e)&&Mc(t);if(!n&&!(eu(e)&&eu(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,o=n?new Array(l):{};let u=0;for(let a=0;a<l;a++){const p=n?a:i[a],h=e[p],y=t[p];if(h===y){o[p]=h,(n?a<s:gg.call(e,p))&&u++;continue}if(h===null||y===null||typeof h!="object"||typeof y!="object"){o[p]=y;continue}const v=yh(h,y);o[p]=v,v===h&&u++}return s===l&&u===s?e:o}function ll(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Mc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function eu(e){if(!Oc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Oc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Oc(e){return Object.prototype.toString.call(e)==="[object Object]"}function yg(e){return new Promise(t=>{Wn.setTimeout(t,e)})}function tu(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yh(e,t):t}function vg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ca=Symbol();function vh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ca?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function wh(e,t){return typeof e=="function"?e(...t):!!e}var Hn,pn,Lr,Vc,xg=(Vc=class extends es{constructor(){super();B(this,Hn);B(this,pn);B(this,Lr);I(this,Lr,t=>{if(!or&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){g(this,pn)||this.setEventListener(g(this,Lr))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,pn))==null||t.call(this),I(this,pn,void 0))}setEventListener(t){var n;I(this,Lr,t),(n=g(this,pn))==null||n.call(this),I(this,pn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){g(this,Hn)!==t&&(I(this,Hn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof g(this,Hn)=="boolean"?g(this,Hn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Hn=new WeakMap,pn=new WeakMap,Lr=new WeakMap,Vc),fa=new xg;function nu(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Sg=pg;function kg(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=Sg;const i=o=>{t?e.push(o):s(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Oe=kg(),jr,mn,zr,Kc,Eg=(Kc=class extends es{constructor(){super();B(this,jr,!0);B(this,mn);B(this,zr);I(this,zr,t=>{if(!or&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){g(this,mn)||this.setEventListener(g(this,zr))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,mn))==null||t.call(this),I(this,mn,void 0))}setEventListener(t){var n;I(this,zr,t),(n=g(this,mn))==null||n.call(this),I(this,mn,t(this.setOnline.bind(this)))}setOnline(t){g(this,jr)!==t&&(I(this,jr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return g(this,jr)}},jr=new WeakMap,mn=new WeakMap,zr=new WeakMap,Kc),ol=new Eg;function Cg(e){return Math.min(1e3*2**e,3e4)}function xh(e){return(e??"online")==="online"?ol.isOnline():!0}var ru=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Sh(e){let t=!1,n=0,r;const s=nu(),i=()=>s.status!=="pending",l=w=>{var T;if(!i()){const f=new ru(w);y(f),(T=e.onCancel)==null||T.call(e,f)}},o=()=>{t=!0},u=()=>{t=!1},a=()=>fa.isFocused()&&(e.networkMode==="always"||ol.isOnline())&&e.canRun(),p=()=>xh(e.networkMode)&&e.canRun(),h=w=>{i()||(r==null||r(),s.resolve(w))},y=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var T;r=f=>{(i()||a())&&w(f)},(T=e.onPause)==null||T.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),x=()=>{if(i())return;let w;const T=n===0?e.initialPromise:void 0;try{w=T??e.fn()}catch(f){w=Promise.reject(f)}Promise.resolve(w).then(h).catch(f=>{var C;if(i())return;const c=e.retry??(or?0:3),d=e.retryDelay??Cg,m=typeof d=="function"?d(n,f):d,R=c===!0||typeof c=="number"&&n<c||typeof c=="function"&&c(n,f);if(t||!R){y(f);return}n++,(C=e.onFail)==null||C.call(e,n,f),yg(m).then(()=>a()?void 0:v()).then(()=>{t?y(f):x()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:u,canStart:p,start:()=>(p()?x():v().then(x),s)}}var Vn,qc,kh=(qc=class{constructor(){B(this,Vn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zo(this.gcTime)&&I(this,Vn,Wn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(or?1/0:5*60*1e3))}clearGcTimeout(){g(this,Vn)&&(Wn.clearTimeout(g(this,Vn)),I(this,Vn,void 0))}},Vn=new WeakMap,qc),Kn,Ir,pt,qn,Le,Ws,Gn,Nt,Ht,Gc,Rg=(Gc=class extends kh{constructor(t){super();B(this,Nt);B(this,Kn);B(this,Ir);B(this,pt);B(this,qn);B(this,Le);B(this,Ws);B(this,Gn);I(this,Gn,!1),I(this,Ws,t.defaultOptions),this.setOptions(t.options),this.observers=[],I(this,qn,t.client),I(this,pt,g(this,qn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,I(this,Kn,_c(this.options)),this.state=t.state??g(this,Kn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=g(this,Le))==null?void 0:t.promise}setOptions(t){if(this.options={...g(this,Ws),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_c(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),I(this,Kn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,pt).remove(this)}setData(t,n){const r=tu(this.state.data,t,this.options);return q(this,Nt,Ht).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){q(this,Nt,Ht).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=g(this,Le))==null?void 0:r.promise;return(s=g(this,Le))==null||s.cancel(t),n?n.then(qe).catch(qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,Kn))}isActive(){return this.observers.some(t=>mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ca||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>jn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!gh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,Le))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,Le))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),g(this,pt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(g(this,Le)&&(g(this,Gn)?g(this,Le).cancel({revert:!0}):g(this,Le).cancelRetry()),this.scheduleGc()),g(this,pt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,Nt,Ht).call(this,{type:"invalidate"})}async fetch(t,n){var u,a,p,h,y,v,x,w,T,f,c,d;if(this.state.fetchStatus!=="idle"&&((u=g(this,Le))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(g(this,Le))return g(this,Le).continueRetry(),g(this,Le).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(R=>R.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(I(this,Gn,!0),r.signal)})},i=()=>{const m=vh(this.options,n),C=(()=>{const N={client:g(this,qn),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return I(this,Gn,!1),this.options.persister?this.options.persister(m,C,this):m(C)},o=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:g(this,qn),state:this.state,fetchFn:i};return s(m),m})();(a=this.options.behavior)==null||a.onFetch(o,this),I(this,Ir,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=o.fetchOptions)==null?void 0:p.meta))&&q(this,Nt,Ht).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),I(this,Le,Sh({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:m=>{m instanceof ru&&m.revert&&this.setState({...g(this,Ir),fetchStatus:"idle"}),r.abort()},onFail:(m,R)=>{q(this,Nt,Ht).call(this,{type:"failed",failureCount:m,error:R})},onPause:()=>{q(this,Nt,Ht).call(this,{type:"pause"})},onContinue:()=>{q(this,Nt,Ht).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const m=await g(this,Le).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(v=(y=g(this,pt).config).onSuccess)==null||v.call(y,m,this),(w=(x=g(this,pt).config).onSettled)==null||w.call(x,m,this.state.error,this),m}catch(m){if(m instanceof ru){if(m.silent)return g(this,Le).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw q(this,Nt,Ht).call(this,{type:"error",error:m}),(f=(T=g(this,pt).config).onError)==null||f.call(T,m,this),(d=(c=g(this,pt).config).onSettled)==null||d.call(c,this.state.data,m,this),m}finally{this.scheduleGc()}}},Kn=new WeakMap,Ir=new WeakMap,pt=new WeakMap,qn=new WeakMap,Le=new WeakMap,Ws=new WeakMap,Gn=new WeakMap,Nt=new WeakSet,Ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Eh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return I(this,Ir,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Oe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),g(this,pt).notify({query:this,type:"updated",action:t})})},Gc);function Eh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _c(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ze,Z,Hs,He,Yn,Fr,qt,gn,Vs,Dr,br,Xn,Jn,yn,Ur,ie,ms,su,iu,lu,ou,uu,au,cu,Ch,Yc,Tg=(Yc=class extends es{constructor(t,n){super();B(this,ie);B(this,Ze);B(this,Z);B(this,Hs);B(this,He);B(this,Yn);B(this,Fr);B(this,qt);B(this,gn);B(this,Vs);B(this,Dr);B(this,br);B(this,Xn);B(this,Jn);B(this,yn);B(this,Ur,new Set);this.options=n,I(this,Ze,t),I(this,gn,null),I(this,qt,nu()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,Z).addObserver(this),Pc(g(this,Z),this.options)?q(this,ie,ms).call(this):this.updateResult(),q(this,ie,ou).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fu(g(this,Z),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fu(g(this,Z),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,ie,uu).call(this),q(this,ie,au).call(this),g(this,Z).removeObserver(this)}setOptions(t){const n=this.options,r=g(this,Z);if(this.options=g(this,Ze).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mt(this.options.enabled,g(this,Z))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,ie,cu).call(this),g(this,Z).setOptions(this.options),n._defaulted&&!ll(this.options,n)&&g(this,Ze).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,Z),observer:this});const s=this.hasListeners();s&&Lc(g(this,Z),r,this.options,n)&&q(this,ie,ms).call(this),this.updateResult(),s&&(g(this,Z)!==r||mt(this.options.enabled,g(this,Z))!==mt(n.enabled,g(this,Z))||jn(this.options.staleTime,g(this,Z))!==jn(n.staleTime,g(this,Z)))&&q(this,ie,su).call(this);const i=q(this,ie,iu).call(this);s&&(g(this,Z)!==r||mt(this.options.enabled,g(this,Z))!==mt(n.enabled,g(this,Z))||i!==g(this,yn))&&q(this,ie,lu).call(this,i)}getOptimisticResult(t){const n=g(this,Ze).getQueryCache().build(g(this,Ze),t),r=this.createResult(n,t);return Mg(this,r)&&(I(this,He,r),I(this,Fr,this.options),I(this,Yn,g(this,Z).state)),r}getCurrentResult(){return g(this,He)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&g(this,qt).status==="pending"&&g(this,qt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){g(this,Ur).add(t)}getCurrentQuery(){return g(this,Z)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=g(this,Ze).defaultQueryOptions(t),r=g(this,Ze).getQueryCache().build(g(this,Ze),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return q(this,ie,ms).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,He)))}createResult(t,n){var M;const r=g(this,Z),s=this.options,i=g(this,He),l=g(this,Yn),o=g(this,Fr),a=t!==r?t.state:g(this,Hs),{state:p}=t;let h={...p},y=!1,v;if(n._optimisticResults){const P=this.hasListeners(),F=!P&&Pc(t,n),W=P&&Lc(t,r,n,s);(F||W)&&(h={...h,...Eh(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:T}=h;v=h.data;let f=!1;if(n.placeholderData!==void 0&&v===void 0&&T==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(P=i.data,f=!0):P=typeof n.placeholderData=="function"?n.placeholderData((M=g(this,br))==null?void 0:M.state.data,g(this,br)):n.placeholderData,P!==void 0&&(T="success",v=tu(i==null?void 0:i.data,P,n),y=!0)}if(n.select&&v!==void 0&&!f)if(i&&v===(l==null?void 0:l.data)&&n.select===g(this,Vs))v=g(this,Dr);else try{I(this,Vs,n.select),v=n.select(v),v=tu(i==null?void 0:i.data,v,n),I(this,Dr,v),I(this,gn,null)}catch(P){I(this,gn,P)}g(this,gn)&&(x=g(this,gn),v=g(this,Dr),w=Date.now(),T="error");const c=h.fetchStatus==="fetching",d=T==="pending",m=T==="error",R=d&&c,C=v!==void 0,E={status:T,fetchStatus:h.fetchStatus,isPending:d,isSuccess:T==="success",isError:m,isInitialLoading:R,isLoading:R,data:v,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>a.dataUpdateCount||h.errorUpdateCount>a.errorUpdateCount,isFetching:c,isRefetching:c&&!d,isLoadingError:m&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:m&&C,isStale:da(t,n),refetch:this.refetch,promise:g(this,qt),isEnabled:mt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=se=>{E.status==="error"?se.reject(E.error):E.data!==void 0&&se.resolve(E.data)},F=()=>{const se=I(this,qt,E.promise=nu());P(se)},W=g(this,qt);switch(W.status){case"pending":t.queryHash===r.queryHash&&P(W);break;case"fulfilled":(E.status==="error"||E.data!==W.value)&&F();break;case"rejected":(E.status!=="error"||E.error!==W.reason)&&F();break}}return E}updateResult(){const t=g(this,He),n=this.createResult(g(this,Z),this.options);if(I(this,Yn,g(this,Z).state),I(this,Fr,this.options),g(this,Yn).data!==void 0&&I(this,br,g(this,Z)),ll(n,t))return;I(this,He,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!g(this,Ur).size)return!0;const l=new Set(i??g(this,Ur));return this.options.throwOnError&&l.add("error"),Object.keys(g(this,He)).some(o=>{const u=o;return g(this,He)[u]!==t[u]&&l.has(u)})};q(this,ie,Ch).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,ie,ou).call(this)}},Ze=new WeakMap,Z=new WeakMap,Hs=new WeakMap,He=new WeakMap,Yn=new WeakMap,Fr=new WeakMap,qt=new WeakMap,gn=new WeakMap,Vs=new WeakMap,Dr=new WeakMap,br=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,yn=new WeakMap,Ur=new WeakMap,ie=new WeakSet,ms=function(t){q(this,ie,cu).call(this);let n=g(this,Z).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(qe)),n},su=function(){q(this,ie,uu).call(this);const t=jn(this.options.staleTime,g(this,Z));if(or||g(this,He).isStale||!Zo(t))return;const r=gh(g(this,He).dataUpdatedAt,t)+1;I(this,Xn,Wn.setTimeout(()=>{g(this,He).isStale||this.updateResult()},r))},iu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,Z)):this.options.refetchInterval)??!1},lu=function(t){q(this,ie,au).call(this),I(this,yn,t),!(or||mt(this.options.enabled,g(this,Z))===!1||!Zo(g(this,yn))||g(this,yn)===0)&&I(this,Jn,Wn.setInterval(()=>{(this.options.refetchIntervalInBackground||fa.isFocused())&&q(this,ie,ms).call(this)},g(this,yn)))},ou=function(){q(this,ie,su).call(this),q(this,ie,lu).call(this,q(this,ie,iu).call(this))},uu=function(){g(this,Xn)&&(Wn.clearTimeout(g(this,Xn)),I(this,Xn,void 0))},au=function(){g(this,Jn)&&(Wn.clearInterval(g(this,Jn)),I(this,Jn,void 0))},cu=function(){const t=g(this,Ze).getQueryCache().build(g(this,Ze),this.options);if(t===g(this,Z))return;const n=g(this,Z);I(this,Z,t),I(this,Hs,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ch=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(g(this,He))}),g(this,Ze).getQueryCache().notify({query:g(this,Z),type:"observerResultsUpdated"})})},Yc);function Ng(e,t){return mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pc(e,t){return Ng(e,t)||e.state.data!==void 0&&fu(e,t,t.refetchOnMount)}function fu(e,t,n){if(mt(t.enabled,e)!==!1&&jn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&da(e,t)}return!1}function Lc(e,t,n,r){return(e!==t||mt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&da(e,n)}function da(e,t){return mt(t.enabled,e)!==!1&&e.isStaleByTime(jn(t.staleTime,e))}function Mg(e,t){return!ll(e.getCurrentResult(),t)}function jc(e){return{onFetch:(t,n)=>{var p,h,y,v,x;const r=t.options,s=(y=(h=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:h.fetchMore)==null?void 0:y.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const a=async()=>{let w=!1;const T=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},f=vh(t.options,t.fetchOptions),c=async(d,m,R)=>{if(w)return Promise.reject();if(m==null&&d.pages.length)return Promise.resolve(d);const N=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:m,direction:R?"backward":"forward",meta:t.options.meta};return T(F),F})(),E=await f(N),{maxPages:M}=t.options,P=R?wg:vg;return{pages:P(d.pages,E,M),pageParams:P(d.pageParams,m,M)}};if(s&&i.length){const d=s==="backward",m=d?Og:zc,R={pages:i,pageParams:l},C=m(r,R);o=await c(R,C,d)}else{const d=e??i.length;do{const m=u===0?l[0]??r.initialPageParam:zc(r,o);if(u>0&&m==null)break;o=await c(o,m),u++}while(u<d)}return o};t.options.persister?t.fetchFn=()=>{var w,T;return(T=(w=t.options).persister)==null?void 0:T.call(w,a,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=a}}}function zc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Og(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Dt,Ve,Zn,bt,un,Xc,_g=(Xc=class extends kh{constructor(t){super();B(this,bt);B(this,Dt);B(this,Ve);B(this,Zn);this.mutationId=t.mutationId,I(this,Ve,t.mutationCache),I(this,Dt,[]),this.state=t.state||Rh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){g(this,Dt).includes(t)||(g(this,Dt).push(t),this.clearGcTimeout(),g(this,Ve).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){I(this,Dt,g(this,Dt).filter(n=>n!==t)),this.scheduleGc(),g(this,Ve).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){g(this,Dt).length||(this.state.status==="pending"?this.scheduleGc():g(this,Ve).remove(this))}continue(){var t;return((t=g(this,Zn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,o,u,a,p,h,y,v,x,w,T,f,c,d,m,R,C,N,E;const n=()=>{q(this,bt,un).call(this,{type:"continue"})};I(this,Zn,Sh({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{q(this,bt,un).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{q(this,bt,un).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,Ve).canRun(this)}));const r=this.state.status==="pending",s=!g(this,Zn).canStart();try{if(r)n();else{q(this,bt,un).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=g(this,Ve).config).onMutate)==null?void 0:l.call(i,t,this));const P=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,t));P!==this.state.context&&q(this,bt,un).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const M=await g(this,Zn).start();return await((p=(a=g(this,Ve).config).onSuccess)==null?void 0:p.call(a,M,t,this.state.context,this)),await((y=(h=this.options).onSuccess)==null?void 0:y.call(h,M,t,this.state.context)),await((x=(v=g(this,Ve).config).onSettled)==null?void 0:x.call(v,M,null,this.state.variables,this.state.context,this)),await((T=(w=this.options).onSettled)==null?void 0:T.call(w,M,null,t,this.state.context)),q(this,bt,un).call(this,{type:"success",data:M}),M}catch(M){try{throw await((c=(f=g(this,Ve).config).onError)==null?void 0:c.call(f,M,t,this.state.context,this)),await((m=(d=this.options).onError)==null?void 0:m.call(d,M,t,this.state.context)),await((C=(R=g(this,Ve).config).onSettled)==null?void 0:C.call(R,void 0,M,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,M,t,this.state.context)),M}finally{q(this,bt,un).call(this,{type:"error",error:M})}}finally{g(this,Ve).runNext(this)}}},Dt=new WeakMap,Ve=new WeakMap,Zn=new WeakMap,bt=new WeakSet,un=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Oe.batch(()=>{g(this,Dt).forEach(r=>{r.onMutationUpdate(t)}),g(this,Ve).notify({mutation:this,type:"updated",action:t})})},Xc);function Rh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gt,Mt,Ks,Jc,Pg=(Jc=class extends es{constructor(t={}){super();B(this,Gt);B(this,Mt);B(this,Ks);this.config=t,I(this,Gt,new Set),I(this,Mt,new Map),I(this,Ks,0)}build(t,n,r){const s=new _g({mutationCache:this,mutationId:++ti(this,Ks)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){g(this,Gt).add(t);const n=wi(t);if(typeof n=="string"){const r=g(this,Mt).get(n);r?r.push(t):g(this,Mt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(g(this,Gt).delete(t)){const n=wi(t);if(typeof n=="string"){const r=g(this,Mt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&g(this,Mt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wi(t);if(typeof n=="string"){const r=g(this,Mt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=wi(t);if(typeof n=="string"){const s=(r=g(this,Mt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{g(this,Gt).forEach(t=>{this.notify({type:"removed",mutation:t})}),g(this,Gt).clear(),g(this,Mt).clear()})}getAll(){return Array.from(g(this,Gt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nc(n,r))}findAll(t={}){return this.getAll().filter(n=>Nc(t,n))}notify(t){Oe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Oe.batch(()=>Promise.all(t.map(n=>n.continue().catch(qe))))}},Gt=new WeakMap,Mt=new WeakMap,Ks=new WeakMap,Jc);function wi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vn,wn,et,Yt,en,zi,du,Zc,Lg=(Zc=class extends es{constructor(n,r){super();B(this,en);B(this,vn);B(this,wn);B(this,et);B(this,Yt);I(this,vn,n),this.setOptions(r),this.bindMethods(),q(this,en,zi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=g(this,vn).defaultMutationOptions(n),ll(this.options,r)||g(this,vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:g(this,et),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ur(r.mutationKey)!==ur(this.options.mutationKey)?this.reset():((s=g(this,et))==null?void 0:s.state.status)==="pending"&&g(this,et).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=g(this,et))==null||n.removeObserver(this)}onMutationUpdate(n){q(this,en,zi).call(this),q(this,en,du).call(this,n)}getCurrentResult(){return g(this,wn)}reset(){var n;(n=g(this,et))==null||n.removeObserver(this),I(this,et,void 0),q(this,en,zi).call(this),q(this,en,du).call(this)}mutate(n,r){var s;return I(this,Yt,r),(s=g(this,et))==null||s.removeObserver(this),I(this,et,g(this,vn).getMutationCache().build(g(this,vn),this.options)),g(this,et).addObserver(this),g(this,et).execute(n)}},vn=new WeakMap,wn=new WeakMap,et=new WeakMap,Yt=new WeakMap,en=new WeakSet,zi=function(){var r;const n=((r=g(this,et))==null?void 0:r.state)??Rh();I(this,wn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},du=function(n){Oe.batch(()=>{var r,s,i,l,o,u,a,p;if(g(this,Yt)&&this.hasListeners()){const h=g(this,wn).variables,y=g(this,wn).context;(n==null?void 0:n.type)==="success"?((s=(r=g(this,Yt)).onSuccess)==null||s.call(r,n.data,h,y),(l=(i=g(this,Yt)).onSettled)==null||l.call(i,n.data,null,h,y)):(n==null?void 0:n.type)==="error"&&((u=(o=g(this,Yt)).onError)==null||u.call(o,n.error,h,y),(p=(a=g(this,Yt)).onSettled)==null||p.call(a,void 0,n.error,h,y))}this.listeners.forEach(h=>{h(g(this,wn))})})},Zc),Ut,ef,jg=(ef=class extends es{constructor(t={}){super();B(this,Ut);this.config=t,I(this,Ut,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??aa(s,n);let l=this.get(i);return l||(l=new Rg({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){g(this,Ut).has(t.queryHash)||(g(this,Ut).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=g(this,Ut).get(t.queryHash);n&&(t.destroy(),n===t&&g(this,Ut).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return g(this,Ut).get(t)}getAll(){return[...g(this,Ut).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Tc(t,r)):n}notify(t){Oe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ut=new WeakMap,ef),Se,xn,Sn,Ar,$r,kn,Br,Qr,tf,zg=(tf=class{constructor(e={}){B(this,Se);B(this,xn);B(this,Sn);B(this,Ar);B(this,$r);B(this,kn);B(this,Br);B(this,Qr);I(this,Se,e.queryCache||new jg),I(this,xn,e.mutationCache||new Pg),I(this,Sn,e.defaultOptions||{}),I(this,Ar,new Map),I(this,$r,new Map),I(this,kn,0)}mount(){ti(this,kn)._++,g(this,kn)===1&&(I(this,Br,fa.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,Se).onFocus())})),I(this,Qr,ol.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,Se).onOnline())})))}unmount(){var e,t;ti(this,kn)._--,g(this,kn)===0&&((e=g(this,Br))==null||e.call(this),I(this,Br,void 0),(t=g(this,Qr))==null||t.call(this),I(this,Qr,void 0))}isFetching(e){return g(this,Se).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return g(this,xn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,Se).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=g(this,Se).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(jn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return g(this,Se).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=g(this,Se).get(r.queryHash),i=s==null?void 0:s.state.data,l=mg(t,i);if(l!==void 0)return g(this,Se).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Oe.batch(()=>g(this,Se).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,Se).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=g(this,Se);Oe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=g(this,Se);return Oe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Oe.batch(()=>g(this,Se).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(qe).catch(qe)}invalidateQueries(e,t={}){return Oe.batch(()=>(g(this,Se).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Oe.batch(()=>g(this,Se).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qe)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=g(this,Se).build(this,t);return n.isStaleByTime(jn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qe).catch(qe)}fetchInfiniteQuery(e){return e.behavior=jc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qe).catch(qe)}ensureInfiniteQueryData(e){return e.behavior=jc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ol.isOnline()?g(this,xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,Se)}getMutationCache(){return g(this,xn)}getDefaultOptions(){return g(this,Sn)}setDefaultOptions(e){I(this,Sn,e)}setQueryDefaults(e,t){g(this,Ar).set(ur(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...g(this,Ar).values()],n={};return t.forEach(r=>{Qs(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){g(this,$r).set(ur(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...g(this,$r).values()],n={};return t.forEach(r=>{Qs(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...g(this,Sn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=aa(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ca&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...g(this,Sn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){g(this,Se).clear(),g(this,xn).clear()}},Se=new WeakMap,xn=new WeakMap,Sn=new WeakMap,Ar=new WeakMap,$r=new WeakMap,kn=new WeakMap,Br=new WeakMap,Qr=new WeakMap,tf),Th=k.createContext(void 0),Cl=e=>{const t=k.useContext(Th);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ig=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(Th.Provider,{value:e,children:t})),Nh=k.createContext(!1),Fg=()=>k.useContext(Nh);Nh.Provider;function Dg(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bg=k.createContext(Dg()),Ug=()=>k.useContext(bg),Ag=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$g=e=>{k.useEffect(()=>{e.clearReset()},[e])},Bg=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||wh(n,[e.error,r])),Qg=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Wg=(e,t)=>e.isLoading&&e.isFetching&&!t,Hg=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ic=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vg(e,t,n){var h,y,v,x,w;const r=Fg(),s=Ug(),i=Cl(),l=i.defaultQueryOptions(e);(y=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||y.call(h,l),l._optimisticResults=r?"isRestoring":"optimistic",Qg(l),Ag(l,s),$g(s);const o=!i.getQueryCache().get(l.queryHash),[u]=k.useState(()=>new t(i,l)),a=u.getOptimisticResult(l),p=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(T=>{const f=p?u.subscribe(Oe.batchCalls(T)):qe;return u.updateResult(),f},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(l)},[l,u]),Hg(l,a))throw Ic(l,u,s);if(Bg({result:a,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw a.error;if((x=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,l,a),l.experimental_prefetchInRender&&!or&&Wg(a,r)){const T=o?Ic(l,u,s):(w=i.getQueryCache().get(l.queryHash))==null?void 0:w.promise;T==null||T.catch(qe).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?a:u.trackResult(a)}function ha(e,t){return Vg(e,Tg)}function Kg(e,t){const n=Cl(),[r]=k.useState(()=>new Lg(n,e));k.useEffect(()=>{r.setOptions(e)},[r,e]);const s=k.useSyncExternalStore(k.useCallback(l=>r.subscribe(Oe.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((l,o)=>{r.mutate(l,o).catch(qe)},[r]);if(s.error&&wh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function qg({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortKey:i,sortDir:l,onSortKey:o,onSortDir:u,starFilters:a,onToggleStar:p,onClearStars:h,starCounts:y,viewMode:v,onViewMode:x,gridItemSize:w,onGridItemSize:T,leftOpen:f,rightOpen:c,onToggleLeft:d,onToggleRight:m}){const[R,C]=k.useState(!1),N=k.useRef(null);return k.useEffect(()=>{const E=M=>{const P=M.target;N.current&&(N.current.contains(P)||C(!1))};return R&&window.addEventListener("click",E),()=>window.removeEventListener("click",E)},[R]),S.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-toolbar col-span-full row-start-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[t&&S.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:n,children:" Back"}),!t&&S.jsxs("div",{className:"flex gap-2 items-center relative",children:[S.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:v||"grid",onChange:E=>x&&x(E.target.value),title:"View mode",children:[S.jsx("option",{value:"grid",children:"Grid"}),S.jsx("option",{value:"adaptive",children:"Adaptive"})]}),S.jsx("div",{className:"w-px h-5 bg-border mx-1"}),S.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:i||"added",onChange:E=>o&&o(E.target.value||"added"),title:"Sort by",children:[S.jsx("option",{value:"added",children:"Date added"}),S.jsx("option",{value:"name",children:"Filename"})]}),S.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>u&&u((l||"desc")==="desc"?"asc":"desc"),title:"Toggle sort",children:(l||"desc")==="desc"?"":""}),S.jsxs("div",{ref:N,children:[S.jsxs("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>C(E=>!E),title:"Filter by rating","aria-haspopup":"dialog","aria-expanded":R,children:[S.jsx("span",{className:"text-sm",children:""}),S.jsx("span",{className:"text-[13px]",children:"Rating"})]}),R&&S.jsxs("div",{role:"dialog","aria-label":"Filter by rating",className:"absolute top-[38px] left-0 bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[200px]",onKeyDown:E=>{E.key==="Escape"&&C(!1)},children:[[5,4,3,2,1].map(E=>{const M=!!(a||[]).includes(E),P=(y==null?void 0:y[String(E)])??0;return S.jsxs("div",{onClick:()=>p&&p(E),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${M?"bg-accent/15":""}`,children:[S.jsxs("div",{className:`text-[13px] ${M?"text-[#ffd166]":"text-text"}`,children:["".repeat(E),"".repeat(5-E)]}),S.jsx("div",{className:"opacity-80 text-xs",children:P})]},E)}),(()=>{const E=!!(a||[]).includes(0);return S.jsxs("div",{onClick:()=>p&&p(0),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${E?"bg-accent/15":""}`,children:[S.jsx("div",{className:"text-[13px] text-text",children:"None"}),S.jsx("div",{className:"opacity-80 text-xs",children:(y==null?void 0:y["0"])??0})]})})(),S.jsx("div",{className:"h-px bg-border my-1.5"}),S.jsx("div",{className:"flex gap-2",children:S.jsx("button",{className:"h-[26px] px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:h,children:"All"})})]})]}),(()=>{const E=a||[];if(!E.length)return null;const M=E.filter(F=>F>0).sort((F,W)=>W-F),P=M.length?M.join(","):E.includes(0)?"None":"";return S.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 pl-1.5 bg-accent/20 border border-border text-text rounded-[10px] h-[26px]","aria-label":`Rating filter active: ${P}`,title:`Rating filter: ${P}`,children:[S.jsx("span",{className:"text-[#ffd166] text-[13px] leading-none",children:""}),S.jsx("span",{className:"text-[13px] opacity-95",children:P}),S.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":"Clear rating filter",onClick:h,children:""})]})})()]})]}),S.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:E=>s&&s(Number(E.target.value)),className:"zoom-slider"}),S.jsxs("span",{className:"text-xs opacity-80 min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):T&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-muted",children:"Size"}),S.jsx("input",{type:"range",min:80,max:500,step:10,value:w??220,onChange:E=>T(Number(E.target.value)),className:"w-32 h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text","aria-label":"Thumbnail size"})]})}),S.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[S.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[S.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${f?"opacity-100":"opacity-60"}`,title:f?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:d,"aria-pressed":f,"aria-label":"Toggle left panel",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),S.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),S.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${c?"opacity-100":"opacity-60"}`,title:c?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:m,"aria-pressed":c,"aria-label":"Toggle right panel",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),S.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),S.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:E=>e(E.target.value),className:"input h-8 w-[220px] focus:w-[280px] transition-all duration-200 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text"})]})]})}const Mh=3e4;class $t extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Wt(e,t={}){const{timeoutMs:n=Mh,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,u)=>{n>0&&(i=setTimeout(()=>{s.abort(),u(new $t(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async a=>{if(i&&clearTimeout(i),!a.ok)throw new $t(`HTTP ${a.status} for ${e}`,a.status,e);return a.json()}).then(o).catch(a=>{i&&clearTimeout(i),a instanceof $t?u(a):a.name==="AbortError"?u(new $t("Request aborted",void 0,e,!0,!1)):u(new $t(a.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function xi(e,t={}){const{timeoutMs:n=Mh,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,u)=>{n>0&&(i=setTimeout(()=>{s.abort(),u(new $t(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async a=>{if(i&&clearTimeout(i),!a.ok)throw new $t(`HTTP ${a.status} for ${e}`,a.status,e);return a.blob()}).then(o).catch(a=>{i&&clearTimeout(i),a instanceof $t?u(a):a.name==="AbortError"?u(new $t("Request aborted",void 0,e,!0,!1)):u(new $t(a.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class Oh{constructor(t){fr(this,"store",new Map);fr(this,"inflight",new Map);fr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),l=typeof i=="object"&&"promise"in i,o=l?i.promise:i,u=l?i.abort:void 0,a=o.then(p=>(this.set(t,p),p)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:a,abort:u}),a}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,l=s?r.abort:void 0,o=i.then(u=>(this.set(t,u),u)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:o,abort:l})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}}const as=new Oh(60*1024*1024),Fc=new Oh(20*1024*1024),Jl={};function Gg(){const e=Jl==null?void 0:Jl.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const l=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:l?"":i.origin}const lt=Gg();const Yg=40*1024*1024,fe={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Wt(`${lt}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Wt(`${lt}/search?${n}`).promise},getSidecar:e=>Wt(`${lt}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Wt(`${lt}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Wt(`${lt}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Fc.getOrFetch(e,()=>xi(`${lt}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Fc.prefetch(e,()=>xi(`${lt}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>as.getOrFetch(e,()=>xi(`${lt}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(as.has(e)||as.isInflight(e)))try{const t=await xi(`${lt}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Yg&&as.set(e,t)}catch{}},cancelPrefetch:e=>{as.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Wt(`${lt}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Wt(`${lt}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Wt(`${lt}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Wt(`${lt}/export-intent`,{method:"POST",body:t}).promise}},Xg=e=>["folder",e];function _h(e){return ha({queryKey:Xg(e),queryFn:()=>fe.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Zl(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Jg(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const l=Math.ceil((i-1)/2),o=Math.floor((i-1)/2);return s.slice(0,l)+""+s.slice(-o)+r}function Zg(e){try{return JSON.parse(e)}catch{return}}const ey=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Rs(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return ey.test(s)?s:"/"}catch{return"/"}}function Dc(){return(window.location.hash||"").replace(/^#/,"")}function ty(e){const t=Rs(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function ny(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function ry(e){const n=Rs(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function sy(e){return e.endsWith("/_trash_")}function iy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i}){const[l,o]=k.useState(new Set(["/"]));return k.useEffect(()=>{const u=e.split("/").filter(Boolean),a=["/"];let p="";for(const h of u)p=p?`${p}/${h}`:`/${h}`,a.push(p);o(h=>{const y=new Set(h);for(const v of a)y.add(v);return y})},[e]),S.jsxs("div",{className:"col-start-1 row-start-2 overflow-auto border-r border-border bg-panel scrollbar-thin",children:[S.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(u=>S.jsx(Ph,{path:u.path,label:u.label,depth:0,current:e,expanded:l,setExpanded:o,onOpen:r,onContextMenu:i,initial:n},u.path))}),S.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function Ph({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o,initial:u}){var f,c,d;const a=s.has(e),{data:p}=_h(e),h=u&&e===u.path?u:p,y=r===e,v=(((f=h==null?void 0:h.dirs)==null?void 0:f.length)??0)===0,x=v?((c=h==null?void 0:h.items)==null?void 0:c.length)??0:0,w=Cl(),T=m=>{m.stopPropagation(),i(R=>{const C=new Set(R);return C.has(e)?C.delete(e):C.add(e),C})};return S.jsxs("div",{children:[S.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${y?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":v?void 0:a,"aria-selected":y,tabIndex:y?0:-1,style:{paddingLeft:8+n*14},onClick:()=>l(e),onContextMenu:m=>{m.preventDefault(),m.stopPropagation(),o&&o(m,e)},onKeyDown:m=>{var R;if(m.key==="Enter")m.preventDefault(),l(e);else if(m.key==="ArrowRight")!v&&!a&&(m.preventDefault(),i(C=>{const N=new Set(C);return N.add(e),N}));else if(m.key==="ArrowLeft")!v&&a&&(m.preventDefault(),i(C=>{const N=new Set(C);return N.delete(e),N}));else if(m.key==="ArrowDown"||m.key==="ArrowUp"||m.key==="Home"||m.key==="End"){m.preventDefault();const C=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),N=C.findIndex(M=>M===m.currentTarget);if(N===-1)return;let E=N;m.key==="ArrowDown"?E=Math.min(C.length-1,N+1):m.key==="ArrowUp"?E=Math.max(0,N-1):m.key==="Home"?E=0:m.key==="End"&&(E=C.length-1),(R=C[E])==null||R.focus()}},onDragOver:m=>{var C;Array.from(((C=m.dataTransfer)==null?void 0:C.types)||[]).includes("application/x-lenscat-paths")&&(m.preventDefault(),v&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(N=>{N!==m.currentTarget&&N.classList.remove("drop-target")}),m.currentTarget.classList.add("drop-target")))},onDragEnter:m=>{var C;Array.from(((C=m.dataTransfer)==null?void 0:C.types)||[]).includes("application/x-lenscat-paths")&&v&&(m.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(N=>{N!==m.currentTarget&&N.classList.remove("drop-target")}),m.currentTarget.classList.add("drop-target"))},onDragLeave:m=>{const R=m.currentTarget,C=document.elementFromPoint(m.clientX,m.clientY);C&&R.contains(C)||R.classList.remove("drop-target")},onDrop:async m=>{const R=m.dataTransfer;if(!R)return;m.preventDefault(),m.currentTarget.classList.remove("drop-target");const C=R.getData("application/x-lenscat-paths"),E=(C?JSON.parse(C):[]).filter(Boolean);if(!E.length)return;let M=E[0].split("/").slice(0,-1).join("/")||"/";M.startsWith("/")||(M=`/${M}`);let P=e;P.startsWith("/")||(P=`/${P}`);try{for(const F of E)await fe.moveFile(F,P);w.invalidateQueries({queryKey:["folder",M]}),w.invalidateQueries({queryKey:["folder",P]}),w.setQueryData(["folder",M],F=>!F||!Array.isArray(F.items)?F:{...F,items:F.items.filter(W=>!E.includes(W.path))})}catch{}},children:[S.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:T,children:a?"":""}),S.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Jg(t,28)}),v&&S.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:x})]}),a&&((d=h==null?void 0:h.dirs)==null?void 0:d.map(m=>S.jsx(Ph,{path:ny(e,m.name),label:m.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o},m.name)))]})}class ly{constructor(t=400){fr(this,"cache",new Map);fr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const eo=new ly(400);function oy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:l,isScrolling:o,priority:u}){const a=k.useRef(null),[p,h]=k.useState(()=>eo.get(e)??null),[y,v]=k.useState(!1),[x,w]=k.useState(()=>!!p);return k.useEffect(()=>{const T=a.current;if(!T)return;const f=new IntersectionObserver(c=>{for(const d of c)d.target===T&&v(d.isIntersecting||d.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return f.observe(T),()=>{f.unobserve(T),f.disconnect()}},[l]),k.useEffect(()=>{if(p||!(y&&!o||u))return;let T=!0;return fe.getThumb(e).then(f=>{if(!T)return;const c=URL.createObjectURL(f);eo.set(e,c),h(c)}).catch(()=>{}),()=>{T=!1}},[e,p,y,o,u]),k.useEffect(()=>{var f;if(!p){w(!1);return}const T=(f=a.current)==null?void 0:f.querySelector("img");T&&T.complete&&T.naturalWidth>0?w(!0):w(!1)},[p]),k.useEffect(()=>{h(eo.get(e)??null)},[e]),S.jsx("div",{ref:a,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:p?S.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${x?"opacity-100":""}`,src:p,alt:t,loading:"lazy",decoding:"async",onLoad:()=>w(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function hr(e,t,n){let r=n.initialDeps??[],s;function i(){var l,o,u,a;let p;n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now());const h=e();if(!(h.length!==r.length||h.some((x,w)=>r[w]!==x)))return s;r=h;let v;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(v=Date.now()),s=t(...h),n.key&&((u=n.debug)!=null&&u.call(n))){const x=Math.round((Date.now()-p)*100)/100,w=Math.round((Date.now()-v)*100)/100,T=w/16,f=(c,d)=>{for(c=String(c);c.length<d;)c=" "+c;return c};console.info(`%c ${f(w,5)} /${f(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(a=n==null?void 0:n.onChange)==null||a.call(n,s),s}return i.updateDeps=l=>{r=l},i}function bc(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const uy=(e,t)=>Math.abs(e-t)<1.01,ay=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Uc=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},cy=e=>e,fy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},dy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=l=>{const{width:o,height:u}=l;t({width:Math.round(o),height:Math.round(u)})};if(s(Uc(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const o=()=>{const u=l[0];if(u!=null&&u.borderBoxSize){const a=u.borderBoxSize[0];if(a){s({width:a.inlineSize,height:a.blockSize});return}}s(Uc(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Ac={passive:!0},$c=typeof window>"u"?!0:"onscrollend"in window,hy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&$c?()=>{}:ay(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=p=>()=>{const{horizontal:h,isRtl:y}=e.options;s=h?n.scrollLeft*(y&&-1||1):n.scrollTop,i(),t(s,p)},o=l(!0),u=l(!1);u(),n.addEventListener("scroll",o,Ac);const a=e.options.useScrollendEvent&&$c;return a&&n.addEventListener("scrollend",u,Ac),()=>{n.removeEventListener("scroll",o),a&&n.removeEventListener("scrollend",u)}},py=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},my=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const l=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class gy{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:cy,rangeExtractor:fy,onChange:()=>{},measureElement:py,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=hr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let l=r-1;l>=0;l--){const o=n[l];if(s.has(o.lane))continue;const u=i.get(o.lane);if(u==null||o.end>u.end?i.set(o.lane,o):o.end<u.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=hr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=hr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,u);for(let p=u;p<n;p++){const h=i(p),y=this.options.lanes===1?a[p-1]:this.getFurthestMeasurement(a,p),v=y?y.end+this.options.gap:r+s,x=o.get(h),w=typeof x=="number"?x:this.options.estimateSize(p),T=v+w,f=y?y.lane:p%this.options.lanes;a[p]={index:p,start:v,size:w,end:T,key:h,lane:f}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=hr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?yy({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=hr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=hr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,l=n.length;i<l;i++){const o=n[i],u=r[o];s.push(u)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return bc(r[Lh(0,r.length-1,s=>bc(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(s.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const l=10,o=a=>{if(!this.targetWindow)return;const p=this.getOffsetForIndex(n,a);if(!p){console.warn("Failed to get offset for index:",n);return}const[h,y]=p;this._scrollToOffset(h,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const v=this.getScrollOffset(),x=this.getOffsetForIndex(n,y);if(!x){console.warn("Failed to get offset for index:",n);return}uy(x[0],v)||u(y)})},u=a=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>o(a)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(o=>o===null);){const o=r[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}s=Math.max(...i.filter(o=>o!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Lh=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function yy({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=u=>e[u].start;if(e.length<=r)return{startIndex:0,endIndex:s};let l=Lh(0,s,i,n),o=l;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const u=Array(r).fill(0);for(;o<s&&u.some(p=>p<n+t);){const p=e[o];u[p.lane]=p.end,o++}const a=Array(r).fill(n+t);for(;l>=0&&a.some(p=>p>=n);){const p=e[l];a[p.lane]=p.start,l--}l=Math.max(0,l-l%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const Bc=typeof document<"u"?k.useLayoutEffect:k.useEffect;function vy(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var l;i?ua.flushSync(t):t(),(l=e.onChange)==null||l.call(e,s,i)}},[r]=k.useState(()=>new gy(n));return r.setOptions(n),Bc(()=>r._didMount(),[]),Bc(()=>r._willUpdate()),r}function wy(e){return vy({observeElementRect:dy,observeElementOffset:hy,scrollToFn:my,...e})}const xy=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),l=(e-t*(i-1))/i,o=l*r.h/r.w,u=o+s+t;return{columns:i,cellW:l,mediaH:o,rowH:u}};function Sy({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let l=[],o=0;for(let u=0;u<e.length;u++){const a=e[u];let p=1.333;a.w>0&&a.h>0&&(p=a.w/a.h),l.push({item:a,aspect:p,originalIndex:u}),o+=p;const h=(l.length-1)*r;if(o*n+h>=t){const v=(t-h)/o,x=l.map(w=>({item:w.item,displayW:w.aspect*v,displayH:v,originalIndex:w.originalIndex}));i.push({index:i.length,height:v+s+r,imageH:v,items:x}),l=[],o=0}}if(l.length>0){const u=n,a=l.map(p=>({item:p.item,displayW:p.aspect*u,displayH:u,originalIndex:p.originalIndex}));i.push({index:i.length,height:u+s+r,imageH:u,items:a})}return i}function ky(e,t,n){const[r,s]=k.useState(0);k.useLayoutEffect(()=>{const u=e.current;if(!u)return;const a=()=>{const h=getComputedStyle(u),y=u.clientWidth-parseFloat(h.paddingLeft)-parseFloat(h.paddingRight);s(y)},p=new ResizeObserver(a);return p.observe(u),a(),()=>p.disconnect()},[]);const i=k.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:Sy({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:u,cellW:a,mediaH:p,rowH:h}=xy({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),y=Math.ceil(t.length/Math.max(1,u));return{mode:"grid",columns:u,cellW:a,mediaH:p,rowH:h,rowCount:y}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),l=wy({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:u=>i.mode==="adaptive"?i.rows[u].height:i.rowH,overscan:8}),o=l.getVirtualItems();return k.useEffect(()=>{l.measure()},[i]),{width:r,layout:i,rowVirtualizer:l,virtualRows:o}}function Ey(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(o=>o.path===n):0,i=Math.max(1,t);let l=s;if(r.key==="ArrowRight"||r.key==="d")l=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")l=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")l=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")l=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return l}function Cy({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:l,suppressSelectionHighlight:o=!1,viewMode:u="grid",targetCellSize:a=220}){const[p,h]=k.useState(null),[y,v]=k.useState(null),[x,w]=k.useState(null),[T,f]=k.useState(!1),[c,d]=k.useState(null),[m,R]=k.useState(null),C=k.useRef(null),N=k.useRef(null),E=k.useRef(null),M=12,P=a,F={w:4,h:3},W=44,{width:se,layout:$,rowVirtualizer:ge,virtualRows:be}=ky(N,e,{gap:M,targetCell:P,aspect:F,captionH:W,viewMode:u}),Pe=k.useMemo(()=>{const Q=new Map;for(let ee=0;ee<e.length;ee++)Q.set(e[ee].path,ee);return Q},[e]),z=k.useMemo(()=>{if($.mode!=="adaptive")return null;const Q=new Map;return $.rows.forEach((ee,Y)=>{let ue=0;ee.items.forEach((X,le)=>{const b=ue+X.displayW/2;Q.set(X.item.path,{row:Y,center:b,order:le}),ue+=X.displayW+M})}),Q},[$]),A=k.useMemo(()=>{if($.mode!=="adaptive")return null;let Q=0;return $.rows.map(ee=>{const Y=Q;return Q+=ee.height,{start:Y,height:ee.height}})},[$]),H=k.useRef(null),ae=(Q,ee)=>{try{if(H.current!=null){try{cancelAnimationFrame(H.current)}catch{}H.current=null}const Y=Q.scrollTop,ue=ee-Y;if(Math.abs(ue)<1){Q.scrollTop=ee;return}const X=140,le=performance.now(),b=ye=>1-Math.pow(1-ye,3),Ee=ye=>{const Ue=Math.min(1,(ye-le)/X),Et=b(Ue);Q.scrollTop=Y+ue*Et,Ue<1?H.current=requestAnimationFrame(Ee):H.current=null};H.current=requestAnimationFrame(Ee)}catch{Q.scrollTop=ee}},[L,K]=k.useState(!1);k.useEffect(()=>{const Q=N.current;if(!Q)return;let ee=0;const Y=()=>{K(!0),window.clearTimeout(ee),ee=window.setTimeout(()=>K(!1),120)};return Q.addEventListener("scroll",Y,{passive:!0}),()=>Q.removeEventListener("scroll",Y)},[]);const re=$.mode==="grid"?$.columns:Math.max(1,Math.floor(se/(P+M))),Te=(Q,ee)=>{if($.mode!=="adaptive")return null;const Y=$.rows[Q];if(!Y)return null;let ue=0,X=null;return Y.items.forEach(le=>{const b=ue+le.displayW/2,Ee=Math.abs(b-ee);(!X||Ee<X.dist)&&(X={path:le.item.path,dist:Ee}),ue+=le.displayW+M}),(X==null?void 0:X.path)??null},G=(Q,ee)=>{var Et,zt,j,O;if(!e.length)return null;const Y=Q??e[0].path;if($.mode!=="adaptive"){const U=Ey(e,re,Y,ee);return U==="open"||U==null?U:((Et=e[U])==null?void 0:Et.path)??null}const ue=z==null?void 0:z.get(Y);if(!ue)return Y;const X=Pe.get(Y)??0,le=ee.key;if(le==="Enter")return"open";if(le==="ArrowRight"||le==="d")return((zt=e[Math.min(e.length-1,X+1)])==null?void 0:zt.path)??Y;if(le==="ArrowLeft"||le==="a")return((j=e[Math.max(0,X-1)])==null?void 0:j.path)??Y;const b=le==="ArrowDown"||le==="s"?1:le==="ArrowUp"||le==="w"?-1:0;if(b===0)return null;const Ee=ue.row+b;if(Ee<0||Ee>=(((O=$.rows)==null?void 0:O.length)??0))return Y;const ye=ue.center;return Te(Ee,ye)??Y};k.useEffect(()=>{const Q=N.current;if(!Q)return;const ee=Y=>{var Et,zt,j,O;const ue=G(m,Y);if(ue==null)return;if(Y.preventDefault(),ue==="open"){m&&s(m);return}const X=e.find(U=>U.path===ue);if(!X)return;R(X.path),d(X.path),r([X.path]);try{E.current=X.path}catch{}const le=$.mode==="grid"?Math.floor((Pe.get(X.path)??0)/Math.max(1,$.columns)):((Et=z==null?void 0:z.get(X.path))==null?void 0:Et.row)??0,b=Q.scrollTop,Ee=b+Q.clientHeight,ye=$.mode==="adaptive"?((zt=A==null?void 0:A[le])==null?void 0:zt.start)??0:le*$.rowH,Ue=$.mode==="adaptive"?ye+(((j=A==null?void 0:A[le])==null?void 0:j.height)??0):ye+$.rowH;(ye<b||Ue>Ee)&&ae(Q,ye);try{(O=document.getElementById(`cell-${encodeURIComponent(X.path)}`))==null||O.focus()}catch{}};return Q.addEventListener("keydown",ee),()=>{Q.removeEventListener("keydown",ee)}},[e,m,re,s,$,z,A,Pe]),k.useLayoutEffect(()=>{var le;const Q=N.current;if(!Q||!n||!t||t.length===0)return;const ee=t[0],Y=Pe.get(ee);if(Y==null||Y<0)return;let ue=0;if($.mode==="grid")ue=Math.floor(Y/Math.max(1,$.columns));else{let b=0,Ee=$.rows.length-1;for(;b<=Ee;){const ye=b+Ee>>1,Ue=$.rows[ye];if(Y>=Ue.items[0].originalIndex&&Y<=Ue.items[Ue.items.length-1].originalIndex){ue=ye;break}Y<Ue.items[0].originalIndex?Ee=ye-1:b=ye+1}}const X=$.mode==="adaptive"?((le=A==null?void 0:A[ue])==null?void 0:le.start)??0:ue*$.rowH;try{Q.scrollTop=X}catch{}},[n,$,A]);const kt=new Set(t),pa=!!(p&&y&&T);k.useEffect(()=>{var Q;(Q=N.current)==null||Q.focus()},[]),k.useEffect(()=>{var Q;if(o){try{(Q=N.current)==null||Q.blur()}catch{}try{R(null)}catch{}}},[o]);const ma=m?`cell-${encodeURIComponent(m)}`:void 0;return S.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${pa?"cursor-zoom-in":""}`,ref:N,tabIndex:0,"aria-activedescendant":ma,onMouseDown:()=>{var Q;return(Q=N.current)==null?void 0:Q.focus()},style:{"--gap":`${M}px`},children:S.jsxs("div",{className:"relative w-full",style:{height:ge.getTotalSize()},children:[be.map(Q=>{var le;let ee=[],Y={},ue="";if($.mode==="adaptive"){const b=$.rows[Q.index];if(!b)return null;ee=b.items,Y={height:b.height,transform:`translate3d(0, ${Q.start}px, 0)`,display:"flex",gap:M,paddingBottom:M},ue="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const b=Q.index*$.columns;ee=e.slice(b,b+$.columns).map(ye=>({item:ye,displayW:$.cellW,displayH:$.mediaH})),Y={transform:`translate3d(0, ${Q.start}px, 0)`,gridTemplateColumns:`repeat(${$.columns}, minmax(0, 1fr))`,gap:M,paddingBottom:M},ue="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const X=Q.index===((le=be[0])==null?void 0:le.index);try{if(!L)for(const{item:b}of ee)try{fe.prefetchThumb(b.path)}catch{}}catch{}return S.jsx("div",{className:ue,role:"row",style:Y,children:ee.map(({item:b,displayW:Ee,displayH:ye})=>{const Ue=!o&&(c===b.path||kt.has(b.path)),Et=$.mode==="adaptive"?{width:Ee}:{},zt=$.mode==="adaptive"?{height:ye}:{},j=$.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return S.jsxs("div",{id:`cell-${encodeURIComponent(b.path)}`,className:`relative min-w-0 ${Ue?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Ue,tabIndex:m===b.path?0:-1,onFocus:()=>R(b.path),draggable:!0,style:Et,onDragStart:O=>{var U;try{const V=kt.has(b.path)&&t.length>0?t:[b.path];(U=O.dataTransfer)==null||U.setData("application/x-lenscat-paths",JSON.stringify(V)),O.dataTransfer&&(O.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const pe=O.currentTarget.querySelector(".cell-content img"),Ae=document.createElement("div");Ae.className="drag-ghost";const Ne=document.createElement("img");Ne.draggable=!1,Ne.alt="drag",pe&&pe.src&&(Ne.src=pe.src),Ae.appendChild(Ne),document.body.appendChild(Ae);const ht=Ae.getBoundingClientRect().width||150;O.dataTransfer.setDragImage(Ae,Math.round(ht/2),0);const Ct=()=>{try{Ae.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Ct),window.removeEventListener("pointerup",Ct),document.removeEventListener("visibilitychange",Ct)};window.addEventListener("dragend",Ct),window.addEventListener("pointerup",Ct),document.addEventListener("visibilitychange",Ct)}catch{}},onDragEnd:()=>{},onContextMenu:O=>{O.preventDefault(),O.stopPropagation(),i&&i(O,b.path)},children:[S.jsxs("div",{className:j,style:zt,onMouseEnter:()=>{try{fe.prefetchFile(b.path)}catch{}},onDoubleClick:()=>s(b.path),onMouseLeave:()=>{if(x&&(window.clearTimeout(x),w(null)),h(null),C.current){try{URL.revokeObjectURL(C.current)}catch{}C.current=null}v(null),f(!1)},children:[S.jsx("div",{className:"cell-content absolute inset-0",children:S.jsx(oy,{path:b.path,name:b.name,selected:Ue,displayW:Ee,displayH:ye,ioRoot:N.current,isScrolling:L,priority:X,onClick:O=>{var te;d(b.path),R(b.path);const U=!!O.shiftKey,V=!!(O.ctrlKey||O.metaKey);if(U){const pe=E.current??c??t[0]??b.path,Ae=Pe.get(pe)??e.findIndex(ht=>ht.path===pe),Ne=Pe.get(b.path)??e.findIndex(ht=>ht.path===b.path);if(Ae!==-1&&Ne!==-1){const ht=Math.min(Ae,Ne),Ct=Math.max(Ae,Ne),Zs=e.slice(ht,Ct+1).map(ei=>ei.path);if(V){const ei=new Set(t);for(const Dh of Zs)ei.add(Dh);r(Array.from(ei))}else r(Zs)}else r([b.path])}else if(V){const pe=new Set(t);pe.has(b.path)?pe.delete(b.path):pe.add(b.path),r(Array.from(pe));try{E.current=b.path}catch{}}else{r([b.path]);try{E.current=b.path}catch{}}try{L||(fe.prefetchFile(b.path),fe.prefetchThumb(b.path))}catch{}try{(te=document.getElementById(`cell-${encodeURIComponent(b.path)}`))==null||te.focus()}catch{}}})}),S.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(L)return;x&&window.clearTimeout(x),h(b.path),f(!1);const O=window.setTimeout(async()=>{try{const U=await fe.getFile(b.path),V=URL.createObjectURL(U);if(C.current)try{URL.revokeObjectURL(C.current)}catch{}C.current=V,v(V),f(!0)}catch{}},350);w(O)},onMouseLeave:()=>{if(x&&window.clearTimeout(x),w(null),f(!1),h(null),C.current){try{URL.revokeObjectURL(C.current)}catch{}C.current=null}v(null)},children:S.jsx("div",{className:"absolute right-1 bottom-1 w-[22px] h-[22px] bg-black/55 rounded-full flex items-center justify-center text-xs select-none opacity-0 group-hover:opacity-100 transition-opacity duration-[120ms]",children:""})})]}),S.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[S.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:b.name,children:(()=>{const O=(l||"").trim();if(!O)return b.name;const U=b.name,V=U.toLowerCase().indexOf(O.toLowerCase());if(V===-1)return b.name;const te=U.slice(0,V),pe=U.slice(V,V+O.length),Ae=U.slice(V+O.length);return S.jsxs(S.Fragment,{children:[te,S.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:pe}),Ae]})})()}),S.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[b.w,"  ",b.h]})]})]},b.path)})},Q.key)}),p&&y&&T&&ua.createPortal(S.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:S.jsx("img",{src:y,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${u}-${re}`)})}function Ry(){const[e,t]=k.useState(1),[n,r]=k.useState(0),[s,i]=k.useState(0),[l,o]=k.useState(1),[u,a]=k.useState(!1),[p,h]=k.useState(!1),[y,v]=k.useState(!1),x=k.useRef(null),w=k.useRef(null),T=()=>{const d=x.current,m=w.current;if(!d||!m||!m.naturalWidth||!m.naturalHeight)return;const R=d.getBoundingClientRect(),C=R.width/m.naturalWidth,N=R.height/m.naturalHeight,E=Math.min(1,Math.min(C,N));o(E);const M=m.naturalWidth*E,P=m.naturalHeight*E;r((R.width-M)/2),i((R.height-P)/2)};return k.useEffect(()=>{const d=x.current;if(!d)return;const m=new ResizeObserver(()=>{try{requestAnimationFrame(()=>T())}catch{T()}});return m.observe(d),()=>m.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:l,setBase:o,ready:u,setReady:a,dragging:p,setDragging:h,visible:y,setVisible:v,containerRef:x,imgRef:w,fitAndCenter:T,handleWheel:d=>{d.preventDefault();const m=d.deltaY>0?-1:1,R=1.2,C=.05,N=8,E=x.current;if(!E)return;const M=E.getBoundingClientRect(),P=d.clientX-M.left,F=d.clientY-M.top;t(W=>{const se=Math.min(N,Math.max(C,W*Math.pow(R,m))),$=se/W;return r(ge=>P-$*(P-ge)),i(ge=>F-$*(F-ge)),Number(se.toFixed(4))})},handleMouseDown:d=>{const m=x.current,R=w.current;if(!m||!R||d.target!==R)return;const N=m.getBoundingClientRect();if(d.clientX<N.left||d.clientX>N.right||d.clientY<N.top||d.clientY>N.bottom)return;d.preventDefault(),d.stopPropagation(),h(!0);const E=d.clientX,M=d.clientY,P=n,F=s,W=$=>{r(P+($.clientX-E)),i(F+($.clientY-M))},se=()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",se),h(!1)};window.addEventListener("mousemove",W),window.addEventListener("mouseup",se)}}}function Ty({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[l,o]=k.useState(null),[u,a]=k.useState(null),{scale:p,setScale:h,tx:y,setTx:v,ty:x,setTy:w,base:T,ready:f,setReady:c,dragging:d,visible:m,setVisible:R,containerRef:C,imgRef:N,fitAndCenter:E,handleWheel:M,handleMouseDown:P}=Ry();return k.useEffect(()=>{let F=!0;return fe.getFile(e).then(W=>{F&&o(URL.createObjectURL(W))}).catch(()=>{}),fe.getThumb(e).then(W=>{F&&a(URL.createObjectURL(W))}).catch(()=>{}),requestAnimationFrame(()=>{var W;R(!0),(W=C.current)==null||W.focus()}),()=>{F=!1}},[e]),k.useEffect(()=>{const F=W=>{W.key==="Escape"?(R(!1),setTimeout(t,110)):(W.key==="ArrowRight"||W.key==="d")&&n?n(1):(W.key==="ArrowLeft"||W.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,n]),k.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),k.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),k.useEffect(()=>{c(!1)},[l]),k.useEffect(()=>{r&&r(T*p*100)},[T,p,r]),k.useEffect(()=>{if(s==null)return;const F=C.current;if(!F){i&&i();return}const W=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,T))),se=F.getBoundingClientRect(),$=se.width/2,ge=se.height/2;h(be=>{const Pe=W/be;return v(z=>$-Pe*($-z)),w(z=>ge-Pe*(ge-z)),Number(W.toFixed(4))}),i&&i()},[s,T,i]),S.jsxs("div",{ref:C,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${d?"cursor-grabbing select-none":""} ${m?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{R(!1),window.setTimeout(()=>t(),110)},onWheel:M,onMouseDown:P,onKeyDown:F=>{F.key==="Tab"&&F.preventDefault()},children:[S.jsx("button",{"aria-label":"Close",onClick:F=>{F.stopPropagation(),R(!1),window.setTimeout(()=>t(),110)},className:"absolute top-3 right-3 z-10 px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",children:""}),u&&S.jsx("img",{src:u,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:F=>F.preventDefault(),style:{transform:`translate(${y}px, ${x}px) scale(${T})`,transformOrigin:"0 0",opacity:f?0:.5,filter:"blur(0.25px)"}}),l&&S.jsx("img",{ref:N,src:l,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:F=>{F.preventDefault()},onLoad:F=>{E(),h(1);try{requestAnimationFrame(()=>c(!0))}catch{c(!0)}},onClick:F=>F.stopPropagation(),style:{transform:`translate(${y}px, ${x}px) scale(${T*p})`,transformOrigin:"0 0",opacity:f?.99:0,WebkitUserDrag:"none"}})]})}const jh=e=>["item",e],Ny={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function My(e){return ha({queryKey:jh(e),queryFn:()=>fe.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function Oy(e){const t=Cl();return Kg({mutationFn:n=>fe.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(jh(e),n)}})}const _y=6;async function Si(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const o=r++,u=e[o];try{await zh(u,t,n)}catch(a){s.push({path:u,error:a}),console.error(`[bulkUpdateSidecars] Failed for ${u}:`,a)}}},l=Array.from({length:Math.min(_y,e.length)},()=>i());if(await Promise.all(l),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const cs=new Map,to=new Map;async function zh(e,t,n){const r=n??new Date().toISOString(),s=cs.get(e)||{};cs.set(e,{...s,...t});const i=to.get(e);if(i)return i;const l=(async()=>{try{for(;cs.has(e);){const o=cs.get(e);if(cs.delete(e),!o)break;let u;try{u=await fe.getSidecar(e)}catch{u={...Ny,updated_at:r}}const a={...u,...o,v:1,updated_at:r,updated_by:"web"};let p=0;const h=3;for(;p<h;)try{await fe.putSidecar(e,a);break}catch(y){if(p++,p>=h)throw y;await new Promise(v=>setTimeout(v,200*Math.pow(2,p)))}}}finally{to.delete(e)}})();return to.set(e,l),l}function Ih(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Ii(e){if(Array.isArray(e))return e.map(Ii);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Ii(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Ii(r)}catch{return e}}return e}function no(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Py(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,l=s[0];n+=no(e.slice(r,i));let o="#cdd3dd";l.startsWith('"')&&l.trimEnd().endsWith(":")?o="#a7c4ff":l.startsWith('"')?o="#9ad4b5":/true|false|null/.test(l)?o="#c4b4f5":o="#d7c08c",n+=`<span style="color:${o}">${no(l)}</span>`,r=i+l.length}return n+=no(e.slice(r)),n}function Ly({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:l,isLoading:o}=My(e??""),u=Oy(e??""),[a,p]=k.useState(""),[h,y]=k.useState(""),[v,x]=k.useState(null),[w,T]=k.useState(""),[f,c]=k.useState(null),[d,m]=k.useState("idle"),[R,C]=k.useState(!1),E=k.useMemo(()=>{const L=n.find(K=>K.path===e);return L&&L.star!==void 0?L.star:null},[n,e])??(l==null?void 0:l.star)??null,M=t.length>1,P=k.useMemo(()=>{const L=new Set(t);return n.filter(K=>L.has(K.path))},[n,t]),F=k.useMemo(()=>P.reduce((L,K)=>L+(K.size||0),0),[P]);k.useEffect(()=>{l&&(p((l.tags||[]).join(", ")),y(l.notes||"")),T(""),c(null),m("idle"),C(!1)},[l==null?void 0:l.updated_at,e]);const W=k.useCallback(()=>l??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[l]);k.useEffect(()=>{if(!e)return;const L=K=>{if(Ih(K.target))return;const re=K.key;if(!/^[0-5]$/.test(re))return;K.preventDefault();const Te=re==="0"?null:Number(re);if(M&&t.length)Si(t,{star:Te}),s==null||s(t,Te);else{const G=W();u.mutate({...G,star:Te,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],Te)}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,M,t,W,u,s]),k.useEffect(()=>{if(!e){v&&URL.revokeObjectURL(v),x(null);return}let L=!0;return fe.getThumb(e).then(K=>{if(!L)return;const re=URL.createObjectURL(K);x(Te=>(Te&&URL.revokeObjectURL(Te),re))}).catch(()=>{}),()=>{L=!1}},[e]),k.useEffect(()=>()=>{v&&URL.revokeObjectURL(v)},[v]);const se=e?e.split("/").pop()||e:"",$=k.useMemo(()=>{var K;if(se.includes("."))return se.slice(se.lastIndexOf(".")+1).toUpperCase();const L=n.find(re=>re.path===e);return(K=L==null?void 0:L.type)!=null&&K.includes("/")?L.type.split("/")[1].toUpperCase():""},[se,n,e]),ge=k.useMemo(()=>n.find(L=>L.path===e),[n,e]),be=k.useCallback(async()=>{if(e){m("loading"),c(null);try{const L=await fe.getMetadata(e),K=Ii(L.meta),re=JSON.stringify(K,null,2);T(re),m("loaded")}catch(L){const K=L instanceof Error?L.message:"Failed to load metadata";T(K),c(K),m("error")}}},[e]),Pe=k.useCallback(()=>{var L;w&&((L=navigator.clipboard)==null||L.writeText(w).then(()=>{C(!0),setTimeout(()=>C(!1),1200)}).catch(K=>{const re=K instanceof Error?K.message:"Copy failed";c(re)}))},[w]),z=k.useMemo(()=>w?Py(w):"",[w]),A=d==="loading"?"Loading metadata":w||"PNG metadata not loaded yet.",H=d==="loaded"&&!!w,ae=H?"h-48":"h-24";return i?S.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!M&&S.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:S.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[v&&S.jsx("img",{src:v,alt:"thumb",className:"block w-full h-full object-contain"}),!!$&&S.jsx("div",{className:"absolute top-1.5 left-1.5 bg-[#1b1b1b] border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:$})]})}),S.jsx("div",{className:"p-3 border-b border-border",children:M?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),S.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),S.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Zl(F)]})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Filename"}),S.jsx("div",{className:"font-mono text-muted break-all",title:se,children:se})]})}),S.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[S.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-[#6d6d6d] focus:border-border",placeholder:"Add notes",value:h,onChange:L=>y(L.target.value),onBlur:()=>{if(M&&t.length)Si(t,{notes:h});else{const L=W();u.mutate({...L,notes:h,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":M?"Notes for selected items":"Notes"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[11px] text-muted mb-1",children:M?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),S.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-[#6d6d6d] focus:border-border",placeholder:"tag1, tag2",value:a,onChange:L=>p(L.target.value),onBlur:()=>{const L=a.split(",").map(K=>K.trim()).filter(Boolean);if(M&&t.length)Si(t,{tags:L});else{const K=W();u.mutate({...K,tags:L,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":M?"Tags for selected items":"Tags"})]})]}),!M&&S.jsxs("div",{className:"p-3 border-b border-border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[S.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),S.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[S.jsx("button",{className:"px-2 py-1 bg-[#1b1b1b] text-text border border-border rounded-md disabled:opacity-60",onClick:be,disabled:!e||d==="loading",children:d==="loading"?"Loading":"Show meta"}),w&&S.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60",onClick:Pe,disabled:!w,title:"Copy metadata",children:R?"Copied":"Copy"})]})]}),S.jsx("pre",{className:`bg-[#0f0f0f] text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${ae} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:H?S.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:z}}):A}),f&&S.jsx("div",{className:"text-[11px] text-red-400 mt-1 break-words",children:f})]}),S.jsxs("div",{className:"p-3 border-b border-border",children:[S.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),S.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[S.jsx("span",{className:"text-muted w-16 shrink-0",children:M?"Rating (all)":"Rating"}),S.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(L=>{const K=(E??0)>=L;return S.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${K?"text-[#e7c46a]":"text-[#6f6f6f]"} hover:border-border hover:text-[#e7c46a] transition-colors`,onClick:()=>{const re=E===L&&!M?null:L;M&&t.length?(s==null||s(t,re),Si(t,{star:re})):e&&(s==null||s([e],re),zh(e,{star:re}))},title:`${L} star${L>1?"s":""} (key ${L})`,"aria-label":`${L} star${L>1?"s":""}`,"aria-pressed":E===L,children:K?"":""},L)})})]}),!M&&ge&&S.jsxs("div",{className:"text-[12px] space-y-1",children:[S.jsxs("div",{className:"flex justify-between cursor-pointer hover:text-text",onClick:()=>{var L;return(L=navigator.clipboard)==null?void 0:L.writeText(`${ge.w}${ge.h}`).catch(()=>{})},title:"Click to copy dimensions",children:[S.jsx("span",{className:"text-muted w-20 shrink-0",children:"Dimensions"}),S.jsxs("span",{className:"font-mono text-text",children:[ge.w,"",ge.h]})]}),S.jsxs("div",{className:"flex justify-between cursor-pointer hover:text-text",onClick:()=>{var L;return(L=navigator.clipboard)==null?void 0:L.writeText(Zl(ge.size)).catch(()=>{})},title:"Click to copy size",children:[S.jsx("span",{className:"text-muted w-20 shrink-0",children:"Size"}),S.jsx("span",{className:"font-mono text-text",children:Zl(ge.size)})]}),S.jsxs("div",{className:"flex justify-between cursor-pointer hover:text-text",onClick:()=>{var L;return(L=navigator.clipboard)==null?void 0:L.writeText(ge.type).catch(()=>{})},title:"Click to copy type",children:[S.jsx("span",{className:"text-muted w-20 shrink-0",children:"Type"}),S.jsx("span",{className:"font-mono text-text break-all text-right",children:ge.type})]}),S.jsxs("div",{className:"flex justify-between cursor-pointer hover:text-text",onClick:()=>{var L;return e&&((L=navigator.clipboard)==null?void 0:L.writeText(e).catch(()=>{}))},title:"Click to copy source path",children:[S.jsx("span",{className:"text-muted w-20 shrink-0",children:"Source"}),S.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%]",children:e})]})]})]}),S.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):S.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:S.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const jy=(e,t)=>["search",e,t];function zy(e,t){return ha({enabled:!!e.trim(),queryKey:jy(e,t),queryFn:()=>fe.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}function Iy(e){return t=>{if(!e||!e.length)return!0;const n=t.star??0;return e.includes(n)}}const Fh=(e,t)=>e.name.localeCompare(t.name),Fy=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?Fh(e,t):n-r};function Dy(e,t){return e.filter(Iy(t))}function by(e,t,n){const r=t==="name"?Fh:Fy,s=[...e].sort(r);return n==="desc"?s.reverse():s}function Uy(e){const[t,n]=k.useState(250),[r,s]=k.useState(240),i=k.useRef(t),l=k.useRef(r);return k.useEffect(()=>{i.current=t},[t]),k.useEffect(()=>{l.current=r},[r]),k.useEffect(()=>{try{const a=window.localStorage,p=Number(a.getItem("leftW"));Number.isFinite(p)&&p>0&&n(p);const h=Number(a.getItem("rightW"));Number.isFinite(h)&&h>0&&s(h)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:a=>{a.preventDefault();const p=e.current;if(!p)return;const h=p.getBoundingClientRect(),y=x=>{const w=x.clientX-h.left,T=200,f=Math.max(T,h.width-l.current-200),c=Math.min(Math.max(w,T),f);n(c)},v=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",v);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",y),window.addEventListener("mouseup",v)},onResizeRight:a=>{a.preventDefault();const p=e.current;if(!p)return;const h=p.getBoundingClientRect(),y=x=>{const w=x.clientX-h.left,T=h.width-w,f=240,c=Math.max(f,h.width-i.current-200),d=Math.min(Math.max(T,f),c);s(d)},v=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",v);try{window.localStorage.setItem("rightW",String(l.current))}catch{}};window.addEventListener("mousemove",y),window.addEventListener("mouseup",v)}}}function Ay({x:e,y:t,items:n}){return S.jsx("div",{className:"fixed z-menu bg-[#1b1b1b] border border-border rounded-lg min-w-[160px] py-1.5 shadow-[0_10px_30px_rgba(0,0,0,0.4)]",role:"menu",style:{left:e,top:t},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>S.jsx("div",{className:`px-3 py-2 text-text cursor-default hover:bg-hover ${r.danger?"text-[#ff6b6b]":""} ${r.disabled?"text-muted cursor-not-allowed":""}`,role:"menuitem","aria-disabled":!!r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:r.label},s))})}function Qc(e){return JSON.stringify(e,null,2)}function Wc(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),l=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,l].map(o=>t(String(o))).join(",")});return[n,...r].join(`
`)}function ro(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function $y(e,t=250){const[n,r]=io.useState(e);return io.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Je={sortKey:"sortKey",sortDir:"sortDir",starFilters:"starFilters",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function By(){var zt;const[e,t]=k.useState("/"),[n,r]=k.useState(""),[s,i]=k.useState([]),[l,o]=k.useState(null),[u,a]=k.useState(0),[p,h]=k.useState(null),[y,v]=k.useState(100),[x,w]=k.useState("added"),[T,f]=k.useState("desc"),[c,d]=k.useState([]),[m,R]=k.useState("adaptive"),[C,N]=k.useState(220),[E,M]=k.useState(!0),[P,F]=k.useState(!0),[W,se]=k.useState({}),$=k.useRef(null),ge=k.useRef(null),be=k.useRef(!1),Pe=k.useRef(null),{leftW:z,rightW:A,onResizeLeft:H,onResizeRight:ae}=Uy($),[L,K]=k.useState(!1),[re,Te]=k.useState(null);k.useEffect(()=>{const j=Rs(Dc());t(j);const O=()=>{const U=Rs(Dc());o(null),t(V=>V===U?V:(a(te=>te+1),U))};return window.addEventListener("hashchange",O),()=>window.removeEventListener("hashchange",O)},[]);const{data:G,refetch:kt,isLoading:pa,isError:ma}=_h(e),Q=n.trim().length>0,ee=$y(n,250),Y=k.useMemo(()=>ee.trim().replace(/\s+/g," "),[ee]),ue=zy(Q?Y:"",e),X=k.useMemo(()=>{var V;const O=(Q?((V=ue.data)==null?void 0:V.items)??[]:(G==null?void 0:G.items)??[]).map(te=>({...te,star:W[te.path]!==void 0?W[te.path]:te.star})),U=Dy(O,c.length>0?c:null);return by(U,x,T)},[Q,ue.data,G,x,T,c,W]),le=k.useMemo(()=>{const j=(G==null?void 0:G.items)??[],O={0:0,1:0,2:0,3:0,4:0,5:0};for(const U of j){const V=W[U.path]??U.star??0;O[String(V)]=(O[String(V)]||0)+1}return O},[G==null?void 0:G.items,W]);k.useEffect(()=>{Q&&(i([]),o(null))},[Q]),k.useEffect(()=>{try{const j=localStorage.getItem(Je.sortKey),O=localStorage.getItem(Je.sortDir),U=localStorage.getItem(Je.starFilters),V=localStorage.getItem(Je.viewMode),te=localStorage.getItem(Je.gridItemSize),pe=localStorage.getItem(Je.leftOpen),Ae=localStorage.getItem(Je.rightOpen);if((j==="name"||j==="added")&&w(j),(O==="asc"||O==="desc")&&f(O),U){const Ne=Zg(U);Array.isArray(Ne)&&d(Ne.filter(ht=>[0,1,2,3,4,5].includes(ht)))}if((V==="grid"||V==="adaptive")&&R(V),te){const Ne=Number(te);!isNaN(Ne)&&Ne>=80&&Ne<=500&&N(Ne)}(pe==="0"||pe==="false")&&M(!1),(Ae==="0"||Ae==="false")&&F(!1)}catch{}},[]),k.useEffect(()=>{try{localStorage.setItem(Je.sortKey,x),localStorage.setItem(Je.sortDir,T),localStorage.setItem(Je.starFilters,JSON.stringify(c)),localStorage.setItem(Je.viewMode,m),localStorage.setItem(Je.gridItemSize,String(C)),localStorage.setItem(Je.leftOpen,E?"1":"0"),localStorage.setItem(Je.rightOpen,P?"1":"0")}catch{}},[x,T,c,m,C,E,P]),k.useEffect(()=>{const j=ge.current;if(!j)return;const O=V=>Math.min(500,Math.max(80,V)),U=V=>{V.ctrlKey&&(V.preventDefault(),N(te=>O(te+(V.deltaY<0?20:-20))))};return j.addEventListener("wheel",U,{passive:!1}),()=>j.removeEventListener("wheel",U)},[]),k.useEffect(()=>{if(!l)return;const j=X.map(V=>V.path),O=j.indexOf(l);if(O===-1)return;const U=[j[O-2],j[O-1],j[O+1],j[O+2]].filter(V=>!!V);for(const V of U)fe.prefetchFile(V),fe.prefetchThumb(V)},[l,X]),k.useEffect(()=>{var O;if(!((O=G==null?void 0:G.items)!=null&&O.length))return;const j=G.items.slice(0,5);for(const U of j)fe.prefetchFile(U.path)},[G==null?void 0:G.path,G==null?void 0:G.items]);const b=k.useCallback(j=>{o(null);const O=Rs(j);t(O),ty(O)},[]),Ee=k.useCallback(j=>{o(j),be.current||(window.history.pushState({viewer:!0},"",window.location.href),be.current=!0)},[]),ye=k.useCallback(()=>{o(null),be.current&&(be.current=!1,window.history.back());const j=Pe.current;if(j){const O=document.getElementById(`cell-${encodeURIComponent(j)}`);O==null||O.focus()}},[]);k.useEffect(()=>{const j=()=>{l&&(be.current=!1,o(null))};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[l]),k.useEffect(()=>{const j=$.current;if(!j)return;const O=te=>{te.dataTransfer&&Array.from(te.dataTransfer.types).includes("Files")&&(te.preventDefault(),K(!0))},U=te=>{const pe=te.relatedTarget;pe&&j.contains(pe)||K(!1)},V=async te=>{var Ne,ht;te.preventDefault(),K(!1);const pe=Array.from(((Ne=te.dataTransfer)==null?void 0:Ne.files)??[]);if(!pe.length)return;if(!((((ht=G==null?void 0:G.dirs)==null?void 0:ht.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const Ct of pe)try{await fe.uploadFile(e,Ct)}catch(Zs){console.error(`Failed to upload ${Ct.name}:`,Zs)}kt()};return j.addEventListener("dragover",O),j.addEventListener("dragleave",U),j.addEventListener("drop",V),()=>{j.removeEventListener("dragover",O),j.removeEventListener("dragleave",U),j.removeEventListener("drop",V)}},[e,(zt=G==null?void 0:G.dirs)==null?void 0:zt.length,kt]),k.useEffect(()=>{const j=()=>Te(null),O=U=>{U.key==="Escape"&&Te(null)};return window.addEventListener("click",j),window.addEventListener("keydown",O),()=>{window.removeEventListener("click",j),window.removeEventListener("keydown",O)}},[]),k.useEffect(()=>{const j=O=>{if(!Ih(O.target)){if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="b"){O.preventDefault(),O.altKey?F(U=>!U):M(U=>!U);return}if(!l){if(O.key==="Backspace"||O.key==="Delete")O.preventDefault(),b(ry(e));else if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="a")O.preventDefault(),i(X.map(U=>U.path));else if(O.key==="Escape")s.length&&(O.preventDefault(),i([]));else if(O.key==="/"){O.preventDefault();const U=document.querySelector(".toolbar-right .input");U==null||U.focus()}}}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,X,s,l,b]);const Ue=E?`${z}px`:"0px",Et=P?`${A}px`:"0px";return S.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:$,style:{"--left":Ue,"--right":Et},children:[S.jsx(qg,{onSearch:r,viewerActive:!!l,onBack:ye,zoomPercent:l?y:void 0,onZoomPercentChange:j=>h(j),sortKey:x,sortDir:T,onSortKey:w,onSortDir:f,starFilters:c,onToggleStar:j=>{d(O=>{const U=new Set(O);return U.has(j)?U.delete(j):U.add(j),Array.from(U)})},onClearStars:()=>d([]),starCounts:le,viewMode:m,onViewMode:R,gridItemSize:C,onGridItemSize:N,leftOpen:E,rightOpen:P,onToggleLeft:()=>M(j=>!j),onToggleRight:()=>F(j=>!j)}),E&&S.jsx(iy,{current:e,roots:[{label:"Root",path:"/"}],data:G,onOpen:b,onResize:H,onContextMenu:(j,O)=>{j.preventDefault(),Te({x:j.clientX,y:j.clientY,kind:"tree",payload:{path:O}})}}),S.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden",ref:ge,children:[S.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),!1,S.jsx(Cy,{items:X,selected:s,restoreToSelectionToken:u,onSelectionChange:i,onOpenViewer:j=>{try{Pe.current=j}catch{}Ee(j),i([j])},highlight:Q?Y:"",suppressSelectionHighlight:!!l,viewMode:m,targetCellSize:C,onContextMenuItem:(j,O)=>{j.preventDefault();const U=s.length?s:[O];Te({x:j.clientX,y:j.clientY,kind:"grid",payload:{paths:U}})}})]}),P&&S.jsx(Ly,{path:s[0]??null,selectedPaths:s,items:X,onResize:ae,onStarChanged:(j,O)=>{se(U=>{const V={...U};for(const te of j)V[te]=O;return V})}}),l&&S.jsx(Ty,{path:l,onClose:ye,onZoomChange:j=>v(Math.round(j)),requestedZoomPercent:p,onZoomRequestConsumed:()=>h(null),onNavigate:j=>{const O=X.map(pe=>pe.path),U=O.indexOf(l);if(U===-1)return;const V=Math.min(O.length-1,Math.max(0,U+j)),te=O[V];te&&te!==l&&(o(te),i([te]))}}),L&&S.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),re&&S.jsx(Qy,{ctx:re,current:e,items:X,refetch:kt,setCtx:Te})]})}function so(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Qy({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=sy(t),l=(v,x)=>v==="/"?`/${x}`:`${v}/${x}`,[o,u]=io.useState(null),a=()=>new Date().toISOString().replace(/[:.]/g,"-"),p=async v=>{const x=[v],w=new Set,T=[];for(;x.length;){const f=x.pop();if(!w.has(f)){w.add(f);try{const c=await fe.getFolder(f);T.push(...c.items);for(const d of c.dirs)d.kind==="branch"&&x.push(l(f,d.name))}catch(c){console.error(`Failed to fetch folder ${f}:`,c)}}}return T},h=v=>async()=>{u(v);const x=e.payload.path||t;try{const w=await p(x),T=ro(w),f=v==="csv"?Wc(T):Qc(T),c=v==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",d=x==="/"?"root":(x.replace(/^\/+/,"")||"root").replace(/\//g,"_");so(new Blob([f],{type:c}),`metadata_${d}_${a()}.${v}`)}catch(w){console.error("Failed to export folder:",w),alert("Failed to export folder. See console for details.")}finally{u(null),s(null)}},y=e.kind==="tree"?[{label:o==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!o,onClick:h("csv")},{label:o==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!o,onClick:h("json")}]:(()=>{const v=e.payload.paths??[],x=[];return x.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const w of v)try{await fe.moveFile(w,"/_trash_")}catch(T){console.error(`Failed to trash ${w}:`,T)}r(),s(null)}}}),i&&(x.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${v.length} file(s) permanently? This cannot be undone.`)){try{await fe.deleteFiles(v)}catch(w){console.error("Failed to delete files:",w)}r(),s(null)}}}),x.push({label:"Recover",onClick:async()=>{for(const w of v)try{const f=(await fe.getSidecar(w)).original_position,c=f&&f.split("/").slice(0,-1).join("/")||"/";await fe.moveFile(w,c)}catch(T){console.error(`Failed to recover ${w}:`,T)}r(),s(null)}})),v.length&&(x.push({label:o==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!o,onClick:async()=>{u("csv");try{const w=new Set(v),T=n.filter(d=>w.has(d.path)),f=ro(T),c=Wc(f);so(new Blob([c],{type:"text/csv;charset=utf-8"}),`metadata_selection_${a()}.csv`)}finally{u(null),s(null)}}}),x.push({label:o==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!o,onClick:async()=>{u("json");try{const w=new Set(v),T=n.filter(d=>w.has(d.path)),f=ro(T),c=Qc(f);so(new Blob([c],{type:"application/json;charset=utf-8"}),`metadata_selection_${a()}.json`)}finally{u(null),s(null)}}})),x})();return S.jsx(Ay,{x:e.x,y:e.y,items:y})}const Wy=new zg({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Hy(){return S.jsx(Ig,{client:Wy,children:S.jsx(By,{})})}mh(document.getElementById("root")).render(S.jsx(Hy,{}));
