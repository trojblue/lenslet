var qp=Object.defineProperty;var tc=e=>{throw TypeError(e)};var Gp=(e,t,n)=>t in e?qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mr=(e,t,n)=>Gp(e,typeof t!="symbol"?t+"":t,n),rl=(e,t,n)=>t.has(e)||tc("Cannot "+n);var y=(e,t,n)=>(rl(e,t,"read from private field"),n?n.call(e):t.get(e)),G=(e,t,n)=>t.has(e)?tc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),U=(e,t,n,r)=>(rl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ee=(e,t,n)=>(rl(e,t,"access private method"),n);var Ci=(e,t,n,r)=>({set _(s){U(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Yp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},Do={},Zd={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Jp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),nm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),im=Symbol.for("react.memo"),om=Symbol.for("react.lazy"),nc=Symbol.iterator;function lm(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,nf={};function gs(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rf(){}rf.prototype=gs.prototype;function Ya(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}var Xa=Ya.prototype=new rf;Xa.constructor=Ya;tf(Xa,gs.prototype);Xa.isPureReactComponent=!0;var rc=Array.isArray,sf=Object.prototype.hasOwnProperty,Ja={current:null},of={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sf.call(t,r)&&!of.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:pi,type:e,key:i,ref:o,props:s,_owner:Ja.current}}function am(e,t){return{$$typeof:pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Za(e){return typeof e=="object"&&e!==null&&e.$$typeof===pi}function um(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sc=/\/+/g;function sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?um(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pi:case Xp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+sl(o,0):r,rc(s)?(n="",e!=null&&(n=e.replace(sc,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(Za(s)&&(s=am(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",rc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+sl(i,l);o+=Hi(i,t,n,a,s)}else if(a=lm(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+sl(i,l++),o+=Hi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ei(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Vi={transition:null},dm={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Vi,ReactCurrentOwner:Ja};function af(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Ei,forEach:function(e,t,n){Ei(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!Za(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=gs;se.Fragment=Jp;se.Profiler=em;se.PureComponent=Ya;se.StrictMode=Zp;se.Suspense=sm;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;se.act=af;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ja.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)sf.call(t,a)&&!of.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:pi,type:e.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(e){return e={$$typeof:nm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tm,_context:e},e.Consumer=e};se.createElement=lf;se.createFactory=function(e){var t=lf.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:rm,render:e}};se.isValidElement=Za;se.lazy=function(e){return{$$typeof:om,_payload:{_status:-1,_result:e},_init:cm}};se.memo=function(e,t){return{$$typeof:im,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Vi.transition;Vi.transition={};try{e()}finally{Vi.transition=t}};se.unstable_act=af;se.useCallback=function(e,t){return ut.current.useCallback(e,t)};se.useContext=function(e){return ut.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};se.useEffect=function(e,t){return ut.current.useEffect(e,t)};se.useId=function(){return ut.current.useId()};se.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ut.current.useMemo(e,t)};se.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};se.useRef=function(e){return ut.current.useRef(e)};se.useState=function(e){return ut.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return ut.current.useTransition()};se.version="18.3.1";Zd.exports=se;var x=Zd.exports;const ao=Yp(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=x,hm=Symbol.for("react.element"),pm=Symbol.for("react.fragment"),mm=Object.prototype.hasOwnProperty,gm=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vm={key:!0,ref:!0,__self:!0,__source:!0};function uf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)mm.call(t,r)&&!vm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:hm,type:e,key:i,ref:o,props:s,_owner:gm.current}}Do.Fragment=pm;Do.jsx=uf;Do.jsxs=uf;Jd.exports=Do;var c=Jd.exports,cf={exports:{}},Ct={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var H=I.length;I.push(A);e:for(;0<H;){var ie=H-1>>>1,q=I[ie];if(0<s(q,A))I[ie]=A,I[H]=q,H=ie;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var A=I[0],H=I.pop();if(H!==A){I[0]=H;e:for(var ie=0,q=I.length,je=q>>>1;ie<je;){var xe=2*(ie+1)-1,rt=I[xe],D=xe+1,Y=I[D];if(0>s(rt,H))D<q&&0>s(Y,rt)?(I[ie]=Y,I[D]=H,ie=D):(I[ie]=rt,I[xe]=H,ie=xe);else if(D<q&&0>s(Y,H))I[ie]=Y,I[D]=H,ie=D;else break e}}return A}function s(I,A){var H=I.sortIndex-A.sortIndex;return H!==0?H:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,p=null,v=3,S=!1,w=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(I){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=I)r(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(u)}}function m(I){if(k=!1,h(I),!w)if(n(a)!==null)w=!0,ve(C);else{var A=n(u);A!==null&&ye(m,A.startTime-I)}}function C(I,A){w=!1,k&&(k=!1,g(b),b=-1),S=!0;var H=v;try{for(h(A),p=n(a);p!==null&&(!(p.expirationTime>A)||I&&!P());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,v=p.priorityLevel;var q=ie(p.expirationTime<=A);A=e.unstable_now(),typeof q=="function"?p.callback=q:p===n(a)&&r(a),h(A)}else r(a);p=n(a)}if(p!==null)var je=!0;else{var xe=n(u);xe!==null&&ye(m,xe.startTime-A),je=!1}return je}finally{p=null,v=H,S=!1}}var N=!1,j=null,b=-1,O=5,M=-1;function P(){return!(e.unstable_now()-M<O)}function V(){if(j!==null){var I=e.unstable_now();M=I;var A=!0;try{A=j(!0,I)}finally{A?X():(N=!1,j=null)}}else N=!1}var X;if(typeof f=="function")X=function(){f(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=V,X=function(){ne.postMessage(null)}}else X=function(){R(V,0)};function ve(I){j=I,N||(N=!0,X())}function ye(I,A){b=R(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,ve(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var H=v;v=A;try{return I()}finally{v=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=v;v=I;try{return A()}finally{v=H}},e.unstable_scheduleCallback=function(I,A,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,I){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,I={id:d++,callback:A,priorityLevel:I,startTime:H,expirationTime:q,sortIndex:-1},H>ie?(I.sortIndex=H,t(u,I),n(a)===null&&I===n(u)&&(k?(g(b),b=-1):k=!0,ye(m,H-ie))):(I.sortIndex=q,t(a,I),w||S||(w=!0,ve(C))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var A=v;return function(){var H=v;v=A;try{return I.apply(this,arguments)}finally{v=H}}}})(ff);df.exports=ff;var ym=df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=x,kt=ym;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hf=new Set,Hs={};function Nr(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(Hs[e]=t,e=0;e<t.length;e++)hf.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,wm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ic={},oc={};function Sm(e){return Al.call(oc,e)?!0:Al.call(ic,e)?!1:wm.test(e)?oc[e]=!0:(ic[e]=!0,!1)}function km(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cm(e,t,n,r){if(t===null||typeof t>"u"||km(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var eu=/[\-:]([a-z])/g;function tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eu,tu);Ye[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eu,tu);Ye[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eu,tu);Ye[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function nu(e,t,n,r){var s=Ye.hasOwnProperty(t)?Ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cm(t,n,s,r)&&(n=null),r||s===null?Sm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),ru=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),pf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Bl=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),gf=Symbol.for("react.offscreen"),lc=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,il;function Rs(e){if(il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||""}return`
`+il+e}var ol=!1;function ll(e,t){if(!e||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function Em(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function Wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Tr:return"Portal";case Ul:return"Profiler";case ru:return"StrictMode";case $l:return"Suspense";case Bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mf:return(e.displayName||"Context")+".Consumer";case pf:return(e._context.displayName||"Context")+".Provider";case su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iu:return t=e.displayName||null,t!==null?t:Wl(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Wl(e(t))}catch{}}return null}function Nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wl(t);case 8:return t===ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jm(e){var t=vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=jm(e))}function yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ql(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ac(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xf(e,t){t=t.checked,t!=null&&nu(e,"checked",t,!1)}function Hl(e,t){xf(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vl(e,t,n){(t!=="number"||uo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function Qr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Ls(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function wf(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bi,kf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){bm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function Cf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function Ef(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mm=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(e,t){if(t){if(Mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=null;function ou(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,Hr=null,Vr=null;function fc(e){if(e=vi(e)){if(typeof Jl!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Wo(t),Jl(e.stateNode,e.type,t))}}function Nf(e){Hr?Vr?Vr.push(e):Vr=[e]:Hr=e}function jf(){if(Hr){var e=Hr,t=Vr;if(Vr=Hr=null,fc(e),t)for(e=0;e<t.length;e++)fc(t[e])}}function bf(e,t){return e(t)}function Mf(){}var al=!1;function Rf(e,t,n){if(al)return e(t,n);al=!0;try{return bf(e,t,n)}finally{al=!1,(Hr!==null||Vr!==null)&&(Mf(),jf())}}function Ks(e,t){var n=e.stateNode;if(n===null)return null;var r=Wo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Zl=!1;if(vn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Zl=!1}function Rm(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Is=!1,co=null,fo=!1,ea=null,Lm={onError:function(e){Is=!0,co=e}};function Om(e,t,n,r,s,i,o,l,a){Is=!1,co=null,Rm.apply(Lm,arguments)}function Tm(e,t,n,r,s,i,o,l,a){if(Om.apply(this,arguments),Is){if(Is){var u=co;Is=!1,co=null}else throw Error(F(198));fo||(fo=!0,ea=u)}}function jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hc(e){if(jr(e)!==e)throw Error(F(188))}function Pm(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hc(s),e;if(i===r)return hc(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Of(e){return e=Pm(e),e!==null?Tf(e):null}function Tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tf(e);if(t!==null)return t;e=e.sibling}return null}var Pf=kt.unstable_scheduleCallback,pc=kt.unstable_cancelCallback,Fm=kt.unstable_shouldYield,Im=kt.unstable_requestPaint,_e=kt.unstable_now,_m=kt.unstable_getCurrentPriorityLevel,lu=kt.unstable_ImmediatePriority,Ff=kt.unstable_UserBlockingPriority,ho=kt.unstable_NormalPriority,zm=kt.unstable_LowPriority,If=kt.unstable_IdlePriority,Ao=null,nn=null;function Dm(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:$m,Am=Math.log,Um=Math.LN2;function $m(e){return e>>>=0,e===0?32:31-(Am(e)/Um|0)|0}var Mi=64,Ri=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Os(l):(i&=o,i!==0&&(r=Os(i)))}else o=n&~s,o!==0?r=Os(o):i!==0&&(r=Os(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),s=1<<n,r|=e[n],t&=~s;return r}function Bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Bm(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _f(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function Qm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function au(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Df,uu,Af,Uf,$f,na=!1,Li=[],An=null,Un=null,$n=null,qs=new Map,Gs=new Map,jn=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function ks(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vi(t),t!==null&&uu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vm(e,t,n,r,s){switch(t){case"focusin":return An=ks(An,e,t,n,r,s),!0;case"dragenter":return Un=ks(Un,e,t,n,r,s),!0;case"mouseover":return $n=ks($n,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return qs.set(i,ks(qs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gs.set(i,ks(Gs.get(i)||null,e,t,n,r,s)),!0}return!1}function Bf(e){var t=rr(e.target);if(t!==null){var n=jr(t);if(n!==null){if(t=n.tag,t===13){if(t=Lf(n),t!==null){e.blockedOn=t,$f(e.priority,function(){Af(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xl=r,n.target.dispatchEvent(r),Xl=null}else return t=vi(n),t!==null&&uu(t),e.blockedOn=n,!1;t.shift()}return!0}function gc(e,t,n){Ki(e)&&n.delete(t)}function Km(){na=!1,An!==null&&Ki(An)&&(An=null),Un!==null&&Ki(Un)&&(Un=null),$n!==null&&Ki($n)&&($n=null),qs.forEach(gc),Gs.forEach(gc)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,na||(na=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Km)))}function Ys(e){function t(s){return Cs(s,e)}if(0<Li.length){Cs(Li[0],e);for(var n=1;n<Li.length;n++){var r=Li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&Cs(An,e),Un!==null&&Cs(Un,e),$n!==null&&Cs($n,e),qs.forEach(t),Gs.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Bf(n),n.blockedOn===null&&jn.shift()}var Kr=Sn.ReactCurrentBatchConfig,mo=!0;function qm(e,t,n,r){var s=me,i=Kr.transition;Kr.transition=null;try{me=1,cu(e,t,n,r)}finally{me=s,Kr.transition=i}}function Gm(e,t,n,r){var s=me,i=Kr.transition;Kr.transition=null;try{me=4,cu(e,t,n,r)}finally{me=s,Kr.transition=i}}function cu(e,t,n,r){if(mo){var s=ra(e,t,n,r);if(s===null)xl(e,t,r,go,n),mc(e,r);else if(Vm(s,e,t,n,r))r.stopPropagation();else if(mc(e,r),t&4&&-1<Hm.indexOf(e)){for(;s!==null;){var i=vi(s);if(i!==null&&Df(i),i=ra(e,t,n,r),i===null&&xl(e,t,r,go,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xl(e,t,r,null,n)}}var go=null;function ra(e,t,n,r){if(go=null,e=ou(r),e=rr(e),e!==null)if(t=jr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function Wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_m()){case lu:return 1;case Ff:return 4;case ho:case zm:return 16;case If:return 536870912;default:return 16}default:return 16}}var zn=null,du=null,qi=null;function Qf(){if(qi)return qi;var e,t=du,n=t.length,r,s="value"in zn?zn.value:zn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return qi=s.slice(e,1<r?1-r:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function vc(){return!1}function Et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:vc,this.isPropagationStopped=vc,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Et(vs),gi=Re({},vs,{view:0,detail:0}),Ym=Et(gi),cl,dl,Es,Uo=Re({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(cl=e.screenX-Es.screenX,dl=e.screenY-Es.screenY):dl=cl=0,Es=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),yc=Et(Uo),Xm=Re({},Uo,{dataTransfer:0}),Jm=Et(Xm),Zm=Re({},gi,{relatedTarget:0}),fl=Et(Zm),eg=Re({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Et(eg),ng=Re({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rg=Et(ng),sg=Re({},vs,{data:0}),xc=Et(sg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lg[e])?!!t[e]:!1}function hu(){return ag}var ug=Re({},gi,{key:function(e){if(e.key){var t=ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=Et(ug),dg=Re({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=Et(dg),fg=Re({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),hg=Et(fg),pg=Re({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=Et(pg),gg=Re({},Uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=Et(gg),yg=[9,13,27,32],pu=vn&&"CompositionEvent"in window,_s=null;vn&&"documentMode"in document&&(_s=document.documentMode);var xg=vn&&"TextEvent"in window&&!_s,Hf=vn&&(!pu||_s&&8<_s&&11>=_s),Sc=" ",kc=!1;function Vf(e,t){switch(e){case"keyup":return yg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function wg(e,t){switch(e){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(kc=!0,Sc);case"textInput":return e=t.data,e===Sc&&kc?null:e;default:return null}}function Sg(e,t){if(Fr)return e==="compositionend"||!pu&&Vf(e,t)?(e=Qf(),qi=du=zn=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function qf(e,t,n,r){Nf(r),t=vo(t,"onChange"),0<t.length&&(n=new fu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zs=null,Xs=null;function Cg(e){ih(e,0)}function $o(e){var t=zr(e);if(yf(t))return e}function Eg(e,t){if(e==="change")return t}var Gf=!1;if(vn){var hl;if(vn){var pl="oninput"in document;if(!pl){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),pl=typeof Ec.oninput=="function"}hl=pl}else hl=!1;Gf=hl&&(!document.documentMode||9<document.documentMode)}function Nc(){zs&&(zs.detachEvent("onpropertychange",Yf),Xs=zs=null)}function Yf(e){if(e.propertyName==="value"&&$o(Xs)){var t=[];qf(t,Xs,e,ou(e)),Rf(Cg,t)}}function Ng(e,t,n){e==="focusin"?(Nc(),zs=t,Xs=n,zs.attachEvent("onpropertychange",Yf)):e==="focusout"&&Nc()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $o(Xs)}function bg(e,t){if(e==="click")return $o(t)}function Mg(e,t){if(e==="input"||e==="change")return $o(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Rg;function Js(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Al.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var n=jc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jc(n)}}function Xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jf(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uo(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lg(e){var t=Jf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xf(n.ownerDocument.documentElement,n)){if(r!==null&&mu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=bc(n,i);var o=bc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=vn&&"documentMode"in document&&11>=document.documentMode,Ir=null,sa=null,Ds=null,ia=!1;function Mc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ia||Ir==null||Ir!==uo(r)||(r=Ir,"selectionStart"in r&&mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&Js(Ds,r)||(Ds=r,r=vo(sa,"onSelect"),0<r.length&&(t=new fu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}function Ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},ml={},Zf={};vn&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Bo(e){if(ml[e])return ml[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zf)return ml[e]=t[n];return e}var eh=Bo("animationend"),th=Bo("animationiteration"),nh=Bo("animationstart"),rh=Bo("transitionend"),sh=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){sh.set(e,t),Nr(t,[e])}for(var gl=0;gl<Rc.length;gl++){var vl=Rc[gl],Tg=vl.toLowerCase(),Pg=vl[0].toUpperCase()+vl.slice(1);Yn(Tg,"on"+Pg)}Yn(eh,"onAnimationEnd");Yn(th,"onAnimationIteration");Yn(nh,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(rh,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Lc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tm(r,t,void 0,e),e.currentTarget=null}function ih(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Lc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Lc(s,l,u),i=a}}}if(fo)throw e=ea,fo=!1,ea=null,e}function ke(e,t){var n=t[ca];n===void 0&&(n=t[ca]=new Set);var r=e+"__bubble";n.has(r)||(oh(t,e,2,!1),n.add(r))}function yl(e,t,n){var r=0;t&&(r|=4),oh(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[Pi]){e[Pi]=!0,hf.forEach(function(n){n!=="selectionchange"&&(Fg.has(n)||yl(n,!1,e),yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,yl("selectionchange",!1,t))}}function oh(e,t,n,r){switch(Wf(t)){case 1:var s=qm;break;case 4:s=Gm;break;default:s=cu}n=s.bind(null,t,n,e),s=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=rr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Rf(function(){var u=i,d=ou(n),p=[];e:{var v=sh.get(e);if(v!==void 0){var S=fu,w=e;switch(e){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":S=cg;break;case"focusin":w="focus",S=fl;break;case"focusout":w="blur",S=fl;break;case"beforeblur":case"afterblur":S=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=hg;break;case eh:case th:case nh:S=tg;break;case rh:S=mg;break;case"scroll":S=Ym;break;case"wheel":S=vg;break;case"copy":case"cut":case"paste":S=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=wc}var k=(t&4)!==0,R=!k&&e==="scroll",g=k?v!==null?v+"Capture":null:v;k=[];for(var f=u,h;f!==null;){h=f;var m=h.stateNode;if(h.tag===5&&m!==null&&(h=m,g!==null&&(m=Ks(f,g),m!=null&&k.push(ei(f,m,h)))),R)break;f=f.return}0<k.length&&(v=new S(v,w,null,n,d),p.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",v&&n!==Xl&&(w=n.relatedTarget||n.fromElement)&&(rr(w)||w[yn]))break e;if((S||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=u,w=w?rr(w):null,w!==null&&(R=jr(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=u),S!==w)){if(k=yc,m="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(k=wc,m="onPointerLeave",g="onPointerEnter",f="pointer"),R=S==null?v:zr(S),h=w==null?v:zr(w),v=new k(m,f+"leave",S,n,d),v.target=R,v.relatedTarget=h,m=null,rr(d)===u&&(k=new k(g,f+"enter",w,n,d),k.target=h,k.relatedTarget=R,m=k),R=m,S&&w)t:{for(k=S,g=w,f=0,h=k;h;h=Rr(h))f++;for(h=0,m=g;m;m=Rr(m))h++;for(;0<f-h;)k=Rr(k),f--;for(;0<h-f;)g=Rr(g),h--;for(;f--;){if(k===g||g!==null&&k===g.alternate)break t;k=Rr(k),g=Rr(g)}k=null}else k=null;S!==null&&Oc(p,v,S,k,!1),w!==null&&R!==null&&Oc(p,R,w,k,!0)}}e:{if(v=u?zr(u):window,S=v.nodeName&&v.nodeName.toLowerCase(),S==="select"||S==="input"&&v.type==="file")var C=Eg;else if(Cc(v))if(Gf)C=Mg;else{C=jg;var N=Ng}else(S=v.nodeName)&&S.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=bg);if(C&&(C=C(e,u))){qf(p,C,n,d);break e}N&&N(e,v,u),e==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&Vl(v,"number",v.value)}switch(N=u?zr(u):window,e){case"focusin":(Cc(N)||N.contentEditable==="true")&&(Ir=N,sa=u,Ds=null);break;case"focusout":Ds=sa=Ir=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,Mc(p,n,d);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":Mc(p,n,d)}var j;if(pu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fr?Vf(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Hf&&n.locale!=="ko"&&(Fr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fr&&(j=Qf()):(zn=d,du="value"in zn?zn.value:zn.textContent,Fr=!0)),N=vo(u,b),0<N.length&&(b=new xc(b,e,null,n,d),p.push({event:b,listeners:N}),j?b.data=j:(j=Kf(n),j!==null&&(b.data=j)))),(j=xg?wg(e,n):Sg(e,n))&&(u=vo(u,"onBeforeInput"),0<u.length&&(d=new xc("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=j))}ih(p,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ks(e,n),i!=null&&r.unshift(ei(e,i,s)),i=Ks(e,t),i!=null&&r.push(ei(e,i,s))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Ks(n,i),a!=null&&o.unshift(ei(n,a,l))):s||(a=Ks(n,i),a!=null&&o.push(ei(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ig=/\r\n?/g,_g=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(_g,"")}function Fi(e,t,n){if(t=Tc(t),Tc(e)!==t&&n)throw Error(F(425))}function yo(){}var oa=null,la=null;function aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(Ag)}:ua;function Ag(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ys(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ys(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),tn="__reactFiber$"+ys,ti="__reactProps$"+ys,yn="__reactContainer$"+ys,ca="__reactEvents$"+ys,Ug="__reactListeners$"+ys,$g="__reactHandles$"+ys;function rr(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fc(e);e!==null;){if(n=e[tn])return n;e=Fc(e)}return t}e=n,n=e.parentNode}return null}function vi(e){return e=e[tn]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Wo(e){return e[ti]||null}var da=[],Dr=-1;function Xn(e){return{current:e}}function Ce(e){0>Dr||(e.current=da[Dr],da[Dr]=null,Dr--)}function we(e,t){Dr++,da[Dr]=e.current,e.current=t}var Gn={},nt=Xn(Gn),gt=Xn(!1),yr=Gn;function cs(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vt(e){return e=e.childContextTypes,e!=null}function xo(){Ce(gt),Ce(nt)}function Ic(e,t,n){if(nt.current!==Gn)throw Error(F(168));we(nt,t),we(gt,n)}function lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,Nm(e)||"Unknown",s));return Re({},n,r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,yr=nt.current,we(nt,e),we(gt,gt.current),!0}function _c(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=lh(e,t,yr),r.__reactInternalMemoizedMergedChildContext=e,Ce(gt),Ce(nt),we(nt,e)):Ce(gt),we(gt,n)}var an=null,Qo=!1,Sl=!1;function ah(e){an===null?an=[e]:an.push(e)}function Bg(e){Qo=!0,ah(e)}function Jn(){if(!Sl&&an!==null){Sl=!0;var e=0,t=me;try{var n=an;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,Qo=!1}catch(s){throw an!==null&&(an=an.slice(e+1)),Pf(lu,Jn),s}finally{me=t,Sl=!1}}return null}var Ar=[],Ur=0,So=null,ko=0,Lt=[],Ot=0,xr=null,hn=1,pn="";function tr(e,t){Ar[Ur++]=ko,Ar[Ur++]=So,So=e,ko=t}function uh(e,t,n){Lt[Ot++]=hn,Lt[Ot++]=pn,Lt[Ot++]=xr,xr=e;var r=hn;e=pn;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var i=32-Qt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hn=1<<32-Qt(t)+s|n<<s|r,pn=i+e}else hn=1<<i|n<<s|r,pn=e}function gu(e){e.return!==null&&(tr(e,1),uh(e,1,0))}function vu(e){for(;e===So;)So=Ar[--Ur],Ar[Ur]=null,ko=Ar[--Ur],Ar[Ur]=null;for(;e===xr;)xr=Lt[--Ot],Lt[Ot]=null,pn=Lt[--Ot],Lt[Ot]=null,hn=Lt[--Ot],Lt[Ot]=null}var St=null,wt=null,Ne=!1,Bt=null;function ch(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,wt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xr!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,wt=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(Ne){var t=wt;if(t){var n=t;if(!zc(e,t)){if(fa(e))throw Error(F(418));t=Bn(n.nextSibling);var r=St;t&&zc(e,t)?ch(r,n):(e.flags=e.flags&-4097|2,Ne=!1,St=e)}}else{if(fa(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ne=!1,St=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Ii(e){if(e!==St)return!1;if(!Ne)return Dc(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aa(e.type,e.memoizedProps)),t&&(t=wt)){if(fa(e))throw dh(),Error(F(418));for(;t;)ch(e,t),t=Bn(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=St?Bn(e.stateNode.nextSibling):null;return!0}function dh(){for(var e=wt;e;)e=Bn(e.nextSibling)}function ds(){wt=St=null,Ne=!1}function yu(e){Bt===null?Bt=[e]:Bt.push(e)}var Wg=Sn.ReactCurrentBatchConfig;function Ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ac(e){var t=e._init;return t(e._payload)}function fh(e){function t(g,f){if(e){var h=g.deletions;h===null?(g.deletions=[f],g.flags|=16):h.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Vn(g,f),g.index=0,g.sibling=null,g}function i(g,f,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<f?(g.flags|=2,f):h):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,h,m){return f===null||f.tag!==6?(f=Ml(h,g.mode,m),f.return=g,f):(f=s(f,h),f.return=g,f)}function a(g,f,h,m){var C=h.type;return C===Pr?d(g,f,h.props.children,m,h.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&Ac(C)===f.type)?(m=s(f,h.props),m.ref=Ns(g,f,h),m.return=g,m):(m=no(h.type,h.key,h.props,null,g.mode,m),m.ref=Ns(g,f,h),m.return=g,m)}function u(g,f,h,m){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=Rl(h,g.mode,m),f.return=g,f):(f=s(f,h.children||[]),f.return=g,f)}function d(g,f,h,m,C){return f===null||f.tag!==7?(f=vr(h,g.mode,m,C),f.return=g,f):(f=s(f,h),f.return=g,f)}function p(g,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ml(""+f,g.mode,h),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ni:return h=no(f.type,f.key,f.props,null,g.mode,h),h.ref=Ns(g,null,f),h.return=g,h;case Tr:return f=Rl(f,g.mode,h),f.return=g,f;case En:var m=f._init;return p(g,m(f._payload),h)}if(Ls(f)||ws(f))return f=vr(f,g.mode,h,null),f.return=g,f;_i(g,f)}return null}function v(g,f,h,m){var C=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(g,f,""+h,m);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:return h.key===C?a(g,f,h,m):null;case Tr:return h.key===C?u(g,f,h,m):null;case En:return C=h._init,v(g,f,C(h._payload),m)}if(Ls(h)||ws(h))return C!==null?null:d(g,f,h,m,null);_i(g,h)}return null}function S(g,f,h,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return g=g.get(h)||null,l(f,g,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ni:return g=g.get(m.key===null?h:m.key)||null,a(f,g,m,C);case Tr:return g=g.get(m.key===null?h:m.key)||null,u(f,g,m,C);case En:var N=m._init;return S(g,f,h,N(m._payload),C)}if(Ls(m)||ws(m))return g=g.get(h)||null,d(f,g,m,C,null);_i(f,m)}return null}function w(g,f,h,m){for(var C=null,N=null,j=f,b=f=0,O=null;j!==null&&b<h.length;b++){j.index>b?(O=j,j=null):O=j.sibling;var M=v(g,j,h[b],m);if(M===null){j===null&&(j=O);break}e&&j&&M.alternate===null&&t(g,j),f=i(M,f,b),N===null?C=M:N.sibling=M,N=M,j=O}if(b===h.length)return n(g,j),Ne&&tr(g,b),C;if(j===null){for(;b<h.length;b++)j=p(g,h[b],m),j!==null&&(f=i(j,f,b),N===null?C=j:N.sibling=j,N=j);return Ne&&tr(g,b),C}for(j=r(g,j);b<h.length;b++)O=S(j,g,b,h[b],m),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?b:O.key),f=i(O,f,b),N===null?C=O:N.sibling=O,N=O);return e&&j.forEach(function(P){return t(g,P)}),Ne&&tr(g,b),C}function k(g,f,h,m){var C=ws(h);if(typeof C!="function")throw Error(F(150));if(h=C.call(h),h==null)throw Error(F(151));for(var N=C=null,j=f,b=f=0,O=null,M=h.next();j!==null&&!M.done;b++,M=h.next()){j.index>b?(O=j,j=null):O=j.sibling;var P=v(g,j,M.value,m);if(P===null){j===null&&(j=O);break}e&&j&&P.alternate===null&&t(g,j),f=i(P,f,b),N===null?C=P:N.sibling=P,N=P,j=O}if(M.done)return n(g,j),Ne&&tr(g,b),C;if(j===null){for(;!M.done;b++,M=h.next())M=p(g,M.value,m),M!==null&&(f=i(M,f,b),N===null?C=M:N.sibling=M,N=M);return Ne&&tr(g,b),C}for(j=r(g,j);!M.done;b++,M=h.next())M=S(j,g,b,M.value,m),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?b:M.key),f=i(M,f,b),N===null?C=M:N.sibling=M,N=M);return e&&j.forEach(function(V){return t(g,V)}),Ne&&tr(g,b),C}function R(g,f,h,m){if(typeof h=="object"&&h!==null&&h.type===Pr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:e:{for(var C=h.key,N=f;N!==null;){if(N.key===C){if(C=h.type,C===Pr){if(N.tag===7){n(g,N.sibling),f=s(N,h.props.children),f.return=g,g=f;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&Ac(C)===N.type){n(g,N.sibling),f=s(N,h.props),f.ref=Ns(g,N,h),f.return=g,g=f;break e}n(g,N);break}else t(g,N);N=N.sibling}h.type===Pr?(f=vr(h.props.children,g.mode,m,h.key),f.return=g,g=f):(m=no(h.type,h.key,h.props,null,g.mode,m),m.ref=Ns(g,f,h),m.return=g,g=m)}return o(g);case Tr:e:{for(N=h.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(g,f.sibling),f=s(f,h.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Rl(h,g.mode,m),f.return=g,g=f}return o(g);case En:return N=h._init,R(g,f,N(h._payload),m)}if(Ls(h))return w(g,f,h,m);if(ws(h))return k(g,f,h,m);_i(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,h),f.return=g,g=f):(n(g,f),f=Ml(h,g.mode,m),f.return=g,g=f),o(g)):n(g,f)}return R}var fs=fh(!0),hh=fh(!1),Co=Xn(null),Eo=null,$r=null,xu=null;function wu(){xu=$r=Eo=null}function Su(e){var t=Co.current;Ce(Co),e._currentValue=t}function pa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qr(e,t){Eo=e,xu=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(Eo===null)throw Error(F(308));$r=e,Eo.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var sr=null;function ku(e){sr===null?sr=[e]:sr.push(e)}function ph(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ku(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nn=!1;function Cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,ku(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}function Uc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var s=e.updateQueue;Nn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var p=s.baseState;o=0,d=u=a=null,l=i;do{var v=l.lane,S=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,k=l;switch(v=t,S=n,k.tag){case 1:if(w=k.payload,typeof w=="function"){p=w.call(S,p,v);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,v=typeof w=="function"?w.call(S,p,v):w,v==null)break e;p=Re({},p,v);break e;case 2:Nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else S={eventTime:S,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,a=p):d=d.next=S,o|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(d===null&&(a=p),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sr|=o,e.lanes=o,e.memoizedState=p}}function $c(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var yi={},rn=Xn(yi),ni=Xn(yi),ri=Xn(yi);function ir(e){if(e===yi)throw Error(F(174));return e}function Eu(e,t){switch(we(ri,t),we(ni,e),we(rn,yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ql(t,e)}Ce(rn),we(rn,t)}function hs(){Ce(rn),Ce(ni),Ce(ri)}function gh(e){ir(ri.current);var t=ir(rn.current),n=ql(t,e.type);t!==n&&(we(ni,e),we(rn,n))}function Nu(e){ni.current===e&&(Ce(rn),Ce(ni))}var be=Xn(0);function jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function ju(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var Xi=Sn.ReactCurrentDispatcher,Cl=Sn.ReactCurrentBatchConfig,wr=0,Me=null,Ue=null,Ve=null,bo=!1,As=!1,si=0,Qg=0;function Je(){throw Error(F(321))}function bu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Mu(e,t,n,r,s,i){if(wr=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?qg:Gg,e=n(r,s),As){i=0;do{if(As=!1,si=0,25<=i)throw Error(F(301));i+=1,Ve=Ue=null,t.updateQueue=null,Xi.current=Yg,e=n(r,s)}while(As)}if(Xi.current=Mo,t=Ue!==null&&Ue.next!==null,wr=0,Ve=Ue=Me=null,bo=!1,t)throw Error(F(300));return e}function Ru(){var e=si!==0;return si=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Me.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function _t(){if(Ue===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ve===null?Me.memoizedState:Ve.next;if(t!==null)Ve=t,Ue=e;else{if(e===null)throw Error(F(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Me.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function ii(e,t){return typeof t=="function"?t(e):t}function El(e){var t=_t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((wr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=p,o=r):a=a.next=p,Me.lanes|=d,Sr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Vt(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Me.lanes|=i,Sr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=_t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function vh(){}function yh(e,t){var n=Me,r=_t(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,mt=!0),r=r.queue,Lu(Sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,oi(9,wh.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(F(349));wr&30||xh(n,t,s)}return s}function xh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wh(e,t,n,r){t.value=n,t.getSnapshot=r,kh(t)&&Ch(e)}function Sh(e,t,n){return n(function(){kh(t)&&Ch(e)})}function kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Ch(e){var t=xn(e,1);t!==null&&Ht(t,e,1,-1)}function Bc(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Kg.bind(null,Me,e),[t.memoizedState,e]}function oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Eh(){return _t().memoizedState}function Ji(e,t,n,r){var s=Xt();Me.flags|=e,s.memoizedState=oi(1|t,n,void 0,r===void 0?null:r)}function Ho(e,t,n,r){var s=_t();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&bu(r,o.deps)){s.memoizedState=oi(t,n,i,r);return}}Me.flags|=e,s.memoizedState=oi(1|t,n,i,r)}function Wc(e,t){return Ji(8390656,8,e,t)}function Lu(e,t){return Ho(2048,8,e,t)}function Nh(e,t){return Ho(4,2,e,t)}function jh(e,t){return Ho(4,4,e,t)}function bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4,4,bh.bind(null,t,e),n)}function Ou(){}function Rh(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lh(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oh(e,t,n){return wr&21?(Vt(n,t)||(n=_f(),Me.lanes|=n,Sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function Hg(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{me=n,Cl.transition=r}}function Th(){return _t().memoizedState}function Vg(e,t,n){var r=Hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ph(e))Fh(t,n);else if(n=ph(e,t,n,r),n!==null){var s=at();Ht(n,e,r,s),Ih(n,t,r)}}function Kg(e,t,n){var r=Hn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ph(e))Fh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var a=t.interleaved;a===null?(s.next=s,ku(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=ph(e,t,s,r),n!==null&&(s=at(),Ht(n,e,r,s),Ih(n,t,r))}}function Ph(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Fh(e,t){As=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ih(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}var Mo={readContext:It,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},qg={readContext:It,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Wc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,bh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vg.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Bc,useDebugValue:Ou,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Bc(!1),t=e[0];return e=Hg.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,s=Xt();if(Ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Ke===null)throw Error(F(349));wr&30||xh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wc(Sh.bind(null,r,i,e),[e]),r.flags|=2048,oi(9,wh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Ke.identifierPrefix;if(Ne){var n=pn,r=hn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=si++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gg={readContext:It,useCallback:Rh,useContext:It,useEffect:Lu,useImperativeHandle:Mh,useInsertionEffect:Nh,useLayoutEffect:jh,useMemo:Lh,useReducer:El,useRef:Eh,useState:function(){return El(ii)},useDebugValue:Ou,useDeferredValue:function(e){var t=_t();return Oh(t,Ue.memoizedState,e)},useTransition:function(){var e=El(ii)[0],t=_t().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:yh,useId:Th,unstable_isNewReconciler:!1},Yg={readContext:It,useCallback:Rh,useContext:It,useEffect:Lu,useImperativeHandle:Mh,useInsertionEffect:Nh,useLayoutEffect:jh,useMemo:Lh,useReducer:Nl,useRef:Eh,useState:function(){return Nl(ii)},useDebugValue:Ou,useDeferredValue:function(e){var t=_t();return Ue===null?t.memoizedState=e:Oh(t,Ue.memoizedState,e)},useTransition:function(){var e=Nl(ii)[0],t=_t().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:yh,useId:Th,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ma(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),s=Hn(e),i=mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Wn(e,i,s),t!==null&&(Ht(t,e,s,r),Yi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),s=Hn(e),i=mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wn(e,i,s),t!==null&&(Ht(t,e,s,r),Yi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=Hn(e),s=mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wn(e,s,r),t!==null&&(Ht(t,e,r,n),Yi(t,e,r))}};function Qc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Js(n,r)||!Js(s,i):!0}function _h(e,t,n){var r=!1,s=Gn,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=vt(t)?yr:nt.current,r=t.contextTypes,i=(r=r!=null)?cs(e,s):Gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=vt(t)?yr:nt.current,s.context=cs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ma(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vo.enqueueReplaceState(s,s.state,null),No(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do n+=Em(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function va(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,ba=r),va(e,t)},n}function Dh(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){va(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){va(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=dv.bind(null,e,t,n),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Wn(n,t,1))),n.lanes|=1),e)}var Jg=Sn.ReactCurrentOwner,mt=!1;function ot(e,t,n,r){t.child=e===null?hh(t,null,n,r):fs(t,e.child,n,r)}function Gc(e,t,n,r,s){n=n.render;var i=t.ref;return qr(t,s),r=Mu(e,t,n,r,i,s),n=Ru(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ne&&n&&gu(t),t.flags|=1,ot(e,t,r,s),t.child)}function Yc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Au(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ah(e,t,i,r,s)):(e=no(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(o,r)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Js(i,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,wn(e,t,s)}return ya(e,t,n,r,s)}function Uh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Wr,xt),xt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Wr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Wr,xt),xt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,we(Wr,xt),xt|=r;return ot(e,t,s,n),t.child}function $h(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ya(e,t,n,r,s){var i=vt(n)?yr:nt.current;return i=cs(t,i),qr(t,s),n=Mu(e,t,n,r,i,s),r=Ru(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ne&&r&&gu(t),t.flags|=1,ot(e,t,n,s),t.child)}function Xc(e,t,n,r,s){if(vt(n)){var i=!0;wo(t)}else i=!1;if(qr(t,s),t.stateNode===null)Zi(e,t),_h(t,n,r),ga(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=vt(n)?yr:nt.current,u=cs(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Hc(t,o,r,u),Nn=!1;var v=t.memoizedState;o.state=v,No(t,r,o,s),a=t.memoizedState,l!==r||v!==a||gt.current||Nn?(typeof d=="function"&&(ma(t,n,d,r),a=t.memoizedState),(l=Nn||Qc(t,n,l,r,v,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dt(t.type,l),o.props=u,p=t.pendingProps,v=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=It(a):(a=vt(n)?yr:nt.current,a=cs(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||v!==a)&&Hc(t,o,r,a),Nn=!1,v=t.memoizedState,o.state=v,No(t,r,o,s);var w=t.memoizedState;l!==p||v!==w||gt.current||Nn?(typeof S=="function"&&(ma(t,n,S,r),w=t.memoizedState),(u=Nn||Qc(t,n,u,r,v,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,i,s)}function xa(e,t,n,r,s,i){$h(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_c(t,n,!1),wn(e,t,i);r=t.stateNode,Jg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,l,i)):ot(e,t,l,i),t.memoizedState=r.state,s&&_c(t,n,!0),t.child}function Bh(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),Eu(e,t.containerInfo)}function Jc(e,t,n,r,s){return ds(),yu(s),t.flags|=256,ot(e,t,n,r),t.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wh(e,t,n){var r=t.pendingProps,s=be.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(be,s&1),e===null)return ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Go(o,r,0,null),e=vr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sa(n),t.memoizedState=wa,e):Tu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Zg(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Vn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Vn(l,i):(i=vr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Sa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=wa,r}return i=e.child,e=i.sibling,r=Vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tu(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&yu(r),fs(t,e.child,null,n),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jl(Error(F(422))),zi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Go({mode:"visible",children:r.children},s,0,null),i=vr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fs(t,e.child,null,o),t.child.memoizedState=Sa(o),t.memoizedState=wa,i);if(!(t.mode&1))return zi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=jl(i,r,void 0),zi(e,t,o,r)}if(l=(o&e.childLanes)!==0,mt||l){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ht(r,e,s,-1))}return Du(),r=jl(Error(F(421))),zi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,wt=Bn(s.nextSibling),St=t,Ne=!0,Bt=null,e!==null&&(Lt[Ot++]=hn,Lt[Ot++]=pn,Lt[Ot++]=xr,hn=e.id,pn=e.overflow,xr=t),t=Tu(t,r.children),t.flags|=4096,t)}function Zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pa(e.return,t,n)}function bl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ot(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zc(e,n,t);else if(e.tag===19)Zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bl(t,!0,n,null,i);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ev(e,t,n){switch(t.tag){case 3:Bh(t),ds();break;case 5:gh(t);break;case 1:vt(t.type)&&wo(t);break;case 4:Eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;we(Co,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?Wh(e,t,n):(we(be,be.current&1),e=wn(e,t,n),e!==null?e.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,Uh(e,t,n)}return wn(e,t,n)}var Hh,ka,Vh,Kh;Hh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};Vh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ir(rn.current);var i=null;switch(n){case"input":s=Ql(e,s),r=Ql(e,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=Kl(e,s),r=Kl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}Gl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ke("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Kh=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tv(e,t,n){var r=t.pendingProps;switch(vu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return vt(t.type)&&xo(),Ze(t),null;case 3:return r=t.stateNode,hs(),Ce(gt),Ce(nt),ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(La(Bt),Bt=null))),ka(e,t),Ze(t),null;case 5:Nu(t);var s=ir(ri.current);if(n=t.type,e!==null&&t.stateNode!=null)Vh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Ze(t),null}if(e=ir(rn.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[tn]=t,r[ti]=i,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)ke(Ts[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ac(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":cc(r,i),ke("invalid",r)}Gl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,l,e),s=["children",""+l]):Hs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":ji(r),uc(r,i,!0);break;case"textarea":ji(r),dc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tn]=t,e[ti]=r,Hh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yl(n,r),n){case"dialog":ke("cancel",e),ke("close",e),s=r;break;case"iframe":case"object":case"embed":ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)ke(Ts[s],e);s=r;break;case"source":ke("error",e),s=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=r;break;case"details":ke("toggle",e),s=r;break;case"input":ac(e,r),s=Ql(e,r),ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),ke("invalid",e);break;case"textarea":cc(e,r),s=Kl(e,r),ke("invalid",e);break;default:s=r}Gl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Ef(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Vs(e,a):typeof a=="number"&&Vs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ke("scroll",e):a!=null&&nu(e,i,a,o))}switch(n){case"input":ji(e),uc(e,r,!1);break;case"textarea":ji(e),dc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Kh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=ir(ri.current),ir(rn.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(i=r.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:Fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return Ze(t),null;case 13:if(Ce(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&t.mode&1&&!(t.flags&128))dh(),ds(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[tn]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),i=!1}else Bt!==null&&(La(Bt),Bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Be===0&&(Be=3):Du())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return hs(),ka(e,t),e===null&&Zs(t.stateNode.containerInfo),Ze(t),null;case 10:return Su(t.type._context),Ze(t),null;case 17:return vt(t.type)&&xo(),Ze(t),null;case 19:if(Ce(be),i=t.memoizedState,i===null)return Ze(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)js(i,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jo(e),o!==null){for(t.flags|=128,js(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>ms&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=jo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return Ze(t),null}else 2*_e()-i.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,n=be.current,we(be,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return zu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function nv(e,t){switch(vu(t),t.tag){case 1:return vt(t.type)&&xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),Ce(gt),Ce(nt),ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(Ce(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(be),null;case 4:return hs(),null;case 10:return Su(t.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var Di=!1,tt=!1,rv=typeof WeakSet=="function"?WeakSet:Set,$=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function Ca(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var ed=!1;function sv(e,t){if(oa=mo,e=Jf(),mu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,p=e,v=null;t:for(;;){for(var S;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(S=p.firstChild)!==null;)v=p,p=S;for(;;){if(p===e)break t;if(v===n&&++u===s&&(l=o),v===i&&++d===r&&(a=o),(S=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(la={focusedElem:e,selectionRange:n},mo=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,R=w.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Dt(t.type,k),R);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(m){Pe(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=ed,ed=!1,w}function Us(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ca(t,n,i)}s=s.next}while(s!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ea(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[ti],delete t[ca],delete t[Ug],delete t[$g])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gh(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var qe=null,$t=!1;function kn(e,t,n){for(n=n.child;n!==null;)Yh(e,t,n),n=n.sibling}function Yh(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ao,n)}catch{}switch(n.tag){case 5:tt||Br(n,t);case 6:var r=qe,s=$t;qe=null,kn(e,t,n),qe=r,$t=s,qe!==null&&($t?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&($t?(e=qe,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),Ys(e)):wl(qe,n.stateNode));break;case 4:r=qe,s=$t,qe=n.stateNode.containerInfo,$t=!0,kn(e,t,n),qe=r,$t=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ca(n,t,o),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!tt&&(Br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pe(n,t,l)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,kn(e,t,n),tt=r):kn(e,t,n);break;default:kn(e,t,n)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rv),t.forEach(function(r){var s=hv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,$t=!1;break e;case 3:qe=l.stateNode.containerInfo,$t=!0;break e;case 4:qe=l.stateNode.containerInfo,$t=!0;break e}l=l.return}if(qe===null)throw Error(F(160));Yh(i,o,s),qe=null,$t=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xh(t,e),t=t.sibling}function Xh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Yt(e),r&4){try{Us(3,e,e.return),Ko(3,e)}catch(k){Pe(e,e.return,k)}try{Us(5,e,e.return)}catch(k){Pe(e,e.return,k)}}break;case 1:zt(t,e),Yt(e),r&512&&n!==null&&Br(n,n.return);break;case 5:if(zt(t,e),Yt(e),r&512&&n!==null&&Br(n,n.return),e.flags&32){var s=e.stateNode;try{Vs(s,"")}catch(k){Pe(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&xf(s,i),Yl(l,o);var u=Yl(l,i);for(o=0;o<a.length;o+=2){var d=a[o],p=a[o+1];d==="style"?Ef(s,p):d==="dangerouslySetInnerHTML"?kf(s,p):d==="children"?Vs(s,p):nu(s,d,p,u)}switch(l){case"input":Hl(s,i);break;case"textarea":wf(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Qr(s,!!i.multiple,S,!1):v!==!!i.multiple&&(i.defaultValue!=null?Qr(s,!!i.multiple,i.defaultValue,!0):Qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ti]=i}catch(k){Pe(e,e.return,k)}}break;case 6:if(zt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){Pe(e,e.return,k)}}break;case 3:if(zt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(t.containerInfo)}catch(k){Pe(e,e.return,k)}break;case 4:zt(t,e),Yt(e);break;case 13:zt(t,e),Yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Iu=_e())),r&4&&nd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||d,zt(t,e),tt=u):zt(t,e),Yt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(p=$=d;$!==null;){switch(v=$,S=v.child,v.tag){case 0:case 11:case 14:case 15:Us(4,v,v.return);break;case 1:Br(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(k){Pe(r,n,k)}}break;case 5:Br(v,v.return);break;case 22:if(v.memoizedState!==null){sd(p);continue}}S!==null?(S.return=v,$=S):sd(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Cf("display",o))}catch(k){Pe(e,e.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){Pe(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:zt(t,e),Yt(e),r&4&&nd(e);break;case 21:break;default:zt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vs(s,""),r.flags&=-33);var i=td(e);ja(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=td(e);Na(e,l,o);break;default:throw Error(F(161))}}catch(a){Pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iv(e,t,n){$=e,Jh(e)}function Jh(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Di;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||tt;l=Di;var u=tt;if(Di=o,(tt=a)&&!u)for($=s;$!==null;)o=$,a=o.child,o.tag===22&&o.memoizedState!==null?id(s):a!==null?(a.return=o,$=a):id(s);for(;i!==null;)$=i,Jh(i),i=i.sibling;$=s,Di=l,tt=u}rd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):rd(e)}}function rd(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$c(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$c(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ys(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||t.flags&512&&Ea(t)}catch(v){Pe(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function sd(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function id(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(a){Pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Pe(t,s,a)}}var i=t.return;try{Ea(t)}catch(a){Pe(t,i,a)}break;case 5:var o=t.return;try{Ea(t)}catch(a){Pe(t,o,a)}}}catch(a){Pe(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var ov=Math.ceil,Ro=Sn.ReactCurrentDispatcher,Pu=Sn.ReactCurrentOwner,Ft=Sn.ReactCurrentBatchConfig,ue=0,Ke=null,De=null,Ge=0,xt=0,Wr=Xn(0),Be=0,li=null,Sr=0,qo=0,Fu=0,$s=null,pt=null,Iu=0,ms=1/0,ln=null,Lo=!1,ba=null,Qn=null,Ai=!1,Dn=null,Oo=0,Bs=0,Ma=null,eo=-1,to=0;function at(){return ue&6?_e():eo!==-1?eo:eo=_e()}function Hn(e){return e.mode&1?ue&2&&Ge!==0?Ge&-Ge:Wg.transition!==null?(to===0&&(to=_f()),to):(e=me,e!==0||(e=window.event,e=e===void 0?16:Wf(e.type)),e):1}function Ht(e,t,n,r){if(50<Bs)throw Bs=0,Ma=null,Error(F(185));mi(e,n,r),(!(ue&2)||e!==Ke)&&(e===Ke&&(!(ue&2)&&(qo|=n),Be===4&&bn(e,Ge)),yt(e,r),n===1&&ue===0&&!(t.mode&1)&&(ms=_e()+500,Qo&&Jn()))}function yt(e,t){var n=e.callbackNode;Wm(e,t);var r=po(e,e===Ke?Ge:0);if(r===0)n!==null&&pc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pc(n),t===1)e.tag===0?Bg(od.bind(null,e)):ah(od.bind(null,e)),Dg(function(){!(ue&6)&&Jn()}),n=null;else{switch(zf(r)){case 1:n=lu;break;case 4:n=Ff;break;case 16:n=ho;break;case 536870912:n=If;break;default:n=ho}n=op(n,Zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zh(e,t){if(eo=-1,to=0,ue&6)throw Error(F(327));var n=e.callbackNode;if(Gr()&&e.callbackNode!==n)return null;var r=po(e,e===Ke?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=To(e,r);else{t=r;var s=ue;ue|=2;var i=tp();(Ke!==e||Ge!==t)&&(ln=null,ms=_e()+500,gr(e,t));do try{uv();break}catch(l){ep(e,l)}while(!0);wu(),Ro.current=i,ue=s,De!==null?t=0:(Ke=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(s=ta(e),s!==0&&(r=s,t=Ra(e,s))),t===1)throw n=li,gr(e,0),bn(e,r),yt(e,_e()),n;if(t===6)bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!lv(s)&&(t=To(e,r),t===2&&(i=ta(e),i!==0&&(r=i,t=Ra(e,i))),t===1))throw n=li,gr(e,0),bn(e,r),yt(e,_e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:nr(e,pt,ln);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Iu+500-_e(),10<t)){if(po(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ua(nr.bind(null,e,pt,ln),t);break}nr(e,pt,ln);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ov(r/1960))-r,10<r){e.timeoutHandle=ua(nr.bind(null,e,pt,ln),r);break}nr(e,pt,ln);break;case 5:nr(e,pt,ln);break;default:throw Error(F(329))}}}return yt(e,_e()),e.callbackNode===n?Zh.bind(null,e):null}function Ra(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=To(e,t),e!==2&&(t=pt,pt=n,t!==null&&La(t)),e}function La(e){pt===null?pt=e:pt.push.apply(pt,e)}function lv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Fu,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function od(e){if(ue&6)throw Error(F(327));Gr();var t=po(e,0);if(!(t&1))return yt(e,_e()),null;var n=To(e,t);if(e.tag!==0&&n===2){var r=ta(e);r!==0&&(t=r,n=Ra(e,r))}if(n===1)throw n=li,gr(e,0),bn(e,t),yt(e,_e()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,pt,ln),yt(e,_e()),null}function _u(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(ms=_e()+500,Qo&&Jn())}}function kr(e){Dn!==null&&Dn.tag===0&&!(ue&6)&&Gr();var t=ue;ue|=1;var n=Ft.transition,r=me;try{if(Ft.transition=null,me=1,e)return e()}finally{me=r,Ft.transition=n,ue=t,!(ue&6)&&Jn()}}function zu(){xt=Wr.current,Ce(Wr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zg(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(vu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xo();break;case 3:hs(),Ce(gt),Ce(nt),ju();break;case 5:Nu(r);break;case 4:hs();break;case 13:Ce(be);break;case 19:Ce(be);break;case 10:Su(r.type._context);break;case 22:case 23:zu()}n=n.return}if(Ke=e,De=e=Vn(e.current,null),Ge=xt=t,Be=0,li=null,Fu=qo=Sr=0,pt=$s=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sr=null}return e}function ep(e,t){do{var n=De;try{if(wu(),Xi.current=Mo,bo){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bo=!1}if(wr=0,Ve=Ue=Me=null,As=!1,si=0,Pu.current=null,n===null||n.return===null){Be=1,li=t,De=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Kc(o);if(S!==null){S.flags&=-257,qc(S,o,l,i,t),S.mode&1&&Vc(i,u,t),t=S,a=u;var w=t.updateQueue;if(w===null){var k=new Set;k.add(a),t.updateQueue=k}else w.add(a);break e}else{if(!(t&1)){Vc(i,u,t),Du();break e}a=Error(F(426))}}else if(Ne&&l.mode&1){var R=Kc(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),qc(R,o,l,i,t),yu(ps(a,l));break e}}i=a=ps(a,l),Be!==4&&(Be=2),$s===null?$s=[i]:$s.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=zh(i,a,t);Uc(i,g);break e;case 1:l=a;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Qn===null||!Qn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=Dh(i,l,t);Uc(i,m);break e}}i=i.return}while(i!==null)}rp(n)}catch(C){t=C,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function tp(){var e=Ro.current;return Ro.current=Mo,e===null?Mo:e}function Du(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Sr&268435455)&&!(qo&268435455)||bn(Ke,Ge)}function To(e,t){var n=ue;ue|=2;var r=tp();(Ke!==e||Ge!==t)&&(ln=null,gr(e,t));do try{av();break}catch(s){ep(e,s)}while(!0);if(wu(),ue=n,Ro.current=r,De!==null)throw Error(F(261));return Ke=null,Ge=0,Be}function av(){for(;De!==null;)np(De)}function uv(){for(;De!==null&&!Fm();)np(De)}function np(e){var t=ip(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?rp(e):De=t,Pu.current=null}function rp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nv(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,De=null;return}}else if(n=tv(n,t,xt),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Be===0&&(Be=5)}function nr(e,t,n){var r=me,s=Ft.transition;try{Ft.transition=null,me=1,cv(e,t,n,r)}finally{Ft.transition=s,me=r}return null}function cv(e,t,n,r){do Gr();while(Dn!==null);if(ue&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Qm(e,i),e===Ke&&(De=Ke=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ai||(Ai=!0,op(ho,function(){return Gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var o=me;me=1;var l=ue;ue|=4,Pu.current=null,sv(e,n),Xh(n,e),Lg(la),mo=!!oa,la=oa=null,e.current=n,iv(n),Im(),ue=l,me=o,Ft.transition=i}else e.current=n;if(Ai&&(Ai=!1,Dn=e,Oo=s),i=e.pendingLanes,i===0&&(Qn=null),Dm(n.stateNode),yt(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lo)throw Lo=!1,e=ba,ba=null,e;return Oo&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===Ma?Bs++:(Bs=0,Ma=e):Bs=0,Jn(),null}function Gr(){if(Dn!==null){var e=zf(Oo),t=Ft.transition,n=me;try{if(Ft.transition=null,me=16>e?16:e,Dn===null)var r=!1;else{if(e=Dn,Dn=null,Oo=0,ue&6)throw Error(F(331));var s=ue;for(ue|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Us(8,d,i)}var p=d.child;if(p!==null)p.return=d,$=p;else for(;$!==null;){d=$;var v=d.sibling,S=d.return;if(qh(d),d===u){$=null;break}if(v!==null){v.return=S,$=v;break}$=S}}}var w=i.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var R=k.sibling;k.sibling=null,k=R}while(k!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Us(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,$=h;else e:for(o=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(C){Pe(l,l.return,C)}if(l===o){$=null;break e}var m=l.sibling;if(m!==null){m.return=l.return,$=m;break e}$=l.return}}if(ue=s,Jn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ao,e)}catch{}r=!0}return r}finally{me=n,Ft.transition=t}}return!1}function ld(e,t,n){t=ps(n,t),t=zh(e,t,1),e=Wn(e,t,1),t=at(),e!==null&&(mi(e,1,t),yt(e,t))}function Pe(e,t,n){if(e.tag===3)ld(e,e,n);else for(;t!==null;){if(t.tag===3){ld(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=ps(n,e),e=Dh(t,e,1),t=Wn(t,e,1),e=at(),t!==null&&(mi(t,1,e),yt(t,e));break}}t=t.return}}function dv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>_e()-Iu?gr(e,0):Fu|=n),yt(e,t)}function sp(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var n=at();e=xn(e,t),e!==null&&(mi(e,t,n),yt(e,n))}function fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sp(e,n)}function hv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),sp(e,n)}var ip;ip=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,ev(e,t,n);mt=!!(e.flags&131072)}else mt=!1,Ne&&t.flags&1048576&&uh(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var s=cs(t,nt.current);qr(t,n),s=Mu(null,t,r,e,s,n);var i=Ru();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(i=!0,wo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cu(t),s.updater=Vo,t.stateNode=s,s._reactInternals=t,ga(t,r,e,n),t=xa(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&gu(t),ot(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=mv(r),e=Dt(r,e),s){case 0:t=ya(null,t,r,e,n);break e;case 1:t=Xc(null,t,r,e,n);break e;case 11:t=Gc(null,t,r,e,n);break e;case 14:t=Yc(null,t,r,Dt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),ya(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Xc(e,t,r,s,n);case 3:e:{if(Bh(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,mh(e,t),No(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ps(Error(F(423)),t),t=Jc(e,t,r,n,s);break e}else if(r!==s){s=ps(Error(F(424)),t),t=Jc(e,t,r,n,s);break e}else for(wt=Bn(t.stateNode.containerInfo.firstChild),St=t,Ne=!0,Bt=null,n=hh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===s){t=wn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return gh(t),e===null&&ha(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,aa(r,s)?o=null:i!==null&&aa(r,i)&&(t.flags|=32),$h(e,t),ot(e,t,o,n),t.child;case 6:return e===null&&ha(t),null;case 13:return Wh(e,t,n);case 4:return Eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Gc(e,t,r,s,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,we(Co,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!gt.current){t=wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=mn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),pa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,qr(t,n),s=It(s),r=r(s),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),Yc(e,t,r,s,n);case 15:return Ah(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Zi(e,t),t.tag=1,vt(r)?(e=!0,wo(t)):e=!1,qr(t,n),_h(t,r,s),ga(t,r,s,n),xa(null,t,r,!0,e,n);case 19:return Qh(e,t,n);case 22:return Uh(e,t,n)}throw Error(F(156,t.tag))};function op(e,t){return Pf(e,t)}function pv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,r){return new pv(e,t,n,r)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mv(e){if(typeof e=="function")return Au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===su)return 11;if(e===iu)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function no(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Au(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pr:return vr(n.children,s,i,t);case ru:o=8,s|=8;break;case Ul:return e=Pt(12,n,t,s|2),e.elementType=Ul,e.lanes=i,e;case $l:return e=Pt(13,n,t,s),e.elementType=$l,e.lanes=i,e;case Bl:return e=Pt(19,n,t,s),e.elementType=Bl,e.lanes=i,e;case gf:return Go(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pf:o=10;break e;case mf:o=9;break e;case su:o=11;break e;case iu:o=14;break e;case En:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Pt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function vr(e,t,n,r){return e=Pt(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=Pt(22,e,r,t),e.elementType=gf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,s,i,o,l,a){return e=new gv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(i),e}function vv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lp(e){if(!e)return Gn;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(vt(n))return lh(e,n,t)}return t}function ap(e,t,n,r,s,i,o,l,a){return e=Uu(n,r,!0,e,s,i,o,l,a),e.context=lp(null),n=e.current,r=at(),s=Hn(n),i=mn(r,s),i.callback=t??null,Wn(n,i,s),e.current.lanes=s,mi(e,s,r),yt(e,r),e}function Yo(e,t,n,r){var s=t.current,i=at(),o=Hn(s);return n=lp(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wn(s,t,o),e!==null&&(Ht(e,s,o,i),Yi(e,s,o)),o}function Po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){ad(e,t),(e=e.alternate)&&ad(e,t)}function yv(){return null}var up=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}Xo.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Yo(e,t,null,null)};Xo.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Yo(null,e,null,null)}),t[yn]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Bf(e)}};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ud(){}function xv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Po(o);i.call(u)}}var o=ap(t,r,e,0,null,!1,!1,"",ud);return e._reactRootContainer=o,e[yn]=o.current,Zs(e.nodeType===8?e.parentNode:e),kr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Po(a);l.call(u)}}var a=Uu(e,0,!1,null,null,!1,!1,"",ud);return e._reactRootContainer=a,e[yn]=a.current,Zs(e.nodeType===8?e.parentNode:e),kr(function(){Yo(t,a,n,r)}),a}function Zo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Po(o);l.call(a)}}Yo(t,o,e,s)}else o=xv(n,t,e,s,r);return Po(o)}Df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Os(t.pendingLanes);n!==0&&(au(t,n|1),yt(t,_e()),!(ue&6)&&(ms=_e()+500,Jn()))}break;case 13:kr(function(){var r=xn(e,1);if(r!==null){var s=at();Ht(r,e,1,s)}}),$u(e,1)}};uu=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=at();Ht(t,e,134217728,n)}$u(e,134217728)}};Af=function(e){if(e.tag===13){var t=Hn(e),n=xn(e,t);if(n!==null){var r=at();Ht(n,e,t,r)}$u(e,t)}};Uf=function(){return me};$f=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Jl=function(e,t,n){switch(t){case"input":if(Hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wo(r);if(!s)throw Error(F(90));yf(r),Hl(r,s)}}}break;case"textarea":wf(e,n);break;case"select":t=n.value,t!=null&&Qr(e,!!n.multiple,t,!1)}};bf=_u;Mf=kr;var wv={usingClientEntryPoint:!1,Events:[vi,zr,Wo,Nf,jf,_u]},bs={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sv={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Of(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Ao=Ui.inject(Sv),nn=Ui}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(t))throw Error(F(200));return vv(e,t,null,n)};Ct.createRoot=function(e,t){if(!Wu(e))throw Error(F(299));var n=!1,r="",s=up;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uu(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Zs(e.nodeType===8?e.parentNode:e),new Bu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Of(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return kr(e)};Ct.hydrate=function(e,t,n){if(!Jo(t))throw Error(F(200));return Zo(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!Wu(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=up;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ap(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Zs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xo(t)};Ct.render=function(e,t,n){if(!Jo(t))throw Error(F(200));return Zo(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!Jo(e))throw Error(F(40));return e._reactRootContainer?(kr(function(){Zo(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};Ct.unstable_batchedUpdates=_u;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jo(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Zo(e,t,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cp)}catch(e){console.error(e)}}cp(),cf.exports=Ct;var Qu=cf.exports,dp,cd=Qu;dp=cd.createRoot,cd.hydrateRoot;var xs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Mn,Ga,$d,Cv=($d=class{constructor(){G(this,Mn,kv);G(this,Ga,!1)}setTimeoutProvider(e){U(this,Mn,e)}setTimeout(e,t){return y(this,Mn).setTimeout(e,t)}clearTimeout(e){y(this,Mn).clearTimeout(e)}setInterval(e,t){return y(this,Mn).setInterval(e,t)}clearInterval(e){y(this,Mn).clearInterval(e)}},Mn=new WeakMap,Ga=new WeakMap,$d),or=new Cv;function Ev(e){setTimeout(e,0)}var Cr=typeof window>"u"||"Deno"in globalThis;function lt(){}function Nv(e,t){return typeof e=="function"?e(t):e}function Oa(e){return typeof e=="number"&&e>=0&&e!==1/0}function fp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kn(e,t){return typeof e=="function"?e(t):e}function Rt(e,t){return typeof e=="function"?e(t):e}function dd(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Hu(o,t.options))return!1}else if(!ai(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function fd(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Er(t.options.mutationKey)!==Er(i))return!1}else if(!ai(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Hu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Er)(e)}function Er(e){return JSON.stringify(e,(t,n)=>Ta(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ai(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ai(e[n],t[n])):!1}var jv=Object.prototype.hasOwnProperty;function hp(e,t){if(e===t)return e;const n=hd(e)&&hd(t);if(!n&&!(Ta(e)&&Ta(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const d=n?u:i[u],p=e[d],v=t[d];if(p===v){l[d]=p,(n?u<s:jv.call(e,d))&&a++;continue}if(p===null||v===null||typeof p!="object"||typeof v!="object"){l[d]=v;continue}const S=hp(p,v);l[d]=S,S===p&&a++}return s===o&&a===s?e:l}function Fo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function hd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ta(e){if(!pd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!pd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pd(e){return Object.prototype.toString.call(e)==="[object Object]"}function bv(e){return new Promise(t=>{or.setTimeout(t,e)})}function Pa(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hp(e,t):t}function Mv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Rv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Vu=Symbol();function pp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mp(e,t){return typeof e=="function"?e(...t):!!e}function Lv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var lr,Rn,Xr,Bd,Ov=(Bd=class extends xs{constructor(){super();G(this,lr);G(this,Rn);G(this,Xr);U(this,Xr,t=>{if(!Cr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,Rn)||this.setEventListener(y(this,Xr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Rn))==null||t.call(this),U(this,Rn,void 0))}setEventListener(t){var n;U(this,Xr,t),(n=y(this,Rn))==null||n.call(this),U(this,Rn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,lr)!==t&&(U(this,lr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,lr)=="boolean"?y(this,lr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lr=new WeakMap,Rn=new WeakMap,Xr=new WeakMap,Bd),Ku=new Ov;function Fa(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Tv=Ev;function Pv(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Tv;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var $e=Pv(),Jr,Ln,Zr,Wd,Fv=(Wd=class extends xs{constructor(){super();G(this,Jr,!0);G(this,Ln);G(this,Zr);U(this,Zr,t=>{if(!Cr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Ln)||this.setEventListener(y(this,Zr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Ln))==null||t.call(this),U(this,Ln,void 0))}setEventListener(t){var n;U(this,Zr,t),(n=y(this,Ln))==null||n.call(this),U(this,Ln,t(this.setOnline.bind(this)))}setOnline(t){y(this,Jr)!==t&&(U(this,Jr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,Jr)}},Jr=new WeakMap,Ln=new WeakMap,Zr=new WeakMap,Wd),Io=new Fv;function Iv(e){return Math.min(1e3*2**e,3e4)}function gp(e){return(e??"online")==="online"?Io.isOnline():!0}var Ia=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vp(e){let t=!1,n=0,r;const s=Fa(),i=()=>s.status!=="pending",o=k=>{var R;if(!i()){const g=new Ia(k);v(g),(R=e.onCancel)==null||R.call(e,g)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>Ku.isFocused()&&(e.networkMode==="always"||Io.isOnline())&&e.canRun(),d=()=>gp(e.networkMode)&&e.canRun(),p=k=>{i()||(r==null||r(),s.resolve(k))},v=k=>{i()||(r==null||r(),s.reject(k))},S=()=>new Promise(k=>{var R;r=g=>{(i()||u())&&k(g)},(R=e.onPause)==null||R.call(e)}).then(()=>{var k;r=void 0,i()||(k=e.onContinue)==null||k.call(e)}),w=()=>{if(i())return;let k;const R=n===0?e.initialPromise:void 0;try{k=R??e.fn()}catch(g){k=Promise.reject(g)}Promise.resolve(k).then(p).catch(g=>{var N;if(i())return;const f=e.retry??(Cr?0:3),h=e.retryDelay??Iv,m=typeof h=="function"?h(n,g):h,C=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,g);if(t||!C){v(g);return}n++,(N=e.onFail)==null||N.call(e,n,g),bv(m).then(()=>u()?void 0:S()).then(()=>{t?v(g):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():S().then(w),s)}}var ar,Qd,yp=(Qd=class{constructor(){G(this,ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oa(this.gcTime)&&U(this,ar,or.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cr?1/0:5*60*1e3))}clearGcTimeout(){y(this,ar)&&(or.clearTimeout(y(this,ar)),U(this,ar,void 0))}},ar=new WeakMap,Qd),ur,es,Mt,cr,He,ui,dr,At,on,Hd,_v=(Hd=class extends yp{constructor(t){super();G(this,At);G(this,ur);G(this,es);G(this,Mt);G(this,cr);G(this,He);G(this,ui);G(this,dr);U(this,dr,!1),U(this,ui,t.defaultOptions),this.setOptions(t.options),this.observers=[],U(this,cr,t.client),U(this,Mt,y(this,cr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,U(this,ur,gd(this.options)),this.state=t.state??y(this,ur),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,He))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,ui),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=gd(this.options);n.data!==void 0&&(this.setState(md(n.data,n.dataUpdatedAt)),U(this,ur,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Mt).remove(this)}setData(t,n){const r=Pa(this.state.data,t,this.options);return ee(this,At,on).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ee(this,At,on).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,He))==null?void 0:r.promise;return(s=y(this,He))==null||s.cancel(t),n?n.then(lt).catch(lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,ur))}isActive(){return this.observers.some(t=>Rt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Kn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,He))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,He))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Mt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,He)&&(y(this,dr)?y(this,He).cancel({revert:!0}):y(this,He).cancelRetry()),this.scheduleGc()),y(this,Mt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,At,on).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,p,v,S,w,k,R,g,f,h;if(this.state.fetchStatus!=="idle"&&((a=y(this,He))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,He))return y(this,He).continueRetry(),y(this,He).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(C=>C.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(U(this,dr,!0),r.signal)})},i=()=>{const m=pp(this.options,n),N=(()=>{const j={client:y(this,cr),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return U(this,dr,!1),this.options.persister?this.options.persister(m,N,this):m(N)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,cr),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),U(this,es,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ee(this,At,on).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),U(this,He,vp({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:m=>{m instanceof Ia&&m.revert&&this.setState({...y(this,es),fetchStatus:"idle"}),r.abort()},onFail:(m,C)=>{ee(this,At,on).call(this,{type:"failed",failureCount:m,error:C})},onPause:()=>{ee(this,At,on).call(this,{type:"pause"})},onContinue:()=>{ee(this,At,on).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const m=await y(this,He).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(S=(v=y(this,Mt).config).onSuccess)==null||S.call(v,m,this),(k=(w=y(this,Mt).config).onSettled)==null||k.call(w,m,this.state.error,this),m}catch(m){if(m instanceof Ia){if(m.silent)return y(this,He).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw ee(this,At,on).call(this,{type:"error",error:m}),(g=(R=y(this,Mt).config).onError)==null||g.call(R,m,this),(h=(f=y(this,Mt).config).onSettled)==null||h.call(f,this.state.data,m,this),m}finally{this.scheduleGc()}}},ur=new WeakMap,es=new WeakMap,Mt=new WeakMap,cr=new WeakMap,He=new WeakMap,ui=new WeakMap,dr=new WeakMap,At=new WeakSet,on=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...md(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return U(this,es,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Mt).notify({query:this,type:"updated",action:t})})},Hd);function xp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function md(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ft,le,ci,st,fr,ts,un,On,di,ns,rs,hr,pr,Tn,ss,fe,Ps,_a,za,Da,Aa,Ua,$a,Ba,wp,Vd,zv=(Vd=class extends xs{constructor(t,n){super();G(this,fe);G(this,ft);G(this,le);G(this,ci);G(this,st);G(this,fr);G(this,ts);G(this,un);G(this,On);G(this,di);G(this,ns);G(this,rs);G(this,hr);G(this,pr);G(this,Tn);G(this,ss,new Set);this.options=n,U(this,ft,t),U(this,On,null),U(this,un,Fa()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,le).addObserver(this),vd(y(this,le),this.options)?ee(this,fe,Ps).call(this):this.updateResult(),ee(this,fe,Aa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wa(y(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wa(y(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,fe,Ua).call(this),ee(this,fe,$a).call(this),y(this,le).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,le);if(this.options=y(this,ft).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rt(this.options.enabled,y(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,fe,Ba).call(this),y(this,le).setOptions(this.options),n._defaulted&&!Fo(this.options,n)&&y(this,ft).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,le),observer:this});const s=this.hasListeners();s&&yd(y(this,le),r,this.options,n)&&ee(this,fe,Ps).call(this),this.updateResult(),s&&(y(this,le)!==r||Rt(this.options.enabled,y(this,le))!==Rt(n.enabled,y(this,le))||Kn(this.options.staleTime,y(this,le))!==Kn(n.staleTime,y(this,le)))&&ee(this,fe,_a).call(this);const i=ee(this,fe,za).call(this);s&&(y(this,le)!==r||Rt(this.options.enabled,y(this,le))!==Rt(n.enabled,y(this,le))||i!==y(this,Tn))&&ee(this,fe,Da).call(this,i)}getOptimisticResult(t){const n=y(this,ft).getQueryCache().build(y(this,ft),t),r=this.createResult(n,t);return Av(this,r)&&(U(this,st,r),U(this,ts,this.options),U(this,fr,y(this,le).state)),r}getCurrentResult(){return y(this,st)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,un).status==="pending"&&y(this,un).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){y(this,ss).add(t)}getCurrentQuery(){return y(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,ft).defaultQueryOptions(t),r=y(this,ft).getQueryCache().build(y(this,ft),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ee(this,fe,Ps).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,st)))}createResult(t,n){var O;const r=y(this,le),s=this.options,i=y(this,st),o=y(this,fr),l=y(this,ts),u=t!==r?t.state:y(this,ci),{state:d}=t;let p={...d},v=!1,S;if(n._optimisticResults){const M=this.hasListeners(),P=!M&&vd(t,n),V=M&&yd(t,r,n,s);(P||V)&&(p={...p,...xp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:k,status:R}=p;S=p.data;let g=!1;if(n.placeholderData!==void 0&&S===void 0&&R==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,g=!0):M=typeof n.placeholderData=="function"?n.placeholderData((O=y(this,rs))==null?void 0:O.state.data,y(this,rs)):n.placeholderData,M!==void 0&&(R="success",S=Pa(i==null?void 0:i.data,M,n),v=!0)}if(n.select&&S!==void 0&&!g)if(i&&S===(o==null?void 0:o.data)&&n.select===y(this,di))S=y(this,ns);else try{U(this,di,n.select),S=n.select(S),S=Pa(i==null?void 0:i.data,S,n),U(this,ns,S),U(this,On,null)}catch(M){U(this,On,M)}y(this,On)&&(w=y(this,On),S=y(this,ns),k=Date.now(),R="error");const f=p.fetchStatus==="fetching",h=R==="pending",m=R==="error",C=h&&f,N=S!==void 0,b={status:R,fetchStatus:p.fetchStatus,isPending:h,isSuccess:R==="success",isError:m,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:k,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:f,isRefetching:f&&!h,isLoadingError:m&&!N,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:m&&N,isStale:qu(t,n),refetch:this.refetch,promise:y(this,un),isEnabled:Rt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=X=>{b.status==="error"?X.reject(b.error):b.data!==void 0&&X.resolve(b.data)},P=()=>{const X=U(this,un,b.promise=Fa());M(X)},V=y(this,un);switch(V.status){case"pending":t.queryHash===r.queryHash&&M(V);break;case"fulfilled":(b.status==="error"||b.data!==V.value)&&P();break;case"rejected":(b.status!=="error"||b.error!==V.reason)&&P();break}}return b}updateResult(){const t=y(this,st),n=this.createResult(y(this,le),this.options);if(U(this,fr,y(this,le).state),U(this,ts,this.options),y(this,fr).data!==void 0&&U(this,rs,y(this,le)),Fo(n,t))return;U(this,st,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,ss).size)return!0;const o=new Set(i??y(this,ss));return this.options.throwOnError&&o.add("error"),Object.keys(y(this,st)).some(l=>{const a=l;return y(this,st)[a]!==t[a]&&o.has(a)})};ee(this,fe,wp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,fe,Aa).call(this)}},ft=new WeakMap,le=new WeakMap,ci=new WeakMap,st=new WeakMap,fr=new WeakMap,ts=new WeakMap,un=new WeakMap,On=new WeakMap,di=new WeakMap,ns=new WeakMap,rs=new WeakMap,hr=new WeakMap,pr=new WeakMap,Tn=new WeakMap,ss=new WeakMap,fe=new WeakSet,Ps=function(t){ee(this,fe,Ba).call(this);let n=y(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(lt)),n},_a=function(){ee(this,fe,Ua).call(this);const t=Kn(this.options.staleTime,y(this,le));if(Cr||y(this,st).isStale||!Oa(t))return;const r=fp(y(this,st).dataUpdatedAt,t)+1;U(this,hr,or.setTimeout(()=>{y(this,st).isStale||this.updateResult()},r))},za=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,le)):this.options.refetchInterval)??!1},Da=function(t){ee(this,fe,$a).call(this),U(this,Tn,t),!(Cr||Rt(this.options.enabled,y(this,le))===!1||!Oa(y(this,Tn))||y(this,Tn)===0)&&U(this,pr,or.setInterval(()=>{(this.options.refetchIntervalInBackground||Ku.isFocused())&&ee(this,fe,Ps).call(this)},y(this,Tn)))},Aa=function(){ee(this,fe,_a).call(this),ee(this,fe,Da).call(this,ee(this,fe,za).call(this))},Ua=function(){y(this,hr)&&(or.clearTimeout(y(this,hr)),U(this,hr,void 0))},$a=function(){y(this,pr)&&(or.clearInterval(y(this,pr)),U(this,pr,void 0))},Ba=function(){const t=y(this,ft).getQueryCache().build(y(this,ft),this.options);if(t===y(this,le))return;const n=y(this,le);U(this,le,t),U(this,ci,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},wp=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,st))}),y(this,ft).getQueryCache().notify({query:y(this,le),type:"observerResultsUpdated"})})},Vd);function Dv(e,t){return Rt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vd(e,t){return Dv(e,t)||e.state.data!==void 0&&Wa(e,t,t.refetchOnMount)}function Wa(e,t,n){if(Rt(t.enabled,e)!==!1&&Kn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&qu(e,t)}return!1}function yd(e,t,n,r){return(e!==t||Rt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&qu(e,n)}function qu(e,t){return Rt(t.enabled,e)!==!1&&e.isStaleByTime(Kn(t.staleTime,e))}function Av(e,t){return!Fo(e.getCurrentResult(),t)}function xd(e){return{onFetch:(t,n)=>{var d,p,v,S,w;const r=t.options,s=(v=(p=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let k=!1;const R=h=>{Lv(h,()=>t.signal,()=>k=!0)},g=pp(t.options,t.fetchOptions),f=async(h,m,C)=>{if(k)return Promise.reject();if(m==null&&h.pages.length)return Promise.resolve(h);const j=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:m,direction:C?"backward":"forward",meta:t.options.meta};return R(P),P})(),b=await g(j),{maxPages:O}=t.options,M=C?Rv:Mv;return{pages:M(h.pages,b,O),pageParams:M(h.pageParams,m,O)}};if(s&&i.length){const h=s==="backward",m=h?Uv:wd,C={pages:i,pageParams:o},N=m(r,C);l=await f(C,N,h)}else{const h=e??i.length;do{const m=a===0?o[0]??r.initialPageParam:wd(r,l);if(a>0&&m==null)break;l=await f(l,m),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var k,R;return(R=(k=t.options).persister)==null?void 0:R.call(k,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function wd(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Uv(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var fi,Jt,it,mr,Zt,Cn,Kd,$v=(Kd=class extends yp{constructor(t){super();G(this,Zt);G(this,fi);G(this,Jt);G(this,it);G(this,mr);U(this,fi,t.client),this.mutationId=t.mutationId,U(this,it,t.mutationCache),U(this,Jt,[]),this.state=t.state||Sp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Jt).includes(t)||(y(this,Jt).push(t),this.clearGcTimeout(),y(this,it).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,Jt,y(this,Jt).filter(n=>n!==t)),this.scheduleGc(),y(this,it).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Jt).length||(this.state.status==="pending"?this.scheduleGc():y(this,it).remove(this))}continue(){var t;return((t=y(this,mr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,d,p,v,S,w,k,R,g,f,h,m,C,N,j,b,O;const n=()=>{ee(this,Zt,Cn).call(this,{type:"continue"})},r={client:y(this,fi),meta:this.options.meta,mutationKey:this.options.mutationKey};U(this,mr,vp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{ee(this,Zt,Cn).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{ee(this,Zt,Cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,it).canRun(this)}));const s=this.state.status==="pending",i=!y(this,mr).canStart();try{if(s)n();else{ee(this,Zt,Cn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=y(this,it).config).onMutate)==null?void 0:l.call(o,t,this,r));const P=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));P!==this.state.context&&ee(this,Zt,Cn).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const M=await y(this,mr).start();return await((p=(d=y(this,it).config).onSuccess)==null?void 0:p.call(d,M,t,this.state.context,this,r)),await((S=(v=this.options).onSuccess)==null?void 0:S.call(v,M,t,this.state.context,r)),await((k=(w=y(this,it).config).onSettled)==null?void 0:k.call(w,M,null,this.state.variables,this.state.context,this,r)),await((g=(R=this.options).onSettled)==null?void 0:g.call(R,M,null,t,this.state.context,r)),ee(this,Zt,Cn).call(this,{type:"success",data:M}),M}catch(M){try{await((h=(f=y(this,it).config).onError)==null?void 0:h.call(f,M,t,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((C=(m=this.options).onError)==null?void 0:C.call(m,M,t,this.state.context,r))}catch(P){Promise.reject(P)}try{await((j=(N=y(this,it).config).onSettled)==null?void 0:j.call(N,void 0,M,this.state.variables,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((O=(b=this.options).onSettled)==null?void 0:O.call(b,void 0,M,t,this.state.context,r))}catch(P){Promise.reject(P)}throw ee(this,Zt,Cn).call(this,{type:"error",error:M}),M}finally{y(this,it).runNext(this)}}},fi=new WeakMap,Jt=new WeakMap,it=new WeakMap,mr=new WeakMap,Zt=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{y(this,Jt).forEach(r=>{r.onMutationUpdate(t)}),y(this,it).notify({mutation:this,type:"updated",action:t})})},Kd);function Sp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,Ut,hi,qd,Bv=(qd=class extends xs{constructor(t={}){super();G(this,cn);G(this,Ut);G(this,hi);this.config=t,U(this,cn,new Set),U(this,Ut,new Map),U(this,hi,0)}build(t,n,r){const s=new $v({client:t,mutationCache:this,mutationId:++Ci(this,hi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,cn).add(t);const n=$i(t);if(typeof n=="string"){const r=y(this,Ut).get(n);r?r.push(t):y(this,Ut).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,cn).delete(t)){const n=$i(t);if(typeof n=="string"){const r=y(this,Ut).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,Ut).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=$i(t);if(typeof n=="string"){const r=y(this,Ut).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=$i(t);if(typeof n=="string"){const s=(r=y(this,Ut).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{y(this,cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,cn).clear(),y(this,Ut).clear()})}getAll(){return Array.from(y(this,cn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fd(n,r))}findAll(t={}){return this.getAll().filter(n=>fd(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(lt))))}},cn=new WeakMap,Ut=new WeakMap,hi=new WeakMap,qd);function $i(e){var t;return(t=e.options.scope)==null?void 0:t.id}var dn,Pn,ht,fn,gn,ro,Qa,Gd,Wv=(Gd=class extends xs{constructor(n,r){super();G(this,gn);G(this,dn);G(this,Pn);G(this,ht);G(this,fn);U(this,dn,n),this.setOptions(r),this.bindMethods(),ee(this,gn,ro).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,dn).defaultMutationOptions(n),Fo(this.options,r)||y(this,dn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,ht),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Er(r.mutationKey)!==Er(this.options.mutationKey)?this.reset():((s=y(this,ht))==null?void 0:s.state.status)==="pending"&&y(this,ht).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,ht))==null||n.removeObserver(this)}onMutationUpdate(n){ee(this,gn,ro).call(this),ee(this,gn,Qa).call(this,n)}getCurrentResult(){return y(this,Pn)}reset(){var n;(n=y(this,ht))==null||n.removeObserver(this),U(this,ht,void 0),ee(this,gn,ro).call(this),ee(this,gn,Qa).call(this)}mutate(n,r){var s;return U(this,fn,r),(s=y(this,ht))==null||s.removeObserver(this),U(this,ht,y(this,dn).getMutationCache().build(y(this,dn),this.options)),y(this,ht).addObserver(this),y(this,ht).execute(n)}},dn=new WeakMap,Pn=new WeakMap,ht=new WeakMap,fn=new WeakMap,gn=new WeakSet,ro=function(){var r;const n=((r=y(this,ht))==null?void 0:r.state)??Sp();U(this,Pn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Qa=function(n){$e.batch(()=>{var r,s,i,o,l,a,u,d;if(y(this,fn)&&this.hasListeners()){const p=y(this,Pn).variables,v=y(this,Pn).context,S={client:y(this,dn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=y(this,fn)).onSuccess)==null||s.call(r,n.data,p,v,S)}catch(w){Promise.reject(w)}try{(o=(i=y(this,fn)).onSettled)==null||o.call(i,n.data,null,p,v,S)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=y(this,fn)).onError)==null||a.call(l,n.error,p,v,S)}catch(w){Promise.reject(w)}try{(d=(u=y(this,fn)).onSettled)==null||d.call(u,void 0,n.error,p,v,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(p=>{p(y(this,Pn))})})},Gd),en,Yd,Qv=(Yd=class extends xs{constructor(t={}){super();G(this,en);this.config=t,U(this,en,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Hu(s,n);let o=this.get(i);return o||(o=new _v({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){y(this,en).has(t.queryHash)||(y(this,en).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,en).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,en).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,en).get(t)}getAll(){return[...y(this,en).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>dd(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},en=new WeakMap,Yd),Te,Fn,In,is,os,_n,ls,as,Xd,Hv=(Xd=class{constructor(e={}){G(this,Te);G(this,Fn);G(this,In);G(this,is);G(this,os);G(this,_n);G(this,ls);G(this,as);U(this,Te,e.queryCache||new Qv),U(this,Fn,e.mutationCache||new Bv),U(this,In,e.defaultOptions||{}),U(this,is,new Map),U(this,os,new Map),U(this,_n,0)}mount(){Ci(this,_n)._++,y(this,_n)===1&&(U(this,ls,Ku.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Te).onFocus())})),U(this,as,Io.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Te).onOnline())})))}unmount(){var e,t;Ci(this,_n)._--,y(this,_n)===0&&((e=y(this,ls))==null||e.call(this),U(this,ls,void 0),(t=y(this,as))==null||t.call(this),U(this,as,void 0))}isFetching(e){return y(this,Te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Fn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Te).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,Te).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Kn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,Te).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,Te).get(r.queryHash),i=s==null?void 0:s.state.data,o=Nv(t,i);if(o!==void 0)return y(this,Te).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>y(this,Te).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Te).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,Te);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,Te);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>y(this,Te).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(lt).catch(lt)}invalidateQueries(e,t={}){return $e.batch(()=>(y(this,Te).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>y(this,Te).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(lt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,Te).build(this,t);return n.isStaleByTime(Kn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lt).catch(lt)}fetchInfiniteQuery(e){return e.behavior=xd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lt).catch(lt)}ensureInfiniteQueryData(e){return e.behavior=xd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Io.isOnline()?y(this,Fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Te)}getMutationCache(){return y(this,Fn)}getDefaultOptions(){return y(this,In)}setDefaultOptions(e){U(this,In,e)}setQueryDefaults(e,t){y(this,is).set(Er(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,is).values()],n={};return t.forEach(r=>{ai(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,os).set(Er(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,os).values()],n={};return t.forEach(r=>{ai(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,Te).clear(),y(this,Fn).clear()}},Te=new WeakMap,Fn=new WeakMap,In=new WeakMap,is=new WeakMap,os=new WeakMap,_n=new WeakMap,ls=new WeakMap,as=new WeakMap,Xd),kp=x.createContext(void 0),xi=e=>{const t=x.useContext(kp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vv=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(kp.Provider,{value:e,children:t})),Cp=x.createContext(!1),Kv=()=>x.useContext(Cp);Cp.Provider;function qv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gv=x.createContext(qv()),Yv=()=>x.useContext(Gv),Xv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Jv=e=>{x.useEffect(()=>{e.clearReset()},[e])},Zv=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||mp(n,[e.error,r])),ey=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ty=(e,t)=>e.isLoading&&e.isFetching&&!t,ny=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ry(e,t,n){var p,v,S,w,k;const r=Kv(),s=Yv(),i=xi(),o=i.defaultQueryOptions(e);(v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",ey(o),Xv(o,s),Jv(s);const l=!i.getQueryCache().get(o.queryHash),[a]=x.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(R=>{const g=d?a.subscribe($e.batchCalls(R)):lt;return a.updateResult(),g},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x.useEffect(()=>{a.setOptions(o)},[o,a]),ny(o,u))throw Sd(o,a,s);if(Zv({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||w.call(S,o,u),o.experimental_prefetchInRender&&!Cr&&ty(u,r)){const R=l?Sd(o,a,s):(k=i.getQueryCache().get(o.queryHash))==null?void 0:k.promise;R==null||R.catch(lt).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function Gu(e,t){return ry(e,zv)}function sy(e,t){const n=xi(),[r]=x.useState(()=>new Wv(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe($e.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(lt)},[r]);if(s.error&&mp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function kd(e){return e.length>0&&"options"in e[0]}function iy({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:u=!0,title:d,disabled:p=!1,"aria-label":v}){var b;const[S,w]=x.useState(!1),k=x.useRef(null),R=x.useRef(null),f=x.useCallback(()=>{const O=M=>{const P=M.find(V=>V.value===e);return P?P.label:null};if(kd(n))for(const M of n){const P=O(M.options);if(P)return P}else{const M=O(n);if(M)return M}return r},[e,n,r])();x.useEffect(()=>{if(!S)return;const O=P=>{k.current&&!k.current.contains(P.target)&&w(!1)},M=P=>{var V;P.key==="Escape"&&(w(!1),(V=R.current)==null||V.focus())};return window.addEventListener("click",O),window.addEventListener("keydown",M),()=>{window.removeEventListener("click",O),window.removeEventListener("keydown",M)}},[S]);const h=O=>{var M;t(O),w(!1),(M=R.current)==null||M.focus()},m=O=>O.map(M=>c.jsxs("button",{className:"dropdown-item","data-active":M.value===e,disabled:M.disabled,onClick:()=>!M.disabled&&h(M.value),role:"menuitem",children:[M.icon&&c.jsx("span",{className:"shrink-0",children:M.icon}),c.jsx("span",{className:"flex-1 truncate",children:M.label}),M.value===e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},M.value)),C=((b=R.current)==null?void 0:b.offsetWidth)??0,N=a==="trigger"?C:a==="auto"?void 0:a,j={...N?{width:N,minWidth:N}:{},...l==="right"?{right:0}:{left:0}};return c.jsxs("div",{ref:k,className:"relative",children:[s?c.jsx("div",{onClick:()=>!p&&w(O=>!O),children:s}):c.jsxs("button",{ref:R,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(O=>!O),disabled:p,title:d,"aria-label":v,"aria-haspopup":"listbox","aria-expanded":S,children:[c.jsx("span",{className:"truncate",children:f}),u&&c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${S?"rotate-180":""}`,children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&c.jsx("div",{className:`dropdown-panel ${o}`,style:j,role:"listbox","aria-label":v,children:kd(n)?n.map((O,M)=>c.jsxs("div",{children:[O.label&&c.jsx("div",{className:"dropdown-label",children:O.label}),m(O.options),M<n.length-1&&c.jsx("div",{className:"dropdown-divider"})]},O.label||M)):m(n)})]})}function oy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:o,onSortChange:l,filterCount:a,onOpenFilters:u,starFilters:d,onToggleStar:p,onClearStars:v,onClearFilters:S,starCounts:w,viewMode:k,onViewMode:R,gridItemSize:g,onGridItemSize:f,leftOpen:h,rightOpen:m,onToggleLeft:C,onToggleRight:N,onPrevImage:j,onNextImage:b,canPrevImage:O,canNextImage:M}){const[P,V]=x.useState(!1),X=x.useRef(null);x.useEffect(()=>{if(!P)return;const q=je=>{X.current&&!X.current.contains(je.target)&&V(!1)};return window.addEventListener("click",q),()=>window.removeEventListener("click",q)},[P]);const z=i??{kind:"builtin",key:"added",dir:"desc"},ne=z.dir,ve=z.kind==="builtin"&&z.key==="random",ye=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...o&&o.length>0?o.map(q=>({value:`metric:${q}`,label:q})):[]]}],I=z.kind==="metric"?`metric:${z.key}`:`builtin:${z.key}`,A=q=>{if(q.startsWith("layout:")){const je=q==="layout:masonry"?"adaptive":"grid";R==null||R(je)}else l==null||l(ly(q,z))},H=(d||[]).length,ie=typeof a=="number"?a:H>0?1:0;return c.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t&&c.jsxs("button",{className:"btn",onClick:n,children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]}),!t&&c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(iy,{value:I,onChange:A,options:ye,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),c.jsx("button",{className:"btn btn-icon",onClick:()=>{l&&l(ve?z:{...z,dir:ne==="desc"?"asc":"desc"})},title:ve?"Shuffle":`Sort ${ne==="desc"?"descending":"ascending"}`,"aria-label":ve?"Shuffle":"Toggle sort direction",children:ve?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):ne==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})}),c.jsx("div",{className:"w-px h-5 bg-border"}),c.jsxs("div",{ref:X,className:"relative",children:[c.jsxs("button",{className:`btn ${ie>0?"btn-active":""}`,onClick:()=>V(q=>!q),"aria-haspopup":"dialog","aria-expanded":P,title:"Filters",children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),c.jsx("span",{children:"Filters"}),ie>0&&c.jsx("span",{className:"px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:ie})]}),P&&c.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[c.jsx("div",{className:"dropdown-label",children:"Rating"}),c.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(q=>{const je=(d||[]).includes(q),xe=(w==null?void 0:w[String(q)])??0;return c.jsxs("button",{onClick:()=>p==null?void 0:p(q),className:`dropdown-item justify-between ${je?"bg-accent-muted":""}`,children:[c.jsxs("span",{className:je?"text-star-active":"text-text",children:["".repeat(q),"".repeat(5-q)]}),c.jsx("span",{className:"text-xs text-muted",children:xe})]},q)}),c.jsxs("button",{onClick:()=>p==null?void 0:p(0),className:`dropdown-item justify-between ${(d||[]).includes(0)?"bg-accent-muted":""}`,children:[c.jsx("span",{className:"text-text",children:"Unrated"}),c.jsx("span",{className:"text-xs text-muted",children:(w==null?void 0:w["0"])??0})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("div",{className:"dropdown-label",children:"Metrics"}),c.jsxs("button",{className:"dropdown-item",onClick:()=>{V(!1),u==null||u()},children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]}),c.jsx("span",{children:"Open Metrics Panel"}),(a||0)>0&&c.jsxs("span",{className:"ml-auto text-xs text-muted",children:[a," active"]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{S?S():v==null||v()},disabled:ie===0,children:"Clear all filters"})]})]}),H>0&&c.jsxs("div",{className:"filter-chip",children:[c.jsx("span",{className:"text-star-active",children:""}),c.jsx("span",{children:(()=>{const q=d||[],je=q.filter(xe=>xe>0).sort((xe,rt)=>rt-xe);return je.length?je.join(","):q.includes(0)?"None":""})()}),c.jsx("button",{className:"filter-chip-remove",onClick:v,"aria-label":"Clear rating filter",children:""})]})]})]}),c.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:q=>s==null?void 0:s(Number(q.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),c.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):f&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted",children:"Size"}),c.jsx("input",{type:"range",min:80,max:500,step:10,value:g??220,onChange:q=>f(Number(q.target.value)),className:"w-32 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),c.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&c.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[c.jsx("button",{className:`btn btn-icon ${O?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>O&&(j==null?void 0:j()),"aria-label":"Previous image","aria-disabled":!O,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("button",{className:`btn btn-icon ${M?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>M&&(b==null?void 0:b()),"aria-label":"Next image","aria-disabled":!M,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{className:`btn btn-icon ${h?"":"opacity-50"}`,title:h?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:C,"aria-pressed":h,"aria-label":"Toggle left panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),c.jsx("button",{className:`btn btn-icon ${m?"":"opacity-50"}`,title:m?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:N,"aria-pressed":m,"aria-label":"Toggle right panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),c.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:q=>e(q.target.value),className:"h-8 w-[200px] focus:w-[260px] transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted"})]})]})}function ly(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const Ep=3e4;class Wt extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function bt(e,t={}){const{timeoutMs:n=Ep,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Bi(e,t={}){const{timeoutMs:n=Ep,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class Np{constructor(t){Mr(this,"store",new Map);Mr(this,"inflight",new Map);Mr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Or=new Np(60*1024*1024),Ha=new Np(20*1024*1024),Ll={};function ay(){const e=Ll==null?void 0:Ll.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const et=ay();const uy=40*1024*1024,pe={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),bt(`${et}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),bt(`${et}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return bt(`${et}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>bt(`${et}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>bt(`${et}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>bt(`${et}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Ha.getOrFetch(e,()=>Bi(`${et}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Ha.prefetch(e,()=>Bi(`${et}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Or.getOrFetch(e,()=>Bi(`${et}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Or.has(e)||Or.isInflight(e)))try{const t=await Bi(`${et}/file?path=${encodeURIComponent(e)}`).promise;t.size<=uy&&Or.set(e,t)}catch{}},cancelPrefetch:e=>{Or.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),bt(`${et}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),bt(`${et}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>bt(`${et}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),bt(`${et}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>bt(`${et}/views`).promise,saveViews:e=>bt(`${et}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},cy=e=>["folder",e];function jp(e){return Gu({queryKey:cy(e),queryFn:()=>pe.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Ol(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function dy(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function Tl(e){try{return JSON.parse(e)}catch{return}}const fy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Yr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return fy.test(s)?s:"/"}catch{return"/"}}function Cd(){return(window.location.hash||"").replace(/^#/,"")}function hy(e){const t=Yr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function py(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function my(e){const n=Yr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function gy(e){return e.endsWith("/_trash_")}function vy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=x.useState(new Set(["/"]));x.useEffect(()=>{const p=e.split("/").filter(Boolean),v=["/"];let S="";for(const w of p)S=S?`${S}/${w}`:`/${w}`,v.push(S);u(w=>{const k=new Set(w);for(const R of v)k.add(R);return k})},[e]);const d=o??"h-full overflow-auto bg-panel scrollbar-thin";return c.jsxs("div",{className:d,children:[c.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(p=>c.jsx(bp,{path:p.path,label:p.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},p.path))}),l&&c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function bp({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var g,f,h;const u=s.has(e),{data:d}=jp(e),p=a&&e===a.path?a:d,v=r===e,S=(((g=p==null?void 0:p.dirs)==null?void 0:g.length)??0)===0,w=S?((f=p==null?void 0:p.items)==null?void 0:f.length)??0:0,k=xi(),R=m=>{m.stopPropagation(),i(C=>{const N=new Set(C);return N.has(e)?N.delete(e):N.add(e),N})};return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${v?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":S?void 0:u,"aria-selected":v,tabIndex:v?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:m=>{m.preventDefault(),m.stopPropagation(),l&&l(m,e)},onKeyDown:m=>{var C;if(m.key==="Enter")m.preventDefault(),o(e);else if(m.key==="ArrowRight")!S&&!u&&(m.preventDefault(),i(N=>{const j=new Set(N);return j.add(e),j}));else if(m.key==="ArrowLeft")!S&&u&&(m.preventDefault(),i(N=>{const j=new Set(N);return j.delete(e),j}));else if(m.key==="ArrowDown"||m.key==="ArrowUp"||m.key==="Home"||m.key==="End"){m.preventDefault();const N=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),j=N.findIndex(O=>O===m.currentTarget);if(j===-1)return;let b=j;m.key==="ArrowDown"?b=Math.min(N.length-1,j+1):m.key==="ArrowUp"?b=Math.max(0,j-1):m.key==="Home"?b=0:m.key==="End"&&(b=N.length-1),(C=N[b])==null||C.focus()}},onDragOver:m=>{var N;Array.from(((N=m.dataTransfer)==null?void 0:N.types)||[]).includes("application/x-lenslet-paths")&&(m.preventDefault(),S&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(j=>{j!==m.currentTarget&&j.classList.remove("drop-target")}),m.currentTarget.classList.add("drop-target")))},onDragEnter:m=>{var N;Array.from(((N=m.dataTransfer)==null?void 0:N.types)||[]).includes("application/x-lenslet-paths")&&S&&(m.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(j=>{j!==m.currentTarget&&j.classList.remove("drop-target")}),m.currentTarget.classList.add("drop-target"))},onDragLeave:m=>{const C=m.currentTarget,N=document.elementFromPoint(m.clientX,m.clientY);N&&C.contains(N)||C.classList.remove("drop-target")},onDrop:async m=>{const C=m.dataTransfer;if(!C)return;m.preventDefault(),m.currentTarget.classList.remove("drop-target");const N=C.getData("application/x-lenslet-paths"),b=(N?JSON.parse(N):[]).filter(Boolean);if(!b.length)return;let O=b[0].split("/").slice(0,-1).join("/")||"/";O.startsWith("/")||(O=`/${O}`);let M=e;M.startsWith("/")||(M=`/${M}`);try{for(const P of b)await pe.moveFile(P,M);k.invalidateQueries({queryKey:["folder",O]}),k.invalidateQueries({queryKey:["folder",M]}),k.setQueryData(["folder",O],P=>!P||!Array.isArray(P.items)?P:{...P,items:P.items.filter(V=>!b.includes(V.path))})}catch{}},children:[c.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:R,children:u?"":""}),c.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:dy(t,28)}),S&&c.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((h=p==null?void 0:p.dirs)==null?void 0:h.map(m=>c.jsx(bp,{path:py(e,m.name),label:m.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},m.name)))]})}class yy{constructor(t=400){Mr(this,"cache",new Map);Mr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Pl=new yy(400);function xy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=x.useRef(null),[d,p]=x.useState(()=>Pl.get(e)??null),[v,S]=x.useState(!1),[w,k]=x.useState(()=>!!d);return x.useEffect(()=>{const R=u.current;if(!R)return;const g=new IntersectionObserver(f=>{for(const h of f)h.target===R&&S(h.isIntersecting||h.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return g.observe(R),()=>{g.unobserve(R),g.disconnect()}},[o]),x.useEffect(()=>{if(d||!(v&&!l||a))return;let R=!0;return pe.getThumb(e).then(g=>{if(!R)return;const f=URL.createObjectURL(g);Pl.set(e,f),p(f)}).catch(()=>{}),()=>{R=!1}},[e,d,v,l,a]),x.useEffect(()=>{var g;if(!d){k(!1);return}const R=(g=u.current)==null?void 0:g.querySelector("img");R&&R.complete&&R.naturalWidth>0?k(!0):k(!1)},[d]),x.useEffect(()=>{p(Pl.get(e)??null)},[e]),c.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?c.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>k(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Lr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const p=e();if(!(p.length!==r.length||p.some((w,k)=>r[k]!==w)))return s;r=p;let S;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(S=Date.now()),s=t(...p),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,k=Math.round((Date.now()-S)*100)/100,R=k/16,g=(f,h)=>{for(f=String(f);f.length<h;)f=" "+f;return f};console.info(`%c ${g(k,5)} /${g(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function Ed(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const wy=(e,t)=>Math.abs(e-t)<1.01,Sy=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Nd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},ky=e=>e,Cy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Ey=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Nd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Nd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},jd={passive:!0},bd=typeof window>"u"?!0:"onscrollend"in window,Ny=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&bd?()=>{}:Sy(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:p,isRtl:v}=e.options;s=p?n.scrollLeft*(v&&-1||1):n.scrollTop,i(),t(s,d)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,jd);const u=e.options.useScrollendEvent&&bd;return u&&n.addEventListener("scrollend",a,jd),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},jy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},by=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class My{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ky,rangeExtractor:Cy,onChange:()=>{},measureElement:jy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Lr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Lr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Lr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),p=new Array(l).fill(void 0);for(let v=0;v<u;v++){const S=d[v];S&&(p[S.lane]=v)}for(let v=u;v<n;v++){const S=i(v),w=this.laneAssignments.get(v);let k,R;if(w!==void 0&&this.options.lanes>1){k=w;const m=p[k],C=m!==void 0?d[m]:void 0;R=C?C.end+this.options.gap:r+s}else{const m=this.options.lanes===1?d[v-1]:this.getFurthestMeasurement(d,v);R=m?m.end+this.options.gap:r+s,k=m?m.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,k)}const g=a.get(S),f=typeof g=="number"?g:this.options.estimateSize(v),h=R+f;d[v]={index:v,start:R,size:f,end:h,key:S,lane:k},p[k]=v}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Lr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?Ry({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Lr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Lr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Ed(r[Mp(0,r.length-1,s=>Ed(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[p,v]=d;this._scrollToOffset(p,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),w=this.getOffsetForIndex(n,v);if(!w){console.warn("Failed to get offset for index:",n);return}wy(w[0],S)||a(v)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Mp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Ry({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=Mp(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(d=>d<n+t);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const Md=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Ly(e){const t=x.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Qu.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=x.useState(()=>new My(n));return r.setOptions(n),Md(()=>r._didMount(),[]),Md(()=>r._willUpdate()),r}function Oy(e){return Ly({observeElementRect:Ey,observeElementOffset:Ny,scrollToFn:by,...e})}const Ty=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}};function Py({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;for(let a=0;a<e.length;a++){const u=e[a];let d=1.333;u.w>0&&u.h>0&&(d=u.w/u.h),o.push({item:u,aspect:d,originalIndex:a}),l+=d;const p=(o.length-1)*r;if(l*n+p>=t){const S=(t-p)/l,w=o.map(k=>({item:k.item,displayW:k.aspect*S,displayH:S,originalIndex:k.originalIndex}));i.push({index:i.length,height:S+s+r,imageH:S,items:w}),o=[],l=0}}if(o.length>0){const a=n,u=o.map(d=>({item:d.item,displayW:d.aspect*a,displayH:a,originalIndex:d.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function Fy(e,t,n){const[r,s]=x.useState(0);x.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const p=getComputedStyle(a),v=a.clientWidth-parseFloat(p.paddingLeft)-parseFloat(p.paddingRight);s(v)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=x.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:Py({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:d,rowH:p}=Ty({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),v=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:d,rowH:p,rowCount:v}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=Oy({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return x.useEffect(()=>{o.measure()},[i]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function Iy(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}function _y({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,p]=x.useState(null),[v,S]=x.useState(null),[w,k]=x.useState(null),[R,g]=x.useState(!1),[f,h]=x.useState(null),[m,C]=x.useState(null),N=x.useRef(null),j=x.useRef(null),b=x.useRef(null),O=12,M=u,P={w:4,h:3},V=44,{width:X,layout:z,rowVirtualizer:ne,virtualRows:ve}=Fy(j,e,{gap:O,targetCell:M,aspect:P,captionH:V,viewMode:a}),ye=x.useMemo(()=>{const L=new Map;for(let B=0;B<e.length;B++)L.set(e[B].path,B);return L},[e]),I=x.useMemo(()=>{if(z.mode!=="adaptive")return null;const L=new Map;return z.rows.forEach((B,K)=>{let ae=0;B.items.forEach((Z,re)=>{const W=ae+Z.displayW/2;L.set(Z.item.path,{row:K,center:W,order:re}),ae+=Z.displayW+O})}),L},[z]);x.useEffect(()=>{if(!t.length)return;const L=t[0];f!==L&&h(L)},[t,f]);const A=x.useMemo(()=>{if(z.mode!=="adaptive")return null;let L=0;return z.rows.map(B=>{const K=L;return L+=B.height,{start:K,height:B.height}})},[z]),H=x.useRef(null),ie=(L,B)=>{try{if(H.current!=null){try{cancelAnimationFrame(H.current)}catch{}H.current=null}const K=L.scrollTop,ae=B-K;if(Math.abs(ae)<1){L.scrollTop=B;return}const Z=140,re=performance.now(),W=Ee=>1-Math.pow(1-Ee,3),Le=Ee=>{const Oe=Math.min(1,(Ee-re)/Z),We=W(Oe);L.scrollTop=K+ae*We,Oe<1?H.current=requestAnimationFrame(Le):H.current=null};H.current=requestAnimationFrame(Le)}catch{L.scrollTop=B}},[q,je]=x.useState(!1);x.useEffect(()=>{const L=j.current;if(!L)return;let B=0;const K=()=>{je(!0),window.clearTimeout(B),B=window.setTimeout(()=>je(!1),120)};return L.addEventListener("scroll",K,{passive:!0}),()=>L.removeEventListener("scroll",K)},[]);const xe=z.mode==="grid"?z.columns:Math.max(1,Math.floor(X/(M+O))),rt=(L,B)=>{if(z.mode!=="adaptive")return null;const K=z.rows[L];if(!K)return null;let ae=0,Z=null;for(const re of K.items){const W=ae+re.displayW/2,Le=Math.abs(W-B);(!Z||Le<Z.dist)&&(Z={path:re.item.path,dist:Le}),ae+=re.displayW+O}return Z?Z.path:null},D=(L,B)=>{var We,Fe,sn,oe;if(!e.length)return null;const K=L??e[0].path;if(z.mode!=="adaptive"){const ze=Iy(e,xe,K,B);return ze==="open"||ze==null?ze:((We=e[ze])==null?void 0:We.path)??null}const ae=I==null?void 0:I.get(K);if(!ae)return K;const Z=ye.get(K)??0,re=B.key;if(re==="Enter")return"open";if(re==="ArrowRight"||re==="d")return((Fe=e[Math.min(e.length-1,Z+1)])==null?void 0:Fe.path)??K;if(re==="ArrowLeft"||re==="a")return((sn=e[Math.max(0,Z-1)])==null?void 0:sn.path)??K;const W=re==="ArrowDown"||re==="s"?1:re==="ArrowUp"||re==="w"?-1:0;if(W===0)return null;const Le=ae.row+W;if(Le<0||Le>=(((oe=z.rows)==null?void 0:oe.length)??0))return K;const Ee=ae.center;return rt(Le,Ee)??K};x.useEffect(()=>{const L=j.current;if(!L)return;const B=K=>{var We,Fe,sn,oe;const ae=D(m,K);if(ae==null)return;if(K.preventDefault(),ae==="open"){m&&s(m);return}const Z=e.find(ze=>ze.path===ae);if(!Z)return;C(Z.path),h(Z.path),r([Z.path]);try{b.current=Z.path}catch{}const re=z.mode==="grid"?Math.floor((ye.get(Z.path)??0)/Math.max(1,z.columns)):((We=I==null?void 0:I.get(Z.path))==null?void 0:We.row)??0,W=L.scrollTop,Le=W+L.clientHeight,Ee=z.mode==="adaptive"?((Fe=A==null?void 0:A[re])==null?void 0:Fe.start)??0:re*z.rowH,Oe=z.mode==="adaptive"?Ee+(((sn=A==null?void 0:A[re])==null?void 0:sn.height)??0):Ee+z.rowH;(Ee<W||Oe>Le)&&ie(L,Ee);try{(oe=document.getElementById(`cell-${encodeURIComponent(Z.path)}`))==null||oe.focus()}catch{}};return L.addEventListener("keydown",B),()=>{L.removeEventListener("keydown",B)}},[e,m,xe,s,z,I,A,ye]),x.useLayoutEffect(()=>{var re;const L=j.current;if(!L||!n||!t||t.length===0)return;const B=t[0],K=ye.get(B);if(K==null||K<0)return;let ae=0;if(z.mode==="grid")ae=Math.floor(K/Math.max(1,z.columns));else{let W=0,Le=z.rows.length-1;for(;W<=Le;){const Ee=W+Le>>1,Oe=z.rows[Ee];if(K>=Oe.items[0].originalIndex&&K<=Oe.items[Oe.items.length-1].originalIndex){ae=Ee;break}K<Oe.items[0].originalIndex?Le=Ee-1:W=Ee+1}}const Z=z.mode==="adaptive"?((re=A==null?void 0:A[ae])==null?void 0:re.start)??0:ae*z.rowH;try{L.scrollTop=Z}catch{}},[n,z,A]);const Y=new Set(t),Se=!!(d&&v&&R);x.useEffect(()=>{var L;(L=j.current)==null||L.focus()},[]),x.useEffect(()=>{var L;if(l){try{(L=j.current)==null||L.blur()}catch{}try{C(null)}catch{}}},[l]);const _=m?`cell-${encodeURIComponent(m)}`:void 0;return c.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${Se?"cursor-zoom-in":""}`,ref:j,tabIndex:0,"aria-activedescendant":_,onMouseDown:()=>{var L;return(L=j.current)==null?void 0:L.focus()},style:{"--gap":`${O}px`},children:c.jsxs("div",{className:"relative w-full",style:{height:ne.getTotalSize()},children:[ve.map(L=>{var re;let B=[],K={},ae="";if(z.mode==="adaptive"){const W=z.rows[L.index];if(!W)return null;B=W.items,K={height:W.height,transform:`translate3d(0, ${L.start}px, 0)`,display:"flex",gap:O,paddingBottom:O},ae="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const W=L.index*z.columns;B=e.slice(W,W+z.columns).map(Ee=>({item:Ee,displayW:z.cellW,displayH:z.mediaH})),K={transform:`translate3d(0, ${L.start}px, 0)`,gridTemplateColumns:`repeat(${z.columns}, minmax(0, 1fr))`,gap:O,paddingBottom:O},ae="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const Z=L.index===((re=ve[0])==null?void 0:re.index);try{if(!q)for(const{item:W}of B)try{pe.prefetchThumb(W.path)}catch{}}catch{}return c.jsx("div",{className:ae,role:"row",style:K,children:B.map(({item:W,displayW:Le,displayH:Ee})=>{const Oe=!l&&(f===W.path||Y.has(W.path)),We=z.mode==="adaptive"?{width:Le}:{},Fe=z.mode==="adaptive"?{height:Ee}:{},sn=z.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return c.jsxs("div",{id:`cell-${encodeURIComponent(W.path)}`,className:`relative min-w-0 ${Oe?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Oe,tabIndex:m===W.path?0:-1,onFocus:()=>C(W.path),draggable:!0,style:We,onDragStart:oe=>{var ze;try{const he=Y.has(W.path)&&t.length>0?t:[W.path];(ze=oe.dataTransfer)==null||ze.setData("application/x-lenslet-paths",JSON.stringify(he)),oe.dataTransfer&&(oe.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const Qe=oe.currentTarget.querySelector(".cell-content img"),dt=document.createElement("div");dt.className="drag-ghost";const Nt=document.createElement("img");Nt.draggable=!1,Nt.alt="drag",Qe&&Qe.src&&(Nt.src=Qe.src),dt.appendChild(Nt),document.body.appendChild(dt);const Kt=dt.getBoundingClientRect().width||150;oe.dataTransfer.setDragImage(dt,Math.round(Kt/2),0);const qt=()=>{try{dt.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",qt),window.removeEventListener("pointerup",qt),document.removeEventListener("visibilitychange",qt)};window.addEventListener("dragend",qt),window.addEventListener("pointerup",qt),document.addEventListener("visibilitychange",qt)}catch{}},onDragEnd:()=>{},onContextMenu:oe=>{oe.preventDefault(),oe.stopPropagation(),i&&i(oe,W.path)},children:[c.jsxs("div",{className:sn,style:Fe,onMouseEnter:()=>{try{pe.prefetchFile(W.path)}catch{}},onDoubleClick:()=>s(W.path),onMouseLeave:()=>{if(w&&(window.clearTimeout(w),k(null)),p(null),N.current){try{URL.revokeObjectURL(N.current)}catch{}N.current=null}S(null),g(!1)},children:[c.jsx("div",{className:"cell-content absolute inset-0",children:c.jsx(xy,{path:W.path,name:W.name,selected:Oe,displayW:Le,displayH:Ee,ioRoot:j.current,isScrolling:q,priority:Z,onClick:oe=>{var Zn;h(W.path),C(W.path);const ze=!!oe.shiftKey,he=!!(oe.ctrlKey||oe.metaKey);if(ze){const Qe=b.current??f??t[0]??W.path,dt=ye.get(Qe)??e.findIndex(Kt=>Kt.path===Qe),Nt=ye.get(W.path)??e.findIndex(Kt=>Kt.path===W.path);if(dt!==-1&&Nt!==-1){const Kt=Math.min(dt,Nt),qt=Math.max(dt,Nt),wi=e.slice(Kt,qt+1).map(br=>br.path);if(he){const br=new Set(t);for(const Si of wi)br.add(Si);r(Array.from(br))}else r(wi)}else r([W.path])}else if(he){const Qe=new Set(t);Qe.has(W.path)?Qe.delete(W.path):Qe.add(W.path),r(Array.from(Qe));try{b.current=W.path}catch{}}else{r([W.path]);try{b.current=W.path}catch{}}try{q||(pe.prefetchFile(W.path),pe.prefetchThumb(W.path))}catch{}try{(Zn=document.getElementById(`cell-${encodeURIComponent(W.path)}`))==null||Zn.focus()}catch{}}})}),c.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(q)return;w&&window.clearTimeout(w),p(W.path),g(!1);const oe=window.setTimeout(async()=>{try{const ze=await pe.getFile(W.path),he=URL.createObjectURL(ze);if(N.current)try{URL.revokeObjectURL(N.current)}catch{}N.current=he,S(he),g(!0)}catch{}},350);k(oe)},onMouseLeave:()=>{if(w&&window.clearTimeout(w),k(null),g(!1),p(null),N.current){try{URL.revokeObjectURL(N.current)}catch{}N.current=null}S(null)},children:c.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:c.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[c.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),c.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),c.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[c.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:W.name,children:(()=>{const oe=(o||"").trim();if(!oe)return W.name;const ze=W.name,he=ze.toLowerCase().indexOf(oe.toLowerCase());if(he===-1)return W.name;const Zn=ze.slice(0,he),Qe=ze.slice(he,he+oe.length),dt=ze.slice(he+oe.length);return c.jsxs(c.Fragment,{children:[Zn,c.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:Qe}),dt]})})()}),c.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[W.w,"  ",W.h]})]})]},W.path)})},L.key)}),d&&v&&R&&Qu.createPortal(c.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:c.jsx("img",{src:v,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${xe}`)})}function zy(){const[e,t]=x.useState(1),[n,r]=x.useState(0),[s,i]=x.useState(0),[o,l]=x.useState(1),[a,u]=x.useState(!1),[d,p]=x.useState(!1),[v,S]=x.useState(!1),w=x.useRef(null),k=x.useRef(null),R=()=>{const h=w.current,m=k.current;if(!h||!m||!m.naturalWidth||!m.naturalHeight)return;const C=h.getBoundingClientRect(),N=C.width/m.naturalWidth,j=C.height/m.naturalHeight,b=Math.min(1,Math.min(N,j));l(b);const O=m.naturalWidth*b,M=m.naturalHeight*b;r((C.width-O)/2),i((C.height-M)/2)};return x.useEffect(()=>{const h=w.current;if(!h)return;const m=new ResizeObserver(()=>{try{requestAnimationFrame(()=>R())}catch{R()}});return m.observe(h),()=>m.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:d,setDragging:p,visible:v,setVisible:S,containerRef:w,imgRef:k,fitAndCenter:R,handleWheel:h=>{h.preventDefault();const m=h.deltaY>0?-1:1,C=1.2,N=.05,j=8,b=w.current;if(!b)return;const O=b.getBoundingClientRect(),M=h.clientX-O.left,P=h.clientY-O.top;t(V=>{const X=Math.min(j,Math.max(N,V*Math.pow(C,m))),z=X/V;return r(ne=>M-z*(M-ne)),i(ne=>P-z*(P-ne)),Number(X.toFixed(4))})},handleMouseDown:h=>{const m=w.current,C=k.current;if(!m||!C||h.target!==C)return;const j=m.getBoundingClientRect();if(h.clientX<j.left||h.clientX>j.right||h.clientY<j.top||h.clientY>j.bottom)return;h.preventDefault(),h.stopPropagation(),p(!0);const b=h.clientX,O=h.clientY,M=n,P=s,V=z=>{r(M+(z.clientX-b)),i(P+(z.clientY-O))},X=()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",X),p(!1)};window.addEventListener("mousemove",V),window.addEventListener("mouseup",X)}}}function Dy({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[o,l]=x.useState(null),[a,u]=x.useState(null),{scale:d,setScale:p,tx:v,setTx:S,ty:w,setTy:k,base:R,ready:g,setReady:f,dragging:h,visible:m,setVisible:C,containerRef:N,imgRef:j,fitAndCenter:b,handleWheel:O,handleMouseDown:M}=zy();return x.useEffect(()=>{let P=!0;return pe.getFile(e).then(V=>{P&&l(URL.createObjectURL(V))}).catch(()=>{}),pe.getThumb(e).then(V=>{P&&u(URL.createObjectURL(V))}).catch(()=>{}),requestAnimationFrame(()=>{var V;C(!0),(V=N.current)==null||V.focus()}),()=>{P=!1}},[e]),x.useEffect(()=>{const P=V=>{V.key==="Escape"?(C(!1),setTimeout(t,110)):(V.key==="ArrowRight"||V.key==="d")&&n?n(1):(V.key==="ArrowLeft"||V.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[t,n]),x.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]),x.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),x.useEffect(()=>{f(!1)},[o]),x.useEffect(()=>{r&&r(R*d*100)},[R,d,r]),x.useEffect(()=>{if(s==null)return;const P=N.current;if(!P){i&&i();return}const V=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,R))),X=P.getBoundingClientRect(),z=X.width/2,ne=X.height/2;p(ve=>{const ye=V/ve;return S(I=>z-ye*(z-I)),k(I=>ne-ye*(ne-I)),Number(V.toFixed(4))}),i&&i()},[s,R,i]),c.jsxs("div",{ref:N,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${h?"cursor-grabbing select-none":""} ${m?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:O,onMouseDown:M,onKeyDown:P=>{P.key==="Tab"&&P.preventDefault()},children:[c.jsx("button",{"aria-label":"Close",onClick:P=>{P.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"btn absolute top-3 right-3 z-10",children:" Close"}),a&&c.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:P=>P.preventDefault(),style:{transform:`translate(${v}px, ${w}px) scale(${R})`,transformOrigin:"0 0",opacity:g?0:.5,filter:"blur(0.25px)"}}),o&&c.jsx("img",{ref:j,src:o,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:P=>{P.preventDefault()},onLoad:P=>{b(),p(1);try{requestAnimationFrame(()=>f(!0))}catch{f(!0)}},onClick:P=>P.stopPropagation(),style:{transform:`translate(${v}px, ${w}px) scale(${R*d})`,transformOrigin:"0 0",opacity:g?.99:0,WebkitUserDrag:"none"}})]})}const Rp=e=>["item",e],Ay={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function Uy(e){return Gu({queryKey:Rp(e),queryFn:()=>pe.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function $y(e){const t=xi();return sy({mutationFn:n=>pe.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(Rp(e),n)}})}const By=6;async function Wi(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await Lp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(By,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Ms=new Map,Fl=new Map;async function Lp(e,t,n){const r=n??new Date().toISOString(),s=Ms.get(e)||{};Ms.set(e,{...s,...t});const i=Fl.get(e);if(i)return i;const o=(async()=>{try{for(;Ms.has(e);){const l=Ms.get(e);if(Ms.delete(e),!l)break;let a;try{a=await pe.getSidecar(e)}catch{a={...Ay,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let d=0;const p=3;for(;d<p;)try{await pe.putSidecar(e,u);break}catch(v){if(d++,d>=p)throw v;await new Promise(S=>setTimeout(S,200*Math.pow(2,d)))}}}finally{Fl.delete(e)}})();return Fl.set(e,o),o}function Op(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function so(e){if(Array.isArray(e))return e.map(so);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,so(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return so(r)}catch{return e}}return e}function Il(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Wy(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Qy(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=Il(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${Il(o)}</span>`,r=i+o.length}return n+=Il(e.slice(r)),n}function Hy({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=Uy(e??""),a=$y(e??""),[u,d]=x.useState(""),[p,v]=x.useState(""),[S,w]=x.useState(null),[k,R]=x.useState(""),[g,f]=x.useState(null),[h,m]=x.useState("idle"),[C,N]=x.useState(!1),[j,b]=x.useState(null),[O,M]=x.useState({}),V=x.useMemo(()=>{const _=n.find(L=>L.path===e);return _&&_.star!==void 0?_.star:null},[n,e])??(o==null?void 0:o.star)??null,X=t.length>1,z=x.useMemo(()=>{const _=new Set(t);return n.filter(L=>_.has(L.path))},[n,t]),ne=x.useMemo(()=>z.reduce((_,L)=>_+(L.size||0),0),[z]);x.useEffect(()=>{o&&(d((o.tags||[]).join(", ")),v(o.notes||"")),R(""),f(null),m("idle"),N(!1)},[o==null?void 0:o.updated_at,e]);const ve=x.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]);x.useEffect(()=>{if(!e)return;const _=L=>{if(Op(L.target))return;const B=L.key;if(!/^[0-5]$/.test(B))return;L.preventDefault();const K=B==="0"?null:Number(B);if(X&&t.length)Wi(t,{star:K}),s==null||s(t,K);else{const ae=ve();a.mutate({...ae,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e,X,t,ve,a,s]),x.useEffect(()=>{if(!e){S&&URL.revokeObjectURL(S),w(null);return}let _=!0;return pe.getThumb(e).then(L=>{if(!_)return;const B=URL.createObjectURL(L);w(K=>(K&&URL.revokeObjectURL(K),B))}).catch(()=>{}),()=>{_=!1}},[e]),x.useEffect(()=>()=>{S&&URL.revokeObjectURL(S)},[S]);const ye=e?e.split("/").pop()||e:"",I=x.useMemo(()=>{var L;if(ye.includes("."))return ye.slice(ye.lastIndexOf(".")+1).toUpperCase();const _=n.find(B=>B.path===e);return(L=_==null?void 0:_.type)!=null&&L.includes("/")?_.type.split("/")[1].toUpperCase():""},[ye,n,e]),A=x.useMemo(()=>n.find(_=>_.path===e),[n,e]),H=x.useMemo(()=>e?(A==null?void 0:A.source)??e:"",[A,e]),ie=x.useCallback(async()=>{if(e){m("loading"),f(null);try{const _=await pe.getMetadata(e),L=so(_.meta),B=JSON.stringify(L,null,2);R(B),m("loaded")}catch(_){const L=_ instanceof Error?_.message:"Failed to load metadata";R(L),f(L),m("error")}}},[e]),q=x.useCallback(()=>{var _;k&&((_=navigator.clipboard)==null||_.writeText(k).then(()=>{N(!0),setTimeout(()=>N(!1),1200)}).catch(L=>{const B=L instanceof Error?L.message:"Copy failed";f(B)}))},[k]),je=x.useMemo(()=>k?Qy(k):"",[k]),xe=h==="loading"?"Loading metadata":k||"PNG metadata not loaded yet.",rt=h==="loaded"&&!!k,D=rt?"h-48":"h-24",Y=x.useCallback((_,L)=>{var B;L&&((B=navigator.clipboard)==null||B.writeText(L).then(()=>{b(_),setTimeout(()=>b(K=>K===_?null:K),1e3)}).catch(()=>{}))},[]),Se=x.useCallback((_,L)=>{if(L&&!O[_]){const B=L.offsetHeight;B&&M(K=>K[_]?K:{...K,[_]:B})}},[O]);return i?c.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!X&&c.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[S&&c.jsx("img",{src:S,alt:"thumb",className:"block w-full h-full object-contain"}),!!I&&c.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:I})]})}),c.jsx("div",{className:"p-3 border-b border-border",children:X?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),c.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),c.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Ol(ne)]})]}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"font-mono text-text break-all",title:ye,children:ye})})}),c.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[c.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:p,onChange:_=>v(_.target.value),onBlur:()=>{if(X&&t.length)Wi(t,{notes:p});else{const _=ve();a.mutate({..._,notes:p,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":X?"Notes for selected items":"Notes"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:X?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),c.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:u,onChange:_=>d(_.target.value),onBlur:()=>{const _=u.split(",").map(L=>L.trim()).filter(Boolean);if(X&&t.length)Wi(t,{tags:_});else{const L=ve();a.mutate({...L,tags:_,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":X?"Tags for selected items":"Tags"})]})]}),!X&&c.jsxs("div",{className:"p-3 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),c.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[k&&c.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:q,disabled:!k,title:"Copy metadata",children:C?"Copied":"Copy"}),c.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:ie,disabled:!e||h==="loading",children:h==="loading"?"Loading":"Load meta"})]})]}),c.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${D} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:rt?c.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:je}}):xe}),g&&c.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:g})]}),c.jsxs("div",{className:"p-3 border-b border-border",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),c.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[c.jsx("span",{className:"text-muted w-16 shrink-0",children:X?"Rating (all)":"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(_=>{const L=(V??0)>=_;return c.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${L?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const B=V===_&&!X?null:_;X&&t.length?(s==null||s(t,B),Wi(t,{star:B})):e&&(s==null||s([e],B),Lp(e,{star:B}))},title:`${_} star${_>1?"s":""} (key ${_})`,"aria-label":`${_} star${_>1?"s":""}`,"aria-pressed":V===_,children:L?"":""},_)})})]}),!X&&A&&c.jsxs("div",{className:"text-[12px] space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Y("dimensions",`${A.w}${A.h}`),children:"Dimensions"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:_=>Se("dimensions",_),style:O.dimensions?{minHeight:O.dimensions}:void 0,children:j==="dimensions"?"Copied":`${A.w}${A.h}`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Y("size",Ol(A.size)),children:"Size"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:_=>Se("size",_),style:O.size?{minHeight:O.size}:void 0,children:j==="size"?"Copied":Ol(A.size)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Y("type",A.type),children:"Type"}),c.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:_=>Se("type",_),style:O.type?{minHeight:O.type}:void 0,children:j==="type"?"Copied":A.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>H&&Y("source",H),children:"Source"}),c.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:_=>Se("source",_),style:O.source?{minHeight:O.source}:void 0,children:j==="source"?"Copied":H})]}),(()=>{const _=A.metrics||null;if(!_)return null;const L=Object.entries(_).filter(([,Z])=>Z!=null);if(!L.length)return null;const B=L.sort(([Z],[re])=>Z.localeCompare(re)),K=B.slice(0,12),ae=B.length-K.length;return c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),c.jsxs("div",{className:"space-y-1",children:[K.map(([Z,re])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-24 shrink-0",children:Z}),c.jsx("span",{className:"font-mono text-text text-right",children:Wy(re)})]},Z)),ae>0&&c.jsxs("div",{className:"text-[11px] text-muted",children:["+",ae," more"]})]})]})})()]})]}),c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):c.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const Vy=(e,t)=>["search",e,t];function Ky(e,t){return Gu({enabled:!!e.trim(),queryKey:Vy(e,t),queryFn:()=>pe.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const qy=new Set([0,1,2,3,4,5]),Yu=new Set(["<","<=",">",">="]),Gy=/^\d{4}-\d{2}-\d{2}$/;function Yy(e,t){return!t||!t.and.length?e:e.filter(n=>Xy(n,t.and))}function Xy(e,t){for(const n of t)if(!Jy(e,n))return!1;return!0}function Jy(e,t){var n,r,s,i,o,l,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(o=t.urlContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.source??e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.source??e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const p=Date.parse(e.addedAt);if(Number.isNaN(p))return!1;const v=Od(u,!1),S=Od(d,!0);return!(v!=null&&p<v||S!=null&&p>S)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const p=e.w;return!Number.isFinite(p)||p<=0?!1:Td(p,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const p=e.h;return!Number.isFinite(p)||p<=0?!1:Td(p,u,d)}if("metricRange"in t){const{key:u,min:d,max:p}=t.metricRange,v=(a=e.metrics)==null?void 0:a[u];return!(v==null||v<d||v>p)}return!0}function Va(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=h0(r);s&&n.push(s)}return{and:n}}function Rd(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function _l(e,t){return Tp(e,t)}function Zy(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function Tp(e,t){const n=Ws(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function e0(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function Pp(e,t){const n=Ws(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function t0(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function Fp(e,t){const n=Tt(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function n0(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function Ip(e,t){const n=Tt(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function r0(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function _p(e,t){const n=Tt(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function s0(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function zp(e,t){const n=Tt(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function i0(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function Dp(e,t){const n=Tt(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function o0(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function Ap(e,t){const n=Tt(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function l0(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function Ka(e,t){const n=_o((t==null?void 0:t.from)??null),r=_o((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function a0(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function io(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!Yu.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function u0(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function oo(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!Yu.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function c0(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function d0(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function f0(e){const t=Va(e);return t?t.and.length:0}function h0(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=Ws(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=Ws((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=Ws((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=Tt((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=Tt((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=Tt((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=Tt((o=e.commentsNotContains)==null?void 0:o.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=Tt((l=e.urlContains)==null?void 0:l.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=Tt((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=_o((u==null?void 0:u.from)??null),p=_o((u==null?void 0:u.to)??null);return!d&&!p?null:{dateRange:{...d?{from:d}:{},...p?{to:p}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=Ld(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=Ld(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",p=qa(u.min),v=qa(u.max);return!d||p==null||v==null||p>v?null:{metricRange:{key:d,min:p,max:v}}}return null}function Ws(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=typeof n=="number"?n:typeof n=="string"?Number(n):NaN;!Number.isInteger(r)||!qy.has(r)||t.includes(r)||t.push(r)}return t}function Tt(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function _o(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function Ld(e,t){if(typeof e!="string"||!Yu.has(e))return null;const n=qa(t);return n==null?null:{op:e,value:n}}function Od(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&Gy.test(n)?r+24*60*60*1e3-1:r}function Td(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function qa(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}const zo=(e,t)=>e.name.localeCompare(t.name),p0=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?zo(e,t):n-r},m0=e=>(t,n)=>{var l,a;const r=(l=t.metrics)==null?void 0:l[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,o=s==null;return i&&o?zo(t,n):i?1:o?-1:r===s?zo(t,n):r-s};function g0(e,t){return Yy(e,t)}function v0(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function y0(e,t){const n=v0(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function x0(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return y0(e,i)}const r=t.kind==="metric"?m0(t.key):t.key==="name"?zo:p0,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Qs=40,Pd=[5,4,3,2,1],Fd=["<","<=",">",">="];function w0({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o,onChangeFilters:l}){const a=r&&n.includes(r)?r:n[0],u=x.useMemo(()=>a?Id(e,a,Qs):null,[e,a]),d=x.useMemo(()=>a&&u?Id(t,a,Qs,u):null,[t,a,u]),p=a?c0(i,a):null,[v,S]=x.useState(null),[w,k]=x.useState(!1),R=x.useRef(null),g=v??p,f=u?{min:u.min,max:u.max}:null,h=x.useMemo(()=>Zy(i),[i]),m=x.useMemo(()=>e0(i),[i]),C=x.useMemo(()=>t0(i)??"",[i]),N=x.useMemo(()=>n0(i)??"",[i]),j=x.useMemo(()=>r0(i)??"",[i]),b=x.useMemo(()=>s0(i)??"",[i]),O=x.useMemo(()=>i0(i)??"",[i]),M=x.useMemo(()=>o0(i)??"",[i]),P=x.useMemo(()=>l0(i)??{},[i]),V=x.useMemo(()=>zd(P.from),[P.from]),X=x.useMemo(()=>zd(P.to),[P.to]),z=x.useMemo(()=>a0(i),[i]),ne=x.useMemo(()=>u0(i),[i]),[ve,ye]=x.useState((z==null?void 0:z.op)??">="),[I,A]=x.useState((ne==null?void 0:ne.op)??">=");x.useEffect(()=>{z!=null&&z.op&&ye(z.op)},[z==null?void 0:z.op]),x.useEffect(()=>{ne!=null&&ne.op&&A(ne.op)},[ne==null?void 0:ne.op]);const H=(D,Y)=>{var B;if(!f||!a)return;const Se=(B=R.current)==null?void 0:B.getBoundingClientRect();if(!Se)return;const _=Up((D.clientX-Se.left)/Se.width),L=f.min+(f.max-f.min)*_;S(K=>{const ae=(K==null?void 0:K.min)??L,re=k0(ae,L);return Y&&o(a,re),re})},ie=D=>{var Y;!f||!a||(D.preventDefault(),k(!0),S(null),(Y=R.current)==null||Y.setPointerCapture(D.pointerId),H(D,!1))},q=D=>{w&&H(D,!1)},je=D=>{var Y;w&&(k(!1),(Y=R.current)==null||Y.releasePointerCapture(D.pointerId),H(D,!0),setTimeout(()=>S(null),0))},xe=(D,Y)=>{const Se=new Set(h),_=new Set(m);D==="include"?Se.has(Y)?Se.delete(Y):(Se.add(Y),_.delete(Y)):_.has(Y)?_.delete(Y):(_.add(Y),Se.delete(Y));let L=Tp(i,Array.from(Se));L=Pp(L,Array.from(_)),l(L)},rt=c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Pd.map(D=>{const Y=h.includes(D);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${Y?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>xe("include",D),"aria-pressed":Y,title:`Include ${D} star${D>1?"s":""}`,children:[D,""]},`stars-in-${D}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${h.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>xe("include",0),"aria-pressed":h.includes(0),title:"Include unrated",children:"None"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Pd.map(D=>{const Y=m.includes(D);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${Y?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>xe("exclude",D),"aria-pressed":Y,title:`Exclude ${D} star${D>1?"s":""}`,children:[D,""]},`stars-out-${D}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${m.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>xe("exclude",0),"aria-pressed":m.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:C,placeholder:"e.g. draft",onChange:D=>l(Fp(i,D.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:N,placeholder:"e.g. v1",onChange:D=>l(Ip(i,D.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:j,placeholder:"e.g. hero",onChange:D=>l(_p(i,D.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:b,placeholder:"e.g. todo",onChange:D=>l(zp(i,D.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:O,placeholder:"e.g. s3://bucket",onChange:D=>l(Dp(i,D.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:M,placeholder:"e.g. http://",onChange:D=>l(Ap(i,D.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:V,onChange:D=>l(Ka(i,{from:D.target.value||null,to:P.to??null}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:X,onChange:D=>l(Ka(i,{from:P.from??null,to:D.target.value||null}))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:ve,onChange:D=>{const Y=D.target.value;ye(Y),z&&l(io(i,{op:Y,value:z.value}))},children:Fd.map(D=>c.jsx("option",{value:D,children:D},`w-${D}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:z?String(z.value):"",min:0,placeholder:"px",onChange:D=>{const Y=D.target.value;if(!Y){l(io(i,null));return}const Se=Number(Y);Number.isFinite(Se)&&l(io(i,{op:ve,value:Se}))}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:I,onChange:D=>{const Y=D.target.value;A(Y),ne&&l(oo(i,{op:Y,value:ne.value}))},children:Fd.map(D=>c.jsx("option",{value:D,children:D},`h-${D}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:ne?String(ne.value):"",min:0,placeholder:"px",onChange:D=>{const Y=D.target.value;if(!Y){l(oo(i,null));return}const Se=Number(Y);Number.isFinite(Se)&&l(oo(i,{op:I,value:Se}))}})]})]})]})]})]})]});return n.length?c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[rt,c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),c.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,onChange:D=>s(D.target.value),children:n.map(D=>c.jsx("option",{value:D,children:D},D))})]}),u?c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[c.jsxs("span",{children:["Population: ",u.count]}),c.jsxs("span",{children:["Filtered: ",(d==null?void 0:d.count)??0]})]}),c.jsxs("svg",{ref:R,viewBox:`0 0 ${Qs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:ie,onPointerMove:q,onPointerUp:je,children:[_d(u.bins,"#2e3a4b"),d&&_d(d.bins,"#3a8fff"),g&&f&&S0(g,f)]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[c.jsx("span",{children:Qi(f==null?void 0:f.min)}),g?c.jsxs("span",{className:"text-text",children:[Qi(g.min),"  ",Qi(g.max)]}):c.jsx("span",{children:"Drag to filter"}),c.jsx("span",{children:Qi(f==null?void 0:f.max)})]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx("button",{className:"btn btn-sm",onClick:()=>a&&o(a,null),children:"Clear"})})]}):c.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[rt,c.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function Id(e,t,n,r){var u;const s=[];for(const d of e){const p=(u=d.metrics)==null?void 0:u[t];p==null||Number.isNaN(p)||s.push(p)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const d of s){const p=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));l[p]+=1}return{bins:l,min:i,max:o,count:s.length}}function _d(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return c.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function S0(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Qs*Up(Math.min(n,r)),i=Qs*Math.abs(r-n);return c.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function k0(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function Up(e){return e<0?0:e>1?1:e}function Qi(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function zd(e){return e?e.length>=10?e.slice(0,10):e:""}function C0(e){const[t,n]=x.useState(250),[r,s]=x.useState(240),i=x.useRef(t),o=x.useRef(r);return x.useEffect(()=>{i.current=t},[t]),x.useEffect(()=>{o.current=r},[r]),x.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const p=Number(u.getItem("rightW"));Number.isFinite(p)&&p>0&&s(p)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const p=d.getBoundingClientRect(),v=w=>{const k=w.clientX-p.left,R=200,g=Math.max(R,p.width-o.current-200),f=Math.min(Math.max(k,R),g);n(f)},S=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",S)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const p=d.getBoundingClientRect(),v=w=>{const k=w.clientX-p.left,R=p.width-k,g=240,f=Math.max(g,p.width-i.current-200),h=Math.min(Math.max(R,g),f);s(h)},S=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",S)}}}function E0({x:e,y:t,items:n}){return c.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>c.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&c.jsx("span",{className:"shrink-0",children:r.icon}),c.jsx("span",{children:r.label})]},s))})}function Dd(e){return JSON.stringify(e,null,2)}function Ad(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function zl(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function N0(e,t=250){const[n,r]=ao.useState(e);return ao.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Ie={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function j0(){var Zu;const[e,t]=x.useState("/"),[n,r]=x.useState(""),[s,i]=x.useState([]),[o,l]=x.useState(null),[a,u]=x.useState(0),[d,p]=x.useState(null),[v,S]=x.useState(100),[w,k]=x.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[R,g]=x.useState(()=>Date.now()),[f,h]=x.useState("adaptive"),[m,C]=x.useState(220),[N,j]=x.useState(!0),[b,O]=x.useState(!0),[M,P]=x.useState("folders"),[V,X]=x.useState([]),[z,ne]=x.useState(null),[ve,ye]=x.useState({}),I=x.useRef(null),A=x.useRef(null),H=x.useRef(!1),ie=x.useRef(null),{leftW:q,rightW:je,onResizeLeft:xe,onResizeRight:rt}=C0(I),[D,Y]=x.useState(!1),[Se,_]=x.useState(null);x.useEffect(()=>{const E=Yr(Cd());t(E);const T=()=>{const Q=Yr(Cd());l(null),t(te=>te===Q?te:(u(ce=>ce+1),Q))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:L,refetch:B,isLoading:K,isError:ae}=jp(e),Z=n.trim().length>0,re=N0(n,250),W=x.useMemo(()=>re.trim().replace(/\s+/g," "),[re]),Le=Ky(Z?W:"",e),Ee=x.useMemo(()=>Rd(w.filters),[w.filters]),Oe=x.useMemo(()=>{var T;return(Z?((T=Le.data)==null?void 0:T.items)??[]:(L==null?void 0:L.items)??[]).map(Q=>({...Q,star:ve[Q.path]!==void 0?ve[Q.path]:Q.star}))},[Z,Le.data,L,ve]),We=x.useMemo(()=>{const E=g0(Oe,w.filters);return x0(E,w.sort,R)},[Oe,w.filters,w.sort,R]),Fe=x.useMemo(()=>We.map(E=>E.path),[We]),sn=x.useMemo(()=>{const E=Oe,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const Q of E){const te=ve[Q.path]??Q.star??0;T[String(te)]=(T[String(te)]||0)+1}return T},[Oe,ve]),oe=x.useMemo(()=>{const E=new Set;let T=0;for(const Q of Oe){const te=Q.metrics;if(te)for(const ce of Object.keys(te))E.add(ce);if(T+=1,T>=250&&E.size>0)break}return Array.from(E).sort()},[Oe]);x.useEffect(()=>{oe.length&&k(E=>{const T=E.selectedMetric&&oe.includes(E.selectedMetric)?E.selectedMetric:oe[0];return T===E.selectedMetric?E:{...E,selectedMetric:T}})},[oe]),x.useEffect(()=>{w.sort.kind==="metric"&&(oe.includes(w.sort.key)||k(E=>({...E,sort:{kind:"builtin",key:"added",dir:E.sort.dir}})))},[oe,w.sort]);const ze=x.useMemo(()=>f0(w.filters),[w.filters]),he=x.useCallback(E=>{k(T=>({...T,filters:E(T.filters)}))},[]),Zn=x.useCallback(E=>{k(T=>({...T,filters:E}))},[]),Qe=x.useCallback(()=>{he(E=>_l(E,[]))},[he]),dt=x.useCallback(()=>{k(E=>({...E,filters:{and:[]}}))},[]),Nt=x.useCallback((E,T)=>{he(Q=>d0(Q,E,T))},[he]),Kt=x.useMemo(()=>{var T,Q,te,ce,jt,er;const E=[];for(const de of w.filters.and)if("stars"in de){const J=de.stars||[];if(!J.length)continue;E.push({id:"stars",label:`Rating in: ${Dl(J)}`,onRemove:()=>Qe()})}else if("starsIn"in de){const J=de.starsIn.values||[];if(!J.length)continue;E.push({id:"stars-in",label:`Rating in: ${Dl(J)}`,onRemove:()=>Qe()})}else if("starsNotIn"in de){const J=de.starsNotIn.values||[];if(!J.length)continue;E.push({id:"stars-not-in",label:`Rating not in: ${Dl(J)}`,onRemove:()=>he(ge=>Pp(ge,[]))})}else if("nameContains"in de){const J=(T=de.nameContains.value)==null?void 0:T.trim();if(!J)continue;E.push({id:"name-contains",label:`Filename contains: ${J}`,onRemove:()=>he(ge=>Fp(ge,""))})}else if("nameNotContains"in de){const J=(Q=de.nameNotContains.value)==null?void 0:Q.trim();if(!J)continue;E.push({id:"name-not-contains",label:`Filename not: ${J}`,onRemove:()=>he(ge=>Ip(ge,""))})}else if("commentsContains"in de){const J=(te=de.commentsContains.value)==null?void 0:te.trim();if(!J)continue;E.push({id:"comments-contains",label:`Comments contain: ${J}`,onRemove:()=>he(ge=>_p(ge,""))})}else if("commentsNotContains"in de){const J=(ce=de.commentsNotContains.value)==null?void 0:ce.trim();if(!J)continue;E.push({id:"comments-not-contains",label:`Comments not: ${J}`,onRemove:()=>he(ge=>zp(ge,""))})}else if("urlContains"in de){const J=(jt=de.urlContains.value)==null?void 0:jt.trim();if(!J)continue;E.push({id:"url-contains",label:`URL contains: ${J}`,onRemove:()=>he(ge=>Dp(ge,""))})}else if("urlNotContains"in de){const J=(er=de.urlNotContains.value)==null?void 0:er.trim();if(!J)continue;E.push({id:"url-not-contains",label:`URL not: ${J}`,onRemove:()=>he(ge=>Ap(ge,""))})}else if("dateRange"in de){const{from:J,to:ge}=de.dateRange;if(!J&&!ge)continue;E.push({id:"date-range",label:`Date: ${R0(J,ge)}`,onRemove:()=>he(Gt=>Ka(Gt,null))})}else if("widthCompare"in de){const{op:J,value:ge}=de.widthCompare;E.push({id:"width-compare",label:`Width ${J} ${ge}`,onRemove:()=>he(Gt=>io(Gt,null))})}else if("heightCompare"in de){const{op:J,value:ge}=de.heightCompare;E.push({id:"height-compare",label:`Height ${J} ${ge}`,onRemove:()=>he(Gt=>oo(Gt,null))})}else if("metricRange"in de){const{key:J,min:ge,max:Gt}=de.metricRange;E.push({id:`metric:${J}`,label:`${J}: ${L0(ge,Gt)}`,onRemove:()=>Nt(J,null)})}return E},[w.filters,Qe,Nt,he]),qt=x.useCallback(E=>{const T=new Set(Ee);T.has(E)?T.delete(E):T.add(E),k(Q=>({...Q,filters:_l(Q.filters,Array.from(T))}))},[Ee]),wi=x.useCallback(()=>{j(!0),P("metrics")},[]),br=x.useCallback(E=>{k(T=>({...T,sort:E})),E.kind==="builtin"&&E.key==="random"&&g(Date.now())},[]),Si=x.useCallback(E=>{if(E==="/"||E==="")return"Lenslet | Root";const T=E.split("/").filter(Boolean);if(!T.length)return"Lenslet";const Q=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${Q}`:`/${Q}`}`},[]);x.useEffect(()=>{document.title=Si(e)},[e,Si]),x.useEffect(()=>{let E=!0;return pe.getViews().then(T=>{E&&X(T.views||[])}).catch(()=>{E&&X([])}),()=>{E=!1}},[]),x.useEffect(()=>{Z&&(i([]),l(null))},[Z]),x.useEffect(()=>{try{const E=localStorage.getItem(Ie.sortKey),T=localStorage.getItem(Ie.sortDir),Q=localStorage.getItem(Ie.sortSpec),te=localStorage.getItem(Ie.starFilters),ce=localStorage.getItem(Ie.filterAst),jt=localStorage.getItem(Ie.selectedMetric),er=localStorage.getItem(Ie.viewMode),de=localStorage.getItem(Ie.gridItemSize),J=localStorage.getItem(Ie.leftOpen),ge=localStorage.getItem(Ie.rightOpen),ec=(Xe=>{if(!Xe)return null;const Ae=Tl(Xe);return!Ae||typeof Ae!="object"?null:Ae.kind==="builtin"&&(Ae.key==="name"||Ae.key==="added"||Ae.key==="random")&&(Ae.dir==="asc"||Ae.dir==="desc")||Ae.kind==="metric"&&typeof Ae.key=="string"&&Ae.key.length>0&&(Ae.dir==="asc"||Ae.dir==="desc")?Ae:null})(Q)??{kind:"builtin",key:E==="name"||E==="added"||E==="random"?E:"added",dir:T==="asc"||T==="desc"?T:"desc"};ec.key==="random"&&g(Date.now());let nl=(Xe=>{if(!Xe)return null;const Ae=Tl(Xe);return Va(Ae)})(ce)??{and:[]};if(te){const Xe=Tl(te);if(Array.isArray(Xe)){const Ae=Xe.filter(Kp=>[0,1,2,3,4,5].includes(Kp));nl=_l(nl,Ae)}}if(k(Xe=>({...Xe,sort:ec,filters:nl,selectedMetric:jt||Xe.selectedMetric})),(er==="grid"||er==="adaptive")&&h(er),de){const Xe=Number(de);!isNaN(Xe)&&Xe>=80&&Xe<=500&&C(Xe)}(J==="0"||J==="false")&&j(!1),(ge==="0"||ge==="false")&&O(!1)}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem(Ie.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Ie.sortDir,w.sort.dir),localStorage.setItem(Ie.sortSpec,JSON.stringify(w.sort));const E=Rd(w.filters);localStorage.setItem(Ie.starFilters,JSON.stringify(E)),localStorage.setItem(Ie.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Ie.selectedMetric,w.selectedMetric):localStorage.removeItem(Ie.selectedMetric),localStorage.setItem(Ie.viewMode,f),localStorage.setItem(Ie.gridItemSize,String(m)),localStorage.setItem(Ie.leftOpen,N?"1":"0"),localStorage.setItem(Ie.rightOpen,b?"1":"0")}catch{}},[w,f,m,N,b]),x.useEffect(()=>{const E=A.current;if(!E)return;const T=te=>Math.min(500,Math.max(80,te)),Q=te=>{te.ctrlKey&&(te.preventDefault(),C(ce=>T(ce+(te.deltaY<0?20:-20))))};return E.addEventListener("wheel",Q,{passive:!1}),()=>E.removeEventListener("wheel",Q)},[]),x.useEffect(()=>{if(!o)return;const E=Fe.indexOf(o);if(E===-1)return;const T=[Fe[E-2],Fe[E-1],Fe[E+1],Fe[E+2]].filter(Q=>!!Q);for(const Q of T)pe.prefetchFile(Q),pe.prefetchThumb(Q)},[o,Fe]),x.useEffect(()=>{var T;if(!((T=L==null?void 0:L.items)!=null&&T.length))return;const E=L.items.slice(0,5);for(const Q of E)pe.prefetchFile(Q.path)},[L==null?void 0:L.path,L==null?void 0:L.items]);const ki=x.useCallback(E=>{l(null);const T=Yr(E);t(T),hy(T)},[]),$p=x.useCallback(async()=>{const E=window.prompt("Save Smart Folder as:","New Smart Folder");if(!E)return;const T=b0(E,V),Q={id:T,name:E,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},te=[...V.filter(ce=>ce.id!==T),Q];X(te),ne(T);try{await pe.saveViews({version:1,views:te})}catch(ce){if(ce instanceof Wt&&ce.status===403){const jt=new Blob([JSON.stringify({version:1,views:te},null,2)],{type:"application/json"});lo(jt,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",ce)}},[e,w,V]);x.useEffect(()=>{if(!z)return;const E=V.find(te=>te.id===z);if(!E){ne(null);return}const T=E.pool.path===e,Q=JSON.stringify(E.view)===JSON.stringify(w);(!T||!Q)&&ne(null)},[z,V,e,w]);const Bp=x.useCallback(E=>{l(E),H.current||(window.history.pushState({viewer:!0},"",window.location.href),H.current=!0)},[]),Xu=x.useCallback(()=>{l(null),H.current&&(H.current=!1,window.history.back());const E=ie.current;if(E){const T=document.getElementById(`cell-${encodeURIComponent(E)}`);T==null||T.focus()}},[]);x.useEffect(()=>{const E=()=>{o&&(H.current=!1,l(null))};return window.addEventListener("popstate",E),()=>window.removeEventListener("popstate",E)},[o]),x.useEffect(()=>{const E=I.current;if(!E)return;const T=ce=>{ce.dataTransfer&&Array.from(ce.dataTransfer.types).includes("Files")&&(ce.preventDefault(),Y(!0))},Q=ce=>{const jt=ce.relatedTarget;jt&&E.contains(jt)||Y(!1)},te=async ce=>{var de,J;ce.preventDefault(),Y(!1);const jt=Array.from(((de=ce.dataTransfer)==null?void 0:de.files)??[]);if(!jt.length)return;if(!((((J=L==null?void 0:L.dirs)==null?void 0:J.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ge of jt)try{await pe.uploadFile(e,ge)}catch(Gt){console.error(`Failed to upload ${ge.name}:`,Gt)}B()};return E.addEventListener("dragover",T),E.addEventListener("dragleave",Q),E.addEventListener("drop",te),()=>{E.removeEventListener("dragover",T),E.removeEventListener("dragleave",Q),E.removeEventListener("drop",te)}},[e,(Zu=L==null?void 0:L.dirs)==null?void 0:Zu.length,B]),x.useEffect(()=>{const E=()=>_(null),T=Q=>{Q.key==="Escape"&&_(null)};return window.addEventListener("click",E),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",E),window.removeEventListener("keydown",T)}},[]),x.useEffect(()=>{const E=T=>{if(!Op(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?O(Q=>!Q):j(Q=>!Q);return}if(!o){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),ki(my(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(We.map(Q=>Q.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const Q=document.querySelector(".toolbar-right .input");Q==null||Q.focus()}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,We,s,o,ki]);const Wp=N?`${q}px`:"0px",Qp=b?`${je}px`:"0px",Ju=o??s[0]??null,el=Ju?Fe.indexOf(Ju):-1,Hp=el>0,Vp=el>=0&&el<Fe.length-1,tl=x.useCallback(E=>{if(!Fe.length)return;const T=o??s[0];if(!T)return;const Q=Fe.indexOf(T);if(Q===-1)return;const te=Math.min(Fe.length-1,Math.max(0,Q+E)),ce=Fe[te];!ce||ce===T||(o&&l(ce),i([ce]))},[Fe,o,s]);return c.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:I,style:{"--left":Wp,"--right":Qp},children:[c.jsx(oy,{onSearch:r,viewerActive:!!o,onBack:Xu,zoomPercent:o?v:void 0,onZoomPercentChange:E=>p(E),sortSpec:w.sort,metricKeys:oe,onSortChange:br,filterCount:ze,onOpenFilters:wi,starFilters:Ee,onToggleStar:qt,onClearStars:Qe,onClearFilters:dt,starCounts:sn,viewMode:f,onViewMode:h,gridItemSize:m,onGridItemSize:C,leftOpen:N,rightOpen:b,onToggleLeft:()=>j(E=>!E),onToggleRight:()=>O(E=>!E),onPrevImage:()=>tl(-1),onNextImage:()=>tl(1),canPrevImage:Hp,canNextImage:Vp}),N&&c.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${M==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":M==="folders",onClick:()=>P("folders"),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${M==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":M==="metrics",onClick:()=>P("metrics"),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]})})]}),c.jsx("div",{className:"ml-10 h-full",children:M==="folders"?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:$p,title:"Save current view as Smart Folder",children:"+ New"})]}),V.length?c.jsx("div",{className:"flex flex-col gap-1",children:V.map(E=>{const T=E.id===z;return c.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var te;ne(E.id);const Q=Va((te=E.view)==null?void 0:te.filters)??{and:[]};k({...E.view,filters:Q}),ki(E.pool.path),P("metrics")},children:E.name},E.id)})}):c.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),c.jsx(vy,{current:e,roots:[{label:"Root",path:"/"}],data:L,onOpen:E=>{ne(null),ki(E)},onContextMenu:(E,T)=>{E.preventDefault(),_({x:E.clientX,y:E.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):c.jsx(w0,{items:Oe,filteredItems:We,metricKeys:oe,selectedMetric:w.selectedMetric,onSelectMetric:E=>k(T=>({...T,selectedMetric:E})),filters:w.filters,onChangeRange:Nt,onChangeFilters:Zn})}),c.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:xe})]}),c.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:A,children:[c.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Kt.length>0&&c.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:Kt.map(E=>c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[c.jsx("span",{children:E.label}),c.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${E.label}`,onClick:E.onRemove,children:""})]},E.id))})}),!1,c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(_y,{items:We,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:E=>{try{ie.current=E}catch{}Bp(E),i([E])},highlight:Z?W:"",suppressSelectionHighlight:!!o,viewMode:f,targetCellSize:m,onContextMenuItem:(E,T)=>{E.preventDefault();const Q=s.length?s:[T];_({x:E.clientX,y:E.clientY,kind:"grid",payload:{paths:Q}})}})})]}),b&&c.jsx(Hy,{path:s[0]??null,selectedPaths:s,items:We,onResize:rt,onStarChanged:(E,T)=>{ye(Q=>{const te={...Q};for(const ce of E)te[ce]=T;return te})}}),o&&c.jsx(Dy,{path:o,onClose:Xu,onZoomChange:E=>S(Math.round(E)),requestedZoomPercent:d,onZoomRequestConsumed:()=>p(null),onNavigate:tl}),D&&c.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),Se&&c.jsx(O0,{ctx:Se,current:e,items:We,refetch:B,setCtx:_})]})}function b0(e,t){const n=M0(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function M0(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Dl(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function R0(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function L0(e,t){return`${Ud(e)}${Ud(t)}`}function Ud(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function lo(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function O0({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=gy(t),o=(h,m)=>h==="/"?`/${m}`:`${h}/${m}`,l=xi(),[a,u]=ao.useState(!1),[d,p]=ao.useState(null),v=()=>new Date().toISOString().replace(/[:.]/g,"-"),S=h=>{const m=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const N=typeof C[1]=="string"?C[1]:"";return m(N)}})},w=h=>{const m=Yr(h);return m===""?"/":m},k=async()=>{const h=w(e.payload.path||"/");u(!0);try{await pe.refreshFolder(h),S(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),Ha.evictPrefix(h),Or.evictPrefix(h)}catch(m){console.error("Failed to refresh folder:",m)}finally{u(!1),s(null)}},R=async h=>{const m=[h],C=new Set,N=[];for(;m.length;){const j=m.pop();if(!C.has(j)){C.add(j);try{const b=await pe.getFolder(j);N.push(...b.items);for(const O of b.dirs)O.kind==="branch"&&m.push(o(j,O.name))}catch(b){console.error(`Failed to fetch folder ${j}:`,b)}}}return N},g=h=>async()=>{p(h);const m=e.payload.path||t;try{const C=await R(m),N=zl(C),j=h==="csv"?Ad(N):Dd(N),b=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",O=m==="/"?"root":(m.replace(/^\/+/,"")||"root").replace(/\//g,"_");lo(new Blob([j],{type:b}),`metadata_${O}_${v()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{p(null),s(null)}},f=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:k},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:g("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:g("json")}]:(()=>{const h=e.payload.paths??[],m=[];return m.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await pe.moveFile(C,"/_trash_")}catch(N){console.error(`Failed to trash ${C}:`,N)}r(),s(null)}}}),i&&(m.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await pe.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),m.push({label:"Recover",onClick:async()=>{for(const C of h)try{const j=(await pe.getSidecar(C)).original_position,b=j&&j.split("/").slice(0,-1).join("/")||"/";await pe.moveFile(C,b)}catch(N){console.error(`Failed to recover ${C}:`,N)}r(),s(null)}})),h.length&&(m.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{p("csv");try{const C=new Set(h),N=n.filter(O=>C.has(O.path)),j=zl(N),b=Ad(j);lo(new Blob([b],{type:"text/csv;charset=utf-8"}),`metadata_selection_${v()}.csv`)}finally{p(null),s(null)}}}),m.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{p("json");try{const C=new Set(h),N=n.filter(O=>C.has(O.path)),j=zl(N),b=Dd(j);lo(new Blob([b],{type:"application/json;charset=utf-8"}),`metadata_selection_${v()}.json`)}finally{p(null),s(null)}}})),m})();return c.jsx(E0,{x:e.x,y:e.y,items:f})}const T0=new Hv({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function P0(){return c.jsx(Vv,{client:T0,children:c.jsx(j0,{})})}dp(document.getElementById("root")).render(c.jsx(P0,{}));
