var pm=Object.defineProperty;var ic=e=>{throw TypeError(e)};var mm=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jr=(e,t,n)=>mm(e,typeof t!="symbol"?t+"":t,n),sl=(e,t,n)=>t.has(e)||ic("Cannot "+n);var x=(e,t,n)=>(sl(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?ic("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),D=(e,t,n,r)=>(sl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),se=(e,t,n)=>(sl(e,t,"access private method"),n);var Ci=(e,t,n,r)=>({set _(s){D(e,t,s,n)},get _(){return x(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pf={exports:{}},zo={},mf={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=Symbol.for("react.element"),vm=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),xm=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),km=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Nm=Symbol.for("react.memo"),bm=Symbol.for("react.lazy"),oc=Symbol.iterator;function jm(e){return e===null||typeof e!="object"?null:(e=oc&&e[oc]||e["@@iterator"],typeof e=="function"?e:null)}var gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,yf={};function vs(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}vs.prototype.isReactComponent={};vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xf(){}xf.prototype=vs.prototype;function Ja(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}var Za=Ja.prototype=new xf;Za.constructor=Ja;vf(Za,vs.prototype);Za.isPureReactComponent=!0;var lc=Array.isArray,wf=Object.prototype.hasOwnProperty,eu={current:null},Sf={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wf.call(t,r)&&!Sf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:mi,type:e,key:i,ref:o,props:s,_owner:eu.current}}function Mm(e,t){return{$$typeof:mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===mi}function Rm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ac=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rm(""+e.key):t.toString(36)}function Qi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mi:case vm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+il(o,0):r,lc(s)?(n="",e!=null&&(n=e.replace(ac,"$&/")+"/"),Qi(s,t,n,"",function(u){return u})):s!=null&&(tu(s)&&(s=Mm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ac,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",lc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+il(i,l);o+=Qi(i,t,n,a,s)}else if(a=jm(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+il(i,l++),o+=Qi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ei(e,t,n){if(e==null)return e;var r=[],s=0;return Qi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Lm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Hi={transition:null},Tm={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Hi,ReactCurrentOwner:eu};function Cf(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ei,forEach:function(e,t,n){Ei(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=vs;le.Fragment=ym;le.Profiler=wm;le.PureComponent=Ja;le.StrictMode=xm;le.Suspense=Em;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;le.act=Cf;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=eu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)wf.call(t,a)&&!Sf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:mi,type:e.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:km,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sm,_context:e},e.Consumer=e};le.createElement=kf;le.createFactory=function(e){var t=kf.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Cm,render:e}};le.isValidElement=tu;le.lazy=function(e){return{$$typeof:bm,_payload:{_status:-1,_result:e},_init:Lm}};le.memo=function(e,t){return{$$typeof:Nm,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Hi.transition;Hi.transition={};try{e()}finally{Hi.transition=t}};le.unstable_act=Cf;le.useCallback=function(e,t){return ot.current.useCallback(e,t)};le.useContext=function(e){return ot.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};le.useEffect=function(e,t){return ot.current.useEffect(e,t)};le.useId=function(){return ot.current.useId()};le.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return ot.current.useMemo(e,t)};le.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};le.useRef=function(e){return ot.current.useRef(e)};le.useState=function(e){return ot.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return ot.current.useTransition()};le.version="18.3.1";mf.exports=le;var y=mf.exports;const lo=gm(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=y,Pm=Symbol.for("react.element"),Fm=Symbol.for("react.fragment"),Im=Object.prototype.hasOwnProperty,_m=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zm={key:!0,ref:!0,__self:!0,__source:!0};function Ef(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Im.call(t,r)&&!zm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pm,type:e,key:i,ref:o,props:s,_owner:_m.current}}zo.Fragment=Fm;zo.jsx=Ef;zo.jsxs=Ef;pf.exports=zo;var c=pf.exports,Nf={exports:{}},xt={},bf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,Q){var H=P.length;P.push(Q);e:for(;0<H;){var ie=H-1>>>1,Z=P[ie];if(0<s(Z,Q))P[ie]=Q,P[H]=Z,H=ie;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Q=P[0],H=P.pop();if(H!==Q){P[0]=H;e:for(var ie=0,Z=P.length,he=Z>>>1;ie<he;){var Fe=2*(ie+1)-1,$e=P[Fe],Qe=Fe+1,St=P[Qe];if(0>s($e,H))Qe<Z&&0>s(St,$e)?(P[ie]=St,P[Qe]=H,ie=Qe):(P[ie]=$e,P[Fe]=H,ie=Fe);else if(Qe<Z&&0>s(St,H))P[ie]=St,P[Qe]=H,ie=Qe;else break e}}return Q}function s(P,Q){var H=P.sortIndex-Q.sortIndex;return H!==0?H:P.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,g=3,S=!1,w=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(P){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=P)r(u),Q.sortIndex=Q.expirationTime,t(a,Q);else break;Q=n(u)}}function p(P){if(N=!1,h(P),!w)if(n(a)!==null)w=!0,ee(C);else{var Q=n(u);Q!==null&&ae(p,Q.startTime-P)}}function C(P,Q){w=!1,N&&(N=!1,v(b),b=-1),S=!0;var H=g;try{for(h(Q),f=n(a);f!==null&&(!(f.expirationTime>Q)||P&&!A());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,g=f.priorityLevel;var Z=ie(f.expirationTime<=Q);Q=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(a)&&r(a),h(Q)}else r(a);f=n(a)}if(f!==null)var he=!0;else{var Fe=n(u);Fe!==null&&ae(p,Fe.startTime-Q),he=!1}return he}finally{f=null,g=H,S=!1}}var M=!1,R=null,b=-1,_=5,k=-1;function A(){return!(e.unstable_now()-k<_)}function J(){if(R!==null){var P=e.unstable_now();k=P;var Q=!0;try{Q=R(!0,P)}finally{Q?re():(M=!1,R=null)}}else M=!1}var re;if(typeof m=="function")re=function(){m(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=J,re=function(){U.postMessage(null)}}else re=function(){L(J,0)};function ee(P){R=P,M||(M=!0,re())}function ae(P,Q){b=L(function(){P(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,ee(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var H=g;g=Q;try{return P()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,Q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=g;g=P;try{return Q()}finally{g=H}},e.unstable_scheduleCallback=function(P,Q,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,P={id:d++,callback:Q,priorityLevel:P,startTime:H,expirationTime:Z,sortIndex:-1},H>ie?(P.sortIndex=H,t(u,P),n(a)===null&&P===n(u)&&(N?(v(b),b=-1):N=!0,ae(p,H-ie))):(P.sortIndex=Z,t(a,P),w||S||(w=!0,ee(C))),P},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(P){var Q=g;return function(){var H=g;g=Q;try{return P.apply(this,arguments)}finally{g=H}}}})(jf);bf.exports=jf;var Dm=bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=y,yt=Dm;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,Vs={};function Er(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(Vs[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=Object.prototype.hasOwnProperty,$m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uc={},cc={};function Um(e){return $l.call(cc,e)?!0:$l.call(uc,e)?!1:$m.test(e)?cc[e]=!0:(uc[e]=!0,!1)}function Bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wm(e,t,n,r){if(t===null||typeof t>"u"||Bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function ru(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nu,ru);Ke[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nu,ru);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nu,ru);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function su(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wm(t,n,s,r)&&(n=null),r||s===null?Um(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),Rf=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),dc=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,ol;function Ls(e){if(ol===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var ll=!1;function al(e,t){if(!e||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ls(e):""}function Qm(e){switch(e.tag){case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Pr:return"Portal";case Ul:return"Profiler";case iu:return"StrictMode";case Bl:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lf:return(e.displayName||"Context")+".Consumer";case Rf:return(e._context.displayName||"Context")+".Provider";case ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lu:return t=e.displayName||null,t!==null?t:Ql(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return Ql(e(t))}catch{}}return null}function Hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(t);case 8:return t===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vm(e){var t=Of(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bi(e){e._valueTracker||(e._valueTracker=Vm(e))}function Pf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Of(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ff(e,t){t=t.checked,t!=null&&su(e,"checked",t,!1)}function Vl(e,t){Ff(e,t);var n=Gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,Gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||ao(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ts=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Ts(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gn(n)}}function If(e,t){var n=Gn(t.value),r=Gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _f(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_f(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ji,zf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){Km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function Df(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function Af(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Df(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qm=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(e,t){if(t){if(qm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zl=null,Vr=null,Kr=null;function gc(e){if(e=yi(e)){if(typeof Zl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bo(t),Zl(e.stateNode,e.type,t))}}function $f(e){Vr?Kr?Kr.push(e):Kr=[e]:Vr=e}function Uf(){if(Vr){var e=Vr,t=Kr;if(Kr=Vr=null,gc(e),t)for(e=0;e<t.length;e++)gc(t[e])}}function Bf(e,t){return e(t)}function Wf(){}var ul=!1;function Qf(e,t,n){if(ul)return e(t,n);ul=!0;try{return Bf(e,t,n)}finally{ul=!1,(Vr!==null||Kr!==null)&&(Wf(),Uf())}}function qs(e,t){var n=e.stateNode;if(n===null)return null;var r=Bo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ea=!1;if(gn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{ea=!1}function Gm(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _s=!1,uo=null,co=!1,ta=null,Ym={onError:function(e){_s=!0,uo=e}};function Xm(e,t,n,r,s,i,o,l,a){_s=!1,uo=null,Gm.apply(Ym,arguments)}function Jm(e,t,n,r,s,i,o,l,a){if(Xm.apply(this,arguments),_s){if(_s){var u=uo;_s=!1,uo=null}else throw Error(I(198));co||(co=!0,ta=u)}}function Nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vc(e){if(Nr(e)!==e)throw Error(I(188))}function Zm(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vc(s),e;if(i===r)return vc(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Vf(e){return e=Zm(e),e!==null?Kf(e):null}function Kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kf(e);if(t!==null)return t;e=e.sibling}return null}var qf=yt.unstable_scheduleCallback,yc=yt.unstable_cancelCallback,eg=yt.unstable_shouldYield,tg=yt.unstable_requestPaint,Pe=yt.unstable_now,ng=yt.unstable_getCurrentPriorityLevel,uu=yt.unstable_ImmediatePriority,Gf=yt.unstable_UserBlockingPriority,fo=yt.unstable_NormalPriority,rg=yt.unstable_LowPriority,Yf=yt.unstable_IdlePriority,Do=null,en=null;function sg(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:lg,ig=Math.log,og=Math.LN2;function lg(e){return e>>>=0,e===0?32:31-(ig(e)/og|0)|0}var Mi=64,Ri=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ho(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Os(l):(i&=o,i!==0&&(r=Os(i)))}else o=n&~s,o!==0?r=Os(o):i!==0&&(r=Os(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),s=1<<n,r|=e[n],t&=~s;return r}function ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=ag(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function cg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ve=0;function Jf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zf,du,eh,th,nh,ra=!1,Li=[],$n=null,Un=null,Bn=null,Gs=new Map,Ys=new Map,jn=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xc(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function Cs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yi(t),t!==null&&du(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fg(e,t,n,r,s){switch(t){case"focusin":return $n=Cs($n,e,t,n,r,s),!0;case"dragenter":return Un=Cs(Un,e,t,n,r,s),!0;case"mouseover":return Bn=Cs(Bn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gs.set(i,Cs(Gs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ys.set(i,Cs(Ys.get(i)||null,e,t,n,r,s)),!0}return!1}function rh(e){var t=nr(e.target);if(t!==null){var n=Nr(t);if(n!==null){if(t=n.tag,t===13){if(t=Hf(n),t!==null){e.blockedOn=t,nh(e.priority,function(){eh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jl=r,n.target.dispatchEvent(r),Jl=null}else return t=yi(n),t!==null&&du(t),e.blockedOn=n,!1;t.shift()}return!0}function wc(e,t,n){Vi(e)&&n.delete(t)}function hg(){ra=!1,$n!==null&&Vi($n)&&($n=null),Un!==null&&Vi(Un)&&(Un=null),Bn!==null&&Vi(Bn)&&(Bn=null),Gs.forEach(wc),Ys.forEach(wc)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,ra||(ra=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,hg)))}function Xs(e){function t(s){return Es(s,e)}if(0<Li.length){Es(Li[0],e);for(var n=1;n<Li.length;n++){var r=Li[n];r.blockedOn===e&&(r.blockedOn=null)}}for($n!==null&&Es($n,e),Un!==null&&Es(Un,e),Bn!==null&&Es(Bn,e),Gs.forEach(t),Ys.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)rh(n),n.blockedOn===null&&jn.shift()}var qr=wn.ReactCurrentBatchConfig,po=!0;function pg(e,t,n,r){var s=ve,i=qr.transition;qr.transition=null;try{ve=1,fu(e,t,n,r)}finally{ve=s,qr.transition=i}}function mg(e,t,n,r){var s=ve,i=qr.transition;qr.transition=null;try{ve=4,fu(e,t,n,r)}finally{ve=s,qr.transition=i}}function fu(e,t,n,r){if(po){var s=sa(e,t,n,r);if(s===null)wl(e,t,r,mo,n),xc(e,r);else if(fg(s,e,t,n,r))r.stopPropagation();else if(xc(e,r),t&4&&-1<dg.indexOf(e)){for(;s!==null;){var i=yi(s);if(i!==null&&Zf(i),i=sa(e,t,n,r),i===null&&wl(e,t,r,mo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wl(e,t,r,null,n)}}var mo=null;function sa(e,t,n,r){if(mo=null,e=au(r),e=nr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mo=e,null}function sh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case uu:return 1;case Gf:return 4;case fo:case rg:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var Dn=null,hu=null,Ki=null;function ih(){if(Ki)return Ki;var e,t=hu,n=t.length,r,s="value"in Dn?Dn.value:Dn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ki=s.slice(e,1<r?1-r:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function Sc(){return!1}function wt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ti:Sc,this.isPropagationStopped=Sc,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=wt(ys),vi=je({},ys,{view:0,detail:0}),gg=wt(vi),dl,fl,Ns,Ao=je({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(dl=e.screenX-Ns.screenX,fl=e.screenY-Ns.screenY):fl=dl=0,Ns=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),kc=wt(Ao),vg=je({},Ao,{dataTransfer:0}),yg=wt(vg),xg=je({},vi,{relatedTarget:0}),hl=wt(xg),wg=je({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=wt(wg),kg=je({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cg=wt(kg),Eg=je({},ys,{data:0}),Cc=wt(Eg),Ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jg[e])?!!t[e]:!1}function mu(){return Mg}var Rg=je({},vi,{key:function(e){if(e.key){var t=Ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=wt(Rg),Tg=je({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=wt(Tg),Og=je({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Pg=wt(Og),Fg=je({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=wt(Fg),_g=je({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=wt(_g),Dg=[9,13,27,32],gu=gn&&"CompositionEvent"in window,zs=null;gn&&"documentMode"in document&&(zs=document.documentMode);var Ag=gn&&"TextEvent"in window&&!zs,oh=gn&&(!gu||zs&&8<zs&&11>=zs),Nc=" ",bc=!1;function lh(e,t){switch(e){case"keyup":return Dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function $g(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(bc=!0,Nc);case"textInput":return e=t.data,e===Nc&&bc?null:e;default:return null}}function Ug(e,t){if(Ir)return e==="compositionend"||!gu&&lh(e,t)?(e=ih(),Ki=hu=Dn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oh&&t.locale!=="ko"?null:t.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bg[e.type]:t==="textarea"}function uh(e,t,n,r){$f(r),t=go(t,"onChange"),0<t.length&&(n=new pu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ds=null,Js=null;function Wg(e){wh(e,0)}function $o(e){var t=Dr(e);if(Pf(t))return e}function Qg(e,t){if(e==="change")return t}var ch=!1;if(gn){var pl;if(gn){var ml="oninput"in document;if(!ml){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),ml=typeof Mc.oninput=="function"}pl=ml}else pl=!1;ch=pl&&(!document.documentMode||9<document.documentMode)}function Rc(){Ds&&(Ds.detachEvent("onpropertychange",dh),Js=Ds=null)}function dh(e){if(e.propertyName==="value"&&$o(Js)){var t=[];uh(t,Js,e,au(e)),Qf(Wg,t)}}function Hg(e,t,n){e==="focusin"?(Rc(),Ds=t,Js=n,Ds.attachEvent("onpropertychange",dh)):e==="focusout"&&Rc()}function Vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $o(Js)}function Kg(e,t){if(e==="click")return $o(t)}function qg(e,t){if(e==="input"||e==="change")return $o(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Gg;function Zs(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$l.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tc(e,t){var n=Lc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lc(n)}}function fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hh(){for(var e=window,t=ao();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ao(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yg(e){var t=hh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fh(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Tc(n,i);var o=Tc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xg=gn&&"documentMode"in document&&11>=document.documentMode,_r=null,ia=null,As=null,oa=!1;function Oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oa||_r==null||_r!==ao(r)||(r=_r,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Zs(As,r)||(As=r,r=go(ia,"onSelect"),0<r.length&&(t=new pu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionend:Oi("Transition","TransitionEnd")},gl={},ph={};gn&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Uo(e){if(gl[e])return gl[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ph)return gl[e]=t[n];return e}var mh=Uo("animationend"),gh=Uo("animationiteration"),vh=Uo("animationstart"),yh=Uo("transitionend"),xh=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){xh.set(e,t),Er(t,[e])}for(var vl=0;vl<Pc.length;vl++){var yl=Pc[vl],Jg=yl.toLowerCase(),Zg=yl[0].toUpperCase()+yl.slice(1);Xn(Jg,"on"+Zg)}Xn(mh,"onAnimationEnd");Xn(gh,"onAnimationIteration");Xn(vh,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(yh,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function Fc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jm(r,t,void 0,e),e.currentTarget=null}function wh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Fc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Fc(s,l,u),i=a}}}if(co)throw e=ta,co=!1,ta=null,e}function we(e,t){var n=t[da];n===void 0&&(n=t[da]=new Set);var r=e+"__bubble";n.has(r)||(Sh(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),Sh(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function ei(e){if(!e[Pi]){e[Pi]=!0,Mf.forEach(function(n){n!=="selectionchange"&&(ev.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,xl("selectionchange",!1,t))}}function Sh(e,t,n,r){switch(sh(t)){case 1:var s=pg;break;case 4:s=mg;break;default:s=fu}n=s.bind(null,t,n,e),s=void 0,!ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=nr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Qf(function(){var u=i,d=au(n),f=[];e:{var g=xh.get(e);if(g!==void 0){var S=pu,w=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":S=Lg;break;case"focusin":w="focus",S=hl;break;case"focusout":w="blur",S=hl;break;case"beforeblur":case"afterblur":S=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Pg;break;case mh:case gh:case vh:S=Sg;break;case yh:S=Ig;break;case"scroll":S=gg;break;case"wheel":S=zg;break;case"copy":case"cut":case"paste":S=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ec}var N=(t&4)!==0,L=!N&&e==="scroll",v=N?g!==null?g+"Capture":null:g;N=[];for(var m=u,h;m!==null;){h=m;var p=h.stateNode;if(h.tag===5&&p!==null&&(h=p,v!==null&&(p=qs(m,v),p!=null&&N.push(ti(m,p,h)))),L)break;m=m.return}0<N.length&&(g=new S(g,w,null,n,d),f.push({event:g,listeners:N}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Jl&&(w=n.relatedTarget||n.fromElement)&&(nr(w)||w[vn]))break e;if((S||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=u,w=w?nr(w):null,w!==null&&(L=Nr(w),w!==L||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=u),S!==w)){if(N=kc,p="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=Ec,p="onPointerLeave",v="onPointerEnter",m="pointer"),L=S==null?g:Dr(S),h=w==null?g:Dr(w),g=new N(p,m+"leave",S,n,d),g.target=L,g.relatedTarget=h,p=null,nr(d)===u&&(N=new N(v,m+"enter",w,n,d),N.target=h,N.relatedTarget=L,p=N),L=p,S&&w)t:{for(N=S,v=w,m=0,h=N;h;h=Mr(h))m++;for(h=0,p=v;p;p=Mr(p))h++;for(;0<m-h;)N=Mr(N),m--;for(;0<h-m;)v=Mr(v),h--;for(;m--;){if(N===v||v!==null&&N===v.alternate)break t;N=Mr(N),v=Mr(v)}N=null}else N=null;S!==null&&Ic(f,g,S,N,!1),w!==null&&L!==null&&Ic(f,L,w,N,!0)}}e:{if(g=u?Dr(u):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var C=Qg;else if(jc(g))if(ch)C=qg;else{C=Vg;var M=Hg}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Kg);if(C&&(C=C(e,u))){uh(f,C,n,d);break e}M&&M(e,g,u),e==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Kl(g,"number",g.value)}switch(M=u?Dr(u):window,e){case"focusin":(jc(M)||M.contentEditable==="true")&&(_r=M,ia=u,As=null);break;case"focusout":As=ia=_r=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,Oc(f,n,d);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":Oc(f,n,d)}var R;if(gu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ir?lh(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(oh&&n.locale!=="ko"&&(Ir||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ir&&(R=ih()):(Dn=d,hu="value"in Dn?Dn.value:Dn.textContent,Ir=!0)),M=go(u,b),0<M.length&&(b=new Cc(b,e,null,n,d),f.push({event:b,listeners:M}),R?b.data=R:(R=ah(n),R!==null&&(b.data=R)))),(R=Ag?$g(e,n):Ug(e,n))&&(u=go(u,"onBeforeInput"),0<u.length&&(d=new Cc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}wh(f,t)})}function ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function go(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qs(e,n),i!=null&&r.unshift(ti(e,i,s)),i=qs(e,t),i!=null&&r.push(ti(e,i,s))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=qs(n,i),a!=null&&o.unshift(ti(n,a,l))):s||(a=qs(n,i),a!=null&&o.push(ti(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function _c(e){return(typeof e=="string"?e:""+e).replace(tv,`
`).replace(nv,"")}function Fi(e,t,n){if(t=_c(t),_c(e)!==t&&n)throw Error(I(425))}function vo(){}var la=null,aa=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(iv)}:ca;function iv(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xs(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+xs,ni="__reactProps$"+xs,vn="__reactContainer$"+xs,da="__reactEvents$"+xs,ov="__reactListeners$"+xs,lv="__reactHandles$"+xs;function nr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dc(e);e!==null;){if(n=e[Zt])return n;e=Dc(e)}return t}e=n,n=e.parentNode}return null}function yi(e){return e=e[Zt]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bo(e){return e[ni]||null}var fa=[],Ar=-1;function Jn(e){return{current:e}}function Se(e){0>Ar||(e.current=fa[Ar],fa[Ar]=null,Ar--)}function xe(e,t){Ar++,fa[Ar]=e.current,e.current=t}var Yn={},Ze=Jn(Yn),ft=Jn(!1),vr=Yn;function ds(e,t){var n=e.type.contextTypes;if(!n)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function yo(){Se(ft),Se(Ze)}function Ac(e,t,n){if(Ze.current!==Yn)throw Error(I(168));xe(Ze,t),xe(ft,n)}function kh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,Hm(e)||"Unknown",s));return je({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,vr=Ze.current,xe(Ze,e),xe(ft,ft.current),!0}function $c(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=kh(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,Se(ft),Se(Ze),xe(Ze,e)):Se(ft),xe(ft,n)}var ln=null,Wo=!1,kl=!1;function Ch(e){ln===null?ln=[e]:ln.push(e)}function av(e){Wo=!0,Ch(e)}function Zn(){if(!kl&&ln!==null){kl=!0;var e=0,t=ve;try{var n=ln;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Wo=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),qf(uu,Zn),s}finally{ve=t,kl=!1}}return null}var $r=[],Ur=0,wo=null,So=0,Mt=[],Rt=0,yr=null,fn=1,hn="";function er(e,t){$r[Ur++]=So,$r[Ur++]=wo,wo=e,So=t}function Eh(e,t,n){Mt[Rt++]=fn,Mt[Rt++]=hn,Mt[Rt++]=yr,yr=e;var r=fn;e=hn;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var i=32-Qt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-Qt(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function yu(e){e.return!==null&&(er(e,1),Eh(e,1,0))}function xu(e){for(;e===wo;)wo=$r[--Ur],$r[Ur]=null,So=$r[--Ur],$r[Ur]=null;for(;e===yr;)yr=Mt[--Rt],Mt[Rt]=null,hn=Mt[--Rt],Mt[Rt]=null,fn=Mt[--Rt],Mt[Rt]=null}var vt=null,gt=null,ke=!1,Bt=null;function Nh(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Uc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pa(e){if(ke){var t=gt;if(t){var n=t;if(!Uc(e,t)){if(ha(e))throw Error(I(418));t=Wn(n.nextSibling);var r=vt;t&&Uc(e,t)?Nh(r,n):(e.flags=e.flags&-4097|2,ke=!1,vt=e)}}else{if(ha(e))throw Error(I(418));e.flags=e.flags&-4097|2,ke=!1,vt=e}}}function Bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Ii(e){if(e!==vt)return!1;if(!ke)return Bc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=gt)){if(ha(e))throw bh(),Error(I(418));for(;t;)Nh(e,t),t=Wn(t.nextSibling)}if(Bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Wn(e.stateNode.nextSibling):null;return!0}function bh(){for(var e=gt;e;)e=Wn(e.nextSibling)}function fs(){gt=vt=null,ke=!1}function wu(e){Bt===null?Bt=[e]:Bt.push(e)}var uv=wn.ReactCurrentBatchConfig;function bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wc(e){var t=e._init;return t(e._payload)}function jh(e){function t(v,m){if(e){var h=v.deletions;h===null?(v.deletions=[m],v.flags|=16):h.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Kn(v,m),v.index=0,v.sibling=null,v}function i(v,m,h){return v.index=h,e?(h=v.alternate,h!==null?(h=h.index,h<m?(v.flags|=2,m):h):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,h,p){return m===null||m.tag!==6?(m=Rl(h,v.mode,p),m.return=v,m):(m=s(m,h),m.return=v,m)}function a(v,m,h,p){var C=h.type;return C===Fr?d(v,m,h.props.children,p,h.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nn&&Wc(C)===m.type)?(p=s(m,h.props),p.ref=bs(v,m,h),p.return=v,p):(p=to(h.type,h.key,h.props,null,v.mode,p),p.ref=bs(v,m,h),p.return=v,p)}function u(v,m,h,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=Ll(h,v.mode,p),m.return=v,m):(m=s(m,h.children||[]),m.return=v,m)}function d(v,m,h,p,C){return m===null||m.tag!==7?(m=gr(h,v.mode,p,C),m.return=v,m):(m=s(m,h),m.return=v,m)}function f(v,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Rl(""+m,v.mode,h),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ni:return h=to(m.type,m.key,m.props,null,v.mode,h),h.ref=bs(v,null,m),h.return=v,h;case Pr:return m=Ll(m,v.mode,h),m.return=v,m;case Nn:var p=m._init;return f(v,p(m._payload),h)}if(Ts(m)||Ss(m))return m=gr(m,v.mode,h,null),m.return=v,m;_i(v,m)}return null}function g(v,m,h,p){var C=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(v,m,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:return h.key===C?a(v,m,h,p):null;case Pr:return h.key===C?u(v,m,h,p):null;case Nn:return C=h._init,g(v,m,C(h._payload),p)}if(Ts(h)||Ss(h))return C!==null?null:d(v,m,h,p,null);_i(v,h)}return null}function S(v,m,h,p,C){if(typeof p=="string"&&p!==""||typeof p=="number")return v=v.get(h)||null,l(m,v,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:return v=v.get(p.key===null?h:p.key)||null,a(m,v,p,C);case Pr:return v=v.get(p.key===null?h:p.key)||null,u(m,v,p,C);case Nn:var M=p._init;return S(v,m,h,M(p._payload),C)}if(Ts(p)||Ss(p))return v=v.get(h)||null,d(m,v,p,C,null);_i(m,p)}return null}function w(v,m,h,p){for(var C=null,M=null,R=m,b=m=0,_=null;R!==null&&b<h.length;b++){R.index>b?(_=R,R=null):_=R.sibling;var k=g(v,R,h[b],p);if(k===null){R===null&&(R=_);break}e&&R&&k.alternate===null&&t(v,R),m=i(k,m,b),M===null?C=k:M.sibling=k,M=k,R=_}if(b===h.length)return n(v,R),ke&&er(v,b),C;if(R===null){for(;b<h.length;b++)R=f(v,h[b],p),R!==null&&(m=i(R,m,b),M===null?C=R:M.sibling=R,M=R);return ke&&er(v,b),C}for(R=r(v,R);b<h.length;b++)_=S(R,v,b,h[b],p),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?b:_.key),m=i(_,m,b),M===null?C=_:M.sibling=_,M=_);return e&&R.forEach(function(A){return t(v,A)}),ke&&er(v,b),C}function N(v,m,h,p){var C=Ss(h);if(typeof C!="function")throw Error(I(150));if(h=C.call(h),h==null)throw Error(I(151));for(var M=C=null,R=m,b=m=0,_=null,k=h.next();R!==null&&!k.done;b++,k=h.next()){R.index>b?(_=R,R=null):_=R.sibling;var A=g(v,R,k.value,p);if(A===null){R===null&&(R=_);break}e&&R&&A.alternate===null&&t(v,R),m=i(A,m,b),M===null?C=A:M.sibling=A,M=A,R=_}if(k.done)return n(v,R),ke&&er(v,b),C;if(R===null){for(;!k.done;b++,k=h.next())k=f(v,k.value,p),k!==null&&(m=i(k,m,b),M===null?C=k:M.sibling=k,M=k);return ke&&er(v,b),C}for(R=r(v,R);!k.done;b++,k=h.next())k=S(R,v,b,k.value,p),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?b:k.key),m=i(k,m,b),M===null?C=k:M.sibling=k,M=k);return e&&R.forEach(function(J){return t(v,J)}),ke&&er(v,b),C}function L(v,m,h,p){if(typeof h=="object"&&h!==null&&h.type===Fr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ni:e:{for(var C=h.key,M=m;M!==null;){if(M.key===C){if(C=h.type,C===Fr){if(M.tag===7){n(v,M.sibling),m=s(M,h.props.children),m.return=v,v=m;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nn&&Wc(C)===M.type){n(v,M.sibling),m=s(M,h.props),m.ref=bs(v,M,h),m.return=v,v=m;break e}n(v,M);break}else t(v,M);M=M.sibling}h.type===Fr?(m=gr(h.props.children,v.mode,p,h.key),m.return=v,v=m):(p=to(h.type,h.key,h.props,null,v.mode,p),p.ref=bs(v,m,h),p.return=v,v=p)}return o(v);case Pr:e:{for(M=h.key;m!==null;){if(m.key===M)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(v,m.sibling),m=s(m,h.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Ll(h,v.mode,p),m.return=v,v=m}return o(v);case Nn:return M=h._init,L(v,m,M(h._payload),p)}if(Ts(h))return w(v,m,h,p);if(Ss(h))return N(v,m,h,p);_i(v,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,h),m.return=v,v=m):(n(v,m),m=Rl(h,v.mode,p),m.return=v,v=m),o(v)):n(v,m)}return L}var hs=jh(!0),Mh=jh(!1),ko=Jn(null),Co=null,Br=null,Su=null;function ku(){Su=Br=Co=null}function Cu(e){var t=ko.current;Se(ko),e._currentValue=t}function ma(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){Co=e,Su=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Su!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(Co===null)throw Error(I(308));Br=e,Co.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var rr=null;function Eu(e){rr===null?rr=[e]:rr.push(e)}function Rh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Eu(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Eu(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cu(e,n)}}function Qc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eo(e,t,n,r){var s=e.updateQueue;bn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,S=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,N=l;switch(g=t,S=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){f=w.call(S,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,g=typeof w=="function"?w.call(S,f,g):w,g==null)break e;f=je({},f,g);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else S={eventTime:S,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,a=f):d=d.next=S,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=f}}function Hc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var xi={},tn=Jn(xi),ri=Jn(xi),si=Jn(xi);function sr(e){if(e===xi)throw Error(I(174));return e}function bu(e,t){switch(xe(si,t),xe(ri,e),xe(tn,xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gl(t,e)}Se(tn),xe(tn,t)}function ps(){Se(tn),Se(ri),Se(si)}function Th(e){sr(si.current);var t=sr(tn.current),n=Gl(t,e.type);t!==n&&(xe(ri,e),xe(tn,n))}function ju(e){ri.current===e&&(Se(tn),Se(ri))}var Ne=Jn(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function Mu(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var Yi=wn.ReactCurrentDispatcher,El=wn.ReactCurrentBatchConfig,xr=0,be=null,ze=null,Be=null,bo=!1,$s=!1,ii=0,cv=0;function Ge(){throw Error(I(321))}function Ru(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Lu(e,t,n,r,s,i){if(xr=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yi.current=e===null||e.memoizedState===null?pv:mv,e=n(r,s),$s){i=0;do{if($s=!1,ii=0,25<=i)throw Error(I(301));i+=1,Be=ze=null,t.updateQueue=null,Yi.current=gv,e=n(r,s)}while($s)}if(Yi.current=jo,t=ze!==null&&ze.next!==null,xr=0,Be=ze=be=null,bo=!1,t)throw Error(I(300));return e}function Tu(){var e=ii!==0;return ii=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?be.memoizedState=Be=e:Be=Be.next=e,Be}function Ft(){if(ze===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?be.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(I(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?be.memoizedState=Be=e:Be=Be.next=e}return Be}function oi(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((xr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,be.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Vt(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,be.lanes|=i,wr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Oh(){}function Ph(e,t){var n=be,r=Ft(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,Ou(_h.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,li(9,Ih.bind(null,n,r,s,t),void 0,null),We===null)throw Error(I(349));xr&30||Fh(n,t,s)}return s}function Fh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ih(e,t,n,r){t.value=n,t.getSnapshot=r,zh(t)&&Dh(e)}function _h(e,t,n){return n(function(){zh(t)&&Dh(e)})}function zh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Dh(e){var t=yn(e,1);t!==null&&Ht(t,e,1,-1)}function Vc(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},t.queue=e,e=e.dispatch=hv.bind(null,be,e),[t.memoizedState,e]}function li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ah(){return Ft().memoizedState}function Xi(e,t,n,r){var s=Gt();be.flags|=e,s.memoizedState=li(1|t,n,void 0,r===void 0?null:r)}function Qo(e,t,n,r){var s=Ft();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Ru(r,o.deps)){s.memoizedState=li(t,n,i,r);return}}be.flags|=e,s.memoizedState=li(1|t,n,i,r)}function Kc(e,t){return Xi(8390656,8,e,t)}function Ou(e,t){return Qo(2048,8,e,t)}function $h(e,t){return Qo(4,2,e,t)}function Uh(e,t){return Qo(4,4,e,t)}function Bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,n){return n=n!=null?n.concat([e]):null,Qo(4,4,Bh.bind(null,t,e),n)}function Pu(){}function Qh(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ru(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hh(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ru(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vh(e,t,n){return xr&21?(Vt(n,t)||(n=Xf(),be.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function dv(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{ve=n,El.transition=r}}function Kh(){return Ft().memoizedState}function fv(e,t,n){var r=Vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qh(e))Gh(t,n);else if(n=Rh(e,t,n,r),n!==null){var s=it();Ht(n,e,r,s),Yh(n,t,r)}}function hv(e,t,n){var r=Vn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qh(e))Gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var a=t.interleaved;a===null?(s.next=s,Eu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Rh(e,t,s,r),n!==null&&(s=it(),Ht(n,e,r,s),Yh(n,t,r))}}function qh(e){var t=e.alternate;return e===be||t!==null&&t===be}function Gh(e,t){$s=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cu(e,n)}}var jo={readContext:Pt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},pv={readContext:Pt,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Kc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xi(4194308,4,Bh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xi(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fv.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:Pu,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=dv.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,s=Gt();if(ke){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),We===null)throw Error(I(349));xr&30||Fh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kc(_h.bind(null,r,i,e),[e]),r.flags|=2048,li(9,Ih.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gt(),t=We.identifierPrefix;if(ke){var n=hn,r=fn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mv={readContext:Pt,useCallback:Qh,useContext:Pt,useEffect:Ou,useImperativeHandle:Wh,useInsertionEffect:$h,useLayoutEffect:Uh,useMemo:Hh,useReducer:Nl,useRef:Ah,useState:function(){return Nl(oi)},useDebugValue:Pu,useDeferredValue:function(e){var t=Ft();return Vh(t,ze.memoizedState,e)},useTransition:function(){var e=Nl(oi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Kh,unstable_isNewReconciler:!1},gv={readContext:Pt,useCallback:Qh,useContext:Pt,useEffect:Ou,useImperativeHandle:Wh,useInsertionEffect:$h,useLayoutEffect:Uh,useMemo:Hh,useReducer:bl,useRef:Ah,useState:function(){return bl(oi)},useDebugValue:Pu,useDeferredValue:function(e){var t=Ft();return ze===null?t.memoizedState=e:Vh(t,ze.memoizedState,e)},useTransition:function(){var e=bl(oi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Kh,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ga(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=Vn(e),i=pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),Gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=Vn(e),i=pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),Gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Vn(e),s=pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(Ht(t,e,r,n),Gi(t,e,r))}};function qc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,r)||!Zs(s,i):!0}function Xh(e,t,n){var r=!1,s=Yn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=ht(t)?vr:Ze.current,r=t.contextTypes,i=(r=r!=null)?ds(e,s):Yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Nu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=ht(t)?vr:Ze.current,s.context=ds(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ga(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ho.enqueueReplaceState(s,s.state,null),Eo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var n="",r=t;do n+=Qm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vv=typeof WeakMap=="function"?WeakMap:Map;function Jh(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ro||(Ro=!0,Ma=r),ya(e,t)},n}function Zh(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ya(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ya(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tv.bind(null,e,t,n),t.then(e,e))}function Xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var yv=wn.ReactCurrentOwner,dt=!1;function rt(e,t,n,r){t.child=e===null?Mh(t,null,n,r):hs(t,e.child,n,r)}function Zc(e,t,n,r,s){n=n.render;var i=t.ref;return Gr(t,s),r=Lu(e,t,n,r,i,s),n=Tu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(ke&&n&&yu(t),t.flags|=1,rt(e,t,r,s),t.child)}function ed(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Uu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ep(e,t,i,r,s)):(e=to(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(o,r)&&e.ref===t.ref)return xn(e,t,s)}return t.flags|=1,e=Kn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ep(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zs(i,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,xn(e,t,s)}return xa(e,t,n,r,s)}function tp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Qr,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Qr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(Qr,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xe(Qr,mt),mt|=r;return rt(e,t,s,n),t.child}function np(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,s){var i=ht(n)?vr:Ze.current;return i=ds(t,i),Gr(t,s),n=Lu(e,t,n,r,i,s),r=Tu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(ke&&r&&yu(t),t.flags|=1,rt(e,t,n,s),t.child)}function td(e,t,n,r,s){if(ht(n)){var i=!0;xo(t)}else i=!1;if(Gr(t,s),t.stateNode===null)Ji(e,t),Xh(t,n,r),va(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ht(n)?vr:Ze.current,u=ds(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Gc(t,o,r,u),bn=!1;var g=t.memoizedState;o.state=g,Eo(t,r,o,s),a=t.memoizedState,l!==r||g!==a||ft.current||bn?(typeof d=="function"&&(ga(t,n,d,r),a=t.memoizedState),(l=bn||qc(t,n,l,r,g,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dt(t.type,l),o.props=u,f=t.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Pt(a):(a=ht(n)?vr:Ze.current,a=ds(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==a)&&Gc(t,o,r,a),bn=!1,g=t.memoizedState,o.state=g,Eo(t,r,o,s);var w=t.memoizedState;l!==f||g!==w||ft.current||bn?(typeof S=="function"&&(ga(t,n,S,r),w=t.memoizedState),(u=bn||qc(t,n,u,r,g,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return wa(e,t,n,r,i,s)}function wa(e,t,n,r,s,i){np(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&$c(t,n,!1),xn(e,t,i);r=t.stateNode,yv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hs(t,e.child,null,i),t.child=hs(t,null,l,i)):rt(e,t,l,i),t.memoizedState=r.state,s&&$c(t,n,!0),t.child}function rp(e){var t=e.stateNode;t.pendingContext?Ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ac(e,t.context,!1),bu(e,t.containerInfo)}function nd(e,t,n,r,s){return fs(),wu(s),t.flags|=256,rt(e,t,n,r),t.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function sp(e,t,n){var r=t.pendingProps,s=Ne.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ne,s&1),e===null)return pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qo(o,r,0,null),e=gr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ka(n),t.memoizedState=Sa,e):Fu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Kn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kn(l,i):(i=gr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ka(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Sa,r}return i=e.child,e=i.sibling,r=Kn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fu(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&wu(r),hs(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jl(Error(I(422))),zi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=qo({mode:"visible",children:r.children},s,0,null),i=gr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&hs(t,e.child,null,o),t.child.memoizedState=ka(o),t.memoizedState=Sa,i);if(!(t.mode&1))return zi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(I(419)),r=jl(i,r,void 0),zi(e,t,o,r)}if(l=(o&e.childLanes)!==0,dt||l){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Ht(r,e,s,-1))}return $u(),r=jl(Error(I(421))),zi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ov.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gt=Wn(s.nextSibling),vt=t,ke=!0,Bt=null,e!==null&&(Mt[Rt++]=fn,Mt[Rt++]=hn,Mt[Rt++]=yr,fn=e.id,hn=e.overflow,yr=t),t=Fu(t,r.children),t.flags|=4096,t)}function rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ma(e.return,t,n)}function Ml(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ip(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rd(e,n,t);else if(e.tag===19)rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&No(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ml(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&No(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ml(t,!0,n,null,i);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wv(e,t,n){switch(t.tag){case 3:rp(t),fs();break;case 5:Th(t);break;case 1:ht(t.type)&&xo(t);break;case 4:bu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(ko,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?sp(e,t,n):(xe(Ne,Ne.current&1),e=xn(e,t,n),e!==null?e.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ip(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,tp(e,t,n)}return xn(e,t,n)}var op,Ca,lp,ap;op=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ca=function(){};lp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,sr(tn.current);var i=null;switch(n){case"input":s=Hl(e,s),r=Hl(e,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=ql(e,s),r=ql(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vo)}Yl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&we("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ap=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Sv(e,t,n){var r=t.pendingProps;switch(xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ht(t.type)&&yo(),Ye(t),null;case 3:return r=t.stateNode,ps(),Se(ft),Se(Ze),Mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Ta(Bt),Bt=null))),Ca(e,t),Ye(t),null;case 5:ju(t);var s=sr(si.current);if(n=t.type,e!==null&&t.stateNode!=null)lp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ye(t),null}if(e=sr(tn.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[ni]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<Ps.length;s++)we(Ps[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":fc(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":pc(r,i),we("invalid",r)}Yl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,l,e),s=["children",""+l]):Vs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":bi(r),hc(r,i,!0);break;case"textarea":bi(r),mc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_f(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[ni]=r,op(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xl(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ps.length;s++)we(Ps[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":fc(e,r),s=Hl(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),we("invalid",e);break;case"textarea":pc(e,r),s=ql(e,r),we("invalid",e);break;default:s=r}Yl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Af(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&zf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ks(e,a):typeof a=="number"&&Ks(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&we("scroll",e):a!=null&&su(e,i,a,o))}switch(n){case"input":bi(e),hc(e,r,!1);break;case"textarea":bi(e),mc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)ap(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=sr(si.current),sr(tn.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ye(t),null;case 13:if(Se(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&gt!==null&&t.mode&1&&!(t.flags&128))bh(),fs(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Zt]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Bt!==null&&(Ta(Bt),Bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ae===0&&(Ae=3):$u())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ps(),Ca(e,t),e===null&&ei(t.stateNode.containerInfo),Ye(t),null;case 10:return Cu(t.type._context),Ye(t),null;case 17:return ht(t.type)&&yo(),Ye(t),null;case 19:if(Se(Ne),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)js(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=No(e),o!==null){for(t.flags|=128,js(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>gs&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=No(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return Ye(t),null}else 2*Pe()-i.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=Ne.current,xe(Ne,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Au(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function kv(e,t){switch(xu(t),t.tag){case 1:return ht(t.type)&&yo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),Se(ft),Se(Ze),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(Se(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ne),null;case 4:return ps(),null;case 10:return Cu(t.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var Di=!1,Je=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,B=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Ea(e,t,n){try{n()}catch(r){Re(e,t,r)}}var sd=!1;function Ev(e,t){if(la=po,e=hh(),vu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var S;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===e)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(a=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(aa={focusedElem:e,selectionRange:n},po=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,L=w.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?N:Dt(t.type,N),L);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(p){Re(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return w=sd,sd=!1,w}function Us(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ea(t,n,i)}s=s.next}while(s!==r)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Na(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function up(e){var t=e.alternate;t!==null&&(e.alternate=null,up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[ni],delete t[da],delete t[ov],delete t[lv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cp(e){return e.tag===5||e.tag===3||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vo));else if(r!==4&&(e=e.child,e!==null))for(ba(e,t,n),e=e.sibling;e!==null;)ba(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var He=null,Ut=!1;function kn(e,t,n){for(n=n.child;n!==null;)dp(e,t,n),n=n.sibling}function dp(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 5:Je||Wr(n,t);case 6:var r=He,s=Ut;He=null,kn(e,t,n),He=r,Ut=s,He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),Xs(e)):Sl(He,n.stateNode));break;case 4:r=He,s=Ut,He=n.stateNode.containerInfo,Ut=!0,kn(e,t,n),He=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ea(n,t,o),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Je&&(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,t,l)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,kn(e,t,n),Je=r):kn(e,t,n);break;default:kn(e,t,n)}}function od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cv),t.forEach(function(r){var s=Pv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ut=!1;break e;case 3:He=l.stateNode.containerInfo,Ut=!0;break e;case 4:He=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(He===null)throw Error(I(160));dp(i,o,s),He=null,Ut=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fp(t,e),t=t.sibling}function fp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),qt(e),r&4){try{Us(3,e,e.return),Vo(3,e)}catch(N){Re(e,e.return,N)}try{Us(5,e,e.return)}catch(N){Re(e,e.return,N)}}break;case 1:zt(t,e),qt(e),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(zt(t,e),qt(e),r&512&&n!==null&&Wr(n,n.return),e.flags&32){var s=e.stateNode;try{Ks(s,"")}catch(N){Re(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ff(s,i),Xl(l,o);var u=Xl(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Af(s,f):d==="dangerouslySetInnerHTML"?zf(s,f):d==="children"?Ks(s,f):su(s,d,f,u)}switch(l){case"input":Vl(s,i);break;case"textarea":If(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Hr(s,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(N){Re(e,e.return,N)}}break;case 6:if(zt(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){Re(e,e.return,N)}}break;case 3:if(zt(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(N){Re(e,e.return,N)}break;case 4:zt(t,e),qt(e);break;case 13:zt(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zu=Pe())),r&4&&od(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,zt(t,e),Je=u):zt(t,e),qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(f=B=d;B!==null;){switch(g=B,S=g.child,g.tag){case 0:case 11:case 14:case 15:Us(4,g,g.return);break;case 1:Wr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){Re(r,n,N)}}break;case 5:Wr(g,g.return);break;case 22:if(g.memoizedState!==null){ad(f);continue}}S!==null?(S.return=g,B=S):ad(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Df("display",o))}catch(N){Re(e,e.return,N)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(N){Re(e,e.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),qt(e),r&4&&od(e);break;case 21:break;default:zt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ks(s,""),r.flags&=-33);var i=id(e);ja(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=id(e);ba(e,l,o);break;default:throw Error(I(161))}}catch(a){Re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nv(e,t,n){B=e,hp(e)}function hp(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Di;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Je;l=Di;var u=Je;if(Di=o,(Je=a)&&!u)for(B=s;B!==null;)o=B,a=o.child,o.tag===22&&o.memoizedState!==null?ud(s):a!==null?(a.return=o,B=a):ud(s);for(;i!==null;)B=i,hp(i),i=i.sibling;B=s,Di=l,Je=u}ld(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):ld(e)}}function ld(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Vo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Je||t.flags&512&&Na(t)}catch(g){Re(t,t.return,g)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function ad(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function ud(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vo(4,t)}catch(a){Re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Re(t,s,a)}}var i=t.return;try{Na(t)}catch(a){Re(t,i,a)}break;case 5:var o=t.return;try{Na(t)}catch(a){Re(t,o,a)}}}catch(a){Re(t,t.return,a)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var bv=Math.ceil,Mo=wn.ReactCurrentDispatcher,Iu=wn.ReactCurrentOwner,Ot=wn.ReactCurrentBatchConfig,fe=0,We=null,Ie=null,Ve=0,mt=0,Qr=Jn(0),Ae=0,ai=null,wr=0,Ko=0,_u=0,Bs=null,ct=null,zu=0,gs=1/0,on=null,Ro=!1,Ma=null,Hn=null,Ai=!1,An=null,Lo=0,Ws=0,Ra=null,Zi=-1,eo=0;function it(){return fe&6?Pe():Zi!==-1?Zi:Zi=Pe()}function Vn(e){return e.mode&1?fe&2&&Ve!==0?Ve&-Ve:uv.transition!==null?(eo===0&&(eo=Xf()),eo):(e=ve,e!==0||(e=window.event,e=e===void 0?16:sh(e.type)),e):1}function Ht(e,t,n,r){if(50<Ws)throw Ws=0,Ra=null,Error(I(185));gi(e,n,r),(!(fe&2)||e!==We)&&(e===We&&(!(fe&2)&&(Ko|=n),Ae===4&&Mn(e,Ve)),pt(e,r),n===1&&fe===0&&!(t.mode&1)&&(gs=Pe()+500,Wo&&Zn()))}function pt(e,t){var n=e.callbackNode;ug(e,t);var r=ho(e,e===We?Ve:0);if(r===0)n!==null&&yc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yc(n),t===1)e.tag===0?av(cd.bind(null,e)):Ch(cd.bind(null,e)),sv(function(){!(fe&6)&&Zn()}),n=null;else{switch(Jf(r)){case 1:n=uu;break;case 4:n=Gf;break;case 16:n=fo;break;case 536870912:n=Yf;break;default:n=fo}n=Sp(n,pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pp(e,t){if(Zi=-1,eo=0,fe&6)throw Error(I(327));var n=e.callbackNode;if(Yr()&&e.callbackNode!==n)return null;var r=ho(e,e===We?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=To(e,r);else{t=r;var s=fe;fe|=2;var i=gp();(We!==e||Ve!==t)&&(on=null,gs=Pe()+500,mr(e,t));do try{Rv();break}catch(l){mp(e,l)}while(!0);ku(),Mo.current=i,fe=s,Ie!==null?t=0:(We=null,Ve=0,t=Ae)}if(t!==0){if(t===2&&(s=na(e),s!==0&&(r=s,t=La(e,s))),t===1)throw n=ai,mr(e,0),Mn(e,r),pt(e,Pe()),n;if(t===6)Mn(e,r);else{if(s=e.current.alternate,!(r&30)&&!jv(s)&&(t=To(e,r),t===2&&(i=na(e),i!==0&&(r=i,t=La(e,i))),t===1))throw n=ai,mr(e,0),Mn(e,r),pt(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:tr(e,ct,on);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=zu+500-Pe(),10<t)){if(ho(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ca(tr.bind(null,e,ct,on),t);break}tr(e,ct,on);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bv(r/1960))-r,10<r){e.timeoutHandle=ca(tr.bind(null,e,ct,on),r);break}tr(e,ct,on);break;case 5:tr(e,ct,on);break;default:throw Error(I(329))}}}return pt(e,Pe()),e.callbackNode===n?pp.bind(null,e):null}function La(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=To(e,t),e!==2&&(t=ct,ct=n,t!==null&&Ta(t)),e}function Ta(e){ct===null?ct=e:ct.push.apply(ct,e)}function jv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~_u,t&=~Ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function cd(e){if(fe&6)throw Error(I(327));Yr();var t=ho(e,0);if(!(t&1))return pt(e,Pe()),null;var n=To(e,t);if(e.tag!==0&&n===2){var r=na(e);r!==0&&(t=r,n=La(e,r))}if(n===1)throw n=ai,mr(e,0),Mn(e,t),pt(e,Pe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,ct,on),pt(e,Pe()),null}function Du(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(gs=Pe()+500,Wo&&Zn())}}function Sr(e){An!==null&&An.tag===0&&!(fe&6)&&Yr();var t=fe;fe|=1;var n=Ot.transition,r=ve;try{if(Ot.transition=null,ve=1,e)return e()}finally{ve=r,Ot.transition=n,fe=t,!(fe&6)&&Zn()}}function Au(){mt=Qr.current,Se(Qr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rv(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yo();break;case 3:ps(),Se(ft),Se(Ze),Mu();break;case 5:ju(r);break;case 4:ps();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Cu(r.type._context);break;case 22:case 23:Au()}n=n.return}if(We=e,Ie=e=Kn(e.current,null),Ve=mt=t,Ae=0,ai=null,_u=Ko=wr=0,ct=Bs=null,rr!==null){for(t=0;t<rr.length;t++)if(n=rr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}rr=null}return e}function mp(e,t){do{var n=Ie;try{if(ku(),Yi.current=jo,bo){for(var r=be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bo=!1}if(xr=0,Be=ze=be=null,$s=!1,ii=0,Iu.current=null,n===null||n.return===null){Ae=1,ai=t,Ie=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Xc(o);if(S!==null){S.flags&=-257,Jc(S,o,l,i,t),S.mode&1&&Yc(i,u,t),t=S,a=u;var w=t.updateQueue;if(w===null){var N=new Set;N.add(a),t.updateQueue=N}else w.add(a);break e}else{if(!(t&1)){Yc(i,u,t),$u();break e}a=Error(I(426))}}else if(ke&&l.mode&1){var L=Xc(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Jc(L,o,l,i,t),wu(ms(a,l));break e}}i=a=ms(a,l),Ae!==4&&(Ae=2),Bs===null?Bs=[i]:Bs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Jh(i,a,t);Qc(i,v);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Hn===null||!Hn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var p=Zh(i,l,t);Qc(i,p);break e}}i=i.return}while(i!==null)}yp(n)}catch(C){t=C,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function gp(){var e=Mo.current;return Mo.current=jo,e===null?jo:e}function $u(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),We===null||!(wr&268435455)&&!(Ko&268435455)||Mn(We,Ve)}function To(e,t){var n=fe;fe|=2;var r=gp();(We!==e||Ve!==t)&&(on=null,mr(e,t));do try{Mv();break}catch(s){mp(e,s)}while(!0);if(ku(),fe=n,Mo.current=r,Ie!==null)throw Error(I(261));return We=null,Ve=0,Ae}function Mv(){for(;Ie!==null;)vp(Ie)}function Rv(){for(;Ie!==null&&!eg();)vp(Ie)}function vp(e){var t=wp(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?yp(e):Ie=t,Iu.current=null}function yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kv(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ie=null;return}}else if(n=Sv(n,t,mt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ae===0&&(Ae=5)}function tr(e,t,n){var r=ve,s=Ot.transition;try{Ot.transition=null,ve=1,Lv(e,t,n,r)}finally{Ot.transition=s,ve=r}return null}function Lv(e,t,n,r){do Yr();while(An!==null);if(fe&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cg(e,i),e===We&&(Ie=We=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ai||(Ai=!0,Sp(fo,function(){return Yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=ve;ve=1;var l=fe;fe|=4,Iu.current=null,Ev(e,n),fp(n,e),Yg(aa),po=!!la,aa=la=null,e.current=n,Nv(n),tg(),fe=l,ve=o,Ot.transition=i}else e.current=n;if(Ai&&(Ai=!1,An=e,Lo=s),i=e.pendingLanes,i===0&&(Hn=null),sg(n.stateNode),pt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ro)throw Ro=!1,e=Ma,Ma=null,e;return Lo&1&&e.tag!==0&&Yr(),i=e.pendingLanes,i&1?e===Ra?Ws++:(Ws=0,Ra=e):Ws=0,Zn(),null}function Yr(){if(An!==null){var e=Jf(Lo),t=Ot.transition,n=ve;try{if(Ot.transition=null,ve=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,Lo=0,fe&6)throw Error(I(331));var s=fe;for(fe|=4,B=e.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:Us(8,d,i)}var f=d.child;if(f!==null)f.return=d,B=f;else for(;B!==null;){d=B;var g=d.sibling,S=d.return;if(up(d),d===u){B=null;break}if(g!==null){g.return=S,B=g;break}B=S}}}var w=i.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var L=N.sibling;N.sibling=null,N=L}while(N!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Us(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,B=v;break e}B=i.return}}var m=e.current;for(B=m;B!==null;){o=B;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,B=h;else e:for(o=m;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vo(9,l)}}catch(C){Re(l,l.return,C)}if(l===o){B=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,B=p;break e}B=l.return}}if(fe=s,Zn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Do,e)}catch{}r=!0}return r}finally{ve=n,Ot.transition=t}}return!1}function dd(e,t,n){t=ms(n,t),t=Jh(e,t,1),e=Qn(e,t,1),t=it(),e!==null&&(gi(e,1,t),pt(e,t))}function Re(e,t,n){if(e.tag===3)dd(e,e,n);else for(;t!==null;){if(t.tag===3){dd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=ms(n,e),e=Zh(t,e,1),t=Qn(t,e,1),e=it(),t!==null&&(gi(t,1,e),pt(t,e));break}}t=t.return}}function Tv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ve&n)===n&&(Ae===4||Ae===3&&(Ve&130023424)===Ve&&500>Pe()-zu?mr(e,0):_u|=n),pt(e,t)}function xp(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var n=it();e=yn(e,t),e!==null&&(gi(e,t,n),pt(e,n))}function Ov(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xp(e,n)}function Pv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),xp(e,n)}var wp;wp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,wv(e,t,n);dt=!!(e.flags&131072)}else dt=!1,ke&&t.flags&1048576&&Eh(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ji(e,t),e=t.pendingProps;var s=ds(t,Ze.current);Gr(t,n),s=Lu(null,t,r,e,s,n);var i=Tu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(i=!0,xo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nu(t),s.updater=Ho,t.stateNode=s,s._reactInternals=t,va(t,r,e,n),t=wa(null,t,r,!0,i,n)):(t.tag=0,ke&&i&&yu(t),rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ji(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Iv(r),e=Dt(r,e),s){case 0:t=xa(null,t,r,e,n);break e;case 1:t=td(null,t,r,e,n);break e;case 11:t=Zc(null,t,r,e,n);break e;case 14:t=ed(null,t,r,Dt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),xa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),td(e,t,r,s,n);case 3:e:{if(rp(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Lh(e,t),Eo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ms(Error(I(423)),t),t=nd(e,t,r,n,s);break e}else if(r!==s){s=ms(Error(I(424)),t),t=nd(e,t,r,n,s);break e}else for(gt=Wn(t.stateNode.containerInfo.firstChild),vt=t,ke=!0,Bt=null,n=Mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===s){t=xn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Th(t),e===null&&pa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ua(r,s)?o=null:i!==null&&ua(r,i)&&(t.flags|=32),np(e,t),rt(e,t,o,n),t.child;case 6:return e===null&&pa(t),null;case 13:return sp(e,t,n);case 4:return bu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hs(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Zc(e,t,r,s,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xe(ko,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!ft.current){t=xn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=pn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ma(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ma(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gr(t,n),s=Pt(s),r=r(s),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),ed(e,t,r,s,n);case 15:return ep(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Ji(e,t),t.tag=1,ht(r)?(e=!0,xo(t)):e=!1,Gr(t,n),Xh(t,r,s),va(t,r,s,n),wa(null,t,r,!0,e,n);case 19:return ip(e,t,n);case 22:return tp(e,t,n)}throw Error(I(156,t.tag))};function Sp(e,t){return qf(e,t)}function Fv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Fv(e,t,n,r)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iv(e){if(typeof e=="function")return Uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ou)return 11;if(e===lu)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function to(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Uu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fr:return gr(n.children,s,i,t);case iu:o=8,s|=8;break;case Ul:return e=Tt(12,n,t,s|2),e.elementType=Ul,e.lanes=i,e;case Bl:return e=Tt(13,n,t,s),e.elementType=Bl,e.lanes=i,e;case Wl:return e=Tt(19,n,t,s),e.elementType=Wl,e.lanes=i,e;case Tf:return qo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rf:o=10;break e;case Lf:o=9;break e;case ou:o=11;break e;case lu:o=14;break e;case Nn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function gr(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function qo(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Tf,e.lanes=n,e.stateNode={isHidden:!1},e}function Rl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Ll(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _v(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,s,i,o,l,a){return e=new _v(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(i),e}function zv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kp(e){if(!e)return Yn;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ht(n))return kh(e,n,t)}return t}function Cp(e,t,n,r,s,i,o,l,a){return e=Bu(n,r,!0,e,s,i,o,l,a),e.context=kp(null),n=e.current,r=it(),s=Vn(n),i=pn(r,s),i.callback=t??null,Qn(n,i,s),e.current.lanes=s,gi(e,s,r),pt(e,r),e}function Go(e,t,n,r){var s=t.current,i=it(),o=Vn(s);return n=kp(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,o),e!==null&&(Ht(e,s,o,i),Gi(e,s,o)),o}function Oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wu(e,t){fd(e,t),(e=e.alternate)&&fd(e,t)}function Dv(){return null}var Ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}Yo.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Go(e,t,null,null)};Yo.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Go(null,e,null,null)}),t[vn]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=th();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&rh(e)}};function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hd(){}function Av(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Oo(o);i.call(u)}}var o=Cp(t,r,e,0,null,!1,!1,"",hd);return e._reactRootContainer=o,e[vn]=o.current,ei(e.nodeType===8?e.parentNode:e),Sr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Oo(a);l.call(u)}}var a=Bu(e,0,!1,null,null,!1,!1,"",hd);return e._reactRootContainer=a,e[vn]=a.current,ei(e.nodeType===8?e.parentNode:e),Sr(function(){Go(t,a,n,r)}),a}function Jo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Oo(o);l.call(a)}}Go(t,o,e,s)}else o=Av(n,t,e,s,r);return Oo(o)}Zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Os(t.pendingLanes);n!==0&&(cu(t,n|1),pt(t,Pe()),!(fe&6)&&(gs=Pe()+500,Zn()))}break;case 13:Sr(function(){var r=yn(e,1);if(r!==null){var s=it();Ht(r,e,1,s)}}),Wu(e,1)}};du=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=it();Ht(t,e,134217728,n)}Wu(e,134217728)}};eh=function(e){if(e.tag===13){var t=Vn(e),n=yn(e,t);if(n!==null){var r=it();Ht(n,e,t,r)}Wu(e,t)}};th=function(){return ve};nh=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Zl=function(e,t,n){switch(t){case"input":if(Vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Bo(r);if(!s)throw Error(I(90));Pf(r),Vl(r,s)}}}break;case"textarea":If(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Bf=Du;Wf=Sr;var $v={usingClientEntryPoint:!1,Events:[yi,Dr,Bo,$f,Uf,Du]},Ms={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$i.isDisabled&&$i.supportsFiber)try{Do=$i.inject(Uv),en=$i}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$v;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(t))throw Error(I(200));return zv(e,t,null,n)};xt.createRoot=function(e,t){if(!Hu(e))throw Error(I(299));var n=!1,r="",s=Ep;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bu(e,1,!1,null,null,n,!1,r,s),e[vn]=t.current,ei(e.nodeType===8?e.parentNode:e),new Qu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Vf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Sr(e)};xt.hydrate=function(e,t,n){if(!Xo(t))throw Error(I(200));return Jo(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Hu(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ep;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cp(t,null,e,1,n??null,s,!1,i,o),e[vn]=t.current,ei(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yo(t)};xt.render=function(e,t,n){if(!Xo(t))throw Error(I(200));return Jo(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Xo(e))throw Error(I(40));return e._reactRootContainer?(Sr(function(){Jo(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};xt.unstable_batchedUpdates=Du;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xo(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Jo(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Np(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Np)}catch(e){console.error(e)}}Np(),Nf.exports=xt;var Vu=Nf.exports,bp,pd=Vu;bp=pd.createRoot,pd.hydrateRoot;var ws=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Rn,Xa,nf,Wv=(nf=class{constructor(){V(this,Rn,Bv);V(this,Xa,!1)}setTimeoutProvider(e){D(this,Rn,e)}setTimeout(e,t){return x(this,Rn).setTimeout(e,t)}clearTimeout(e){x(this,Rn).clearTimeout(e)}setInterval(e,t){return x(this,Rn).setInterval(e,t)}clearInterval(e){x(this,Rn).clearInterval(e)}},Rn=new WeakMap,Xa=new WeakMap,nf),ir=new Wv;function Qv(e){setTimeout(e,0)}var kr=typeof window>"u"||"Deno"in globalThis;function st(){}function Hv(e,t){return typeof e=="function"?e(t):e}function Oa(e){return typeof e=="number"&&e>=0&&e!==1/0}function jp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qn(e,t){return typeof e=="function"?e(t):e}function jt(e,t){return typeof e=="function"?e(t):e}function md(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Ku(o,t.options))return!1}else if(!ui(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function gd(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Cr(t.options.mutationKey)!==Cr(i))return!1}else if(!ui(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ku(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cr)(e)}function Cr(e){return JSON.stringify(e,(t,n)=>Pa(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ui(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ui(e[n],t[n])):!1}var Vv=Object.prototype.hasOwnProperty;function Mp(e,t){if(e===t)return e;const n=vd(e)&&vd(t);if(!n&&!(Pa(e)&&Pa(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],g=t[d];if(f===g){l[d]=f,(n?u<s:Vv.call(e,d))&&a++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){l[d]=g;continue}const S=Mp(f,g);l[d]=S,S===f&&a++}return s===o&&a===s?e:l}function Po(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function vd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pa(e){if(!yd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kv(e){return new Promise(t=>{ir.setTimeout(t,e)})}function Fa(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Mp(e,t):t}function qv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Gv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qu=Symbol();function Rp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Lp(e,t){return typeof e=="function"?e(...t):!!e}function Yv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var or,Ln,Jr,rf,Xv=(rf=class extends ws{constructor(){super();V(this,or);V(this,Ln);V(this,Jr);D(this,Jr,t=>{if(!kr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,Ln)||this.setEventListener(x(this,Jr))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Ln))==null||t.call(this),D(this,Ln,void 0))}setEventListener(t){var n;D(this,Jr,t),(n=x(this,Ln))==null||n.call(this),D(this,Ln,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,or)!==t&&(D(this,or,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,or)=="boolean"?x(this,or):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},or=new WeakMap,Ln=new WeakMap,Jr=new WeakMap,rf),Gu=new Xv;function Ia(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Jv=Qv;function Zv(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Jv;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var De=Zv(),Zr,Tn,es,sf,ey=(sf=class extends ws{constructor(){super();V(this,Zr,!0);V(this,Tn);V(this,es);D(this,es,t=>{if(!kr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,Tn)||this.setEventListener(x(this,es))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Tn))==null||t.call(this),D(this,Tn,void 0))}setEventListener(t){var n;D(this,es,t),(n=x(this,Tn))==null||n.call(this),D(this,Tn,t(this.setOnline.bind(this)))}setOnline(t){x(this,Zr)!==t&&(D(this,Zr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,Zr)}},Zr=new WeakMap,Tn=new WeakMap,es=new WeakMap,sf),Fo=new ey;function ty(e){return Math.min(1e3*2**e,3e4)}function Tp(e){return(e??"online")==="online"?Fo.isOnline():!0}var _a=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Op(e){let t=!1,n=0,r;const s=Ia(),i=()=>s.status!=="pending",o=N=>{var L;if(!i()){const v=new _a(N);g(v),(L=e.onCancel)==null||L.call(e,v)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>Gu.isFocused()&&(e.networkMode==="always"||Fo.isOnline())&&e.canRun(),d=()=>Tp(e.networkMode)&&e.canRun(),f=N=>{i()||(r==null||r(),s.resolve(N))},g=N=>{i()||(r==null||r(),s.reject(N))},S=()=>new Promise(N=>{var L;r=v=>{(i()||u())&&N(v)},(L=e.onPause)==null||L.call(e)}).then(()=>{var N;r=void 0,i()||(N=e.onContinue)==null||N.call(e)}),w=()=>{if(i())return;let N;const L=n===0?e.initialPromise:void 0;try{N=L??e.fn()}catch(v){N=Promise.reject(v)}Promise.resolve(N).then(f).catch(v=>{var M;if(i())return;const m=e.retry??(kr?0:3),h=e.retryDelay??ty,p=typeof h=="function"?h(n,v):h,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(t||!C){g(v);return}n++,(M=e.onFail)==null||M.call(e,n,v),Kv(p).then(()=>u()?void 0:S()).then(()=>{t?g(v):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():S().then(w),s)}}var lr,of,Pp=(of=class{constructor(){V(this,lr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oa(this.gcTime)&&D(this,lr,ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kr?1/0:5*60*1e3))}clearGcTimeout(){x(this,lr)&&(ir.clearTimeout(x(this,lr)),D(this,lr,void 0))}},lr=new WeakMap,of),ar,ts,bt,ur,Ue,ci,cr,At,sn,lf,ny=(lf=class extends Pp{constructor(t){super();V(this,At);V(this,ar);V(this,ts);V(this,bt);V(this,ur);V(this,Ue);V(this,ci);V(this,cr);D(this,cr,!1),D(this,ci,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,ur,t.client),D(this,bt,x(this,ur).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,ar,wd(this.options)),this.state=t.state??x(this,ar),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...x(this,ci),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=wd(this.options);n.data!==void 0&&(this.setState(xd(n.data,n.dataUpdatedAt)),D(this,ar,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,bt).remove(this)}setData(t,n){const r=Fa(this.state.data,t,this.options);return se(this,At,sn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){se(this,At,sn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,Ue))==null?void 0:r.promise;return(s=x(this,Ue))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,ar))}isActive(){return this.observers.some(t=>jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,Ue)&&(x(this,cr)?x(this,Ue).cancel({revert:!0}):x(this,Ue).cancelRetry()),this.scheduleGc()),x(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,At,sn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,f,g,S,w,N,L,v,m,h;if(this.state.fetchStatus!=="idle"&&((a=x(this,Ue))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,Ue))return x(this,Ue).continueRetry(),x(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(D(this,cr,!0),r.signal)})},i=()=>{const p=Rp(this.options,n),M=(()=>{const R={client:x(this,ur),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return D(this,cr,!1),this.options.persister?this.options.persister(p,M,this):p(M)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,ur),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),D(this,ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&se(this,At,sn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),D(this,Ue,Op({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:p=>{p instanceof _a&&p.revert&&this.setState({...x(this,ts),fetchStatus:"idle"}),r.abort()},onFail:(p,C)=>{se(this,At,sn).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{se(this,At,sn).call(this,{type:"pause"})},onContinue:()=>{se(this,At,sn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const p=await x(this,Ue).start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),(S=(g=x(this,bt).config).onSuccess)==null||S.call(g,p,this),(N=(w=x(this,bt).config).onSettled)==null||N.call(w,p,this.state.error,this),p}catch(p){if(p instanceof _a){if(p.silent)return x(this,Ue).promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw se(this,At,sn).call(this,{type:"error",error:p}),(v=(L=x(this,bt).config).onError)==null||v.call(L,p,this),(h=(m=x(this,bt).config).onSettled)==null||h.call(m,this.state.data,p,this),p}finally{this.scheduleGc()}}},ar=new WeakMap,ts=new WeakMap,bt=new WeakMap,ur=new WeakMap,Ue=new WeakMap,ci=new WeakMap,cr=new WeakMap,At=new WeakSet,sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Fp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...xd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,ts,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,bt).notify({query:this,type:"updated",action:t})})},lf);function Fp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function wd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var at,ce,di,tt,dr,ns,an,On,fi,rs,ss,fr,hr,Pn,is,me,Fs,za,Da,Aa,$a,Ua,Ba,Wa,Ip,af,ry=(af=class extends ws{constructor(t,n){super();V(this,me);V(this,at);V(this,ce);V(this,di);V(this,tt);V(this,dr);V(this,ns);V(this,an);V(this,On);V(this,fi);V(this,rs);V(this,ss);V(this,fr);V(this,hr);V(this,Pn);V(this,is,new Set);this.options=n,D(this,at,t),D(this,On,null),D(this,an,Ia()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,ce).addObserver(this),Sd(x(this,ce),this.options)?se(this,me,Fs).call(this):this.updateResult(),se(this,me,$a).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qa(x(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qa(x(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,me,Ua).call(this),se(this,me,Ba).call(this),x(this,ce).removeObserver(this)}setOptions(t){const n=this.options,r=x(this,ce);if(this.options=x(this,at).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jt(this.options.enabled,x(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,me,Wa).call(this),x(this,ce).setOptions(this.options),n._defaulted&&!Po(this.options,n)&&x(this,at).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,ce),observer:this});const s=this.hasListeners();s&&kd(x(this,ce),r,this.options,n)&&se(this,me,Fs).call(this),this.updateResult(),s&&(x(this,ce)!==r||jt(this.options.enabled,x(this,ce))!==jt(n.enabled,x(this,ce))||qn(this.options.staleTime,x(this,ce))!==qn(n.staleTime,x(this,ce)))&&se(this,me,za).call(this);const i=se(this,me,Da).call(this);s&&(x(this,ce)!==r||jt(this.options.enabled,x(this,ce))!==jt(n.enabled,x(this,ce))||i!==x(this,Pn))&&se(this,me,Aa).call(this,i)}getOptimisticResult(t){const n=x(this,at).getQueryCache().build(x(this,at),t),r=this.createResult(n,t);return iy(this,r)&&(D(this,tt,r),D(this,ns,this.options),D(this,dr,x(this,ce).state)),r}getCurrentResult(){return x(this,tt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&x(this,an).status==="pending"&&x(this,an).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){x(this,is).add(t)}getCurrentQuery(){return x(this,ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,at).defaultQueryOptions(t),r=x(this,at).getQueryCache().build(x(this,at),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return se(this,me,Fs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,tt)))}createResult(t,n){var _;const r=x(this,ce),s=this.options,i=x(this,tt),o=x(this,dr),l=x(this,ns),u=t!==r?t.state:x(this,di),{state:d}=t;let f={...d},g=!1,S;if(n._optimisticResults){const k=this.hasListeners(),A=!k&&Sd(t,n),J=k&&kd(t,r,n,s);(A||J)&&(f={...f,...Fp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:N,status:L}=f;S=f.data;let v=!1;if(n.placeholderData!==void 0&&S===void 0&&L==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,v=!0):k=typeof n.placeholderData=="function"?n.placeholderData((_=x(this,ss))==null?void 0:_.state.data,x(this,ss)):n.placeholderData,k!==void 0&&(L="success",S=Fa(i==null?void 0:i.data,k,n),g=!0)}if(n.select&&S!==void 0&&!v)if(i&&S===(o==null?void 0:o.data)&&n.select===x(this,fi))S=x(this,rs);else try{D(this,fi,n.select),S=n.select(S),S=Fa(i==null?void 0:i.data,S,n),D(this,rs,S),D(this,On,null)}catch(k){D(this,On,k)}x(this,On)&&(w=x(this,On),S=x(this,rs),N=Date.now(),L="error");const m=f.fetchStatus==="fetching",h=L==="pending",p=L==="error",C=h&&m,M=S!==void 0,b={status:L,fetchStatus:f.fetchStatus,isPending:h,isSuccess:L==="success",isError:p,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:N,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!h,isLoadingError:p&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:p&&M,isStale:Yu(t,n),refetch:this.refetch,promise:x(this,an),isEnabled:jt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=re=>{b.status==="error"?re.reject(b.error):b.data!==void 0&&re.resolve(b.data)},A=()=>{const re=D(this,an,b.promise=Ia());k(re)},J=x(this,an);switch(J.status){case"pending":t.queryHash===r.queryHash&&k(J);break;case"fulfilled":(b.status==="error"||b.data!==J.value)&&A();break;case"rejected":(b.status!=="error"||b.error!==J.reason)&&A();break}}return b}updateResult(){const t=x(this,tt),n=this.createResult(x(this,ce),this.options);if(D(this,dr,x(this,ce).state),D(this,ns,this.options),x(this,dr).data!==void 0&&D(this,ss,x(this,ce)),Po(n,t))return;D(this,tt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!x(this,is).size)return!0;const o=new Set(i??x(this,is));return this.options.throwOnError&&o.add("error"),Object.keys(x(this,tt)).some(l=>{const a=l;return x(this,tt)[a]!==t[a]&&o.has(a)})};se(this,me,Ip).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,me,$a).call(this)}},at=new WeakMap,ce=new WeakMap,di=new WeakMap,tt=new WeakMap,dr=new WeakMap,ns=new WeakMap,an=new WeakMap,On=new WeakMap,fi=new WeakMap,rs=new WeakMap,ss=new WeakMap,fr=new WeakMap,hr=new WeakMap,Pn=new WeakMap,is=new WeakMap,me=new WeakSet,Fs=function(t){se(this,me,Wa).call(this);let n=x(this,ce).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(st)),n},za=function(){se(this,me,Ua).call(this);const t=qn(this.options.staleTime,x(this,ce));if(kr||x(this,tt).isStale||!Oa(t))return;const r=jp(x(this,tt).dataUpdatedAt,t)+1;D(this,fr,ir.setTimeout(()=>{x(this,tt).isStale||this.updateResult()},r))},Da=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,ce)):this.options.refetchInterval)??!1},Aa=function(t){se(this,me,Ba).call(this),D(this,Pn,t),!(kr||jt(this.options.enabled,x(this,ce))===!1||!Oa(x(this,Pn))||x(this,Pn)===0)&&D(this,hr,ir.setInterval(()=>{(this.options.refetchIntervalInBackground||Gu.isFocused())&&se(this,me,Fs).call(this)},x(this,Pn)))},$a=function(){se(this,me,za).call(this),se(this,me,Aa).call(this,se(this,me,Da).call(this))},Ua=function(){x(this,fr)&&(ir.clearTimeout(x(this,fr)),D(this,fr,void 0))},Ba=function(){x(this,hr)&&(ir.clearInterval(x(this,hr)),D(this,hr,void 0))},Wa=function(){const t=x(this,at).getQueryCache().build(x(this,at),this.options);if(t===x(this,ce))return;const n=x(this,ce);D(this,ce,t),D(this,di,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ip=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,tt))}),x(this,at).getQueryCache().notify({query:x(this,ce),type:"observerResultsUpdated"})})},af);function sy(e,t){return jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Sd(e,t){return sy(e,t)||e.state.data!==void 0&&Qa(e,t,t.refetchOnMount)}function Qa(e,t,n){if(jt(t.enabled,e)!==!1&&qn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Yu(e,t)}return!1}function kd(e,t,n,r){return(e!==t||jt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Yu(e,n)}function Yu(e,t){return jt(t.enabled,e)!==!1&&e.isStaleByTime(qn(t.staleTime,e))}function iy(e,t){return!Po(e.getCurrentResult(),t)}function Cd(e){return{onFetch:(t,n)=>{var d,f,g,S,w;const r=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let N=!1;const L=h=>{Yv(h,()=>t.signal,()=>N=!0)},v=Rp(t.options,t.fetchOptions),m=async(h,p,C)=>{if(N)return Promise.reject();if(p==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:p,direction:C?"backward":"forward",meta:t.options.meta};return L(A),A})(),b=await v(R),{maxPages:_}=t.options,k=C?Gv:qv;return{pages:k(h.pages,b,_),pageParams:k(h.pageParams,p,_)}};if(s&&i.length){const h=s==="backward",p=h?oy:Ed,C={pages:i,pageParams:o},M=p(r,C);l=await m(C,M,h)}else{const h=e??i.length;do{const p=a===0?o[0]??r.initialPageParam:Ed(r,l);if(a>0&&p==null)break;l=await m(l,p),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var N,L;return(L=(N=t.options).persister)==null?void 0:L.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ed(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function oy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var hi,Yt,nt,pr,Xt,En,uf,ly=(uf=class extends Pp{constructor(t){super();V(this,Xt);V(this,hi);V(this,Yt);V(this,nt);V(this,pr);D(this,hi,t.client),this.mutationId=t.mutationId,D(this,nt,t.mutationCache),D(this,Yt,[]),this.state=t.state||_p(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,Yt).includes(t)||(x(this,Yt).push(t),this.clearGcTimeout(),x(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Yt,x(this,Yt).filter(n=>n!==t)),this.scheduleGc(),x(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,Yt).length||(this.state.status==="pending"?this.scheduleGc():x(this,nt).remove(this))}continue(){var t;return((t=x(this,pr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,d,f,g,S,w,N,L,v,m,h,p,C,M,R,b,_;const n=()=>{se(this,Xt,En).call(this,{type:"continue"})},r={client:x(this,hi),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,pr,Op({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{se(this,Xt,En).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{se(this,Xt,En).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,nt).canRun(this)}));const s=this.state.status==="pending",i=!x(this,pr).canStart();try{if(s)n();else{se(this,Xt,En).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=x(this,nt).config).onMutate)==null?void 0:l.call(o,t,this,r));const A=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));A!==this.state.context&&se(this,Xt,En).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const k=await x(this,pr).start();return await((f=(d=x(this,nt).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,k,t,this.state.context,r)),await((N=(w=x(this,nt).config).onSettled)==null?void 0:N.call(w,k,null,this.state.variables,this.state.context,this,r)),await((v=(L=this.options).onSettled)==null?void 0:v.call(L,k,null,t,this.state.context,r)),se(this,Xt,En).call(this,{type:"success",data:k}),k}catch(k){try{await((h=(m=x(this,nt).config).onError)==null?void 0:h.call(m,k,t,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((C=(p=this.options).onError)==null?void 0:C.call(p,k,t,this.state.context,r))}catch(A){Promise.reject(A)}try{await((R=(M=x(this,nt).config).onSettled)==null?void 0:R.call(M,void 0,k,this.state.variables,this.state.context,this,r))}catch(A){Promise.reject(A)}try{await((_=(b=this.options).onSettled)==null?void 0:_.call(b,void 0,k,t,this.state.context,r))}catch(A){Promise.reject(A)}throw se(this,Xt,En).call(this,{type:"error",error:k}),k}finally{x(this,nt).runNext(this)}}},hi=new WeakMap,Yt=new WeakMap,nt=new WeakMap,pr=new WeakMap,Xt=new WeakSet,En=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),De.batch(()=>{x(this,Yt).forEach(r=>{r.onMutationUpdate(t)}),x(this,nt).notify({mutation:this,type:"updated",action:t})})},uf);function _p(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,$t,pi,cf,ay=(cf=class extends ws{constructor(t={}){super();V(this,un);V(this,$t);V(this,pi);this.config=t,D(this,un,new Set),D(this,$t,new Map),D(this,pi,0)}build(t,n,r){const s=new ly({client:t,mutationCache:this,mutationId:++Ci(this,pi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){x(this,un).add(t);const n=Ui(t);if(typeof n=="string"){const r=x(this,$t).get(n);r?r.push(t):x(this,$t).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,un).delete(t)){const n=Ui(t);if(typeof n=="string"){const r=x(this,$t).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&x(this,$t).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ui(t);if(typeof n=="string"){const r=x(this,$t).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ui(t);if(typeof n=="string"){const s=(r=x(this,$t).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{x(this,un).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,un).clear(),x(this,$t).clear()})}getAll(){return Array.from(x(this,un))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gd(n,r))}findAll(t={}){return this.getAll().filter(n=>gd(t,n))}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return De.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},un=new WeakMap,$t=new WeakMap,pi=new WeakMap,cf);function Ui(e){var t;return(t=e.options.scope)==null?void 0:t.id}var cn,Fn,ut,dn,mn,no,Ha,df,uy=(df=class extends ws{constructor(n,r){super();V(this,mn);V(this,cn);V(this,Fn);V(this,ut);V(this,dn);D(this,cn,n),this.setOptions(r),this.bindMethods(),se(this,mn,no).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=x(this,cn).defaultMutationOptions(n),Po(this.options,r)||x(this,cn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,ut),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Cr(r.mutationKey)!==Cr(this.options.mutationKey)?this.reset():((s=x(this,ut))==null?void 0:s.state.status)==="pending"&&x(this,ut).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=x(this,ut))==null||n.removeObserver(this)}onMutationUpdate(n){se(this,mn,no).call(this),se(this,mn,Ha).call(this,n)}getCurrentResult(){return x(this,Fn)}reset(){var n;(n=x(this,ut))==null||n.removeObserver(this),D(this,ut,void 0),se(this,mn,no).call(this),se(this,mn,Ha).call(this)}mutate(n,r){var s;return D(this,dn,r),(s=x(this,ut))==null||s.removeObserver(this),D(this,ut,x(this,cn).getMutationCache().build(x(this,cn),this.options)),x(this,ut).addObserver(this),x(this,ut).execute(n)}},cn=new WeakMap,Fn=new WeakMap,ut=new WeakMap,dn=new WeakMap,mn=new WeakSet,no=function(){var r;const n=((r=x(this,ut))==null?void 0:r.state)??_p();D(this,Fn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ha=function(n){De.batch(()=>{var r,s,i,o,l,a,u,d;if(x(this,dn)&&this.hasListeners()){const f=x(this,Fn).variables,g=x(this,Fn).context,S={client:x(this,cn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=x(this,dn)).onSuccess)==null||s.call(r,n.data,f,g,S)}catch(w){Promise.reject(w)}try{(o=(i=x(this,dn)).onSettled)==null||o.call(i,n.data,null,f,g,S)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=x(this,dn)).onError)==null||a.call(l,n.error,f,g,S)}catch(w){Promise.reject(w)}try{(d=(u=x(this,dn)).onSettled)==null||d.call(u,void 0,n.error,f,g,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(x(this,Fn))})})},df),Jt,ff,cy=(ff=class extends ws{constructor(t={}){super();V(this,Jt);this.config=t,D(this,Jt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Ku(s,n);let o=this.get(i);return o||(o=new ny({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){x(this,Jt).has(t.queryHash)||(x(this,Jt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,Jt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,Jt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Jt).get(t)}getAll(){return[...x(this,Jt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>md(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>md(t,r)):n}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jt=new WeakMap,ff),Me,In,_n,os,ls,zn,as,us,hf,dy=(hf=class{constructor(e={}){V(this,Me);V(this,In);V(this,_n);V(this,os);V(this,ls);V(this,zn);V(this,as);V(this,us);D(this,Me,e.queryCache||new cy),D(this,In,e.mutationCache||new ay),D(this,_n,e.defaultOptions||{}),D(this,os,new Map),D(this,ls,new Map),D(this,zn,0)}mount(){Ci(this,zn)._++,x(this,zn)===1&&(D(this,as,Gu.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Me).onFocus())})),D(this,us,Fo.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Me).onOnline())})))}unmount(){var e,t;Ci(this,zn)._--,x(this,zn)===0&&((e=x(this,as))==null||e.call(this),D(this,as,void 0),(t=x(this,us))==null||t.call(this),D(this,us,void 0))}isFetching(e){return x(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,In).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,Me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return x(this,Me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,Me).get(r.queryHash),i=s==null?void 0:s.state.data,o=Hv(t,i);if(o!==void 0)return x(this,Me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return De.batch(()=>x(this,Me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,Me);De.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,Me);return De.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=De.batch(()=>x(this,Me).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return De.batch(()=>(x(this,Me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=De.batch(()=>x(this,Me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,Me).build(this,t);return n.isStaleByTime(qn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=Cd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=Cd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fo.isOnline()?x(this,In).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,Me)}getMutationCache(){return x(this,In)}getDefaultOptions(){return x(this,_n)}setDefaultOptions(e){D(this,_n,e)}setQueryDefaults(e,t){x(this,os).set(Cr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,os).values()],n={};return t.forEach(r=>{ui(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){x(this,ls).set(Cr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,ls).values()],n={};return t.forEach(r=>{ui(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,_n).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ku(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,_n).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,Me).clear(),x(this,In).clear()}},Me=new WeakMap,In=new WeakMap,_n=new WeakMap,os=new WeakMap,ls=new WeakMap,zn=new WeakMap,as=new WeakMap,us=new WeakMap,hf),zp=y.createContext(void 0),wi=e=>{const t=y.useContext(zp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},fy=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(zp.Provider,{value:e,children:t})),Dp=y.createContext(!1),hy=()=>y.useContext(Dp);Dp.Provider;function py(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var my=y.createContext(py()),gy=()=>y.useContext(my),vy=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},yy=e=>{y.useEffect(()=>{e.clearReset()},[e])},xy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Lp(n,[e.error,r])),wy=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Sy=(e,t)=>e.isLoading&&e.isFetching&&!t,ky=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Nd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Cy(e,t,n){var f,g,S,w,N;const r=hy(),s=gy(),i=wi(),o=i.defaultQueryOptions(e);(g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",wy(o),vy(o,s),yy(s);const l=!i.getQueryCache().get(o.queryHash),[a]=y.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(L=>{const v=d?a.subscribe(De.batchCalls(L)):st;return a.updateResult(),v},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),y.useEffect(()=>{a.setOptions(o)},[o,a]),ky(o,u))throw Nd(o,a,s);if(xy({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||w.call(S,o,u),o.experimental_prefetchInRender&&!kr&&Sy(u,r)){const L=l?Nd(o,a,s):(N=i.getQueryCache().get(o.queryHash))==null?void 0:N.promise;L==null||L.catch(st).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function Xu(e,t){return Cy(e,ry)}function Ey(e,t){const n=wi(),[r]=y.useState(()=>new uy(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const s=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(De.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,l)=>{r.mutate(o,l).catch(st)},[r]);if(s.error&&Lp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function bd(e){return e.length>0&&"options"in e[0]}function jd({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:u=!0,title:d,disabled:f=!1,"aria-label":g}){var b;const[S,w]=y.useState(!1),N=y.useRef(null),L=y.useRef(null),m=y.useCallback(()=>{const _=k=>{const A=k.find(J=>J.value===e);return A?A.label:null};if(bd(n))for(const k of n){const A=_(k.options);if(A)return A}else{const k=_(n);if(k)return k}return r},[e,n,r])();y.useEffect(()=>{if(!S)return;const _=A=>{N.current&&!N.current.contains(A.target)&&w(!1)},k=A=>{var J;A.key==="Escape"&&(w(!1),(J=L.current)==null||J.focus())};return window.addEventListener("click",_),window.addEventListener("keydown",k),()=>{window.removeEventListener("click",_),window.removeEventListener("keydown",k)}},[S]);const h=_=>{var k;t(_),w(!1),(k=L.current)==null||k.focus()},p=_=>_.map(k=>c.jsxs("button",{className:"dropdown-item","data-active":k.value===e,disabled:k.disabled,onClick:()=>!k.disabled&&h(k.value),role:"menuitem",children:[k.icon&&c.jsx("span",{className:"shrink-0",children:k.icon}),c.jsx("span",{className:"flex-1 truncate",children:k.label}),k.value===e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},k.value)),C=((b=L.current)==null?void 0:b.offsetWidth)??0,M=a==="trigger"?C:a==="auto"?void 0:a,R={...M?{width:M,minWidth:M}:{},...l==="right"?{right:0}:{left:0}};return c.jsxs("div",{ref:N,className:"relative",children:[s?c.jsx("div",{onClick:()=>!f&&w(_=>!_),children:s}):c.jsxs("button",{ref:L,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(_=>!_),disabled:f,title:d,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":S,children:[c.jsx("span",{className:"truncate",children:m}),u&&c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${S?"rotate-180":""}`,children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&c.jsx("div",{className:`dropdown-panel ${o}`,style:R,role:"listbox","aria-label":g,children:bd(n)?n.map((_,k)=>c.jsxs("div",{children:[_.label&&c.jsx("div",{className:"dropdown-label",children:_.label}),p(_.options),k<n.length-1&&c.jsx("div",{className:"dropdown-divider"})]},_.label||k)):p(n)})]})}function Ny({rootRef:e,onSearch:t,viewerActive:n,onBack:r,zoomPercent:s,onZoomPercentChange:i,currentLabel:o,itemCount:l,totalCount:a,sortSpec:u,metricKeys:d,onSortChange:f,filterCount:g,onOpenFilters:S,starFilters:w,onToggleStar:N,onClearStars:L,onClearFilters:v,starCounts:m,viewMode:h,onViewMode:p,gridItemSize:C,onGridItemSize:M,leftOpen:R,rightOpen:b,onToggleLeft:_,onToggleRight:k,onPrevImage:A,onNextImage:J,canPrevImage:re,canNextImage:q}){const[U,ee]=y.useState(!1),[ae,P]=y.useState(!1),[Q,H]=y.useState(!1),ie=y.useRef(null),Z=y.useRef(null);y.useEffect(()=>{if(!U)return;const T=$=>{ie.current&&!ie.current.contains($.target)&&ee(!1)};return window.addEventListener("click",T),()=>window.removeEventListener("click",T)},[U]),y.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;const T=window.matchMedia("(max-width: 900px)"),$=G=>P(G.matches);return P(T.matches),"addEventListener"in T?(T.addEventListener("change",$),()=>T.removeEventListener("change",$)):(T.addListener($),()=>T.removeListener($))},[]),y.useEffect(()=>{if(!ae||n){H(!1);return}if(!Q)return;const T=window.requestAnimationFrame(()=>{var $;return($=Z.current)==null?void 0:$.focus()});return()=>window.cancelAnimationFrame(T)},[ae,Q,n]);const he=u??{kind:"builtin",key:"added",dir:"desc"},Fe=he.dir,$e=he.kind==="builtin"&&he.key==="random",Qe=d!=null&&d.length?d.map(T=>({value:`metric:${T}`,label:T})):[],St=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...Qe]}],It=he.kind==="metric"?`metric:${he.key}`:`builtin:${he.key}`,Sn=[{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...Qe]}],kt=ae&&!n,pe=T=>{if(T.startsWith("layout:")){const $=T==="layout:masonry"?"adaptive":"grid";p==null||p($)}else f==null||f(Md(T,he))},Ct=(w||[]).length,j=jy(g,Ct),F=by(l,a);return c.jsxs("div",{ref:e,className:"toolbar-shell fixed top-0 left-0 right-0 h-12 grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1 select-none",children:[c.jsxs("div",{className:"toolbar-left flex items-center gap-4 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsxs("div",{className:"flex flex-col min-w-0 leading-tight",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted",children:"Scope"}),c.jsx("span",{className:"text-sm font-medium text-text truncate",title:o||"Root",children:o||"Root"})]}),F&&c.jsx("span",{className:"toolbar-count text-xs text-muted whitespace-nowrap tabular-nums",children:F}),n&&c.jsxs("button",{className:"btn btn-sm",onClick:r,title:"Back to grid",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]})]}),c.jsxs("div",{className:`toolbar-sort flex items-center gap-2 ${n?"opacity-40 pointer-events-none":""}`,children:[c.jsxs("div",{className:"toolbar-sort-controls flex items-center gap-2",children:[c.jsx(jd,{value:It,onChange:pe,options:St,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),c.jsx("button",{className:"toolbar-sort-dir btn btn-icon",onClick:()=>{f&&f($e?he:{...he,dir:Fe==="desc"?"asc":"desc"})},title:$e?"Shuffle":`Sort ${Fe==="desc"?"descending":"ascending"}`,"aria-label":$e?"Shuffle":"Toggle sort direction","aria-disabled":n,children:$e?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):Fe==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})})]}),c.jsxs("div",{ref:ie,className:"toolbar-filter relative",children:[c.jsxs("button",{className:`btn ${j>0?"btn-active":""}`,onClick:()=>ee(T=>!T),"aria-haspopup":"dialog","aria-expanded":U,title:"Filters","aria-disabled":n,children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),c.jsx("span",{className:"toolbar-filters-label",children:"Filters"}),j>0&&c.jsx("span",{className:"toolbar-filters-count px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:j})]}),U&&c.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[c.jsx("div",{className:"dropdown-label",children:"Rating"}),c.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(T=>{const $=(w||[]).includes(T),G=(m==null?void 0:m[String(T)])??0;return c.jsxs("button",{onClick:()=>N==null?void 0:N(T),className:`dropdown-item justify-between ${$?"bg-accent-muted":""}`,children:[c.jsxs("span",{className:$?"text-star-active":"text-text",children:["".repeat(T),"".repeat(5-T)]}),c.jsx("span",{className:"text-xs text-muted",children:G})]},T)}),c.jsxs("button",{onClick:()=>N==null?void 0:N(0),className:`dropdown-item justify-between ${(w||[]).includes(0)?"bg-accent-muted":""}`,children:[c.jsx("span",{className:"text-text",children:"Unrated"}),c.jsx("span",{className:"text-xs text-muted",children:(m==null?void 0:m["0"])??0})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("div",{className:"dropdown-label",children:"Metrics"}),c.jsxs("button",{className:"dropdown-item",onClick:()=>{ee(!1),S==null||S()},children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]}),c.jsx("span",{children:"Open Metrics Panel"}),(g||0)>0&&c.jsxs("span",{className:"ml-auto text-xs text-muted",children:[g," active"]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{v?v():L==null||L()},disabled:j===0,children:"Clear all filters"})]})]})]})]}),c.jsx("div",{className:"toolbar-center flex items-center gap-3 justify-center min-w-0",children:n?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,s??100))),onChange:T=>i==null?void 0:i(Number(T.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),c.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(s??100),"%"]})]}):M&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted",children:"Size"}),c.jsx("input",{type:"range",min:80,max:500,step:10,value:C??220,onChange:T=>M(Number(T.target.value)),className:"w-28 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),c.jsxs("div",{className:"toolbar-right flex items-center gap-2 justify-end",children:[c.jsxs("div",{className:`toolbar-nav flex items-center gap-1 mr-1 ${n?"":"opacity-0 pointer-events-none"}`,"aria-hidden":!n,children:[c.jsx("button",{className:`btn btn-icon ${re?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>re&&(A==null?void 0:A()),"aria-label":"Previous image","aria-disabled":!re,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("button",{className:`btn btn-icon ${q?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>q&&(J==null?void 0:J()),"aria-label":"Next image","aria-disabled":!q,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),c.jsxs("div",{className:"toolbar-panels flex items-center gap-1",children:[c.jsx("button",{className:`btn btn-icon ${R?"":"opacity-50"}`,title:R?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:_,"aria-pressed":R,"aria-label":"Toggle left panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),c.jsx("button",{className:`btn btn-icon ${b?"":"opacity-50"}`,title:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:k,"aria-pressed":b,"aria-label":"Toggle right panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),!n&&ae&&c.jsx("button",{className:`btn btn-icon ${Q?"btn-active":""}`,"aria-label":Q?"Close search":"Open search",title:Q?"Close search":"Search",onClick:()=>H(T=>!T),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"11",cy:"11",r:"7"}),c.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),!n&&!ae?c.jsx("div",{className:"toolbar-search w-[240px]",children:c.jsx("input",{ref:Z,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:T=>t(T.target.value),className:"toolbar-search-input input h-8 w-full focus:w-full transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}):n?c.jsx("div",{className:"toolbar-search w-[240px]","aria-hidden":"true"}):null]}),!n&&ae&&Q&&c.jsx("div",{className:"toolbar-search-row",children:c.jsx("input",{ref:Z,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:T=>t(T.target.value),className:"toolbar-search-input-mobile h-9 w-full rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}),kt&&c.jsx("div",{className:"mobile-drawer",children:c.jsxs("div",{className:"mobile-drawer-row",children:[c.jsxs("div",{className:"mobile-pill-group",children:[c.jsx("button",{className:`mobile-pill ${h==="grid"?"is-active":""}`,onClick:()=>p==null?void 0:p("grid"),"aria-pressed":h==="grid",children:"Grid"}),c.jsx("button",{className:`mobile-pill ${h==="adaptive"?"is-active":""}`,onClick:()=>p==null?void 0:p("adaptive"),"aria-pressed":h==="adaptive",children:"Masonry"})]}),c.jsx(jd,{value:It,onChange:T=>f==null?void 0:f(Md(T,he)),options:Sn,"aria-label":"Sort",triggerClassName:"mobile-pill mobile-pill-dropdown",panelClassName:"mobile-drawer-panel"}),c.jsx("button",{className:"mobile-pill mobile-pill-icon",onClick:()=>{f&&f($e?he:{...he,dir:Fe==="desc"?"asc":"desc"})},title:$e?"Shuffle":`Sort ${Fe==="desc"?"descending":"ascending"}`,"aria-label":$e?"Shuffle":"Toggle sort direction",children:$e?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):Fe==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})})]})})]})}function by(e,t){if(typeof e!="number")return null;const n=e.toLocaleString();if(typeof t!="number")return`${n} items`;const r=t.toLocaleString();return t===e?`${n} items`:`${n} / ${r} items`}function jy(e,t){return typeof e=="number"?e:t>0?1:0}function Md(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const Ap=3e4;class Wt extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Nt(e,t={}){const{timeoutMs:n=Ap,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Bi(e,t={}){const{timeoutMs:n=Ap,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class $p{constructor(t){jr(this,"store",new Map);jr(this,"inflight",new Map);jr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Or=new $p(60*1024*1024),Va=new $p(20*1024*1024),Tl={};function My(){const e=Tl==null?void 0:Tl.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const Xe=My();const Ry=40*1024*1024,ge={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Nt(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Nt(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return Nt(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>Nt(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Nt(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Nt(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Va.getOrFetch(e,()=>Bi(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Va.prefetch(e,()=>Bi(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Or.getOrFetch(e,()=>Bi(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Or.has(e)||Or.isInflight(e)))try{const t=await Bi(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Ry&&Or.set(e,t)}catch{}},cancelPrefetch:e=>{Or.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Nt(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Nt(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Nt(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Nt(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>Nt(`${Xe}/views`).promise,saveViews:e=>Nt(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Ly=e=>["folder",e];function Up(e){return Xu({queryKey:Ly(e),queryFn:()=>ge.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Ol(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Ty(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function Pl(e){try{return JSON.parse(e)}catch{return}}const Oy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Xr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Oy.test(s)?s:"/"}catch{return"/"}}function Rd(){return(window.location.hash||"").replace(/^#/,"")}function Py(e){const t=Xr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Fy(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Iy(e){const n=Xr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function _y(e){return e.endsWith("/_trash_")}const Bp="application/x-lenslet-paths",zy='[role="treeitem"].drop-target';function Ld(e){var n;return Array.from(((n=e.dataTransfer)==null?void 0:n.types)||[]).includes(Bp)}function Dy(e){document.querySelectorAll(zy).forEach(t=>{t!==e&&t.classList.remove("drop-target")})}function Td(e){Dy(e),e.classList.add("drop-target")}function Od(e){return e.startsWith("/")?e:`/${e}`}function Ay({path:e,isLeaf:t}){const n=wi(),r=y.useCallback(l=>{Ld(l)&&(l.preventDefault(),t&&Td(l.currentTarget))},[t]),s=y.useCallback(l=>{!t||!Ld(l)||(l.preventDefault(),Td(l.currentTarget))},[t]),i=y.useCallback(l=>{const a=l.currentTarget,u=document.elementFromPoint(l.clientX,l.clientY);u&&a.contains(u)||a.classList.remove("drop-target")},[]),o=y.useCallback(async l=>{const a=l.dataTransfer;if(!a)return;l.preventDefault(),l.currentTarget.classList.remove("drop-target");const u=a.getData(Bp),f=(u?JSON.parse(u):[]).filter(Boolean);if(!f.length)return;let g=f[0].split("/").slice(0,-1).join("/")||"/";g=Od(g);const S=Od(e);try{for(const w of f)await ge.moveFile(w,S);n.invalidateQueries({queryKey:["folder",g]}),n.invalidateQueries({queryKey:["folder",S]}),n.setQueryData(["folder",g],w=>!w||!Array.isArray(w.items)?w:{...w,items:w.items.filter(N=>!f.includes(N.path))})}catch{}},[e,n]);return{onDragOver:r,onDragEnter:s,onDragLeave:i,onDrop:o}}const $y='[role="tree"] [role="treeitem"]';function Uy(){return Array.from(document.querySelectorAll($y))}function By(e,t){var i;const n=Uy(),r=n.findIndex(o=>o===e);if(r===-1)return;let s=r;t==="ArrowDown"?s=Math.min(n.length-1,r+1):t==="ArrowUp"?s=Math.max(0,r-1):t==="Home"?s=0:t==="End"&&(s=n.length-1),(i=n[s])==null||i.focus()}function Wy({path:e,isLeaf:t,isExpanded:n,setExpanded:r,onOpen:s}){return y.useCallback(i=>{if(i.key==="Enter"){i.preventDefault(),s(e);return}if(i.key==="ArrowRight"){!t&&!n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.add(e),l}));return}if(i.key==="ArrowLeft"){!t&&n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.delete(e),l}));return}(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="Home"||i.key==="End")&&(i.preventDefault(),By(i.currentTarget,i.key))},[e,t,n,r,s])}function Qy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=y.useState(new Set(["/"]));y.useEffect(()=>{const f=e.split("/").filter(Boolean),g=["/"];let S="";for(const w of f)S=S?`${S}/${w}`:`/${w}`,g.push(S);u(w=>{const N=new Set(w);for(const L of g)N.add(L);return N})},[e]);const d=o??"h-full overflow-auto bg-panel scrollbar-thin";return c.jsxs("div",{className:d,children:[c.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(f=>c.jsx(Wp,{path:f.path,label:f.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},f.path))}),l&&c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function Wp({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var C,M,R;const u=s.has(e),{data:d}=Up(e),f=a&&e===a.path?a:d,g=r===e,S=(((C=f==null?void 0:f.dirs)==null?void 0:C.length)??0)===0,w=S?((M=f==null?void 0:f.items)==null?void 0:M.length)??0:0,N=Wy({path:e,isLeaf:S,isExpanded:u,setExpanded:i,onOpen:o}),{onDragOver:L,onDragEnter:v,onDragLeave:m,onDrop:h}=Ay({path:e,isLeaf:S}),p=b=>{b.stopPropagation(),i(_=>{const k=new Set(_);return k.has(e)?k.delete(e):k.add(e),k})};return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${g?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":S?void 0:u,"aria-selected":g,tabIndex:g?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:b=>{b.preventDefault(),b.stopPropagation(),l&&l(b,e)},onKeyDown:N,onDragOver:L,onDragEnter:v,onDragLeave:m,onDrop:h,children:[c.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:p,children:u?"":""}),c.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Ty(t,28)}),S&&c.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((R=f==null?void 0:f.dirs)==null?void 0:R.map(b=>c.jsx(Wp,{path:Fy(e,b.name),label:b.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},b.name)))]})}class Hy{constructor(t=400){jr(this,"cache",new Map);jr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Fl=new Hy(400);function Vy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=y.useRef(null),[d,f]=y.useState(()=>Fl.get(e)??null),[g,S]=y.useState(!1),[w,N]=y.useState(()=>!!d);return y.useEffect(()=>{const L=u.current;if(!L)return;const v=new IntersectionObserver(m=>{for(const h of m)h.target===L&&S(h.isIntersecting||h.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return v.observe(L),()=>{v.unobserve(L),v.disconnect()}},[o]),y.useEffect(()=>{if(d||!(g&&!l||a))return;let L=!0;return ge.getThumb(e).then(v=>{if(!L)return;const m=URL.createObjectURL(v);Fl.set(e,m),f(m)}).catch(()=>{}),()=>{L=!1}},[e,d,g,l,a]),y.useEffect(()=>{var v;if(!d){N(!1);return}const L=(v=u.current)==null?void 0:v.querySelector("img");L&&L.complete&&L.naturalWidth>0?N(!0):N(!1)},[d]),y.useEffect(()=>{f(Fl.get(e)??null)},[e]),c.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?c.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>N(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Rr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,N)=>r[N]!==w)))return s;r=f;let S;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(S=Date.now()),s=t(...f),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,N=Math.round((Date.now()-S)*100)/100,L=N/16,v=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c ${v(N,5)} /${v(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*L,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function Pd(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Ky=(e,t)=>Math.abs(e-t)<1.01,qy=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Fd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Gy=e=>e,Yy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Xy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Fd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Fd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Id={passive:!0},_d=typeof window>"u"?!0:"onscrollend"in window,Jy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&_d?()=>{}:qy(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:g}=e.options;s=f?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(s,d)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,Id);const u=e.options.useScrollendEvent&&_d;return u&&n.addEventListener("scrollend",a,Id),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},Zy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},e0=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class t0{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Gy,rangeExtractor:Yy,onChange:()=>{},measureElement:Zy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Rr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Rr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Rr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const g of this.laneAssignments.keys())g>=n&&this.laneAssignments.delete(g);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),f=new Array(l).fill(void 0);for(let g=0;g<u;g++){const S=d[g];S&&(f[S.lane]=g)}for(let g=u;g<n;g++){const S=i(g),w=this.laneAssignments.get(g);let N,L;if(w!==void 0&&this.options.lanes>1){N=w;const p=f[N],C=p!==void 0?d[p]:void 0;L=C?C.end+this.options.gap:r+s}else{const p=this.options.lanes===1?d[g-1]:this.getFurthestMeasurement(d,g);L=p?p.end+this.options.gap:r+s,N=p?p.lane:g%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(g,N)}const v=a.get(S),m=typeof v=="number"?v:this.options.estimateSize(g),h=L+m;d[g]={index:g,start:L,size:m,end:h,key:S,lane:N},f[N]=g}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Rr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?n0({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Rr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Rr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Pd(r[Qp(0,r.length-1,s=>Pd(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,g]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),w=this.getOffsetForIndex(n,g);if(!w){console.warn("Failed to get offset for index:",n);return}Ky(w[0],S)||a(g)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Qp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function n0({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=Qp(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(d=>d<n+t);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const zd=typeof document<"u"?y.useLayoutEffect:y.useEffect;function r0(e){const t=y.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Vu.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=y.useState(()=>new t0(n));return r.setOptions(n),zd(()=>r._didMount(),[]),zd(()=>r._willUpdate()),r}function s0(e){return r0({observeElementRect:Xy,observeElementOffset:Jy,scrollToFn:e0,...e})}function i0({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s}){const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}}const o0=1.333;function l0({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;const a=(u,d)=>({index:i.length,height:d+s+r,imageH:d,items:u.map(f=>({item:f.item,displayW:f.aspect*d,displayH:d,originalIndex:f.originalIndex}))});for(let u=0;u<e.length;u++){const d=e[u],f=d.w>0&&d.h>0?d.w/d.h:o0;o.push({item:d,aspect:f,originalIndex:u}),l+=f;const g=(o.length-1)*r;if(l*n+g>=t){const w=(t-g)/l;i.push(a(o,w)),o=[],l=0}}return o.length>0&&i.push(a(o,n)),i}function a0(e,t,n){return{mode:"adaptive",rows:l0({items:t,containerWidth:e,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})}}function u0(e,t,n){const{columns:r,cellW:s,mediaH:i,rowH:o}=i0({containerW:e,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),l=Math.ceil(t.length/Math.max(1,r));return{mode:"grid",columns:r,cellW:s,mediaH:i,rowH:o,rowCount:l}}function c0(e,t,n){const[r,s]=y.useState(0);y.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const f=getComputedStyle(a),g=a.clientWidth-parseFloat(f.paddingLeft)-parseFloat(f.paddingRight);s(g)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=y.useMemo(()=>n.viewMode==="adaptive"?a0(r,t,n):u0(r,t,n),[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=s0({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return y.useEffect(()=>{o.measure()},[i,o]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function d0(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}const rn=12,f0=44,h0={w:4,h:3},p0=350,m0=120;function g0({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,f]=y.useState(null),[g,S]=y.useState(null),[w,N]=y.useState(!1),[L,v]=y.useState(null),[m,h]=y.useState(null),p=y.useRef(null),C=y.useRef(null),M=y.useRef(null),R=y.useRef(null),b=u,{width:_,layout:k,rowVirtualizer:A,virtualRows:J}=c0(M,e,{gap:rn,targetCell:b,aspect:h0,captionH:f0,viewMode:a}),re=y.useMemo(()=>{const j=new Map;for(let F=0;F<e.length;F++)j.set(e[F].path,F);return j},[e]),q=y.useMemo(()=>{if(k.mode!=="adaptive")return null;const j=new Map;return k.rows.forEach((F,T)=>{let $=0;F.items.forEach((G,te)=>{const W=$+G.displayW/2;j.set(G.item.path,{row:T,center:W,order:te}),$+=G.displayW+rn})}),j},[k]);y.useEffect(()=>{if(!t.length)return;const j=t[0];L!==j&&v(j)},[t,L]);const U=y.useMemo(()=>{if(k.mode!=="adaptive")return null;let j=0;return k.rows.map(F=>{const T=j;return j+=F.height,{start:T,height:F.height}})},[k]),ee=y.useRef(null),ae=(j,F)=>{try{if(ee.current!=null){try{cancelAnimationFrame(ee.current)}catch{}ee.current=null}const T=j.scrollTop,$=F-T;if(Math.abs($)<1){j.scrollTop=F;return}const G=140,te=performance.now(),W=oe=>1-Math.pow(1-oe,3),ne=oe=>{const Le=Math.min(1,(oe-te)/G),Ce=W(Le);j.scrollTop=T+$*Ce,Le<1?ee.current=requestAnimationFrame(ne):ee.current=null};ee.current=requestAnimationFrame(ne)}catch{j.scrollTop=F}},[P,Q]=y.useState(!1);y.useEffect(()=>{const j=M.current;if(!j)return;let F=0;const T=()=>{Q(!0),window.clearTimeout(F),F=window.setTimeout(()=>Q(!1),m0)};return j.addEventListener("scroll",T,{passive:!0}),()=>j.removeEventListener("scroll",T)},[]);const H=()=>{C.current!=null&&(window.clearTimeout(C.current),C.current=null)},ie=()=>{if(H(),N(!1),f(null),p.current){try{URL.revokeObjectURL(p.current)}catch{}p.current=null}S(null)},Z=j=>{P||(H(),f(j),N(!1),C.current=window.setTimeout(async()=>{C.current=null;try{const F=await ge.getFile(j),T=URL.createObjectURL(F);if(p.current)try{URL.revokeObjectURL(p.current)}catch{}p.current=T,S(T),N(!0)}catch{}},p0))},he=k.mode==="grid"?k.columns:Math.max(1,Math.floor(_/(b+rn))),Fe=(j,F)=>{if(k.mode!=="adaptive")return null;const T=k.rows[j];if(!T)return null;let $=0,G=null;for(const te of T.items){const W=$+te.displayW/2,ne=Math.abs(W-F);(!G||ne<G.dist)&&(G={path:te.item.path,dist:ne}),$+=te.displayW+rn}return G?G.path:null},$e=(j,F)=>{var Ce,Ee,nn,ye;if(!e.length)return null;const T=j??e[0].path;if(k.mode!=="adaptive"){const _t=d0(e,he,T,F);return _t==="open"||_t==null?_t:((Ce=e[_t])==null?void 0:Ce.path)??null}const $=q==null?void 0:q.get(T);if(!$)return T;const G=re.get(T)??0,te=F.key;if(te==="Enter")return"open";if(te==="ArrowRight"||te==="d")return((Ee=e[Math.min(e.length-1,G+1)])==null?void 0:Ee.path)??T;if(te==="ArrowLeft"||te==="a")return((nn=e[Math.max(0,G-1)])==null?void 0:nn.path)??T;const W=te==="ArrowDown"||te==="s"?1:te==="ArrowUp"||te==="w"?-1:0;if(W===0)return null;const ne=$.row+W;if(ne<0||ne>=(((ye=k.rows)==null?void 0:ye.length)??0))return T;const oe=$.center;return Fe(ne,oe)??T},Qe=j=>{var F;try{(F=document.getElementById(`cell-${encodeURIComponent(j)}`))==null||F.focus()}catch{}},St=j=>{try{ge.prefetchFile(j),ge.prefetchThumb(j)}catch{}},It=(j,F)=>{v(j),h(j);const T=!!F.shiftKey,$=!!(F.ctrlKey||F.metaKey);if(T){const G=R.current??L??t[0]??j,te=re.get(G)??e.findIndex(ne=>ne.path===G),W=re.get(j)??e.findIndex(ne=>ne.path===j);if(te!==-1&&W!==-1){const ne=Math.min(te,W),oe=Math.max(te,W),Le=e.slice(ne,oe+1).map(Ce=>Ce.path);if($){const Ce=new Set(t);for(const Ee of Le)Ce.add(Ee);r(Array.from(Ce))}else r(Le)}else r([j])}else if($){const G=new Set(t);G.has(j)?G.delete(j):G.add(j),r(Array.from(G)),R.current=j}else r([j]),R.current=j;P||St(j),Qe(j)},Sn=(j,F)=>{var T,$;try{const G=kt.has(j)&&t.length>0?t:[j];(T=F.dataTransfer)==null||T.setData("application/x-lenslet-paths",JSON.stringify(G)),F.dataTransfer&&(F.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const W=F.currentTarget.querySelector(".cell-content img"),ne=document.createElement("div");ne.className="drag-ghost";const oe=document.createElement("img");oe.draggable=!1,oe.alt="drag",W&&W.src&&(oe.src=W.src),ne.appendChild(oe),document.body.appendChild(ne);const Le=ne.getBoundingClientRect().width||150;($=F.dataTransfer)==null||$.setDragImage(ne,Math.round(Le/2),0);const Ce=()=>{try{ne.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Ce),window.removeEventListener("pointerup",Ce),document.removeEventListener("visibilitychange",Ce)};window.addEventListener("dragend",Ce),window.addEventListener("pointerup",Ce),document.addEventListener("visibilitychange",Ce)}catch{}};y.useEffect(()=>{const j=M.current;if(!j)return;const F=T=>{var Ce,Ee,nn;const $=$e(m,T);if($==null)return;if(T.preventDefault(),$==="open"){m&&s(m);return}const G=e.find(ye=>ye.path===$);if(!G)return;h(G.path),v(G.path),r([G.path]);try{R.current=G.path}catch{}const te=k.mode==="grid"?Math.floor((re.get(G.path)??0)/Math.max(1,k.columns)):((Ce=q==null?void 0:q.get(G.path))==null?void 0:Ce.row)??0,W=j.scrollTop,ne=W+j.clientHeight,oe=k.mode==="adaptive"?((Ee=U==null?void 0:U[te])==null?void 0:Ee.start)??0:te*k.rowH,Le=k.mode==="adaptive"?oe+(((nn=U==null?void 0:U[te])==null?void 0:nn.height)??0):oe+k.rowH;(oe<W||Le>ne)&&ae(j,oe),Qe(G.path)};return j.addEventListener("keydown",F),()=>{j.removeEventListener("keydown",F)}},[e,m,he,s,k,q,U,re]),y.useLayoutEffect(()=>{var te;const j=M.current;if(!j||!n||!t||t.length===0)return;const F=t[0],T=re.get(F);if(T==null||T<0)return;let $=0;if(k.mode==="grid")$=Math.floor(T/Math.max(1,k.columns));else{let W=0,ne=k.rows.length-1;for(;W<=ne;){const oe=W+ne>>1,Le=k.rows[oe];if(T>=Le.items[0].originalIndex&&T<=Le.items[Le.items.length-1].originalIndex){$=oe;break}T<Le.items[0].originalIndex?ne=oe-1:W=oe+1}}const G=k.mode==="adaptive"?((te=U==null?void 0:U[$])==null?void 0:te.start)??0:$*k.rowH;try{j.scrollTop=G}catch{}},[n,k,U]);const kt=y.useMemo(()=>new Set(t),[t]),pe=!!(d&&g&&w);y.useEffect(()=>{var j;(j=M.current)==null||j.focus()},[]),y.useEffect(()=>{var j;if(l){try{(j=M.current)==null||j.blur()}catch{}try{h(null)}catch{}}},[l]);const Ct=m?`cell-${encodeURIComponent(m)}`:void 0;return c.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${pe?"cursor-zoom-in":""}`,ref:M,tabIndex:0,"aria-activedescendant":Ct,onMouseDown:()=>{var j;return(j=M.current)==null?void 0:j.focus()},style:{"--gap":`${rn}px`},children:c.jsxs("div",{className:"relative w-full",style:{height:A.getTotalSize()},children:[J.map(j=>{var te;let F=[],T={},$="";if(k.mode==="adaptive"){const W=k.rows[j.index];if(!W)return null;F=W.items,T={height:W.height,transform:`translate3d(0, ${j.start}px, 0)`,display:"flex",gap:rn,paddingBottom:rn},$="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const W=j.index*k.columns;F=e.slice(W,W+k.columns).map(oe=>({item:oe,displayW:k.cellW,displayH:k.mediaH})),T={transform:`translate3d(0, ${j.start}px, 0)`,gridTemplateColumns:`repeat(${k.columns}, minmax(0, 1fr))`,gap:rn,paddingBottom:rn},$="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const G=j.index===((te=J[0])==null?void 0:te.index);try{if(!P)for(const{item:W}of F)try{ge.prefetchThumb(W.path)}catch{}}catch{}return c.jsx("div",{className:$,role:"row",style:T,children:F.map(({item:W,displayW:ne,displayH:oe})=>{const Le=!l&&(L===W.path||kt.has(W.path)),Ce=k.mode==="adaptive"?{width:ne}:{},Ee=k.mode==="adaptive"?{height:oe}:{},nn=k.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return c.jsxs("div",{id:`cell-${encodeURIComponent(W.path)}`,className:`relative min-w-0 ${Le?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Le,tabIndex:m===W.path?0:-1,onFocus:()=>h(W.path),draggable:!0,style:Ce,onDragStart:ye=>Sn(W.path,ye),onDragEnd:()=>{},onContextMenu:ye=>{ye.preventDefault(),ye.stopPropagation(),i&&i(ye,W.path)},children:[c.jsxs("div",{className:nn,style:Ee,onMouseEnter:()=>{try{ge.prefetchFile(W.path)}catch{}},onDoubleClick:()=>s(W.path),onMouseLeave:ie,children:[c.jsx("div",{className:"cell-content absolute inset-0",children:c.jsx(Vy,{path:W.path,name:W.name,selected:Le,displayW:ne,displayH:oe,ioRoot:M.current,isScrolling:P,priority:G,onClick:ye=>It(W.path,ye)})}),c.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:()=>Z(W.path),onMouseLeave:ie,children:c.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:c.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[c.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),c.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),c.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[c.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:W.name,children:(()=>{const ye=(o||"").trim();if(!ye)return W.name;const _t=W.name,Te=_t.toLowerCase().indexOf(ye.toLowerCase());if(Te===-1)return W.name;const Zo=_t.slice(0,Te),br=_t.slice(Te,Te+ye.length),Si=_t.slice(Te+ye.length);return c.jsxs(c.Fragment,{children:[Zo,c.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:br}),Si]})})()}),c.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[W.w,"  ",W.h]})]})]},W.path)})},j.key)}),d&&g&&w&&Vu.createPortal(c.jsx("div",{className:"toolbar-offset fixed inset-0 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:c.jsx("img",{src:g,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${he}`)})}function Ka(e,t){const[n,r]=y.useState(null),s=y.useRef(null);return y.useEffect(()=>{if(!e){if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}r(null);return}let i=!0;return e().then(o=>{if(!i)return;const l=URL.createObjectURL(o);if(s.current)try{URL.revokeObjectURL(s.current)}catch{}s.current=l,r(l)}).catch(()=>{}),()=>{i=!1}},t),y.useEffect(()=>()=>{if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}},[]),n}function v0(){const[e,t]=y.useState(1),[n,r]=y.useState(0),[s,i]=y.useState(0),[o,l]=y.useState(1),[a,u]=y.useState(!1),[d,f]=y.useState(!1),[g,S]=y.useState(!1),w=y.useRef(null),N=y.useRef(null),L=()=>{const h=w.current,p=N.current;if(!h||!p||!p.naturalWidth||!p.naturalHeight)return;const C=h.getBoundingClientRect(),M=C.width/p.naturalWidth,R=C.height/p.naturalHeight,b=Math.min(1,Math.min(M,R));l(b);const _=p.naturalWidth*b,k=p.naturalHeight*b;r((C.width-_)/2),i((C.height-k)/2)};return y.useEffect(()=>{const h=w.current;if(!h)return;const p=new ResizeObserver(()=>{try{requestAnimationFrame(()=>L())}catch{L()}});return p.observe(h),()=>p.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:d,setDragging:f,visible:g,setVisible:S,containerRef:w,imgRef:N,fitAndCenter:L,handleWheel:h=>{h.preventDefault();const p=h.deltaY>0?-1:1,C=1.2,M=.05,R=8,b=w.current;if(!b)return;const _=b.getBoundingClientRect(),k=h.clientX-_.left,A=h.clientY-_.top;t(J=>{const re=Math.min(R,Math.max(M,J*Math.pow(C,p))),q=re/J;return r(U=>k-q*(k-U)),i(U=>A-q*(A-U)),Number(re.toFixed(4))})},handleMouseDown:h=>{const p=w.current,C=N.current;if(!p||!C||h.target!==C)return;const R=p.getBoundingClientRect();if(h.clientX<R.left||h.clientX>R.right||h.clientY<R.top||h.clientY>R.bottom)return;h.preventDefault(),h.stopPropagation(),f(!0);const b=h.clientX,_=h.clientY,k=n,A=s,J=q=>{r(k+(q.clientX-b)),i(A+(q.clientY-_))},re=()=>{window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",re),f(!1)};window.addEventListener("mousemove",J),window.addEventListener("mouseup",re)}}}function y0({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const{scale:o,setScale:l,tx:a,setTx:u,ty:d,setTy:f,base:g,ready:S,setReady:w,dragging:N,visible:L,setVisible:v,containerRef:m,imgRef:h,fitAndCenter:p,handleWheel:C,handleMouseDown:M}=v0(),R=Ka(()=>ge.getFile(e),[e]),b=Ka(()=>ge.getThumb(e),[e]),_=y.useCallback(()=>{v(!1),window.setTimeout(t,110)},[t,v]);return y.useEffect(()=>{requestAnimationFrame(()=>{var k;v(!0),(k=m.current)==null||k.focus()})},[e]),y.useEffect(()=>{const k=A=>{A.key==="Escape"?_():(A.key==="ArrowRight"||A.key==="d")&&n?n(1):(A.key==="ArrowLeft"||A.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[t,n]),y.useEffect(()=>{w(!1)},[R]),y.useEffect(()=>{r&&r(g*o*100)},[g,o,r]),y.useEffect(()=>{if(s==null)return;const k=m.current;if(!k){i&&i();return}const A=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,g))),J=k.getBoundingClientRect(),re=J.width/2,q=J.height/2;l(U=>{const ee=A/U;return u(ae=>re-ee*(re-ae)),f(ae=>q-ee*(q-ae)),Number(A.toFixed(4))}),i&&i()},[s,g,i]),c.jsxs("div",{ref:m,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`toolbar-offset absolute inset-0 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${N?"cursor-grabbing select-none":""} ${L?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:_,onWheel:C,onMouseDown:M,onKeyDown:k=>{k.key==="Tab"&&k.preventDefault()},children:[c.jsxs("button",{"aria-label":"Close",onClick:k=>{k.stopPropagation(),_()},className:"btn btn-sm absolute top-3 right-3 z-10",title:"Close (Esc)",children:[c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"M6 6l12 12"})]}),"Close"]}),b&&c.jsx("img",{src:b,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:k=>k.preventDefault(),style:{transform:`translate(${a}px, ${d}px) scale(${g})`,transformOrigin:"0 0",opacity:S?0:.5,filter:"blur(0.25px)"}}),R&&c.jsx("img",{ref:h,src:R,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:k=>{k.preventDefault()},onLoad:k=>{p(),l(1);try{requestAnimationFrame(()=>w(!0))}catch{w(!0)}},onClick:k=>k.stopPropagation(),style:{transform:`translate(${a}px, ${d}px) scale(${g*o})`,transformOrigin:"0 0",opacity:S?.99:0,WebkitUserDrag:"none"}})]})}const Hp=e=>["item",e],x0={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function w0(e){return Xu({queryKey:Hp(e),queryFn:()=>ge.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function S0(e){const t=wi();return Ey({mutationFn:n=>ge.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(Hp(e),n)}})}const k0=6;async function Dd(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await Vp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(k0,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Rs=new Map,Il=new Map;async function Vp(e,t,n){const r=n??new Date().toISOString(),s=Rs.get(e)||{};Rs.set(e,{...s,...t});const i=Il.get(e);if(i)return i;const o=(async()=>{try{for(;Rs.has(e);){const l=Rs.get(e);if(Rs.delete(e),!l)break;let a;try{a=await ge.getSidecar(e)}catch{a={...x0,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let d=0;const f=3;for(;d<f;)try{await ge.putSidecar(e,u);break}catch(g){if(d++,d>=f)throw g;await new Promise(S=>setTimeout(S,200*Math.pow(2,d)))}}}finally{Il.delete(e)}})();return Il.set(e,o),o}function Kp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function ro(e){if(Array.isArray(e))return e.map(ro);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,ro(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return ro(r)}catch{return e}}return e}function _l(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function C0(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function E0(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function N0(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=_l(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${_l(o)}</span>`,r=i+o.length}return n+=_l(e.slice(r)),n}const b0=["overview","notes","metadata","basics"],Ad="lenslet.inspector.sections",j0={overview:!0,notes:!0,metadata:!0,basics:!0};function Wi({title:e,open:t,onToggle:n,actions:r,children:s,contentClassName:i}){const[o,l]=y.useState(t),[a,u]=y.useState(t?"open":"closed");return y.useEffect(()=>{if(t){l(!0);const f=window.requestAnimationFrame(()=>u("open"));return()=>window.cancelAnimationFrame(f)}u("closing");const d=window.setTimeout(()=>{l(!1),u("closed")},140);return()=>window.clearTimeout(d)},[t]),c.jsxs("div",{className:"border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsxs("button",{type:"button",onClick:n,"aria-expanded":t,className:"flex items-center gap-2 text-xs uppercase tracking-wide text-muted hover:text-text transition-colors",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${t?"rotate-90":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"m9 18 6-6-6-6"})}),c.jsx("span",{children:e})]}),r]}),o&&c.jsx("div",{className:"inspector-section-body","data-state":a,"aria-hidden":!t,children:c.jsx("div",{className:i??"px-3 pb-3",children:s})})]})}function M0({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=w0(e??""),a=S0(e??""),[u,d]=y.useState(j0),f=y.useCallback(j=>{d(F=>({...F,[j]:!F[j]}))},[]),[g,S]=y.useState(""),[w,N]=y.useState(""),[L,v]=y.useState(""),[m,h]=y.useState(null),[p,C]=y.useState("idle"),[M,R]=y.useState(!1),[b,_]=y.useState(null),[k,A]=y.useState({}),re=y.useMemo(()=>{const j=n.find(F=>F.path===e);return j&&j.star!==void 0?j.star:null},[n,e])??(o==null?void 0:o.star)??null,q=t.length>1,U=y.useMemo(()=>{const j=new Set(t);return n.filter(F=>j.has(F.path))},[n,t]),ee=y.useMemo(()=>U.reduce((j,F)=>j+(F.size||0),0),[U]);y.useEffect(()=>{o&&(S((o.tags||[]).join(", ")),N(o.notes||"")),v(""),h(null),C("idle"),R(!1)},[o==null?void 0:o.updated_at,e]);const ae=y.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]),P=y.useCallback(j=>{if(q&&t.length){Dd(t,j);return}if(!e)return;const F=ae();a.mutate({...F,...j,updated_at:new Date().toISOString(),updated_by:"web"})},[q,t,e,ae,a]);y.useEffect(()=>{if(!e)return;const j=F=>{if(Kp(F.target))return;const T=F.key;if(!/^[0-5]$/.test(T))return;F.preventDefault();const $=T==="0"?null:Number(T);if(q&&t.length){P({star:$}),s==null||s(t,$);return}P({star:$}),s==null||s([e],$)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,q,t,P,s]);const Q=Ka(e?()=>ge.getThumb(e):null,[e]),H=e?e.split("/").pop()||e:"",ie=y.useMemo(()=>{var F;if(H.includes("."))return H.slice(H.lastIndexOf(".")+1).toUpperCase();const j=n.find(T=>T.path===e);return(F=j==null?void 0:j.type)!=null&&F.includes("/")?j.type.split("/")[1].toUpperCase():""},[H,n,e]),Z=y.useMemo(()=>n.find(j=>j.path===e),[n,e]),he=y.useMemo(()=>e?(Z==null?void 0:Z.source)??e:"",[Z,e]),Fe=y.useCallback(async()=>{if(e){C("loading"),h(null);try{const j=await ge.getMetadata(e),F=ro(j.meta),T=JSON.stringify(F,null,2);v(T),C("loaded")}catch(j){const F=j instanceof Error?j.message:"Failed to load metadata";v(F),h(F),C("error")}}},[e]),$e=y.useCallback(()=>{var j;L&&((j=navigator.clipboard)==null||j.writeText(L).then(()=>{R(!0),setTimeout(()=>R(!1),1200)}).catch(F=>{const T=F instanceof Error?F.message:"Copy failed";h(T)}))},[L]),Qe=y.useMemo(()=>L?N0(L):"",[L]),St=p==="loading"?"Loading metadata":L||"PNG metadata not loaded yet.",It=p==="loaded"&&!!L,Sn=It?"h-48":"h-24",kt=q?null:c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[L&&c.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:$e,disabled:!L,title:"Copy metadata",children:M?"Copied":"Copy"}),c.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Fe,disabled:!e||p==="loading",children:p==="loading"?"Loading":"Load meta"})]});y.useEffect(()=>{try{const j=localStorage.getItem(Ad);if(!j)return;const F=JSON.parse(j);if(!F||typeof F!="object")return;const T={};for(const $ of b0)typeof F[$]=="boolean"&&(T[$]=F[$]);Object.keys(T).length>0&&d($=>({...$,...T}))}catch{}},[]),y.useEffect(()=>{try{localStorage.setItem(Ad,JSON.stringify(u))}catch{}},[u]);const pe=y.useCallback((j,F)=>{var T;F&&((T=navigator.clipboard)==null||T.writeText(F).then(()=>{_(j),setTimeout(()=>_($=>$===j?null:$),1e3)}).catch(()=>{}))},[]),Ct=y.useCallback((j,F)=>{if(F&&!k[j]){const T=F.offsetHeight;T&&A($=>$[j]?$:{...$,[j]:T})}},[k]);return i?c.jsxs("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&c.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel select-none",children:[Q&&c.jsx("img",{src:Q,alt:"thumb",className:"block w-full h-full object-contain"}),!!ie&&c.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md select-none",children:ie})]})}),c.jsx(Wi,{title:q?"Selection":"Item",open:u.overview,onToggle:()=>f("overview"),children:q?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),c.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Ol(ee)]})]}):c.jsx("div",{className:"font-mono text-text break-all",title:H,children:H})}),c.jsxs(Wi,{title:"Notes & Tags",open:u.notes,onToggle:()=>f("notes"),contentClassName:"px-3 pb-3 space-y-1.5",children:[c.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:w,onChange:j=>N(j.target.value),onBlur:()=>{P({notes:w})},"aria-label":q?"Notes for selected items":"Notes"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),c.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:g,onChange:j=>S(j.target.value),onBlur:()=>{P({tags:E0(g)})},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&c.jsxs(Wi,{title:"Metadata",open:u.metadata,onToggle:()=>f("metadata"),actions:kt,children:[c.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Sn} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:It?c.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Qe}}):St}),m&&c.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:m})]}),c.jsxs(Wi,{title:"Basics",open:u.basics,onToggle:()=>f("basics"),children:[c.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[c.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(j=>{const F=(re??0)>=j;return c.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${F?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const T=re===j&&!q?null:j;q&&t.length?(s==null||s(t,T),Dd(t,{star:T})):e&&(s==null||s([e],T),Vp(e,{star:T}))},title:`${j} star${j>1?"s":""} (key ${j})`,"aria-label":`${j} star${j>1?"s":""}`,"aria-pressed":re===j,children:F?"":""},j)})})]}),!q&&Z&&c.jsxs("div",{className:"text-[12px] space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>pe("dimensions",`${Z.w}${Z.h}`),children:"Dimensions"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:j=>Ct("dimensions",j),style:k.dimensions?{minHeight:k.dimensions}:void 0,children:b==="dimensions"?"Copied":`${Z.w}${Z.h}`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>pe("size",Ol(Z.size)),children:"Size"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:j=>Ct("size",j),style:k.size?{minHeight:k.size}:void 0,children:b==="size"?"Copied":Ol(Z.size)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>pe("type",Z.type),children:"Type"}),c.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:j=>Ct("type",j),style:k.type?{minHeight:k.type}:void 0,children:b==="type"?"Copied":Z.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>he&&pe("source",he),children:"Source"}),c.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:j=>Ct("source",j),style:k.source?{minHeight:k.source}:void 0,children:b==="source"?"Copied":he})]}),(()=>{const j=Z.metrics||null;if(!j)return null;const F=Object.entries(j).filter(([,te])=>te!=null);if(!F.length)return null;const T=F.sort(([te],[W])=>te.localeCompare(W)),$=T.slice(0,12),G=T.length-$.length;return c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),c.jsxs("div",{className:"space-y-1",children:[$.map(([te,W])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-24 shrink-0",children:te}),c.jsx("span",{className:"font-mono text-text text-right",children:C0(W)})]},te)),G>0&&c.jsxs("div",{className:"text-[11px] text-muted",children:["+",G," more"]})]})]})})()]})]}),c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):c.jsx("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const R0=(e,t)=>["search",e,t];function L0(e,t){return Xu({enabled:!!e.trim(),queryKey:R0(e,t),queryFn:()=>ge.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const T0=new Set([0,1,2,3,4,5]),Ju=new Set(["<","<=",">",">="]),O0=/^\d{4}-\d{2}-\d{2}$/;function P0(e,t){return!t||!t.and.length?e:e.filter(n=>F0(n,t.and))}function F0(e,t){for(const n of t)if(!I0(e,n))return!1;return!0}function I0(e,t){var n,r,s,i,o,l,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(o=t.urlContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.source??e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.source??e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const f=Date.parse(e.addedAt);if(Number.isNaN(f))return!1;const g=Bd(u,!1),S=Bd(d,!0);return!(g!=null&&f<g||S!=null&&f>S)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const f=e.w;return!Number.isFinite(f)||f<=0?!1:Wd(f,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const f=e.h;return!Number.isFinite(f)||f<=0?!1:Wd(f,u,d)}if("metricRange"in t){const{key:u,min:d,max:f}=t.metricRange,g=(a=e.metrics)==null?void 0:a[u];return!(g==null||g<d||g>f)}return!0}function qa(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=Y0(r);s&&n.push(s)}return{and:n}}function $d(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function zl(e,t){return qp(e,t)}function _0(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function qp(e,t){const n=Qs(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function z0(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function Gp(e,t){const n=Qs(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function D0(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function Yp(e,t){const n=Lt(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function A0(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function Xp(e,t){const n=Lt(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function $0(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function Jp(e,t){const n=Lt(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function U0(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function Zp(e,t){const n=Lt(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function B0(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function em(e,t){const n=Lt(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function W0(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function tm(e,t){const n=Lt(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function Q0(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function Ga(e,t){const n=Io((t==null?void 0:t.from)??null),r=Io((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function H0(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function so(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!Ju.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function V0(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function io(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!Ju.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function K0(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function q0(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function G0(e){const t=qa(e);return t?t.and.length:0}function Y0(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=Qs(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=Qs((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=Qs((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=Lt((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=Lt((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=Lt((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=Lt((o=e.commentsNotContains)==null?void 0:o.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=Lt((l=e.urlContains)==null?void 0:l.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=Lt((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=Io((u==null?void 0:u.from)??null),f=Io((u==null?void 0:u.to)??null);return!d&&!f?null:{dateRange:{...d?{from:d}:{},...f?{to:f}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=Ud(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=Ud(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",f=Ya(u.min),g=Ya(u.max);return!d||f==null||g==null||f>g?null:{metricRange:{key:d,min:f,max:g}}}return null}function Qs(e){if(!Array.isArray(e))return[];const t=[],n=new Set;for(const r of e){const s=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;!Number.isInteger(s)||!T0.has(s)||n.has(s)||(n.add(s),t.push(s))}return t}function Lt(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function Io(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function Ud(e,t){if(typeof e!="string"||!Ju.has(e))return null;const n=Ya(t);return n==null?null:{op:e,value:n}}function Bd(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&O0.test(n)?r+24*60*60*1e3-1:r}function Wd(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function Ya(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function Qd(e){return e.addedAt?Date.parse(e.addedAt):0}function _o(e,t){return e.name.localeCompare(t.name)}function X0(e,t){const n=Qd(e),r=Qd(t);return n===r?_o(e,t):n-r}function J0(e){return(t,n)=>{var i,o;const r=(i=t.metrics)==null?void 0:i[e],s=(o=n.metrics)==null?void 0:o[e];return r==null&&s==null?_o(t,n):r==null?1:s==null?-1:r===s?_o(t,n):r-s}}function Z0(e,t){return P0(e,t)}function ex(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function tx(e,t){const n=ex(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function nx(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return tx(e,i)}let r=X0;t.kind==="metric"?r=J0(t.key):t.key==="name"&&(r=_o);const s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Hs=40,Hd=[5,4,3,2,1],Vd=["<","<=",">",">="];function rx({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o,onChangeFilters:l}){const a=c.jsx(sx,{filters:i,onChangeFilters:l});return n.length?c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx(ix,{items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o})]}):c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function sx({filters:e,onChangeFilters:t}){const n=y.useMemo(()=>_0(e),[e]),r=y.useMemo(()=>z0(e),[e]),s=y.useMemo(()=>D0(e)??"",[e]),i=y.useMemo(()=>A0(e)??"",[e]),o=y.useMemo(()=>$0(e)??"",[e]),l=y.useMemo(()=>U0(e)??"",[e]),a=y.useMemo(()=>B0(e)??"",[e]),u=y.useMemo(()=>W0(e)??"",[e]),d=y.useMemo(()=>Q0(e)??{},[e]),f=y.useMemo(()=>Jd(d.from),[d.from]),g=y.useMemo(()=>Jd(d.to),[d.to]),S=y.useMemo(()=>H0(e),[e]),w=y.useMemo(()=>V0(e),[e]),[N,L]=y.useState((S==null?void 0:S.op)??">="),[v,m]=y.useState((w==null?void 0:w.op)??">=");y.useEffect(()=>{S!=null&&S.op&&L(S.op)},[S==null?void 0:S.op]),y.useEffect(()=>{w!=null&&w.op&&m(w.op)},[w==null?void 0:w.op]);const h=(p,C)=>{const M=new Set(n),R=new Set(r);p==="include"?M.has(C)?M.delete(C):(M.add(C),R.delete(C)):R.has(C)?R.delete(C):(R.add(C),M.delete(C));let b=qp(e,Array.from(M));b=Gp(b,Array.from(R)),t(b)};return c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Hd.map(p=>{const C=n.includes(p);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",p),"aria-pressed":C,title:`Include ${p} star${p>1?"s":""}`,children:[p,""]},`stars-in-${p}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${n.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",0),"aria-pressed":n.includes(0),title:"Include unrated",children:"None"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Hd.map(p=>{const C=r.includes(p);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",p),"aria-pressed":C,title:`Exclude ${p} star${p>1?"s":""}`,children:[p,""]},`stars-out-${p}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${r.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",0),"aria-pressed":r.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:s,placeholder:"e.g. draft",onChange:p=>t(Yp(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:i,placeholder:"e.g. v1",onChange:p=>t(Xp(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,placeholder:"e.g. hero",onChange:p=>t(Jp(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,placeholder:"e.g. todo",onChange:p=>t(Zp(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,placeholder:"e.g. s3://bucket",onChange:p=>t(em(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:u,placeholder:"e.g. http://",onChange:p=>t(tm(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:f,onChange:p=>t(Ga(e,{from:p.target.value||null,to:d.to??null}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:g,onChange:p=>t(Ga(e,{from:d.from??null,to:p.target.value||null}))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:N,onChange:p=>{const C=p.target.value;L(C),S&&t(so(e,{op:C,value:S.value}))},children:Vd.map(p=>c.jsx("option",{value:p,children:p},`w-${p}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:S?String(S.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(so(e,null));return}const M=Number(C);Number.isFinite(M)&&t(so(e,{op:N,value:M}))}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:v,onChange:p=>{const C=p.target.value;m(C),w&&t(io(e,{op:C,value:w.value}))},children:Vd.map(p=>c.jsx("option",{value:p,children:p},`h-${p}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:w?String(w.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(io(e,null));return}const M=Number(C);Number.isFinite(M)&&t(io(e,{op:v,value:M}))}})]})]})]})]})]})]})}function ix({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o}){const l=r&&n.includes(r)?r:n[0],a=y.useMemo(()=>l?Kd(e,l,Hs):null,[e,l]),u=y.useMemo(()=>l&&a?Kd(t,l,Hs,a):null,[t,l,a]),d=l?K0(i,l):null,[f,g]=y.useState(null),[S,w]=y.useState(!1),N=y.useRef(null),L=y.useRef(null),[v,m]=y.useState(""),[h,p]=y.useState(""),[C,M]=y.useState(null),R=f??d,b=a?{min:a.min,max:a.max}:null;y.useEffect(()=>{if(!d||!b){C!=="min"&&m(d?Cn(d.min):""),C!=="max"&&p(d?Cn(d.max):"");return}if(C!=="min"){const U=Tr(d.min,b.min)?"":Cn(d.min);m(U)}if(C!=="max"){const U=Tr(d.max,b.max)?"":Cn(d.max);p(U)}},[d,l,b,C]);const _=U=>{var P;if(!b||!l)return null;const ee=(P=L.current)==null?void 0:P.getBoundingClientRect();if(!ee)return null;const ae=nm((U.clientX-ee.left)/ee.width);return b.min+(b.max-b.min)*ae},k=(U,ee)=>{if(!b||!l)return;const ae=N.current??U,P=Gd(ae,U);g(P),ee&&o(l,P)},A=U=>{var ae;if(!b||!l)return;U.preventDefault();const ee=_(U);ee!=null&&(w(!0),g(null),N.current=ee,(ae=L.current)==null||ae.setPointerCapture(U.pointerId),k(ee,!1))},J=U=>{if(!S)return;const ee=_(U);ee!=null&&k(ee,!1)},re=U=>{var ae;if(!S)return;w(!1),(ae=L.current)==null||ae.releasePointerCapture(U.pointerId);const ee=_(U);ee!=null&&k(ee,!0),N.current=null,setTimeout(()=>g(null),0)},q=(U,ee)=>{if(!b||!l)return;const ae=Yd(U),P=Yd(ee);if(!ae.valid||!P.valid){ae.valid||m(d?Cn(d.min):""),P.valid||p(d?Cn(d.max):"");return}if(ae.value==null&&P.value==null){o(l,null);return}const Q=ae.value??b.min,H=P.value??b.max,ie=Xd(Q,b.min,b.max),Z=Xd(H,b.min,b.max),he=Gd(ie,Z);if(Tr(he.min,b.min)&&Tr(he.max,b.max)){o(l,null);return}o(l,he)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),c.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,onChange:U=>s(U.target.value),children:n.map(U=>c.jsx("option",{value:U,children:U},U))})]}),a?c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[c.jsxs("span",{children:["Population: ",a.count]}),c.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),c.jsxs("svg",{ref:L,viewBox:`0 0 ${Hs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:A,onPointerMove:J,onPointerUp:re,children:[qd(a.bins,"#2e3a4b"),u&&qd(u.bins,"#3a8fff"),R&&b&&ox(R,b)]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[c.jsx("span",{children:Lr(b==null?void 0:b.min)}),R?c.jsx("span",{className:"text-text",children:b&&Tr(R.min,b.min)?` ${Lr(R.max)}`:b&&Tr(R.max,b.max)?` ${Lr(R.min)}`:`${Lr(R.min)}  ${Lr(R.max)}`}):c.jsx("span",{children:"Drag to filter"}),c.jsx("span",{children:Lr(b==null?void 0:b.max)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Min"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:v,placeholder:Cn(b.min),onFocus:()=>M("min"),onBlur:()=>{M(null),q(v,h)},onChange:U=>m(U.target.value),onKeyDown:U=>{U.key==="Enter"&&U.currentTarget.blur()}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Max"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:h,placeholder:Cn(b.max),onFocus:()=>M("max"),onBlur:()=>{M(null),q(v,h)},onChange:U=>p(U.target.value),onKeyDown:U=>{U.key==="Enter"&&U.currentTarget.blur()}})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx("button",{className:"btn btn-sm",onClick:()=>l&&o(l,null),children:"Clear"})})]}):c.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]})}function Kd(e,t,n,r){var u;const s=[];for(const d of e){const f=(u=d.metrics)==null?void 0:u[t];f==null||Number.isNaN(f)||s.push(f)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const d of s){const f=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));l[f]+=1}return{bins:l,min:i,max:o,count:s.length}}function qd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return c.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function ox(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Hs*nm(Math.min(n,r)),i=Hs*Math.abs(r-n);return c.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function Gd(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function nm(e){return e<0?0:e>1?1:e}function Lr(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Cn(e){if(!Number.isFinite(e))return"";const t=e.toString();return t.includes("e")?e.toFixed(6):t}function Yd(e){const t=e.trim();if(!t)return{value:null,valid:!0};const n=Number(t);return Number.isFinite(n)?{value:n,valid:!0}:{value:null,valid:!1}}function Xd(e,t,n){return e<t?t:e>n?n:e}function Tr(e,t){const n=Math.max(1,Math.abs(e),Math.abs(t));return Math.abs(e-t)<=1e-6*n}function Jd(e){return e?e.length>=10?e.slice(0,10):e:""}function lx(e){const[t,n]=y.useState(250),[r,s]=y.useState(240),i=y.useRef(t),o=y.useRef(r);return y.useEffect(()=>{i.current=t},[t]),y.useEffect(()=>{o.current=r},[r]),y.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const f=Number(u.getItem("rightW"));Number.isFinite(f)&&f>0&&s(f)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const N=w.clientX-f.left,L=200,v=Math.max(L,f.width-o.current-200),m=Math.min(Math.max(N,L),v);n(m)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const N=w.clientX-f.left,L=f.width-N,v=240,m=Math.max(v,f.width-i.current-200),h=Math.min(Math.max(L,v),m);s(h)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)}}}function ax({x:e,y:t,items:n}){return c.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>c.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&c.jsx("span",{className:"shrink-0",children:r.icon}),c.jsx("span",{children:r.label})]},s))})}function Zd(e){return JSON.stringify(e,null,2)}function ef(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function Dl(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function ux(e,t=250){const[n,r]=lo.useState(e);return lo.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Oe={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function cx(){var rc;const[e,t]=y.useState("/"),[n,r]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(null),[a,u]=y.useState(0),[d,f]=y.useState(null),[g,S]=y.useState(100),[w,N]=y.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[L,v]=y.useState(()=>Date.now()),[m,h]=y.useState("adaptive"),[p,C]=y.useState(220),[M,R]=y.useState(!0),[b,_]=y.useState(!0),[k,A]=y.useState("folders"),[J,re]=y.useState([]),[q,U]=y.useState(null),[ee,ae]=y.useState({}),P=y.useRef(null),Q=y.useRef(null),H=y.useRef(null),ie=y.useRef(!1),Z=y.useRef(null),{leftW:he,rightW:Fe,onResizeLeft:$e,onResizeRight:Qe}=lx(P),[St,It]=y.useState(!1),[Sn,kt]=y.useState(null);y.useEffect(()=>{const E=Xr(Rd());t(E);const O=()=>{const z=Xr(Rd());l(null),t(Y=>Y===z?Y:(u(ue=>ue+1),z))};return window.addEventListener("hashchange",O),()=>window.removeEventListener("hashchange",O)},[]);const{data:pe,refetch:Ct,isLoading:j,isError:F}=Up(e),T=n.trim().length>0,$=ux(n,250),G=y.useMemo(()=>$.trim().replace(/\s+/g," "),[$]),te=L0(T?G:"",e),W=y.useMemo(()=>$d(w.filters),[w.filters]),ne=y.useMemo(()=>{var O;return(T?((O=te.data)==null?void 0:O.items)??[]:(pe==null?void 0:pe.items)??[]).map(z=>({...z,star:ee[z.path]!==void 0?ee[z.path]:z.star}))},[T,te.data,pe,ee]),oe=y.useMemo(()=>{const E=Z0(ne,w.filters);return nx(E,w.sort,L)},[ne,w.filters,w.sort,L]),Le=ne.length,Ce=oe.length,Ee=y.useMemo(()=>oe.map(E=>E.path),[oe]),nn=y.useMemo(()=>{const E=ne,O={0:0,1:0,2:0,3:0,4:0,5:0};for(const z of E){const Y=ee[z.path]??z.star??0;O[String(Y)]=(O[String(Y)]||0)+1}return O},[ne,ee]),ye=y.useMemo(()=>{const E=new Set;let O=0;for(const z of ne){const Y=z.metrics;if(Y)for(const ue of Object.keys(Y))E.add(ue);if(O+=1,O>=250&&E.size>0)break}return Array.from(E).sort()},[ne]);y.useEffect(()=>{ye.length&&N(E=>{const O=E.selectedMetric&&ye.includes(E.selectedMetric)?E.selectedMetric:ye[0];return O===E.selectedMetric?E:{...E,selectedMetric:O}})},[ye]),y.useEffect(()=>{w.sort.kind==="metric"&&(ye.includes(w.sort.key)||N(E=>({...E,sort:{kind:"builtin",key:"added",dir:E.sort.dir}})))},[ye,w.sort]);const _t=y.useMemo(()=>G0(w.filters),[w.filters]),Te=y.useCallback(E=>{N(O=>({...O,filters:E(O.filters)}))},[]),Zo=y.useCallback(E=>{N(O=>({...O,filters:E}))},[]),br=y.useCallback(()=>{Te(E=>zl(E,[]))},[Te]),Si=y.useCallback(()=>{N(E=>({...E,filters:{and:[]}}))},[]),el=y.useCallback((E,O)=>{Te(z=>q0(z,E,O))},[Te]),Zu=y.useMemo(()=>{var O,z,Y,ue,et,Et;const E=[];for(const X of w.filters.and)if("stars"in X){const K=X.stars||[];if(!K.length)continue;E.push({id:"stars",label:`Rating in: ${Al(K)}`,onRemove:()=>br()})}else if("starsIn"in X){const K=X.starsIn.values||[];if(!K.length)continue;E.push({id:"stars-in",label:`Rating in: ${Al(K)}`,onRemove:()=>br()})}else if("starsNotIn"in X){const K=X.starsNotIn.values||[];if(!K.length)continue;E.push({id:"stars-not-in",label:`Rating not in: ${Al(K)}`,onRemove:()=>Te(de=>Gp(de,[]))})}else if("nameContains"in X){const K=(O=X.nameContains.value)==null?void 0:O.trim();if(!K)continue;E.push({id:"name-contains",label:`Filename contains: ${K}`,onRemove:()=>Te(de=>Yp(de,""))})}else if("nameNotContains"in X){const K=(z=X.nameNotContains.value)==null?void 0:z.trim();if(!K)continue;E.push({id:"name-not-contains",label:`Filename not: ${K}`,onRemove:()=>Te(de=>Xp(de,""))})}else if("commentsContains"in X){const K=(Y=X.commentsContains.value)==null?void 0:Y.trim();if(!K)continue;E.push({id:"comments-contains",label:`Comments contain: ${K}`,onRemove:()=>Te(de=>Jp(de,""))})}else if("commentsNotContains"in X){const K=(ue=X.commentsNotContains.value)==null?void 0:ue.trim();if(!K)continue;E.push({id:"comments-not-contains",label:`Comments not: ${K}`,onRemove:()=>Te(de=>Zp(de,""))})}else if("urlContains"in X){const K=(et=X.urlContains.value)==null?void 0:et.trim();if(!K)continue;E.push({id:"url-contains",label:`URL contains: ${K}`,onRemove:()=>Te(de=>em(de,""))})}else if("urlNotContains"in X){const K=(Et=X.urlNotContains.value)==null?void 0:Et.trim();if(!K)continue;E.push({id:"url-not-contains",label:`URL not: ${K}`,onRemove:()=>Te(de=>tm(de,""))})}else if("dateRange"in X){const{from:K,to:de}=X.dateRange;if(!K&&!de)continue;E.push({id:"date-range",label:`Date: ${hx(K,de)}`,onRemove:()=>Te(Kt=>Ga(Kt,null))})}else if("widthCompare"in X){const{op:K,value:de}=X.widthCompare;E.push({id:"width-compare",label:`Width ${K} ${de}`,onRemove:()=>Te(Kt=>so(Kt,null))})}else if("heightCompare"in X){const{op:K,value:de}=X.heightCompare;E.push({id:"height-compare",label:`Height ${K} ${de}`,onRemove:()=>Te(Kt=>io(Kt,null))})}else if("metricRange"in X){const{key:K,min:de,max:Kt}=X.metricRange;E.push({id:`metric:${K}`,label:`${K}: ${mx(de,Kt)}`,onRemove:()=>el(K,null)})}return E},[w.filters,br,el,Te]),rm=y.useCallback(E=>{const O=new Set(W);O.has(E)?O.delete(E):O.add(E),N(z=>({...z,filters:zl(z.filters,Array.from(O))}))},[W]),sm=y.useCallback(()=>{R(!0),A("metrics")},[]),im=y.useCallback(E=>{N(O=>({...O,sort:E})),E.kind==="builtin"&&E.key==="random"&&v(Date.now())},[]),ec=y.useCallback(E=>{if(E==="/"||E==="")return"Lenslet | Root";const O=E.split("/").filter(Boolean);if(!O.length)return"Lenslet";const z=O.slice(-2).join("/");return`Lenslet | ${O.length>2?`.../${z}`:`/${z}`}`},[]),om=y.useMemo(()=>px(e),[e]);y.useEffect(()=>{document.title=ec(e)},[e,ec]),y.useEffect(()=>{let E=!0;return ge.getViews().then(O=>{E&&re(O.views||[])}).catch(()=>{E&&re([])}),()=>{E=!1}},[]),y.useEffect(()=>{T&&(i([]),l(null))},[T]),y.useEffect(()=>{const E=P.current,O=H.current;if(!E||!O)return;const z=()=>{const Y=Math.max(48,Math.round(O.getBoundingClientRect().height));E.style.setProperty("--toolbar-h",`${Y}px`)};if(z(),"ResizeObserver"in window){const Y=new ResizeObserver(z);return Y.observe(O),()=>Y.disconnect()}return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),y.useEffect(()=>{try{const E=localStorage.getItem(Oe.sortKey),O=localStorage.getItem(Oe.sortDir),z=localStorage.getItem(Oe.sortSpec),Y=localStorage.getItem(Oe.starFilters),ue=localStorage.getItem(Oe.filterAst),et=localStorage.getItem(Oe.selectedMetric),Et=localStorage.getItem(Oe.viewMode),X=localStorage.getItem(Oe.gridItemSize),K=localStorage.getItem(Oe.leftOpen),de=localStorage.getItem(Oe.rightOpen),sc=(qe=>{if(!qe)return null;const _e=Pl(qe);return!_e||typeof _e!="object"?null:_e.kind==="builtin"&&(_e.key==="name"||_e.key==="added"||_e.key==="random")&&(_e.dir==="asc"||_e.dir==="desc")||_e.kind==="metric"&&typeof _e.key=="string"&&_e.key.length>0&&(_e.dir==="asc"||_e.dir==="desc")?_e:null})(z)??{kind:"builtin",key:E==="name"||E==="added"||E==="random"?E:"added",dir:O==="asc"||O==="desc"?O:"desc"};sc.key==="random"&&v(Date.now());let rl=(qe=>{if(!qe)return null;const _e=Pl(qe);return qa(_e)})(ue)??{and:[]};if(Y){const qe=Pl(Y);if(Array.isArray(qe)){const _e=qe.filter(hm=>[0,1,2,3,4,5].includes(hm));rl=zl(rl,_e)}}if(N(qe=>({...qe,sort:sc,filters:rl,selectedMetric:et||qe.selectedMetric})),(Et==="grid"||Et==="adaptive")&&h(Et),X){const qe=Number(X);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(K==="0"||K==="false")&&R(!1),(de==="0"||de==="false")&&_(!1)}catch{}},[]),y.useEffect(()=>{if(typeof window>"u")return;const E=window.matchMedia("(max-width: 900px)"),O=()=>{E.matches&&(R(!1),_(!1))};return O(),"addEventListener"in E?(E.addEventListener("change",O),()=>E.removeEventListener("change",O)):(E.addListener(O),()=>E.removeListener(O))},[]),y.useEffect(()=>{try{localStorage.setItem(Oe.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Oe.sortDir,w.sort.dir),localStorage.setItem(Oe.sortSpec,JSON.stringify(w.sort));const E=$d(w.filters);localStorage.setItem(Oe.starFilters,JSON.stringify(E)),localStorage.setItem(Oe.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Oe.selectedMetric,w.selectedMetric):localStorage.removeItem(Oe.selectedMetric),localStorage.setItem(Oe.viewMode,m),localStorage.setItem(Oe.gridItemSize,String(p)),localStorage.setItem(Oe.leftOpen,M?"1":"0"),localStorage.setItem(Oe.rightOpen,b?"1":"0")}catch{}},[w,m,p,M,b]),y.useEffect(()=>{const E=Q.current;if(!E)return;const O=Y=>Math.min(500,Math.max(80,Y)),z=Y=>{Y.ctrlKey&&(Y.preventDefault(),C(ue=>O(ue+(Y.deltaY<0?20:-20))))};return E.addEventListener("wheel",z,{passive:!1}),()=>E.removeEventListener("wheel",z)},[]),y.useEffect(()=>{if(o)return;const E=Q.current;if(!E)return;const O=X=>Math.min(500,Math.max(80,X));let z=null;const Y=X=>{if(X.length<2)return 0;const[K,de]=[X[0],X[1]];return Math.hypot(K.clientX-de.clientX,K.clientY-de.clientY)},ue=X=>{if(X.touches.length!==2)return;const K=Y(X.touches);K&&(z={dist:K,size:p})},et=X=>{if(!z||X.touches.length!==2)return;const K=Y(X.touches);if(!K)return;X.preventDefault();const de=O(z.size*(K/z.dist));C(de)},Et=()=>{z=null};return E.addEventListener("touchstart",ue,{passive:!0}),E.addEventListener("touchmove",et,{passive:!1}),E.addEventListener("touchend",Et),E.addEventListener("touchcancel",Et),()=>{E.removeEventListener("touchstart",ue),E.removeEventListener("touchmove",et),E.removeEventListener("touchend",Et),E.removeEventListener("touchcancel",Et)}},[o,p]),y.useEffect(()=>{if(!o)return;const E=Ee.indexOf(o);if(E===-1)return;const O=[Ee[E-2],Ee[E-1],Ee[E+1],Ee[E+2]].filter(z=>!!z);for(const z of O)ge.prefetchFile(z),ge.prefetchThumb(z)},[o,Ee]),y.useEffect(()=>{var O;if(!((O=pe==null?void 0:pe.items)!=null&&O.length))return;const E=pe.items.slice(0,5);for(const z of E)ge.prefetchFile(z.path)},[pe==null?void 0:pe.path,pe==null?void 0:pe.items]);const ki=y.useCallback(E=>{l(null);const O=Xr(E);t(O),Py(O)},[]),lm=y.useCallback(async()=>{const E=window.prompt("Save Smart Folder as:","New Smart Folder");if(!E)return;const O=dx(E,J),z={id:O,name:E,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},Y=[...J.filter(ue=>ue.id!==O),z];re(Y),U(O);try{await ge.saveViews({version:1,views:Y})}catch(ue){if(ue instanceof Wt&&ue.status===403){const et=new Blob([JSON.stringify({version:1,views:Y},null,2)],{type:"application/json"});oo(et,`lenslet-smart-folder-${O}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",ue)}},[e,w,J]);y.useEffect(()=>{if(!q)return;const E=J.find(Y=>Y.id===q);if(!E){U(null);return}const O=E.pool.path===e,z=JSON.stringify(E.view)===JSON.stringify(w);(!O||!z)&&U(null)},[q,J,e,w]);const am=y.useCallback(E=>{l(E),ie.current||(window.history.pushState({viewer:!0},"",window.location.href),ie.current=!0)},[]),tc=y.useCallback(()=>{l(null),ie.current&&(ie.current=!1,window.history.back());const E=Z.current;if(E){const O=document.getElementById(`cell-${encodeURIComponent(E)}`);O==null||O.focus()}},[]);y.useEffect(()=>{const E=()=>{o&&(ie.current=!1,l(null))};return window.addEventListener("popstate",E),()=>window.removeEventListener("popstate",E)},[o]),y.useEffect(()=>{const E=P.current;if(!E)return;const O=ue=>{ue.dataTransfer&&Array.from(ue.dataTransfer.types).includes("Files")&&(ue.preventDefault(),It(!0))},z=ue=>{const et=ue.relatedTarget;et&&E.contains(et)||It(!1)},Y=async ue=>{var X,K;ue.preventDefault(),It(!1);const et=Array.from(((X=ue.dataTransfer)==null?void 0:X.files)??[]);if(!et.length)return;if(!((((K=pe==null?void 0:pe.dirs)==null?void 0:K.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const de of et)try{await ge.uploadFile(e,de)}catch(Kt){console.error(`Failed to upload ${de.name}:`,Kt)}Ct()};return E.addEventListener("dragover",O),E.addEventListener("dragleave",z),E.addEventListener("drop",Y),()=>{E.removeEventListener("dragover",O),E.removeEventListener("dragleave",z),E.removeEventListener("drop",Y)}},[e,(rc=pe==null?void 0:pe.dirs)==null?void 0:rc.length,Ct]),y.useEffect(()=>{const E=()=>kt(null),O=z=>{z.key==="Escape"&&kt(null)};return window.addEventListener("click",E),window.addEventListener("keydown",O),()=>{window.removeEventListener("click",E),window.removeEventListener("keydown",O)}},[]),y.useEffect(()=>{const E=O=>{if(!Kp(O.target)){if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="b"){O.preventDefault(),O.altKey?_(z=>!z):R(z=>!z);return}if(!o){if(O.key==="Backspace"||O.key==="Delete")O.preventDefault(),ki(Iy(e));else if((O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="a")O.preventDefault(),i(oe.map(z=>z.path));else if(O.key==="Escape")s.length&&(O.preventDefault(),i([]));else if(O.key==="/"){O.preventDefault();const z=document.querySelector(".toolbar-right .input");z==null||z.focus()}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,oe,s,o,ki]);const um=M?`${he}px`:"0px",cm=b?`${Fe}px`:"0px",nc=o??s[0]??null,tl=nc?Ee.indexOf(nc):-1,dm=tl>0,fm=tl>=0&&tl<Ee.length-1,nl=y.useCallback(E=>{if(!Ee.length)return;const O=o??s[0];if(!O)return;const z=Ee.indexOf(O);if(z===-1)return;const Y=Math.min(Ee.length-1,Math.max(0,z+E)),ue=Ee[Y];!ue||ue===O||(o&&l(ue),i([ue]))},[Ee,o,s]);return c.jsxs("div",{className:"app-shell grid h-full grid-cols-[var(--left)_1fr_var(--right)]",ref:P,style:{"--left":um,"--right":cm},children:[c.jsx(Ny,{rootRef:H,onSearch:r,viewerActive:!!o,onBack:tc,zoomPercent:o?g:void 0,onZoomPercentChange:E=>f(E),currentLabel:om,itemCount:Ce,totalCount:Le,sortSpec:w.sort,metricKeys:ye,onSortChange:im,filterCount:_t,onOpenFilters:sm,starFilters:W,onToggleStar:rm,onClearStars:br,onClearFilters:Si,starCounts:nn,viewMode:m,onViewMode:h,gridItemSize:p,onGridItemSize:C,leftOpen:M,rightOpen:b,onToggleLeft:()=>R(E=>!E),onToggleRight:()=>_(E=>!E),onPrevImage:()=>nl(-1),onNextImage:()=>nl(1),canPrevImage:dm,canNextImage:fm}),M&&c.jsxs("div",{className:"app-left-panel col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":k==="folders",onClick:()=>A("folders"),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":k==="metrics",onClick:()=>A("metrics"),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]})})]}),c.jsx("div",{className:"ml-10 h-full",children:k==="folders"?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:lm,title:"Save current view as Smart Folder",children:"+ New"})]}),J.length?c.jsx("div",{className:"flex flex-col gap-1",children:J.map(E=>{const O=E.id===q;return c.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${O?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var Y;U(E.id);const z=qa((Y=E.view)==null?void 0:Y.filters)??{and:[]};N({...E.view,filters:z}),ki(E.pool.path),A("metrics")},children:E.name},E.id)})}):c.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),c.jsx(Qy,{current:e,roots:[{label:"Root",path:"/"}],data:pe,onOpen:E=>{U(null),ki(E)},onContextMenu:(E,O)=>{E.preventDefault(),kt({x:E.clientX,y:E.clientY,kind:"tree",payload:{path:O}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):c.jsx(rx,{items:ne,filteredItems:oe,metricKeys:ye,selectedMetric:w.selectedMetric,onSelectMetric:E=>N(O=>({...O,selectedMetric:E})),filters:w.filters,onChangeRange:el,onChangeFilters:Zo})}),c.jsx("div",{className:"toolbar-offset absolute bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:$e})]}),c.jsxs("div",{className:"grid-shell col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:Q,children:[c.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Zu.length>0&&c.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel border-b border-border",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),Zu.map(E=>c.jsxs("span",{className:"filter-chip",children:[c.jsx("span",{className:"truncate max-w-[240px]",title:E.label,children:E.label}),c.jsx("button",{className:"filter-chip-remove","aria-label":`Clear filter ${E.label}`,onClick:E.onRemove,children:""})]},E.id)),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:Si,children:"Clear all"})]})}),!1,c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(g0,{items:oe,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:E=>{try{Z.current=E}catch{}am(E),i([E])},highlight:T?G:"",suppressSelectionHighlight:!!o,viewMode:m,targetCellSize:p,onContextMenuItem:(E,O)=>{E.preventDefault();const z=s.length?s:[O];kt({x:E.clientX,y:E.clientY,kind:"grid",payload:{paths:z}})}})})]}),b&&c.jsx(M0,{path:s[0]??null,selectedPaths:s,items:oe,onResize:Qe,onStarChanged:(E,O)=>{ae(z=>{const Y={...z};for(const ue of E)Y[ue]=O;return Y})}}),o&&c.jsx(y0,{path:o,onClose:tc,onZoomChange:E=>S(Math.round(E)),requestedZoomPercent:d,onZoomRequestConsumed:()=>f(null),onNavigate:nl}),St&&c.jsx("div",{className:"toolbar-offset fixed inset-0 left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),Sn&&c.jsx(gx,{ctx:Sn,current:e,items:oe,refetch:Ct,setCtx:kt})]})}function dx(e,t){const n=fx(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function fx(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Al(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function hx(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function px(e){if(e==="/"||e==="")return"Root";const t=e.split("/").filter(Boolean);return t.length?t.length<=2?`/${t.join("/")}`:`.../${t.slice(-2).join("/")}`:"Root"}function mx(e,t){return`${tf(e)}${tf(t)}`}function tf(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function oo(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function gx({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=_y(t),o=(h,p)=>h==="/"?`/${p}`:`${h}/${p}`,l=wi(),[a,u]=lo.useState(!1),[d,f]=lo.useState(null),g=()=>new Date().toISOString().replace(/[:.]/g,"-"),S=h=>{const p=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const M=typeof C[1]=="string"?C[1]:"";return p(M)}})},w=h=>{const p=Xr(h);return p===""?"/":p},N=async()=>{const h=w(e.payload.path||"/");u(!0);try{await ge.refreshFolder(h),S(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),Va.evictPrefix(h),Or.evictPrefix(h)}catch(p){console.error("Failed to refresh folder:",p)}finally{u(!1),s(null)}},L=async h=>{const p=[h],C=new Set,M=[];for(;p.length;){const R=p.pop();if(!C.has(R)){C.add(R);try{const b=await ge.getFolder(R);M.push(...b.items);for(const _ of b.dirs)_.kind==="branch"&&p.push(o(R,_.name))}catch(b){console.error(`Failed to fetch folder ${R}:`,b)}}}return M},v=h=>async()=>{f(h);const p=e.payload.path||t;try{const C=await L(p),M=Dl(C),R=h==="csv"?ef(M):Zd(M),b=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",_=p==="/"?"root":(p.replace(/^\/+/,"")||"root").replace(/\//g,"_");oo(new Blob([R],{type:b}),`metadata_${_}_${g()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{f(null),s(null)}},m=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:N},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:v("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:v("json")}]:(()=>{const h=e.payload.paths??[],p=[];return p.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await ge.moveFile(C,"/_trash_")}catch(M){console.error(`Failed to trash ${C}:`,M)}r(),s(null)}}}),i&&(p.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await ge.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),p.push({label:"Recover",onClick:async()=>{for(const C of h)try{const R=(await ge.getSidecar(C)).original_position,b=R&&R.split("/").slice(0,-1).join("/")||"/";await ge.moveFile(C,b)}catch(M){console.error(`Failed to recover ${C}:`,M)}r(),s(null)}})),h.length&&(p.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{f("csv");try{const C=new Set(h),M=n.filter(_=>C.has(_.path)),R=Dl(M),b=ef(R);oo(new Blob([b],{type:"text/csv;charset=utf-8"}),`metadata_selection_${g()}.csv`)}finally{f(null),s(null)}}}),p.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{f("json");try{const C=new Set(h),M=n.filter(_=>C.has(_.path)),R=Dl(M),b=Zd(R);oo(new Blob([b],{type:"application/json;charset=utf-8"}),`metadata_selection_${g()}.json`)}finally{f(null),s(null)}}})),p})();return c.jsx(ax,{x:e.x,y:e.y,items:m})}const vx=new dy({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function yx(){return c.jsx(fy,{client:vx,children:c.jsx(cx,{})})}bp(document.getElementById("root")).render(c.jsx(yx,{}));
