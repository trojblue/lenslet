var jm=Object.defineProperty;var fc=e=>{throw TypeError(e)};var Mm=(e,t,n)=>t in e?jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lr=(e,t,n)=>Mm(e,typeof t!="symbol"?t+"":t,n),al=(e,t,n)=>t.has(e)||fc("Cannot "+n);var x=(e,t,n)=>(al(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?fc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),A=(e,t,n,r)=>(al(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),re=(e,t,n)=>(al(e,t,"access private method"),n);var ji=(e,t,n,r)=>({set _(s){A(e,t,s,n)},get _(){return x(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sf={exports:{}},Uo={},kf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=Symbol.for("react.element"),Lm=Symbol.for("react.portal"),Tm=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Dm=Symbol.for("react.memo"),Am=Symbol.for("react.lazy"),hc=Symbol.iterator;function $m(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var Cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ef=Object.assign,Nf={};function xs(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Cf}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bf(){}bf.prototype=xs.prototype;function nu(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Cf}var ru=nu.prototype=new bf;ru.constructor=nu;Ef(ru,xs.prototype);ru.isPureReactComponent=!0;var pc=Array.isArray,jf=Object.prototype.hasOwnProperty,su={current:null},Mf={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)jf.call(t,r)&&!Mf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:yi,type:e,key:i,ref:o,props:s,_owner:su.current}}function Um(e,t){return{$$typeof:yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===yi}function Bm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mc=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bm(""+e.key):t.toString(36)}function qi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yi:case Lm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ul(o,0):r,pc(s)?(n="",e!=null&&(n=e.replace(mc,"$&/")+"/"),qi(s,t,n,"",function(u){return u})):s!=null&&(iu(s)&&(s=Um(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",pc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+ul(i,l);o+=qi(i,t,n,a,s)}else if(a=$m(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+ul(i,l++),o+=qi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mi(e,t,n){if(e==null)return e;var r=[],s=0;return qi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Gi={transition:null},Qm={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Gi,ReactCurrentOwner:su};function Lf(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Mi,forEach:function(e,t,n){Mi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mi(e,function(){t++}),t},toArray:function(e){return Mi(e,function(t){return t})||[]},only:function(e){if(!iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=xs;oe.Fragment=Tm;oe.Profiler=Pm;oe.PureComponent=nu;oe.StrictMode=Om;oe.Suspense=zm;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;oe.act=Lf;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ef({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=su.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)jf.call(t,a)&&!Mf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:yi,type:e.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:Im,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fm,_context:e},e.Consumer=e};oe.createElement=Rf;oe.createFactory=function(e){var t=Rf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:_m,render:e}};oe.isValidElement=iu;oe.lazy=function(e){return{$$typeof:Am,_payload:{_status:-1,_result:e},_init:Wm}};oe.memo=function(e,t){return{$$typeof:Dm,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Gi.transition;Gi.transition={};try{e()}finally{Gi.transition=t}};oe.unstable_act=Lf;oe.useCallback=function(e,t){return lt.current.useCallback(e,t)};oe.useContext=function(e){return lt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return lt.current.useEffect(e,t)};oe.useId=function(){return lt.current.useId()};oe.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return lt.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};oe.useRef=function(e){return lt.current.useRef(e)};oe.useState=function(e){return lt.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return lt.current.useTransition()};oe.version="18.3.1";kf.exports=oe;var y=kf.exports;const fo=Rm(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=y,Vm=Symbol.for("react.element"),Km=Symbol.for("react.fragment"),qm=Object.prototype.hasOwnProperty,Gm=Hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ym={key:!0,ref:!0,__self:!0,__source:!0};function Tf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qm.call(t,r)&&!Ym.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Vm,type:e,key:i,ref:o,props:s,_owner:Gm.current}}Uo.Fragment=Km;Uo.jsx=Tf;Uo.jsxs=Tf;Sf.exports=Uo;var c=Sf.exports,Of={exports:{}},kt={},Pf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var Q=I.length;I.push(H);e:for(;0<Q;){var ae=Q-1>>>1,J=I[ae];if(0<s(J,H))I[ae]=H,I[Q]=J,Q=ae;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],Q=I.pop();if(Q!==H){I[0]=Q;e:for(var ae=0,J=I.length,de=J>>>1;ae<de;){var Le=2*(ae+1)-1,be=I[Le],$e=Le+1,gt=I[$e];if(0>s(be,Q))$e<J&&0>s(gt,be)?(I[ae]=gt,I[$e]=Q,ae=$e):(I[ae]=be,I[Le]=Q,ae=Le);else if($e<J&&0>s(gt,Q))I[ae]=gt,I[$e]=Q,ae=$e;else break e}}return H}function s(I,H){var Q=I.sortIndex-H.sortIndex;return Q!==0?Q:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,g=3,S=!1,w=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(I){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=I)r(u),H.sortIndex=H.expirationTime,t(a,H);else break;H=n(u)}}function p(I){if(N=!1,h(I),!w)if(n(a)!==null)w=!0,se(C);else{var H=n(u);H!==null&&le(p,H.startTime-I)}}function C(I,H){w=!1,N&&(N=!1,v(b),b=-1),S=!0;var Q=g;try{for(h(H),f=n(a);f!==null&&(!(f.expirationTime>H)||I&&!$());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,g=f.priorityLevel;var J=ae(f.expirationTime<=H);H=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(a)&&r(a),h(H)}else r(a);f=n(a)}if(f!==null)var de=!0;else{var Le=n(u);Le!==null&&le(p,Le.startTime-H),de=!1}return de}finally{f=null,g=Q,S=!1}}var M=!1,R=null,b=-1,_=5,k=-1;function $(){return!(e.unstable_now()-k<_)}function Z(){if(R!==null){var I=e.unstable_now();k=I;var H=!0;try{H=R(!0,I)}finally{H?te():(M=!1,R=null)}}else M=!1}var te;if(typeof m=="function")te=function(){m(Z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,U=X.port2;X.port1.onmessage=Z,te=function(){U.postMessage(null)}}else te=function(){L(Z,0)};function se(I){R=I,M||(M=!0,te())}function le(I,H){b=L(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,se(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var Q=g;g=H;try{return I()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=g;g=I;try{return H()}finally{g=Q}},e.unstable_scheduleCallback=function(I,H,Q){var ae=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,I={id:d++,callback:H,priorityLevel:I,startTime:Q,expirationTime:J,sortIndex:-1},Q>ae?(I.sortIndex=Q,t(u,I),n(a)===null&&I===n(u)&&(N?(v(b),b=-1):N=!0,le(p,Q-ae))):(I.sortIndex=J,t(a,I),w||S||(w=!0,se(C))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var H=g;return function(){var Q=g;g=H;try{return I.apply(this,arguments)}finally{g=Q}}}})(Ff);Pf.exports=Ff;var Xm=Pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=y,St=Xm;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var If=new Set,Gs={};function Mr(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(Gs[e]=t,e=0;e<t.length;e++)If.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gc={},vc={};function eg(e){return Ql.call(vc,e)?!0:Ql.call(gc,e)?!1:Zm.test(e)?vc[e]=!0:(gc[e]=!0,!1)}function tg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ng(e,t,n,r){if(t===null||typeof t>"u"||tg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var ou=/[\-:]([a-z])/g;function lu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ou,lu);Ke[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ou,lu);Ke[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ou,lu);Ke[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ng(t,n,s,r)&&(n=null),r||s===null?eg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=Jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),_r=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),zf=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Kl=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Df=Symbol.for("react.offscreen"),yc=Symbol.iterator;function Es(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,cl;function Ps(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function rg(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case _r:return"Portal";case Hl:return"Profiler";case uu:return"StrictMode";case Vl:return"Suspense";case Kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zf:return(e.displayName||"Context")+".Consumer";case _f:return(e._context.displayName||"Context")+".Provider";case cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:ql(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return ql(e(t))}catch{}}return null}function sg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(t);case 8:return t===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ig(e){var t=Af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Li(e){e._valueTracker||(e._valueTracker=ig(e))}function $f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Af(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uf(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function Yl(e,t){Uf(e,t);var n=Xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fs=Array.isArray;function qr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Fs(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xn(n)}}function Bf(e,t){var n=Xn(t.value),r=Xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ti,Qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},og=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(e){og.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ds[t]=Ds[e]})});function Hf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ds.hasOwnProperty(e)&&Ds[e]?(""+t).trim():t+"px"}function Vf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var lg=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ea(e,t){if(t){if(lg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ta(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,Gr=null,Yr=null;function Cc(e){if(e=Si(e)){if(typeof ra!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Vo(t),ra(e.stateNode,e.type,t))}}function Kf(e){Gr?Yr?Yr.push(e):Yr=[e]:Gr=e}function qf(){if(Gr){var e=Gr,t=Yr;if(Yr=Gr=null,Cc(e),t)for(e=0;e<t.length;e++)Cc(t[e])}}function Gf(e,t){return e(t)}function Yf(){}var hl=!1;function Xf(e,t,n){if(hl)return e(t,n);hl=!0;try{return Gf(e,t,n)}finally{hl=!1,(Gr!==null||Yr!==null)&&(Yf(),qf())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var r=Vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var sa=!1;if(gn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{sa=!1}function ag(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var As=!1,po=null,mo=!1,ia=null,ug={onError:function(e){As=!0,po=e}};function cg(e,t,n,r,s,i,o,l,a){As=!1,po=null,ag.apply(ug,arguments)}function dg(e,t,n,r,s,i,o,l,a){if(cg.apply(this,arguments),As){if(As){var u=po;As=!1,po=null}else throw Error(F(198));mo||(mo=!0,ia=u)}}function Rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ec(e){if(Rr(e)!==e)throw Error(F(188))}function fg(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ec(s),e;if(i===r)return Ec(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Zf(e){return e=fg(e),e!==null?eh(e):null}function eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eh(e);if(t!==null)return t;e=e.sibling}return null}var th=St.unstable_scheduleCallback,Nc=St.unstable_cancelCallback,hg=St.unstable_shouldYield,pg=St.unstable_requestPaint,Pe=St.unstable_now,mg=St.unstable_getCurrentPriorityLevel,hu=St.unstable_ImmediatePriority,nh=St.unstable_UserBlockingPriority,go=St.unstable_NormalPriority,gg=St.unstable_LowPriority,rh=St.unstable_IdlePriority,Bo=null,tn=null;function vg(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Bo,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:wg,yg=Math.log,xg=Math.LN2;function wg(e){return e>>>=0,e===0?32:31-(yg(e)/xg|0)|0}var Oi=64,Pi=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Is(l):(i&=o,i!==0&&(r=Is(i)))}else o=n&~s,o!==0?r=Is(o):i!==0&&(r=Is(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),s=1<<n,r|=e[n],t&=~s;return r}function Sg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Sg(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function oa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sh(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function Cg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oh,mu,lh,ah,uh,la=!1,Fi=[],Bn=null,Wn=null,Qn=null,Js=new Map,Zs=new Map,Mn=[],Eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function bs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Si(t),t!==null&&mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ng(e,t,n,r,s){switch(t){case"focusin":return Bn=bs(Bn,e,t,n,r,s),!0;case"dragenter":return Wn=bs(Wn,e,t,n,r,s),!0;case"mouseover":return Qn=bs(Qn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Js.set(i,bs(Js.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zs.set(i,bs(Zs.get(i)||null,e,t,n,r,s)),!0}return!1}function ch(e){var t=or(e.target);if(t!==null){var n=Rr(t);if(n!==null){if(t=n.tag,t===13){if(t=Jf(n),t!==null){e.blockedOn=t,uh(e.priority,function(){lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);na=r,n.target.dispatchEvent(r),na=null}else return t=Si(n),t!==null&&mu(t),e.blockedOn=n,!1;t.shift()}return!0}function jc(e,t,n){Yi(e)&&n.delete(t)}function bg(){la=!1,Bn!==null&&Yi(Bn)&&(Bn=null),Wn!==null&&Yi(Wn)&&(Wn=null),Qn!==null&&Yi(Qn)&&(Qn=null),Js.forEach(jc),Zs.forEach(jc)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,la||(la=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,bg)))}function ei(e){function t(s){return js(s,e)}if(0<Fi.length){js(Fi[0],e);for(var n=1;n<Fi.length;n++){var r=Fi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&js(Bn,e),Wn!==null&&js(Wn,e),Qn!==null&&js(Qn,e),Js.forEach(t),Zs.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&Mn.shift()}var Xr=wn.ReactCurrentBatchConfig,yo=!0;function jg(e,t,n,r){var s=ge,i=Xr.transition;Xr.transition=null;try{ge=1,gu(e,t,n,r)}finally{ge=s,Xr.transition=i}}function Mg(e,t,n,r){var s=ge,i=Xr.transition;Xr.transition=null;try{ge=4,gu(e,t,n,r)}finally{ge=s,Xr.transition=i}}function gu(e,t,n,r){if(yo){var s=aa(e,t,n,r);if(s===null)El(e,t,r,xo,n),bc(e,r);else if(Ng(s,e,t,n,r))r.stopPropagation();else if(bc(e,r),t&4&&-1<Eg.indexOf(e)){for(;s!==null;){var i=Si(s);if(i!==null&&oh(i),i=aa(e,t,n,r),i===null&&El(e,t,r,xo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else El(e,t,r,null,n)}}var xo=null;function aa(e,t,n,r){if(xo=null,e=fu(r),e=or(e),e!==null)if(t=Rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xo=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case hu:return 1;case nh:return 4;case go:case gg:return 16;case rh:return 536870912;default:return 16}default:return 16}}var $n=null,vu=null,Xi=null;function fh(){if(Xi)return Xi;var e,t=vu,n=t.length,r,s="value"in $n?$n.value:$n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Mc(){return!1}function Ct(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ii:Mc,this.isPropagationStopped=Mc,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=Ct(ws),wi=Ne({},ws,{view:0,detail:0}),Rg=Ct(wi),ml,gl,Ms,Wo=Ne({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(ml=e.screenX-Ms.screenX,gl=e.screenY-Ms.screenY):gl=ml=0,Ms=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),Rc=Ct(Wo),Lg=Ne({},Wo,{dataTransfer:0}),Tg=Ct(Lg),Og=Ne({},wi,{relatedTarget:0}),vl=Ct(Og),Pg=Ne({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fg=Ct(Pg),Ig=Ne({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_g=Ct(Ig),zg=Ne({},ws,{data:0}),Lc=Ct(zg),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$g[e])?!!t[e]:!1}function xu(){return Ug}var Bg=Ne({},wi,{key:function(e){if(e.key){var t=Dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wg=Ct(Bg),Qg=Ne({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=Ct(Qg),Hg=Ne({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),Vg=Ct(Hg),Kg=Ne({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=Ct(Kg),Gg=Ne({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=Ct(Gg),Xg=[9,13,27,32],wu=gn&&"CompositionEvent"in window,$s=null;gn&&"documentMode"in document&&($s=document.documentMode);var Jg=gn&&"TextEvent"in window&&!$s,hh=gn&&(!wu||$s&&8<$s&&11>=$s),Oc=" ",Pc=!1;function ph(e,t){switch(e){case"keyup":return Xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Zg(e,t){switch(e){case"compositionend":return mh(t);case"keypress":return t.which!==32?null:(Pc=!0,Oc);case"textInput":return e=t.data,e===Oc&&Pc?null:e;default:return null}}function ev(e,t){if(Dr)return e==="compositionend"||!wu&&ph(e,t)?(e=fh(),Xi=vu=$n=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hh&&t.locale!=="ko"?null:t.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tv[e.type]:t==="textarea"}function gh(e,t,n,r){Kf(r),t=wo(t,"onChange"),0<t.length&&(n=new yu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Us=null,ti=null;function nv(e){jh(e,0)}function Qo(e){var t=Ur(e);if($f(t))return e}function rv(e,t){if(e==="change")return t}var vh=!1;if(gn){var yl;if(gn){var xl="oninput"in document;if(!xl){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),xl=typeof Ic.oninput=="function"}yl=xl}else yl=!1;vh=yl&&(!document.documentMode||9<document.documentMode)}function _c(){Us&&(Us.detachEvent("onpropertychange",yh),ti=Us=null)}function yh(e){if(e.propertyName==="value"&&Qo(ti)){var t=[];gh(t,ti,e,fu(e)),Xf(nv,t)}}function sv(e,t,n){e==="focusin"?(_c(),Us=t,ti=n,Us.attachEvent("onpropertychange",yh)):e==="focusout"&&_c()}function iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(ti)}function ov(e,t){if(e==="click")return Qo(t)}function lv(e,t){if(e==="input"||e==="change")return Qo(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:av;function ni(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ql.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var n=zc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zc(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ho(e.document)}return t}function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uv(e){var t=wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xh(n.ownerDocument.documentElement,n)){if(r!==null&&Su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Dc(n,i);var o=Dc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cv=gn&&"documentMode"in document&&11>=document.documentMode,Ar=null,ua=null,Bs=null,ca=!1;function Ac(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ca||Ar==null||Ar!==ho(r)||(r=Ar,"selectionStart"in r&&Su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&ni(Bs,r)||(Bs=r,r=wo(ua,"onSelect"),0<r.length&&(t=new yu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $r={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},wl={},Sh={};gn&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ho(e){if(wl[e])return wl[e];if(!$r[e])return e;var t=$r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sh)return wl[e]=t[n];return e}var kh=Ho("animationend"),Ch=Ho("animationiteration"),Eh=Ho("animationstart"),Nh=Ho("transitionend"),bh=new Map,$c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){bh.set(e,t),Mr(t,[e])}for(var Sl=0;Sl<$c.length;Sl++){var kl=$c[Sl],dv=kl.toLowerCase(),fv=kl[0].toUpperCase()+kl.slice(1);Zn(dv,"on"+fv)}Zn(kh,"onAnimationEnd");Zn(Ch,"onAnimationIteration");Zn(Eh,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Nh,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function Uc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dg(r,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Uc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Uc(s,l,u),i=a}}}if(mo)throw e=ia,mo=!1,ia=null,e}function xe(e,t){var n=t[ma];n===void 0&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Mh(t,e,2,!1),n.add(r))}function Cl(e,t,n){var r=0;t&&(r|=4),Mh(n,e,r,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[zi]){e[zi]=!0,If.forEach(function(n){n!=="selectionchange"&&(hv.has(n)||Cl(n,!1,e),Cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zi]||(t[zi]=!0,Cl("selectionchange",!1,t))}}function Mh(e,t,n,r){switch(dh(t)){case 1:var s=jg;break;case 4:s=Mg;break;default:s=gu}n=s.bind(null,t,n,e),s=void 0,!sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function El(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=or(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Xf(function(){var u=i,d=fu(n),f=[];e:{var g=bh.get(e);if(g!==void 0){var S=yu,w=e;switch(e){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":S=Wg;break;case"focusin":w="focus",S=vl;break;case"focusout":w="blur",S=vl;break;case"beforeblur":case"afterblur":S=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Vg;break;case kh:case Ch:case Eh:S=Fg;break;case Nh:S=qg;break;case"scroll":S=Rg;break;case"wheel":S=Yg;break;case"copy":case"cut":case"paste":S=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Tc}var N=(t&4)!==0,L=!N&&e==="scroll",v=N?g!==null?g+"Capture":null:g;N=[];for(var m=u,h;m!==null;){h=m;var p=h.stateNode;if(h.tag===5&&p!==null&&(h=p,v!==null&&(p=Xs(m,v),p!=null&&N.push(si(m,p,h)))),L)break;m=m.return}0<N.length&&(g=new S(g,w,null,n,d),f.push({event:g,listeners:N}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==na&&(w=n.relatedTarget||n.fromElement)&&(or(w)||w[vn]))break e;if((S||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=u,w=w?or(w):null,w!==null&&(L=Rr(w),w!==L||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=u),S!==w)){if(N=Rc,p="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=Tc,p="onPointerLeave",v="onPointerEnter",m="pointer"),L=S==null?g:Ur(S),h=w==null?g:Ur(w),g=new N(p,m+"leave",S,n,d),g.target=L,g.relatedTarget=h,p=null,or(d)===u&&(N=new N(v,m+"enter",w,n,d),N.target=h,N.relatedTarget=L,p=N),L=p,S&&w)t:{for(N=S,v=w,m=0,h=N;h;h=Tr(h))m++;for(h=0,p=v;p;p=Tr(p))h++;for(;0<m-h;)N=Tr(N),m--;for(;0<h-m;)v=Tr(v),h--;for(;m--;){if(N===v||v!==null&&N===v.alternate)break t;N=Tr(N),v=Tr(v)}N=null}else N=null;S!==null&&Bc(f,g,S,N,!1),w!==null&&L!==null&&Bc(f,L,w,N,!0)}}e:{if(g=u?Ur(u):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var C=rv;else if(Fc(g))if(vh)C=lv;else{C=iv;var M=sv}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=ov);if(C&&(C=C(e,u))){gh(f,C,n,d);break e}M&&M(e,g,u),e==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Xl(g,"number",g.value)}switch(M=u?Ur(u):window,e){case"focusin":(Fc(M)||M.contentEditable==="true")&&(Ar=M,ua=u,Bs=null);break;case"focusout":Bs=ua=Ar=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,Ac(f,n,d);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Ac(f,n,d)}var R;if(wu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dr?ph(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(hh&&n.locale!=="ko"&&(Dr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Dr&&(R=fh()):($n=d,vu="value"in $n?$n.value:$n.textContent,Dr=!0)),M=wo(u,b),0<M.length&&(b=new Lc(b,e,null,n,d),f.push({event:b,listeners:M}),R?b.data=R:(R=mh(n),R!==null&&(b.data=R)))),(R=Jg?Zg(e,n):ev(e,n))&&(u=wo(u,"onBeforeInput"),0<u.length&&(d=new Lc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}jh(f,t)})}function si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xs(e,n),i!=null&&r.unshift(si(e,i,s)),i=Xs(e,t),i!=null&&r.push(si(e,i,s))),e=e.return}return r}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Xs(n,i),a!=null&&o.unshift(si(n,a,l))):s||(a=Xs(n,i),a!=null&&o.push(si(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function Wc(e){return(typeof e=="string"?e:""+e).replace(pv,`
`).replace(mv,"")}function Di(e,t,n){if(t=Wc(t),Wc(e)!==t&&n)throw Error(F(425))}function So(){}var da=null,fa=null;function ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pa=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,Qc=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Qc<"u"?function(e){return Qc.resolve(null).then(e).catch(yv)}:pa;function yv(e){setTimeout(function(){throw e})}function Nl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ei(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),en="__reactFiber$"+Ss,ii="__reactProps$"+Ss,vn="__reactContainer$"+Ss,ma="__reactEvents$"+Ss,xv="__reactListeners$"+Ss,wv="__reactHandles$"+Ss;function or(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hc(e);e!==null;){if(n=e[en])return n;e=Hc(e)}return t}e=n,n=e.parentNode}return null}function Si(e){return e=e[en]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Vo(e){return e[ii]||null}var ga=[],Br=-1;function er(e){return{current:e}}function we(e){0>Br||(e.current=ga[Br],ga[Br]=null,Br--)}function ye(e,t){Br++,ga[Br]=e.current,e.current=t}var Jn={},Ze=er(Jn),ht=er(!1),Sr=Jn;function hs(e,t){var n=e.type.contextTypes;if(!n)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function ko(){we(ht),we(Ze)}function Vc(e,t,n){if(Ze.current!==Jn)throw Error(F(168));ye(Ze,t),ye(ht,n)}function Rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,sg(e)||"Unknown",s));return Ne({},n,r)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,Sr=Ze.current,ye(Ze,e),ye(ht,ht.current),!0}function Kc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Rh(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,we(ht),we(Ze),ye(Ze,e)):we(ht),ye(ht,n)}var ln=null,Ko=!1,bl=!1;function Lh(e){ln===null?ln=[e]:ln.push(e)}function Sv(e){Ko=!0,Lh(e)}function tr(){if(!bl&&ln!==null){bl=!0;var e=0,t=ge;try{var n=ln;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Ko=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),th(hu,tr),s}finally{ge=t,bl=!1}}return null}var Wr=[],Qr=0,Eo=null,No=0,Mt=[],Rt=0,kr=null,fn=1,hn="";function sr(e,t){Wr[Qr++]=No,Wr[Qr++]=Eo,Eo=e,No=t}function Th(e,t,n){Mt[Rt++]=fn,Mt[Rt++]=hn,Mt[Rt++]=kr,kr=e;var r=fn;e=hn;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var i=32-Qt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-Qt(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function ku(e){e.return!==null&&(sr(e,1),Th(e,1,0))}function Cu(e){for(;e===Eo;)Eo=Wr[--Qr],Wr[Qr]=null,No=Wr[--Qr],Wr[Qr]=null;for(;e===kr;)kr=Mt[--Rt],Mt[Rt]=null,hn=Mt[--Rt],Mt[Rt]=null,fn=Mt[--Rt],Mt[Rt]=null}var wt=null,xt=null,ke=!1,Bt=null;function Oh(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,xt=null,!0):!1;default:return!1}}function va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ya(e){if(ke){var t=xt;if(t){var n=t;if(!qc(e,t)){if(va(e))throw Error(F(418));t=Hn(n.nextSibling);var r=wt;t&&qc(e,t)?Oh(r,n):(e.flags=e.flags&-4097|2,ke=!1,wt=e)}}else{if(va(e))throw Error(F(418));e.flags=e.flags&-4097|2,ke=!1,wt=e}}}function Gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ai(e){if(e!==wt)return!1;if(!ke)return Gc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ha(e.type,e.memoizedProps)),t&&(t=xt)){if(va(e))throw Ph(),Error(F(418));for(;t;)Oh(e,t),t=Hn(t.nextSibling)}if(Gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?Hn(e.stateNode.nextSibling):null;return!0}function Ph(){for(var e=xt;e;)e=Hn(e.nextSibling)}function ps(){xt=wt=null,ke=!1}function Eu(e){Bt===null?Bt=[e]:Bt.push(e)}var kv=wn.ReactCurrentBatchConfig;function Rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yc(e){var t=e._init;return t(e._payload)}function Fh(e){function t(v,m){if(e){var h=v.deletions;h===null?(v.deletions=[m],v.flags|=16):h.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Gn(v,m),v.index=0,v.sibling=null,v}function i(v,m,h){return v.index=h,e?(h=v.alternate,h!==null?(h=h.index,h<m?(v.flags|=2,m):h):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,h,p){return m===null||m.tag!==6?(m=Pl(h,v.mode,p),m.return=v,m):(m=s(m,h),m.return=v,m)}function a(v,m,h,p){var C=h.type;return C===zr?d(v,m,h.props.children,p,h.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bn&&Yc(C)===m.type)?(p=s(m,h.props),p.ref=Rs(v,m,h),p.return=v,p):(p=io(h.type,h.key,h.props,null,v.mode,p),p.ref=Rs(v,m,h),p.return=v,p)}function u(v,m,h,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=Fl(h,v.mode,p),m.return=v,m):(m=s(m,h.children||[]),m.return=v,m)}function d(v,m,h,p,C){return m===null||m.tag!==7?(m=wr(h,v.mode,p,C),m.return=v,m):(m=s(m,h),m.return=v,m)}function f(v,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Pl(""+m,v.mode,h),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ri:return h=io(m.type,m.key,m.props,null,v.mode,h),h.ref=Rs(v,null,m),h.return=v,h;case _r:return m=Fl(m,v.mode,h),m.return=v,m;case bn:var p=m._init;return f(v,p(m._payload),h)}if(Fs(m)||Es(m))return m=wr(m,v.mode,h,null),m.return=v,m;$i(v,m)}return null}function g(v,m,h,p){var C=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(v,m,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ri:return h.key===C?a(v,m,h,p):null;case _r:return h.key===C?u(v,m,h,p):null;case bn:return C=h._init,g(v,m,C(h._payload),p)}if(Fs(h)||Es(h))return C!==null?null:d(v,m,h,p,null);$i(v,h)}return null}function S(v,m,h,p,C){if(typeof p=="string"&&p!==""||typeof p=="number")return v=v.get(h)||null,l(m,v,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ri:return v=v.get(p.key===null?h:p.key)||null,a(m,v,p,C);case _r:return v=v.get(p.key===null?h:p.key)||null,u(m,v,p,C);case bn:var M=p._init;return S(v,m,h,M(p._payload),C)}if(Fs(p)||Es(p))return v=v.get(h)||null,d(m,v,p,C,null);$i(m,p)}return null}function w(v,m,h,p){for(var C=null,M=null,R=m,b=m=0,_=null;R!==null&&b<h.length;b++){R.index>b?(_=R,R=null):_=R.sibling;var k=g(v,R,h[b],p);if(k===null){R===null&&(R=_);break}e&&R&&k.alternate===null&&t(v,R),m=i(k,m,b),M===null?C=k:M.sibling=k,M=k,R=_}if(b===h.length)return n(v,R),ke&&sr(v,b),C;if(R===null){for(;b<h.length;b++)R=f(v,h[b],p),R!==null&&(m=i(R,m,b),M===null?C=R:M.sibling=R,M=R);return ke&&sr(v,b),C}for(R=r(v,R);b<h.length;b++)_=S(R,v,b,h[b],p),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?b:_.key),m=i(_,m,b),M===null?C=_:M.sibling=_,M=_);return e&&R.forEach(function($){return t(v,$)}),ke&&sr(v,b),C}function N(v,m,h,p){var C=Es(h);if(typeof C!="function")throw Error(F(150));if(h=C.call(h),h==null)throw Error(F(151));for(var M=C=null,R=m,b=m=0,_=null,k=h.next();R!==null&&!k.done;b++,k=h.next()){R.index>b?(_=R,R=null):_=R.sibling;var $=g(v,R,k.value,p);if($===null){R===null&&(R=_);break}e&&R&&$.alternate===null&&t(v,R),m=i($,m,b),M===null?C=$:M.sibling=$,M=$,R=_}if(k.done)return n(v,R),ke&&sr(v,b),C;if(R===null){for(;!k.done;b++,k=h.next())k=f(v,k.value,p),k!==null&&(m=i(k,m,b),M===null?C=k:M.sibling=k,M=k);return ke&&sr(v,b),C}for(R=r(v,R);!k.done;b++,k=h.next())k=S(R,v,b,k.value,p),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?b:k.key),m=i(k,m,b),M===null?C=k:M.sibling=k,M=k);return e&&R.forEach(function(Z){return t(v,Z)}),ke&&sr(v,b),C}function L(v,m,h,p){if(typeof h=="object"&&h!==null&&h.type===zr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ri:e:{for(var C=h.key,M=m;M!==null;){if(M.key===C){if(C=h.type,C===zr){if(M.tag===7){n(v,M.sibling),m=s(M,h.props.children),m.return=v,v=m;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bn&&Yc(C)===M.type){n(v,M.sibling),m=s(M,h.props),m.ref=Rs(v,M,h),m.return=v,v=m;break e}n(v,M);break}else t(v,M);M=M.sibling}h.type===zr?(m=wr(h.props.children,v.mode,p,h.key),m.return=v,v=m):(p=io(h.type,h.key,h.props,null,v.mode,p),p.ref=Rs(v,m,h),p.return=v,v=p)}return o(v);case _r:e:{for(M=h.key;m!==null;){if(m.key===M)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(v,m.sibling),m=s(m,h.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Fl(h,v.mode,p),m.return=v,v=m}return o(v);case bn:return M=h._init,L(v,m,M(h._payload),p)}if(Fs(h))return w(v,m,h,p);if(Es(h))return N(v,m,h,p);$i(v,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,h),m.return=v,v=m):(n(v,m),m=Pl(h,v.mode,p),m.return=v,v=m),o(v)):n(v,m)}return L}var ms=Fh(!0),Ih=Fh(!1),bo=er(null),jo=null,Hr=null,Nu=null;function bu(){Nu=Hr=jo=null}function ju(e){var t=bo.current;we(bo),e._currentValue=t}function xa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t){jo=e,Nu=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Nu!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(jo===null)throw Error(F(308));Hr=e,jo.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var lr=null;function Mu(e){lr===null?lr=[e]:lr.push(e)}function _h(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}function Xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var s=e.updateQueue;jn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,S=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,N=l;switch(g=t,S=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){f=w.call(S,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,g=typeof w=="function"?w.call(S,f,g):w,g==null)break e;f=Ne({},f,g);break e;case 2:jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else S={eventTime:S,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,a=f):d=d.next=S,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Er|=o,e.lanes=o,e.memoizedState=f}}function Jc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var ki={},nn=er(ki),oi=er(ki),li=er(ki);function ar(e){if(e===ki)throw Error(F(174));return e}function Lu(e,t){switch(ye(li,t),ye(oi,e),ye(nn,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zl(t,e)}we(nn),ye(nn,t)}function gs(){we(nn),we(oi),we(li)}function Dh(e){ar(li.current);var t=ar(nn.current),n=Zl(t,e.type);t!==n&&(ye(oi,e),ye(nn,n))}function Tu(e){oi.current===e&&(we(nn),we(oi))}var Ce=er(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function Ou(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var eo=wn.ReactCurrentDispatcher,Ml=wn.ReactCurrentBatchConfig,Cr=0,Ee=null,ze=null,Be=null,Lo=!1,Ws=!1,ai=0,Cv=0;function Ge(){throw Error(F(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Fu(e,t,n,r,s,i){if(Cr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?jv:Mv,e=n(r,s),Ws){i=0;do{if(Ws=!1,ai=0,25<=i)throw Error(F(301));i+=1,Be=ze=null,t.updateQueue=null,eo.current=Rv,e=n(r,s)}while(Ws)}if(eo.current=To,t=ze!==null&&ze.next!==null,Cr=0,Be=ze=Ee=null,Lo=!1,t)throw Error(F(300));return e}function Iu(){var e=ai!==0;return ai=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ee.memoizedState=Be=e:Be=Be.next=e,Be}function Ft(){if(ze===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ee.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(F(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ee.memoizedState=Be=e:Be=Be.next=e}return Be}function ui(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((Cr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,Ee.lanes|=d,Er|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Vt(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,Er|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ll(e){var t=Ft(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ah(){}function $h(e,t){var n=Ee,r=Ft(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,_u(Wh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,ci(9,Bh.bind(null,n,r,s,t),void 0,null),We===null)throw Error(F(349));Cr&30||Uh(n,t,s)}return s}function Uh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bh(e,t,n,r){t.value=n,t.getSnapshot=r,Qh(t)&&Hh(e)}function Wh(e,t,n){return n(function(){Qh(t)&&Hh(e)})}function Qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Hh(e){var t=yn(e,1);t!==null&&Ht(t,e,1,-1)}function Zc(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t.queue=e,e=e.dispatch=bv.bind(null,Ee,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vh(){return Ft().memoizedState}function to(e,t,n,r){var s=Yt();Ee.flags|=e,s.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function qo(e,t,n,r){var s=Ft();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Pu(r,o.deps)){s.memoizedState=ci(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=ci(1|t,n,i,r)}function ed(e,t){return to(8390656,8,e,t)}function _u(e,t){return qo(2048,8,e,t)}function Kh(e,t){return qo(4,2,e,t)}function qh(e,t){return qo(4,4,e,t)}function Gh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,n){return n=n!=null?n.concat([e]):null,qo(4,4,Gh.bind(null,t,e),n)}function zu(){}function Xh(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jh(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zh(e,t,n){return Cr&21?(Vt(n,t)||(n=sh(),Ee.lanes|=n,Er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function Ev(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=Ml.transition;Ml.transition={};try{e(!1),t()}finally{ge=n,Ml.transition=r}}function ep(){return Ft().memoizedState}function Nv(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tp(e))np(t,n);else if(n=_h(e,t,n,r),n!==null){var s=ot();Ht(n,e,r,s),rp(n,t,r)}}function bv(e,t,n){var r=qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(e))np(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var a=t.interleaved;a===null?(s.next=s,Mu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=_h(e,t,s,r),n!==null&&(s=ot(),Ht(n,e,r,s),rp(n,t,r))}}function tp(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function np(e,t){Ws=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}var To={readContext:Pt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},jv={readContext:Pt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,to(4194308,4,Gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nv.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Zc,useDebugValue:zu,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Zc(!1),t=e[0];return e=Ev.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Yt();if(ke){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),We===null)throw Error(F(349));Cr&30||Uh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ed(Wh.bind(null,r,i,e),[e]),r.flags|=2048,ci(9,Bh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yt(),t=We.identifierPrefix;if(ke){var n=hn,r=fn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ai++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mv={readContext:Pt,useCallback:Xh,useContext:Pt,useEffect:_u,useImperativeHandle:Yh,useInsertionEffect:Kh,useLayoutEffect:qh,useMemo:Jh,useReducer:Rl,useRef:Vh,useState:function(){return Rl(ui)},useDebugValue:zu,useDeferredValue:function(e){var t=Ft();return Zh(t,ze.memoizedState,e)},useTransition:function(){var e=Rl(ui)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Ah,useSyncExternalStore:$h,useId:ep,unstable_isNewReconciler:!1},Rv={readContext:Pt,useCallback:Xh,useContext:Pt,useEffect:_u,useImperativeHandle:Yh,useInsertionEffect:Kh,useLayoutEffect:qh,useMemo:Jh,useReducer:Ll,useRef:Vh,useState:function(){return Ll(ui)},useDebugValue:zu,useDeferredValue:function(e){var t=Ft();return ze===null?t.memoizedState=e:Zh(t,ze.memoizedState,e)},useTransition:function(){var e=Ll(ui)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Ah,useSyncExternalStore:$h,useId:ep,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),s=qn(e),i=pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,s),t!==null&&(Ht(t,e,s,r),Zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),s=qn(e),i=pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,s),t!==null&&(Ht(t,e,s,r),Zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=qn(e),s=pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,r),t!==null&&(Ht(t,e,r,n),Zi(t,e,r))}};function td(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(s,i):!0}function sp(e,t,n){var r=!1,s=Jn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=pt(t)?Sr:Ze.current,r=t.contextTypes,i=(r=r!=null)?hs(e,s):Jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function nd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Sa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ru(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=pt(t)?Sr:Ze.current,s.context=hs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Go.enqueueReplaceState(s,s.state,null),Mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var n="",r=t;do n+=rg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function ip(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Po||(Po=!0,Oa=r),ka(e,t)},n}function op(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ka(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ka(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qv.bind(null,e,t,n),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var Tv=wn.ReactCurrentOwner,ft=!1;function st(e,t,n,r){t.child=e===null?Ih(t,null,n,r):ms(t,e.child,n,r)}function od(e,t,n,r,s){n=n.render;var i=t.ref;return Jr(t,s),r=Fu(e,t,n,r,i,s),n=Iu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(ke&&n&&ku(t),t.flags|=1,st(e,t,r,s),t.child)}function ld(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Hu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,lp(e,t,i,r,s)):(e=io(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&e.ref===t.ref)return xn(e,t,s)}return t.flags|=1,e=Gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function lp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ni(i,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,xn(e,t,s)}return Ca(e,t,n,r,s)}function ap(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Kr,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Kr,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Kr,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(Kr,yt),yt|=r;return st(e,t,s,n),t.child}function up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,s){var i=pt(n)?Sr:Ze.current;return i=hs(t,i),Jr(t,s),n=Fu(e,t,n,r,i,s),r=Iu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(ke&&r&&ku(t),t.flags|=1,st(e,t,n,s),t.child)}function ad(e,t,n,r,s){if(pt(n)){var i=!0;Co(t)}else i=!1;if(Jr(t,s),t.stateNode===null)no(e,t),sp(t,n,r),Sa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=pt(n)?Sr:Ze.current,u=hs(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&nd(t,o,r,u),jn=!1;var g=t.memoizedState;o.state=g,Mo(t,r,o,s),a=t.memoizedState,l!==r||g!==a||ht.current||jn?(typeof d=="function"&&(wa(t,n,d,r),a=t.memoizedState),(l=jn||td(t,n,l,r,g,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dt(t.type,l),o.props=u,f=t.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Pt(a):(a=pt(n)?Sr:Ze.current,a=hs(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==a)&&nd(t,o,r,a),jn=!1,g=t.memoizedState,o.state=g,Mo(t,r,o,s);var w=t.memoizedState;l!==f||g!==w||ht.current||jn?(typeof S=="function"&&(wa(t,n,S,r),w=t.memoizedState),(u=jn||td(t,n,u,r,g,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,s)}function Ea(e,t,n,r,s,i){up(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Kc(t,n,!1),xn(e,t,i);r=t.stateNode,Tv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,i),t.child=ms(t,null,l,i)):st(e,t,l,i),t.memoizedState=r.state,s&&Kc(t,n,!0),t.child}function cp(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),Lu(e,t.containerInfo)}function ud(e,t,n,r,s){return ps(),Eu(s),t.flags|=256,st(e,t,n,r),t.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function dp(e,t,n){var r=t.pendingProps,s=Ce.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jo(o,r,0,null),e=wr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ba(n),t.memoizedState=Na,e):Du(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ov(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Gn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gn(l,i):(i=wr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ba(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Na,r}return i=e.child,e=i.sibling,r=Gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Du(e,t){return t=Jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,n,r){return r!==null&&Eu(r),ms(t,e.child,null,n),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ov(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Tl(Error(F(422))),Ui(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Jo({mode:"visible",children:r.children},s,0,null),i=wr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=ba(o),t.memoizedState=Na,i);if(!(t.mode&1))return Ui(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=Tl(i,r,void 0),Ui(e,t,o,r)}if(l=(o&e.childLanes)!==0,ft||l){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Ht(r,e,s,-1))}return Qu(),r=Tl(Error(F(421))),Ui(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Hv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,xt=Hn(s.nextSibling),wt=t,ke=!0,Bt=null,e!==null&&(Mt[Rt++]=fn,Mt[Rt++]=hn,Mt[Rt++]=kr,fn=e.id,hn=e.overflow,kr=t),t=Du(t,r.children),t.flags|=4096,t)}function cd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xa(e.return,t,n)}function Ol(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(st(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cd(e,n,t);else if(e.tag===19)cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ol(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ol(t,!0,n,null,i);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pv(e,t,n){switch(t.tag){case 3:cp(t),ps();break;case 5:Dh(t);break;case 1:pt(t.type)&&Co(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(bo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?dp(e,t,n):(ye(Ce,Ce.current&1),e=xn(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,ap(e,t,n)}return xn(e,t,n)}var hp,ja,pp,mp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};pp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ar(nn.current);var i=null;switch(n){case"input":s=Gl(e,s),r=Gl(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Jl(e,s),r=Jl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}ea(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&xe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};mp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ls(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fv(e,t,n){var r=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return pt(t.type)&&ko(),Ye(t),null;case 3:return r=t.stateNode,gs(),we(ht),we(Ze),Ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Ia(Bt),Bt=null))),ja(e,t),Ye(t),null;case 5:Tu(t);var s=ar(li.current);if(n=t.type,e!==null&&t.stateNode!=null)pp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Ye(t),null}if(e=ar(nn.current),Ai(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[en]=t,r[ii]=i,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<_s.length;s++)xe(_s[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xc(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":Sc(r,i),xe("invalid",r)}ea(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,e),s=["children",""+l]):Gs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Li(r),wc(r,i,!0);break;case"textarea":Li(r),kc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=So)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[ii]=r,hp(e,t,!1,!1),t.stateNode=e;e:{switch(o=ta(n,r),n){case"dialog":xe("cancel",e),xe("close",e),s=r;break;case"iframe":case"object":case"embed":xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<_s.length;s++)xe(_s[s],e);s=r;break;case"source":xe("error",e),s=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=r;break;case"details":xe("toggle",e),s=r;break;case"input":xc(e,r),s=Gl(e,r),xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),xe("invalid",e);break;case"textarea":Sc(e,r),s=Jl(e,r),xe("invalid",e);break;default:s=r}ea(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Vf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Qf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ys(e,a):typeof a=="number"&&Ys(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&xe("scroll",e):a!=null&&au(e,i,a,o))}switch(n){case"input":Li(e),wc(e,r,!1);break;case"textarea":Li(e),kc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?qr(e,!!r.multiple,i,!1):r.defaultValue!=null&&qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)mp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=ar(li.current),ar(nn.current),Ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Di(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Di(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Ye(t),null;case 13:if(we(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&xt!==null&&t.mode&1&&!(t.flags&128))Ph(),ps(),t.flags|=98560,i=!1;else if(i=Ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[en]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Bt!==null&&(Ia(Bt),Bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ae===0&&(Ae=3):Qu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return gs(),ja(e,t),e===null&&ri(t.stateNode.containerInfo),Ye(t),null;case 10:return ju(t.type._context),Ye(t),null;case 17:return pt(t.type)&&ko(),Ye(t),null;case 19:if(we(Ce),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ls(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,Ls(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>ys&&(t.flags|=128,r=!0,Ls(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ls(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return Ye(t),null}else 2*Pe()-i.renderingStartTime>ys&&n!==1073741824&&(t.flags|=128,r=!0,Ls(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Wu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Iv(e,t){switch(Cu(t),t.tag){case 1:return pt(t.type)&&ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),we(ht),we(Ze),Ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tu(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return gs(),null;case 10:return ju(t.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Bi=!1,Je=!1,_v=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Ma(e,t,n){try{n()}catch(r){Re(e,t,r)}}var dd=!1;function zv(e,t){if(da=yo,e=wh(),Su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var S;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===e)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(a=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(fa={focusedElem:e,selectionRange:n},yo=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,L=w.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?N:Dt(t.type,N),L);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(p){Re(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=dd,dd=!1,w}function Qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ma(t,n,i)}s=s.next}while(s!==r)}}function Yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gp(e){var t=e.alternate;t!==null&&(e.alternate=null,gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[ii],delete t[ma],delete t[xv],delete t[wv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vp(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}function Ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ta(e,t,n),e=e.sibling;e!==null;)Ta(e,t,n),e=e.sibling}var He=null,Ut=!1;function Cn(e,t,n){for(n=n.child;n!==null;)yp(e,t,n),n=n.sibling}function yp(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Bo,n)}catch{}switch(n.tag){case 5:Je||Vr(n,t);case 6:var r=He,s=Ut;He=null,Cn(e,t,n),He=r,Ut=s,He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?Nl(e.parentNode,n):e.nodeType===1&&Nl(e,n),ei(e)):Nl(He,n.stateNode));break;case 4:r=He,s=Ut,He=n.stateNode.containerInfo,Ut=!0,Cn(e,t,n),He=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ma(n,t,o),s=s.next}while(s!==r)}Cn(e,t,n);break;case 1:if(!Je&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,t,l)}Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Cn(e,t,n),Je=r):Cn(e,t,n);break;default:Cn(e,t,n)}}function hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _v),t.forEach(function(r){var s=Vv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ut=!1;break e;case 3:He=l.stateNode.containerInfo,Ut=!0;break e;case 4:He=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(He===null)throw Error(F(160));yp(i,o,s),He=null,Ut=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xp(t,e),t=t.sibling}function xp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Gt(e),r&4){try{Qs(3,e,e.return),Yo(3,e)}catch(N){Re(e,e.return,N)}try{Qs(5,e,e.return)}catch(N){Re(e,e.return,N)}}break;case 1:zt(t,e),Gt(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(zt(t,e),Gt(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{Ys(s,"")}catch(N){Re(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Uf(s,i),ta(l,o);var u=ta(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Vf(s,f):d==="dangerouslySetInnerHTML"?Qf(s,f):d==="children"?Ys(s,f):au(s,d,f,u)}switch(l){case"input":Yl(s,i);break;case"textarea":Bf(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?qr(s,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?qr(s,!!i.multiple,i.defaultValue,!0):qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ii]=i}catch(N){Re(e,e.return,N)}}break;case 6:if(zt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){Re(e,e.return,N)}}break;case 3:if(zt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(N){Re(e,e.return,N)}break;case 4:zt(t,e),Gt(e);break;case 13:zt(t,e),Gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uu=Pe())),r&4&&hd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,zt(t,e),Je=u):zt(t,e),Gt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(g=W,S=g.child,g.tag){case 0:case 11:case 14:case 15:Qs(4,g,g.return);break;case 1:Vr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){Re(r,n,N)}}break;case 5:Vr(g,g.return);break;case 22:if(g.memoizedState!==null){md(f);continue}}S!==null?(S.return=g,W=S):md(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Hf("display",o))}catch(N){Re(e,e.return,N)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(N){Re(e,e.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Gt(e),r&4&&hd(e);break;case 21:break;default:zt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vp(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ys(s,""),r.flags&=-33);var i=fd(e);Ta(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fd(e);La(e,l,o);break;default:throw Error(F(161))}}catch(a){Re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dv(e,t,n){W=e,wp(e)}function wp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bi;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Je;l=Bi;var u=Je;if(Bi=o,(Je=a)&&!u)for(W=s;W!==null;)o=W,a=o.child,o.tag===22&&o.memoizedState!==null?gd(s):a!==null?(a.return=o,W=a):gd(s);for(;i!==null;)W=i,wp(i),i=i.sibling;W=s,Bi=l,Je=u}pd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):pd(e)}}function pd(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Yo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Je||t.flags&512&&Ra(t)}catch(g){Re(t,t.return,g)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function md(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function gd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yo(4,t)}catch(a){Re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Re(t,s,a)}}var i=t.return;try{Ra(t)}catch(a){Re(t,i,a)}break;case 5:var o=t.return;try{Ra(t)}catch(a){Re(t,o,a)}}}catch(a){Re(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Av=Math.ceil,Oo=wn.ReactCurrentDispatcher,Au=wn.ReactCurrentOwner,Ot=wn.ReactCurrentBatchConfig,he=0,We=null,Fe=null,Ve=0,yt=0,Kr=er(0),Ae=0,di=null,Er=0,Xo=0,$u=0,Hs=null,dt=null,Uu=0,ys=1/0,on=null,Po=!1,Oa=null,Kn=null,Wi=!1,Un=null,Fo=0,Vs=0,Pa=null,ro=-1,so=0;function ot(){return he&6?Pe():ro!==-1?ro:ro=Pe()}function qn(e){return e.mode&1?he&2&&Ve!==0?Ve&-Ve:kv.transition!==null?(so===0&&(so=sh()),so):(e=ge,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e):1}function Ht(e,t,n,r){if(50<Vs)throw Vs=0,Pa=null,Error(F(185));xi(e,n,r),(!(he&2)||e!==We)&&(e===We&&(!(he&2)&&(Xo|=n),Ae===4&&Rn(e,Ve)),mt(e,r),n===1&&he===0&&!(t.mode&1)&&(ys=Pe()+500,Ko&&tr()))}function mt(e,t){var n=e.callbackNode;kg(e,t);var r=vo(e,e===We?Ve:0);if(r===0)n!==null&&Nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nc(n),t===1)e.tag===0?Sv(vd.bind(null,e)):Lh(vd.bind(null,e)),vv(function(){!(he&6)&&tr()}),n=null;else{switch(ih(r)){case 1:n=hu;break;case 4:n=nh;break;case 16:n=go;break;case 536870912:n=rh;break;default:n=go}n=Mp(n,Sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sp(e,t){if(ro=-1,so=0,he&6)throw Error(F(327));var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var r=vo(e,e===We?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Io(e,r);else{t=r;var s=he;he|=2;var i=Cp();(We!==e||Ve!==t)&&(on=null,ys=Pe()+500,xr(e,t));do try{Bv();break}catch(l){kp(e,l)}while(!0);bu(),Oo.current=i,he=s,Fe!==null?t=0:(We=null,Ve=0,t=Ae)}if(t!==0){if(t===2&&(s=oa(e),s!==0&&(r=s,t=Fa(e,s))),t===1)throw n=di,xr(e,0),Rn(e,r),mt(e,Pe()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!$v(s)&&(t=Io(e,r),t===2&&(i=oa(e),i!==0&&(r=i,t=Fa(e,i))),t===1))throw n=di,xr(e,0),Rn(e,r),mt(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:ir(e,dt,on);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Uu+500-Pe(),10<t)){if(vo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pa(ir.bind(null,e,dt,on),t);break}ir(e,dt,on);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Av(r/1960))-r,10<r){e.timeoutHandle=pa(ir.bind(null,e,dt,on),r);break}ir(e,dt,on);break;case 5:ir(e,dt,on);break;default:throw Error(F(329))}}}return mt(e,Pe()),e.callbackNode===n?Sp.bind(null,e):null}function Fa(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Io(e,t),e!==2&&(t=dt,dt=n,t!==null&&Ia(t)),e}function Ia(e){dt===null?dt=e:dt.push.apply(dt,e)}function $v(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~$u,t&=~Xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function vd(e){if(he&6)throw Error(F(327));Zr();var t=vo(e,0);if(!(t&1))return mt(e,Pe()),null;var n=Io(e,t);if(e.tag!==0&&n===2){var r=oa(e);r!==0&&(t=r,n=Fa(e,r))}if(n===1)throw n=di,xr(e,0),Rn(e,t),mt(e,Pe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,dt,on),mt(e,Pe()),null}function Bu(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(ys=Pe()+500,Ko&&tr())}}function Nr(e){Un!==null&&Un.tag===0&&!(he&6)&&Zr();var t=he;he|=1;var n=Ot.transition,r=ge;try{if(Ot.transition=null,ge=1,e)return e()}finally{ge=r,Ot.transition=n,he=t,!(he&6)&&tr()}}function Wu(){yt=Kr.current,we(Kr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gv(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ko();break;case 3:gs(),we(ht),we(Ze),Ou();break;case 5:Tu(r);break;case 4:gs();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:ju(r.type._context);break;case 22:case 23:Wu()}n=n.return}if(We=e,Fe=e=Gn(e.current,null),Ve=yt=t,Ae=0,di=null,$u=Xo=Er=0,dt=Hs=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}lr=null}return e}function kp(e,t){do{var n=Fe;try{if(bu(),eo.current=To,Lo){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lo=!1}if(Cr=0,Be=ze=Ee=null,Ws=!1,ai=0,Au.current=null,n===null||n.return===null){Ae=1,di=t,Fe=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=sd(o);if(S!==null){S.flags&=-257,id(S,o,l,i,t),S.mode&1&&rd(i,u,t),t=S,a=u;var w=t.updateQueue;if(w===null){var N=new Set;N.add(a),t.updateQueue=N}else w.add(a);break e}else{if(!(t&1)){rd(i,u,t),Qu();break e}a=Error(F(426))}}else if(ke&&l.mode&1){var L=sd(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),id(L,o,l,i,t),Eu(vs(a,l));break e}}i=a=vs(a,l),Ae!==4&&(Ae=2),Hs===null?Hs=[i]:Hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=ip(i,a,t);Xc(i,v);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Kn===null||!Kn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var p=op(i,l,t);Xc(i,p);break e}}i=i.return}while(i!==null)}Np(n)}catch(C){t=C,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Cp(){var e=Oo.current;return Oo.current=To,e===null?To:e}function Qu(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),We===null||!(Er&268435455)&&!(Xo&268435455)||Rn(We,Ve)}function Io(e,t){var n=he;he|=2;var r=Cp();(We!==e||Ve!==t)&&(on=null,xr(e,t));do try{Uv();break}catch(s){kp(e,s)}while(!0);if(bu(),he=n,Oo.current=r,Fe!==null)throw Error(F(261));return We=null,Ve=0,Ae}function Uv(){for(;Fe!==null;)Ep(Fe)}function Bv(){for(;Fe!==null&&!hg();)Ep(Fe)}function Ep(e){var t=jp(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Np(e):Fe=t,Au.current=null}function Np(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iv(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Fe=null;return}}else if(n=Fv(n,t,yt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ae===0&&(Ae=5)}function ir(e,t,n){var r=ge,s=Ot.transition;try{Ot.transition=null,ge=1,Wv(e,t,n,r)}finally{Ot.transition=s,ge=r}return null}function Wv(e,t,n,r){do Zr();while(Un!==null);if(he&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cg(e,i),e===We&&(Fe=We=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wi||(Wi=!0,Mp(go,function(){return Zr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=ge;ge=1;var l=he;he|=4,Au.current=null,zv(e,n),xp(n,e),uv(fa),yo=!!da,fa=da=null,e.current=n,Dv(n),pg(),he=l,ge=o,Ot.transition=i}else e.current=n;if(Wi&&(Wi=!1,Un=e,Fo=s),i=e.pendingLanes,i===0&&(Kn=null),vg(n.stateNode),mt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Po)throw Po=!1,e=Oa,Oa=null,e;return Fo&1&&e.tag!==0&&Zr(),i=e.pendingLanes,i&1?e===Pa?Vs++:(Vs=0,Pa=e):Vs=0,tr(),null}function Zr(){if(Un!==null){var e=ih(Fo),t=Ot.transition,n=ge;try{if(Ot.transition=null,ge=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,Fo=0,he&6)throw Error(F(331));var s=he;for(he|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Qs(8,d,i)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var g=d.sibling,S=d.return;if(gp(d),d===u){W=null;break}if(g!==null){g.return=S,W=g;break}W=S}}}var w=i.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var L=N.sibling;N.sibling=null,N=L}while(N!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var m=e.current;for(W=m;W!==null;){o=W;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,W=h;else e:for(o=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yo(9,l)}}catch(C){Re(l,l.return,C)}if(l===o){W=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,W=p;break e}W=l.return}}if(he=s,tr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Bo,e)}catch{}r=!0}return r}finally{ge=n,Ot.transition=t}}return!1}function yd(e,t,n){t=vs(n,t),t=ip(e,t,1),e=Vn(e,t,1),t=ot(),e!==null&&(xi(e,1,t),mt(e,t))}function Re(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=vs(n,e),e=op(t,e,1),t=Vn(t,e,1),e=ot(),t!==null&&(xi(t,1,e),mt(t,e));break}}t=t.return}}function Qv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ve&n)===n&&(Ae===4||Ae===3&&(Ve&130023424)===Ve&&500>Pe()-Uu?xr(e,0):$u|=n),mt(e,t)}function bp(e,t){t===0&&(e.mode&1?(t=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):t=1);var n=ot();e=yn(e,t),e!==null&&(xi(e,t,n),mt(e,n))}function Hv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bp(e,n)}function Vv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),bp(e,n)}var jp;jp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Pv(e,t,n);ft=!!(e.flags&131072)}else ft=!1,ke&&t.flags&1048576&&Th(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var s=hs(t,Ze.current);Jr(t,n),s=Fu(null,t,r,e,s,n);var i=Iu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(i=!0,Co(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ru(t),s.updater=Go,t.stateNode=s,s._reactInternals=t,Sa(t,r,e,n),t=Ea(null,t,r,!0,i,n)):(t.tag=0,ke&&i&&ku(t),st(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=qv(r),e=Dt(r,e),s){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=ad(null,t,r,e,n);break e;case 11:t=od(null,t,r,e,n);break e;case 14:t=ld(null,t,r,Dt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Ca(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),ad(e,t,r,s,n);case 3:e:{if(cp(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,zh(e,t),Mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vs(Error(F(423)),t),t=ud(e,t,r,n,s);break e}else if(r!==s){s=vs(Error(F(424)),t),t=ud(e,t,r,n,s);break e}else for(xt=Hn(t.stateNode.containerInfo.firstChild),wt=t,ke=!0,Bt=null,n=Ih(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===s){t=xn(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return Dh(t),e===null&&ya(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ha(r,s)?o=null:i!==null&&ha(r,i)&&(t.flags|=32),up(e,t),st(e,t,o,n),t.child;case 6:return e===null&&ya(t),null;case 13:return dp(e,t,n);case 4:return Lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ms(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),od(e,t,r,s,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(bo,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!ht.current){t=xn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=pn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),xa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}st(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Jr(t,n),s=Pt(s),r=r(s),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),ld(e,t,r,s,n);case 15:return lp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),no(e,t),t.tag=1,pt(r)?(e=!0,Co(t)):e=!1,Jr(t,n),sp(t,r,s),Sa(t,r,s,n),Ea(null,t,r,!0,e,n);case 19:return fp(e,t,n);case 22:return ap(e,t,n)}throw Error(F(156,t.tag))};function Mp(e,t){return th(e,t)}function Kv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Kv(e,t,n,r)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qv(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cu)return 11;if(e===du)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function io(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Hu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zr:return wr(n.children,s,i,t);case uu:o=8,s|=8;break;case Hl:return e=Tt(12,n,t,s|2),e.elementType=Hl,e.lanes=i,e;case Vl:return e=Tt(13,n,t,s),e.elementType=Vl,e.lanes=i,e;case Kl:return e=Tt(19,n,t,s),e.elementType=Kl,e.lanes=i,e;case Df:return Jo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _f:o=10;break e;case zf:o=9;break e;case cu:o=11;break e;case du:o=14;break e;case bn:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function wr(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Jo(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Df,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Fl(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,s,i,o,l,a){return e=new Gv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(i),e}function Yv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rp(e){if(!e)return Jn;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(pt(n))return Rh(e,n,t)}return t}function Lp(e,t,n,r,s,i,o,l,a){return e=Vu(n,r,!0,e,s,i,o,l,a),e.context=Rp(null),n=e.current,r=ot(),s=qn(n),i=pn(r,s),i.callback=t??null,Vn(n,i,s),e.current.lanes=s,xi(e,s,r),mt(e,r),e}function Zo(e,t,n,r){var s=t.current,i=ot(),o=qn(s);return n=Rp(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(s,t,o),e!==null&&(Ht(e,s,o,i),Zi(e,s,o)),o}function _o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ku(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}function Xv(){return null}var Tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}el.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Zo(e,t,null,null)};el.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Zo(null,e,null,null)}),t[vn]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&ch(e)}};function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Jv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_o(o);i.call(u)}}var o=Lp(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=o,e[vn]=o.current,ri(e.nodeType===8?e.parentNode:e),Nr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=_o(a);l.call(u)}}var a=Vu(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=a,e[vn]=a.current,ri(e.nodeType===8?e.parentNode:e),Nr(function(){Zo(t,a,n,r)}),a}function nl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=_o(o);l.call(a)}}Zo(t,o,e,s)}else o=Jv(n,t,e,s,r);return _o(o)}oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Is(t.pendingLanes);n!==0&&(pu(t,n|1),mt(t,Pe()),!(he&6)&&(ys=Pe()+500,tr()))}break;case 13:Nr(function(){var r=yn(e,1);if(r!==null){var s=ot();Ht(r,e,1,s)}}),Ku(e,1)}};mu=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=ot();Ht(t,e,134217728,n)}Ku(e,134217728)}};lh=function(e){if(e.tag===13){var t=qn(e),n=yn(e,t);if(n!==null){var r=ot();Ht(n,e,t,r)}Ku(e,t)}};ah=function(){return ge};uh=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};ra=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vo(r);if(!s)throw Error(F(90));$f(r),Yl(r,s)}}}break;case"textarea":Bf(e,n);break;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}};Gf=Bu;Yf=Nr;var Zv={usingClientEntryPoint:!1,Events:[Si,Ur,Vo,Kf,qf,Bu]},Ts={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ey={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||Xv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{Bo=Qi.inject(ey),tn=Qi}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(t))throw Error(F(200));return Yv(e,t,null,n)};kt.createRoot=function(e,t){if(!Gu(e))throw Error(F(299));var n=!1,r="",s=Tp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vu(e,1,!1,null,null,n,!1,r,s),e[vn]=t.current,ri(e.nodeType===8?e.parentNode:e),new qu(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Zf(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return Nr(e)};kt.hydrate=function(e,t,n){if(!tl(t))throw Error(F(200));return nl(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!Gu(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Tp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lp(t,null,e,1,n??null,s,!1,i,o),e[vn]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new el(t)};kt.render=function(e,t,n){if(!tl(t))throw Error(F(200));return nl(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!tl(e))throw Error(F(40));return e._reactRootContainer?(Nr(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};kt.unstable_batchedUpdates=Bu;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return nl(e,t,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Of.exports=kt;var Yu=Of.exports,Pp,Sd=Yu;Pp=Sd.createRoot,Sd.hydrateRoot;var ks=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ty={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Tn,tu,cf,ny=(cf=class{constructor(){q(this,Tn,ty);q(this,tu,!1)}setTimeoutProvider(e){A(this,Tn,e)}setTimeout(e,t){return x(this,Tn).setTimeout(e,t)}clearTimeout(e){x(this,Tn).clearTimeout(e)}setInterval(e,t){return x(this,Tn).setInterval(e,t)}clearInterval(e){x(this,Tn).clearInterval(e)}},Tn=new WeakMap,tu=new WeakMap,cf),ur=new ny;function ry(e){setTimeout(e,0)}var br=typeof window>"u"||"Deno"in globalThis;function it(){}function sy(e,t){return typeof e=="function"?e(t):e}function _a(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yn(e,t){return typeof e=="function"?e(t):e}function jt(e,t){return typeof e=="function"?e(t):e}function kd(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Xu(o,t.options))return!1}else if(!fi(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Cd(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(jr(t.options.mutationKey)!==jr(i))return!1}else if(!fi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Xu(e,t){return((t==null?void 0:t.queryKeyHashFn)||jr)(e)}function jr(e){return JSON.stringify(e,(t,n)=>za(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>fi(e[n],t[n])):!1}var iy=Object.prototype.hasOwnProperty;function Ip(e,t){if(e===t)return e;const n=Ed(e)&&Ed(t);if(!n&&!(za(e)&&za(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],g=t[d];if(f===g){l[d]=f,(n?u<s:iy.call(e,d))&&a++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){l[d]=g;continue}const S=Ip(f,g);l[d]=S,S===f&&a++}return s===o&&a===s?e:l}function zo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ed(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function za(e){if(!Nd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Nd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nd(e){return Object.prototype.toString.call(e)==="[object Object]"}function oy(e){return new Promise(t=>{ur.setTimeout(t,e)})}function Da(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ip(e,t):t}function ly(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ay(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ju=Symbol();function _p(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ju?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function zp(e,t){return typeof e=="function"?e(...t):!!e}function uy(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var cr,On,es,df,cy=(df=class extends ks{constructor(){super();q(this,cr);q(this,On);q(this,es);A(this,es,t=>{if(!br&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,On)||this.setEventListener(x(this,es))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,On))==null||t.call(this),A(this,On,void 0))}setEventListener(t){var n;A(this,es,t),(n=x(this,On))==null||n.call(this),A(this,On,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,cr)!==t&&(A(this,cr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,cr)=="boolean"?x(this,cr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cr=new WeakMap,On=new WeakMap,es=new WeakMap,df),Zu=new cy;function Aa(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var dy=ry;function fy(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=dy;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var De=fy(),ts,Pn,ns,ff,hy=(ff=class extends ks{constructor(){super();q(this,ts,!0);q(this,Pn);q(this,ns);A(this,ns,t=>{if(!br&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,Pn)||this.setEventListener(x(this,ns))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Pn))==null||t.call(this),A(this,Pn,void 0))}setEventListener(t){var n;A(this,ns,t),(n=x(this,Pn))==null||n.call(this),A(this,Pn,t(this.setOnline.bind(this)))}setOnline(t){x(this,ts)!==t&&(A(this,ts,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,ts)}},ts=new WeakMap,Pn=new WeakMap,ns=new WeakMap,ff),Do=new hy;function py(e){return Math.min(1e3*2**e,3e4)}function Dp(e){return(e??"online")==="online"?Do.isOnline():!0}var $a=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ap(e){let t=!1,n=0,r;const s=Aa(),i=()=>s.status!=="pending",o=N=>{var L;if(!i()){const v=new $a(N);g(v),(L=e.onCancel)==null||L.call(e,v)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>Zu.isFocused()&&(e.networkMode==="always"||Do.isOnline())&&e.canRun(),d=()=>Dp(e.networkMode)&&e.canRun(),f=N=>{i()||(r==null||r(),s.resolve(N))},g=N=>{i()||(r==null||r(),s.reject(N))},S=()=>new Promise(N=>{var L;r=v=>{(i()||u())&&N(v)},(L=e.onPause)==null||L.call(e)}).then(()=>{var N;r=void 0,i()||(N=e.onContinue)==null||N.call(e)}),w=()=>{if(i())return;let N;const L=n===0?e.initialPromise:void 0;try{N=L??e.fn()}catch(v){N=Promise.reject(v)}Promise.resolve(N).then(f).catch(v=>{var M;if(i())return;const m=e.retry??(br?0:3),h=e.retryDelay??py,p=typeof h=="function"?h(n,v):h,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(t||!C){g(v);return}n++,(M=e.onFail)==null||M.call(e,n,v),oy(p).then(()=>u()?void 0:S()).then(()=>{t?g(v):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():S().then(w),s)}}var dr,hf,$p=(hf=class{constructor(){q(this,dr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_a(this.gcTime)&&A(this,dr,ur.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(br?1/0:5*60*1e3))}clearGcTimeout(){x(this,dr)&&(ur.clearTimeout(x(this,dr)),A(this,dr,void 0))}},dr=new WeakMap,hf),fr,rs,bt,hr,Ue,hi,pr,At,sn,pf,my=(pf=class extends $p{constructor(t){super();q(this,At);q(this,fr);q(this,rs);q(this,bt);q(this,hr);q(this,Ue);q(this,hi);q(this,pr);A(this,pr,!1),A(this,hi,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,hr,t.client),A(this,bt,x(this,hr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,fr,jd(this.options)),this.state=t.state??x(this,fr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...x(this,hi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=jd(this.options);n.data!==void 0&&(this.setState(bd(n.data,n.dataUpdatedAt)),A(this,fr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,bt).remove(this)}setData(t,n){const r=Da(this.state.data,t,this.options);return re(this,At,sn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){re(this,At,sn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,Ue))==null?void 0:r.promise;return(s=x(this,Ue))==null||s.cancel(t),n?n.then(it).catch(it):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,fr))}isActive(){return this.observers.some(t=>jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ju||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Fp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,Ue)&&(x(this,pr)?x(this,Ue).cancel({revert:!0}):x(this,Ue).cancelRetry()),this.scheduleGc()),x(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||re(this,At,sn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,f,g,S,w,N,L,v,m,h;if(this.state.fetchStatus!=="idle"&&((a=x(this,Ue))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,Ue))return x(this,Ue).continueRetry(),x(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(A(this,pr,!0),r.signal)})},i=()=>{const p=_p(this.options,n),M=(()=>{const R={client:x(this,hr),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return A(this,pr,!1),this.options.persister?this.options.persister(p,M,this):p(M)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,hr),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),A(this,rs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&re(this,At,sn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),A(this,Ue,Ap({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:p=>{p instanceof $a&&p.revert&&this.setState({...x(this,rs),fetchStatus:"idle"}),r.abort()},onFail:(p,C)=>{re(this,At,sn).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{re(this,At,sn).call(this,{type:"pause"})},onContinue:()=>{re(this,At,sn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const p=await x(this,Ue).start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),(S=(g=x(this,bt).config).onSuccess)==null||S.call(g,p,this),(N=(w=x(this,bt).config).onSettled)==null||N.call(w,p,this.state.error,this),p}catch(p){if(p instanceof $a){if(p.silent)return x(this,Ue).promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw re(this,At,sn).call(this,{type:"error",error:p}),(v=(L=x(this,bt).config).onError)==null||v.call(L,p,this),(h=(m=x(this,bt).config).onSettled)==null||h.call(m,this.state.data,p,this),p}finally{this.scheduleGc()}}},fr=new WeakMap,rs=new WeakMap,bt=new WeakMap,hr=new WeakMap,Ue=new WeakMap,hi=new WeakMap,pr=new WeakMap,At=new WeakSet,sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Up(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...bd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,rs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,bt).notify({query:this,type:"updated",action:t})})},pf);function Up(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ut,ce,pi,nt,mr,ss,an,Fn,mi,is,os,gr,vr,In,ls,me,zs,Ua,Ba,Wa,Qa,Ha,Va,Ka,Bp,mf,gy=(mf=class extends ks{constructor(t,n){super();q(this,me);q(this,ut);q(this,ce);q(this,pi);q(this,nt);q(this,mr);q(this,ss);q(this,an);q(this,Fn);q(this,mi);q(this,is);q(this,os);q(this,gr);q(this,vr);q(this,In);q(this,ls,new Set);this.options=n,A(this,ut,t),A(this,Fn,null),A(this,an,Aa()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,ce).addObserver(this),Md(x(this,ce),this.options)?re(this,me,zs).call(this):this.updateResult(),re(this,me,Qa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qa(x(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qa(x(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,me,Ha).call(this),re(this,me,Va).call(this),x(this,ce).removeObserver(this)}setOptions(t){const n=this.options,r=x(this,ce);if(this.options=x(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jt(this.options.enabled,x(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");re(this,me,Ka).call(this),x(this,ce).setOptions(this.options),n._defaulted&&!zo(this.options,n)&&x(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,ce),observer:this});const s=this.hasListeners();s&&Rd(x(this,ce),r,this.options,n)&&re(this,me,zs).call(this),this.updateResult(),s&&(x(this,ce)!==r||jt(this.options.enabled,x(this,ce))!==jt(n.enabled,x(this,ce))||Yn(this.options.staleTime,x(this,ce))!==Yn(n.staleTime,x(this,ce)))&&re(this,me,Ua).call(this);const i=re(this,me,Ba).call(this);s&&(x(this,ce)!==r||jt(this.options.enabled,x(this,ce))!==jt(n.enabled,x(this,ce))||i!==x(this,In))&&re(this,me,Wa).call(this,i)}getOptimisticResult(t){const n=x(this,ut).getQueryCache().build(x(this,ut),t),r=this.createResult(n,t);return yy(this,r)&&(A(this,nt,r),A(this,ss,this.options),A(this,mr,x(this,ce).state)),r}getCurrentResult(){return x(this,nt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&x(this,an).status==="pending"&&x(this,an).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){x(this,ls).add(t)}getCurrentQuery(){return x(this,ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,ut).defaultQueryOptions(t),r=x(this,ut).getQueryCache().build(x(this,ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return re(this,me,zs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,nt)))}createResult(t,n){var _;const r=x(this,ce),s=this.options,i=x(this,nt),o=x(this,mr),l=x(this,ss),u=t!==r?t.state:x(this,pi),{state:d}=t;let f={...d},g=!1,S;if(n._optimisticResults){const k=this.hasListeners(),$=!k&&Md(t,n),Z=k&&Rd(t,r,n,s);($||Z)&&(f={...f,...Up(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:N,status:L}=f;S=f.data;let v=!1;if(n.placeholderData!==void 0&&S===void 0&&L==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,v=!0):k=typeof n.placeholderData=="function"?n.placeholderData((_=x(this,os))==null?void 0:_.state.data,x(this,os)):n.placeholderData,k!==void 0&&(L="success",S=Da(i==null?void 0:i.data,k,n),g=!0)}if(n.select&&S!==void 0&&!v)if(i&&S===(o==null?void 0:o.data)&&n.select===x(this,mi))S=x(this,is);else try{A(this,mi,n.select),S=n.select(S),S=Da(i==null?void 0:i.data,S,n),A(this,is,S),A(this,Fn,null)}catch(k){A(this,Fn,k)}x(this,Fn)&&(w=x(this,Fn),S=x(this,is),N=Date.now(),L="error");const m=f.fetchStatus==="fetching",h=L==="pending",p=L==="error",C=h&&m,M=S!==void 0,b={status:L,fetchStatus:f.fetchStatus,isPending:h,isSuccess:L==="success",isError:p,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:N,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!h,isLoadingError:p&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:p&&M,isStale:ec(t,n),refetch:this.refetch,promise:x(this,an),isEnabled:jt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=te=>{b.status==="error"?te.reject(b.error):b.data!==void 0&&te.resolve(b.data)},$=()=>{const te=A(this,an,b.promise=Aa());k(te)},Z=x(this,an);switch(Z.status){case"pending":t.queryHash===r.queryHash&&k(Z);break;case"fulfilled":(b.status==="error"||b.data!==Z.value)&&$();break;case"rejected":(b.status!=="error"||b.error!==Z.reason)&&$();break}}return b}updateResult(){const t=x(this,nt),n=this.createResult(x(this,ce),this.options);if(A(this,mr,x(this,ce).state),A(this,ss,this.options),x(this,mr).data!==void 0&&A(this,os,x(this,ce)),zo(n,t))return;A(this,nt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!x(this,ls).size)return!0;const o=new Set(i??x(this,ls));return this.options.throwOnError&&o.add("error"),Object.keys(x(this,nt)).some(l=>{const a=l;return x(this,nt)[a]!==t[a]&&o.has(a)})};re(this,me,Bp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,me,Qa).call(this)}},ut=new WeakMap,ce=new WeakMap,pi=new WeakMap,nt=new WeakMap,mr=new WeakMap,ss=new WeakMap,an=new WeakMap,Fn=new WeakMap,mi=new WeakMap,is=new WeakMap,os=new WeakMap,gr=new WeakMap,vr=new WeakMap,In=new WeakMap,ls=new WeakMap,me=new WeakSet,zs=function(t){re(this,me,Ka).call(this);let n=x(this,ce).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(it)),n},Ua=function(){re(this,me,Ha).call(this);const t=Yn(this.options.staleTime,x(this,ce));if(br||x(this,nt).isStale||!_a(t))return;const r=Fp(x(this,nt).dataUpdatedAt,t)+1;A(this,gr,ur.setTimeout(()=>{x(this,nt).isStale||this.updateResult()},r))},Ba=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,ce)):this.options.refetchInterval)??!1},Wa=function(t){re(this,me,Va).call(this),A(this,In,t),!(br||jt(this.options.enabled,x(this,ce))===!1||!_a(x(this,In))||x(this,In)===0)&&A(this,vr,ur.setInterval(()=>{(this.options.refetchIntervalInBackground||Zu.isFocused())&&re(this,me,zs).call(this)},x(this,In)))},Qa=function(){re(this,me,Ua).call(this),re(this,me,Wa).call(this,re(this,me,Ba).call(this))},Ha=function(){x(this,gr)&&(ur.clearTimeout(x(this,gr)),A(this,gr,void 0))},Va=function(){x(this,vr)&&(ur.clearInterval(x(this,vr)),A(this,vr,void 0))},Ka=function(){const t=x(this,ut).getQueryCache().build(x(this,ut),this.options);if(t===x(this,ce))return;const n=x(this,ce);A(this,ce,t),A(this,pi,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Bp=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,nt))}),x(this,ut).getQueryCache().notify({query:x(this,ce),type:"observerResultsUpdated"})})},mf);function vy(e,t){return jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Md(e,t){return vy(e,t)||e.state.data!==void 0&&qa(e,t,t.refetchOnMount)}function qa(e,t,n){if(jt(t.enabled,e)!==!1&&Yn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ec(e,t)}return!1}function Rd(e,t,n,r){return(e!==t||jt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ec(e,n)}function ec(e,t){return jt(t.enabled,e)!==!1&&e.isStaleByTime(Yn(t.staleTime,e))}function yy(e,t){return!zo(e.getCurrentResult(),t)}function Ld(e){return{onFetch:(t,n)=>{var d,f,g,S,w;const r=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let N=!1;const L=h=>{uy(h,()=>t.signal,()=>N=!0)},v=_p(t.options,t.fetchOptions),m=async(h,p,C)=>{if(N)return Promise.reject();if(p==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:p,direction:C?"backward":"forward",meta:t.options.meta};return L($),$})(),b=await v(R),{maxPages:_}=t.options,k=C?ay:ly;return{pages:k(h.pages,b,_),pageParams:k(h.pageParams,p,_)}};if(s&&i.length){const h=s==="backward",p=h?xy:Td,C={pages:i,pageParams:o},M=p(r,C);l=await m(C,M,h)}else{const h=e??i.length;do{const p=a===0?o[0]??r.initialPageParam:Td(r,l);if(a>0&&p==null)break;l=await m(l,p),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var N,L;return(L=(N=t.options).persister)==null?void 0:L.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Td(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function xy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gi,Xt,rt,yr,Jt,Nn,gf,wy=(gf=class extends $p{constructor(t){super();q(this,Jt);q(this,gi);q(this,Xt);q(this,rt);q(this,yr);A(this,gi,t.client),this.mutationId=t.mutationId,A(this,rt,t.mutationCache),A(this,Xt,[]),this.state=t.state||Wp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,Xt).includes(t)||(x(this,Xt).push(t),this.clearGcTimeout(),x(this,rt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,Xt,x(this,Xt).filter(n=>n!==t)),this.scheduleGc(),x(this,rt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():x(this,rt).remove(this))}continue(){var t;return((t=x(this,yr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,d,f,g,S,w,N,L,v,m,h,p,C,M,R,b,_;const n=()=>{re(this,Jt,Nn).call(this,{type:"continue"})},r={client:x(this,gi),meta:this.options.meta,mutationKey:this.options.mutationKey};A(this,yr,Ap({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,$)=>{re(this,Jt,Nn).call(this,{type:"failed",failureCount:k,error:$})},onPause:()=>{re(this,Jt,Nn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,rt).canRun(this)}));const s=this.state.status==="pending",i=!x(this,yr).canStart();try{if(s)n();else{re(this,Jt,Nn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=x(this,rt).config).onMutate)==null?void 0:l.call(o,t,this,r));const $=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));$!==this.state.context&&re(this,Jt,Nn).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const k=await x(this,yr).start();return await((f=(d=x(this,rt).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,k,t,this.state.context,r)),await((N=(w=x(this,rt).config).onSettled)==null?void 0:N.call(w,k,null,this.state.variables,this.state.context,this,r)),await((v=(L=this.options).onSettled)==null?void 0:v.call(L,k,null,t,this.state.context,r)),re(this,Jt,Nn).call(this,{type:"success",data:k}),k}catch(k){try{await((h=(m=x(this,rt).config).onError)==null?void 0:h.call(m,k,t,this.state.context,this,r))}catch($){Promise.reject($)}try{await((C=(p=this.options).onError)==null?void 0:C.call(p,k,t,this.state.context,r))}catch($){Promise.reject($)}try{await((R=(M=x(this,rt).config).onSettled)==null?void 0:R.call(M,void 0,k,this.state.variables,this.state.context,this,r))}catch($){Promise.reject($)}try{await((_=(b=this.options).onSettled)==null?void 0:_.call(b,void 0,k,t,this.state.context,r))}catch($){Promise.reject($)}throw re(this,Jt,Nn).call(this,{type:"error",error:k}),k}finally{x(this,rt).runNext(this)}}},gi=new WeakMap,Xt=new WeakMap,rt=new WeakMap,yr=new WeakMap,Jt=new WeakSet,Nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),De.batch(()=>{x(this,Xt).forEach(r=>{r.onMutationUpdate(t)}),x(this,rt).notify({mutation:this,type:"updated",action:t})})},gf);function Wp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,$t,vi,vf,Sy=(vf=class extends ks{constructor(t={}){super();q(this,un);q(this,$t);q(this,vi);this.config=t,A(this,un,new Set),A(this,$t,new Map),A(this,vi,0)}build(t,n,r){const s=new wy({client:t,mutationCache:this,mutationId:++ji(this,vi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){x(this,un).add(t);const n=Hi(t);if(typeof n=="string"){const r=x(this,$t).get(n);r?r.push(t):x(this,$t).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,un).delete(t)){const n=Hi(t);if(typeof n=="string"){const r=x(this,$t).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&x(this,$t).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Hi(t);if(typeof n=="string"){const r=x(this,$t).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Hi(t);if(typeof n=="string"){const s=(r=x(this,$t).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{x(this,un).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,un).clear(),x(this,$t).clear()})}getAll(){return Array.from(x(this,un))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cd(n,r))}findAll(t={}){return this.getAll().filter(n=>Cd(t,n))}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return De.batch(()=>Promise.all(t.map(n=>n.continue().catch(it))))}},un=new WeakMap,$t=new WeakMap,vi=new WeakMap,vf);function Hi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var cn,_n,ct,dn,mn,oo,Ga,yf,ky=(yf=class extends ks{constructor(n,r){super();q(this,mn);q(this,cn);q(this,_n);q(this,ct);q(this,dn);A(this,cn,n),this.setOptions(r),this.bindMethods(),re(this,mn,oo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=x(this,cn).defaultMutationOptions(n),zo(this.options,r)||x(this,cn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&jr(r.mutationKey)!==jr(this.options.mutationKey)?this.reset():((s=x(this,ct))==null?void 0:s.state.status)==="pending"&&x(this,ct).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=x(this,ct))==null||n.removeObserver(this)}onMutationUpdate(n){re(this,mn,oo).call(this),re(this,mn,Ga).call(this,n)}getCurrentResult(){return x(this,_n)}reset(){var n;(n=x(this,ct))==null||n.removeObserver(this),A(this,ct,void 0),re(this,mn,oo).call(this),re(this,mn,Ga).call(this)}mutate(n,r){var s;return A(this,dn,r),(s=x(this,ct))==null||s.removeObserver(this),A(this,ct,x(this,cn).getMutationCache().build(x(this,cn),this.options)),x(this,ct).addObserver(this),x(this,ct).execute(n)}},cn=new WeakMap,_n=new WeakMap,ct=new WeakMap,dn=new WeakMap,mn=new WeakSet,oo=function(){var r;const n=((r=x(this,ct))==null?void 0:r.state)??Wp();A(this,_n,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ga=function(n){De.batch(()=>{var r,s,i,o,l,a,u,d;if(x(this,dn)&&this.hasListeners()){const f=x(this,_n).variables,g=x(this,_n).context,S={client:x(this,cn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=x(this,dn)).onSuccess)==null||s.call(r,n.data,f,g,S)}catch(w){Promise.reject(w)}try{(o=(i=x(this,dn)).onSettled)==null||o.call(i,n.data,null,f,g,S)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=x(this,dn)).onError)==null||a.call(l,n.error,f,g,S)}catch(w){Promise.reject(w)}try{(d=(u=x(this,dn)).onSettled)==null||d.call(u,void 0,n.error,f,g,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(x(this,_n))})})},yf),Zt,xf,Cy=(xf=class extends ks{constructor(t={}){super();q(this,Zt);this.config=t,A(this,Zt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Xu(s,n);let o=this.get(i);return o||(o=new my({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){x(this,Zt).has(t.queryHash)||(x(this,Zt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,Zt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,Zt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Zt).get(t)}getAll(){return[...x(this,Zt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kd(t,r)):n}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zt=new WeakMap,xf),Me,zn,Dn,as,us,An,cs,ds,wf,Ey=(wf=class{constructor(e={}){q(this,Me);q(this,zn);q(this,Dn);q(this,as);q(this,us);q(this,An);q(this,cs);q(this,ds);A(this,Me,e.queryCache||new Cy),A(this,zn,e.mutationCache||new Sy),A(this,Dn,e.defaultOptions||{}),A(this,as,new Map),A(this,us,new Map),A(this,An,0)}mount(){ji(this,An)._++,x(this,An)===1&&(A(this,cs,Zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Me).onFocus())})),A(this,ds,Do.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Me).onOnline())})))}unmount(){var e,t;ji(this,An)._--,x(this,An)===0&&((e=x(this,cs))==null||e.call(this),A(this,cs,void 0),(t=x(this,ds))==null||t.call(this),A(this,ds,void 0))}isFetching(e){return x(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,Me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return x(this,Me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,Me).get(r.queryHash),i=s==null?void 0:s.state.data,o=sy(t,i);if(o!==void 0)return x(this,Me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return De.batch(()=>x(this,Me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,Me);De.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,Me);return De.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=De.batch(()=>x(this,Me).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(it).catch(it)}invalidateQueries(e,t={}){return De.batch(()=>(x(this,Me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=De.batch(()=>x(this,Me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(it)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(it)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,Me).build(this,t);return n.isStaleByTime(Yn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(it).catch(it)}fetchInfiniteQuery(e){return e.behavior=Ld(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(it).catch(it)}ensureInfiniteQueryData(e){return e.behavior=Ld(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Do.isOnline()?x(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,Me)}getMutationCache(){return x(this,zn)}getDefaultOptions(){return x(this,Dn)}setDefaultOptions(e){A(this,Dn,e)}setQueryDefaults(e,t){x(this,as).set(jr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,as).values()],n={};return t.forEach(r=>{fi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){x(this,us).set(jr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,us).values()],n={};return t.forEach(r=>{fi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,Dn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ju&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,Dn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,Me).clear(),x(this,zn).clear()}},Me=new WeakMap,zn=new WeakMap,Dn=new WeakMap,as=new WeakMap,us=new WeakMap,An=new WeakMap,cs=new WeakMap,ds=new WeakMap,wf),Qp=y.createContext(void 0),Ci=e=>{const t=y.useContext(Qp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ny=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Qp.Provider,{value:e,children:t})),Hp=y.createContext(!1),by=()=>y.useContext(Hp);Hp.Provider;function jy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var My=y.createContext(jy()),Ry=()=>y.useContext(My),Ly=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ty=e=>{y.useEffect(()=>{e.clearReset()},[e])},Oy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||zp(n,[e.error,r])),Py=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Fy=(e,t)=>e.isLoading&&e.isFetching&&!t,Iy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Od=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _y(e,t,n){var f,g,S,w,N;const r=by(),s=Ry(),i=Ci(),o=i.defaultQueryOptions(e);(g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",Py(o),Ly(o,s),Ty(s);const l=!i.getQueryCache().get(o.queryHash),[a]=y.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(L=>{const v=d?a.subscribe(De.batchCalls(L)):it;return a.updateResult(),v},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),y.useEffect(()=>{a.setOptions(o)},[o,a]),Iy(o,u))throw Od(o,a,s);if(Oy({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||w.call(S,o,u),o.experimental_prefetchInRender&&!br&&Fy(u,r)){const L=l?Od(o,a,s):(N=i.getQueryCache().get(o.queryHash))==null?void 0:N.promise;L==null||L.catch(it).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function tc(e,t){return _y(e,gy)}function zy(e,t){const n=Ci(),[r]=y.useState(()=>new ky(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const s=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(De.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,l)=>{r.mutate(o,l).catch(it)},[r]);if(s.error&&zp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Pd(e){return e.length>0&&"options"in e[0]}function Fd({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:u=!0,title:d,disabled:f=!1,"aria-label":g}){var b;const[S,w]=y.useState(!1),N=y.useRef(null),L=y.useRef(null),m=y.useCallback(()=>{const _=k=>{const $=k.find(Z=>Z.value===e);return $?$.label:null};if(Pd(n))for(const k of n){const $=_(k.options);if($)return $}else{const k=_(n);if(k)return k}return r},[e,n,r])();y.useEffect(()=>{if(!S)return;const _=$=>{N.current&&!N.current.contains($.target)&&w(!1)},k=$=>{var Z;$.key==="Escape"&&(w(!1),(Z=L.current)==null||Z.focus())};return window.addEventListener("click",_),window.addEventListener("keydown",k),()=>{window.removeEventListener("click",_),window.removeEventListener("keydown",k)}},[S]);const h=_=>{var k;t(_),w(!1),(k=L.current)==null||k.focus()},p=_=>_.map(k=>c.jsxs("button",{className:"dropdown-item","data-active":k.value===e,disabled:k.disabled,onClick:()=>!k.disabled&&h(k.value),role:"menuitem",children:[k.icon&&c.jsx("span",{className:"shrink-0",children:k.icon}),c.jsx("span",{className:"flex-1 truncate",children:k.label}),k.value===e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},k.value)),C=((b=L.current)==null?void 0:b.offsetWidth)??0,M=a==="trigger"?C:a==="auto"?void 0:a,R={...M?{width:M,minWidth:M}:{},...l==="right"?{right:0}:{left:0}};return c.jsxs("div",{ref:N,className:"relative",children:[s?c.jsx("div",{onClick:()=>!f&&w(_=>!_),children:s}):c.jsxs("button",{ref:L,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(_=>!_),disabled:f,title:d,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":S,children:[c.jsx("span",{className:"truncate",children:m}),u&&c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${S?"rotate-180":""}`,children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&c.jsx("div",{className:`dropdown-panel ${o}`,style:R,role:"listbox","aria-label":g,children:Pd(n)?n.map((_,k)=>c.jsxs("div",{children:[_.label&&c.jsx("div",{className:"dropdown-label",children:_.label}),p(_.options),k<n.length-1&&c.jsx("div",{className:"dropdown-divider"})]},_.label||k)):p(n)})]})}function Dy({rootRef:e,onSearch:t,viewerActive:n,onBack:r,zoomPercent:s,onZoomPercentChange:i,currentLabel:o,itemCount:l,totalCount:a,sortSpec:u,metricKeys:d,onSortChange:f,filterCount:g,onOpenFilters:S,starFilters:w,onToggleStar:N,onClearStars:L,onClearFilters:v,starCounts:m,viewMode:h,onViewMode:p,gridItemSize:C,onGridItemSize:M,leftOpen:R,rightOpen:b,onToggleLeft:_,onToggleRight:k,onPrevImage:$,onNextImage:Z,canPrevImage:te,canNextImage:X}){const[U,se]=y.useState(!1),[le,I]=y.useState(!1),[H,Q]=y.useState(!1),ae=y.useRef(null),J=y.useRef(null);y.useEffect(()=>{if(!U)return;const O=D=>{ae.current&&!ae.current.contains(D.target)&&se(!1)};return window.addEventListener("click",O),()=>window.removeEventListener("click",O)},[U]),y.useEffect(()=>{if(typeof window>"u"||!("matchMedia"in window))return;const O=window.matchMedia("(max-width: 900px)"),D=B=>I(B.matches);return I(O.matches),"addEventListener"in O?(O.addEventListener("change",D),()=>O.removeEventListener("change",D)):(O.addListener(D),()=>O.removeListener(D))},[]),y.useEffect(()=>{if(!le||n){Q(!1);return}if(!H)return;const O=window.requestAnimationFrame(()=>{var D;return(D=J.current)==null?void 0:D.focus()});return()=>window.cancelAnimationFrame(O)},[le,H,n]);const de=u??{kind:"builtin",key:"added",dir:"desc"},Le=de.dir,be=de.kind==="builtin"&&de.key==="random",$e=d!=null&&d.length?d.map(O=>({value:`metric:${O}`,label:O})):[],gt=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...$e]}],It=de.kind==="metric"?`metric:${de.key}`:`builtin:${de.key}`,nr=[{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...$e]}],Sn=le&&!n,Kt=O=>{if(O.startsWith("layout:")){const D=O==="layout:masonry"?"adaptive":"grid";p==null||p(D)}else f==null||f(Id(O,de))},qt=(w||[]).length,j=$y(g,qt),P=Ay(l,a);return c.jsxs("div",{ref:e,className:"toolbar-shell fixed top-0 left-0 right-0 h-12 grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1 select-none",children:[c.jsxs("div",{className:"toolbar-left flex items-center gap-4 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsxs("div",{className:"flex flex-col min-w-0 leading-tight",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted",children:"Scope"}),c.jsx("span",{className:"text-sm font-medium text-text truncate",title:o||"Root",children:o||"Root"})]}),P&&c.jsx("span",{className:"toolbar-count text-xs text-muted whitespace-nowrap tabular-nums",children:P}),n&&c.jsxs("button",{className:"btn btn-sm",onClick:r,title:"Back to grid",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]})]}),c.jsxs("div",{className:`toolbar-sort flex items-center gap-2 ${n?"opacity-40 pointer-events-none":""}`,children:[c.jsxs("div",{className:"toolbar-sort-controls flex items-center gap-2",children:[c.jsx(Fd,{value:It,onChange:Kt,options:gt,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),c.jsx("button",{className:"toolbar-sort-dir btn btn-icon",onClick:()=>{f&&f(be?de:{...de,dir:Le==="desc"?"asc":"desc"})},title:be?"Shuffle":`Sort ${Le==="desc"?"descending":"ascending"}`,"aria-label":be?"Shuffle":"Toggle sort direction","aria-disabled":n,children:be?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):Le==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})})]}),c.jsxs("div",{ref:ae,className:"toolbar-filter relative",children:[c.jsxs("button",{className:`btn ${j>0?"btn-active":""}`,onClick:()=>se(O=>!O),"aria-haspopup":"dialog","aria-expanded":U,title:"Filters","aria-disabled":n,children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),c.jsx("span",{className:"toolbar-filters-label",children:"Filters"}),j>0&&c.jsx("span",{className:"toolbar-filters-count px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:j})]}),U&&c.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[c.jsx("div",{className:"dropdown-label",children:"Rating"}),c.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(O=>{const D=(w||[]).includes(O),B=(m==null?void 0:m[String(O)])??0;return c.jsxs("button",{onClick:()=>N==null?void 0:N(O),className:`dropdown-item justify-between ${D?"bg-accent-muted":""}`,children:[c.jsxs("span",{className:D?"text-star-active":"text-text",children:["".repeat(O),"".repeat(5-O)]}),c.jsx("span",{className:"text-xs text-muted",children:B})]},O)}),c.jsxs("button",{onClick:()=>N==null?void 0:N(0),className:`dropdown-item justify-between ${(w||[]).includes(0)?"bg-accent-muted":""}`,children:[c.jsx("span",{className:"text-text",children:"Unrated"}),c.jsx("span",{className:"text-xs text-muted",children:(m==null?void 0:m["0"])??0})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("div",{className:"dropdown-label",children:"Metrics"}),c.jsxs("button",{className:"dropdown-item",onClick:()=>{se(!1),S==null||S()},children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]}),c.jsx("span",{children:"Open Metrics Panel"}),(g||0)>0&&c.jsxs("span",{className:"ml-auto text-xs text-muted",children:[g," active"]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{v?v():L==null||L()},disabled:j===0,children:"Clear all filters"})]})]})]})]}),c.jsx("div",{className:"toolbar-center flex items-center gap-3 justify-center min-w-0",children:n?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,s??100))),onChange:O=>i==null?void 0:i(Number(O.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),c.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(s??100),"%"]})]}):M&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted",children:"Size"}),c.jsx("input",{type:"range",min:80,max:500,step:10,value:C??220,onChange:O=>M(Number(O.target.value)),className:"w-28 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),c.jsxs("div",{className:"toolbar-right flex items-center gap-2 justify-end",children:[c.jsxs("div",{className:`toolbar-nav flex items-center gap-1 mr-1 ${n?"":"opacity-0 pointer-events-none"}`,"aria-hidden":!n,children:[c.jsx("button",{className:`btn btn-icon ${te?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>te&&($==null?void 0:$()),"aria-label":"Previous image","aria-disabled":!te,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("button",{className:`btn btn-icon ${X?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>X&&(Z==null?void 0:Z()),"aria-label":"Next image","aria-disabled":!X,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),c.jsxs("div",{className:"toolbar-panels flex items-center gap-1",children:[c.jsx("button",{className:`btn btn-icon ${R?"":"opacity-50"}`,title:R?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:_,"aria-pressed":R,"aria-label":"Toggle left panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),c.jsx("button",{className:`btn btn-icon ${b?"":"opacity-50"}`,title:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:k,"aria-pressed":b,"aria-label":"Toggle right panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),!n&&le&&c.jsx("button",{className:`btn btn-icon ${H?"btn-active":""}`,"aria-label":H?"Close search":"Open search",title:H?"Close search":"Search",onClick:()=>Q(O=>!O),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("circle",{cx:"11",cy:"11",r:"7"}),c.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),!n&&!le?c.jsx("div",{className:"toolbar-search w-[240px]",children:c.jsx("input",{ref:J,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:O=>t(O.target.value),className:"toolbar-search-input input h-8 w-full focus:w-full transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}):n?c.jsx("div",{className:"toolbar-search w-[240px]","aria-hidden":"true"}):null]}),!n&&le&&H&&c.jsx("div",{className:"toolbar-search-row",children:c.jsx("input",{ref:J,"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:O=>t(O.target.value),className:"toolbar-search-input-mobile h-9 w-full rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})}),Sn&&c.jsx("div",{className:"mobile-drawer",children:c.jsxs("div",{className:"mobile-drawer-row",children:[c.jsxs("div",{className:"mobile-pill-group",children:[c.jsx("button",{className:`mobile-pill ${h==="grid"?"is-active":""}`,onClick:()=>p==null?void 0:p("grid"),"aria-pressed":h==="grid",children:"Grid"}),c.jsx("button",{className:`mobile-pill ${h==="adaptive"?"is-active":""}`,onClick:()=>p==null?void 0:p("adaptive"),"aria-pressed":h==="adaptive",children:"Masonry"})]}),c.jsx(Fd,{value:It,onChange:O=>f==null?void 0:f(Id(O,de)),options:nr,"aria-label":"Sort",triggerClassName:"mobile-pill mobile-pill-dropdown",panelClassName:"mobile-drawer-panel"}),c.jsx("button",{className:"mobile-pill mobile-pill-icon",onClick:()=>{f&&f(be?de:{...de,dir:Le==="desc"?"asc":"desc"})},title:be?"Shuffle":`Sort ${Le==="desc"?"descending":"ascending"}`,"aria-label":be?"Shuffle":"Toggle sort direction",children:be?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):Le==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})})]})})]})}function Ay(e,t){if(typeof e!="number")return null;const n=e.toLocaleString();if(typeof t!="number")return`${n} items`;const r=t.toLocaleString();return t===e?`${n} items`:`${n} / ${r} items`}function $y(e,t){return typeof e=="number"?e:t>0?1:0}function Id(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const Vp=3e4;class Wt extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Nt(e,t={}){const{timeoutMs:n=Vp,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Vi(e,t={}){const{timeoutMs:n=Vp,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Wt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Wt(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof Wt?a(u):u.name==="AbortError"?a(new Wt("Request aborted",void 0,e,!0,!1)):a(new Wt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class Kp{constructor(t){Lr(this,"store",new Map);Lr(this,"inflight",new Map);Lr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Ir=new Kp(60*1024*1024),Ya=new Kp(20*1024*1024),Il={};function Uy(){const e=Il==null?void 0:Il.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const Xe=Uy();const By=40*1024*1024,pe={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Nt(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Nt(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return Nt(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>Nt(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Nt(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Nt(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Ya.getOrFetch(e,()=>Vi(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Ya.prefetch(e,()=>Vi(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Ir.getOrFetch(e,()=>Vi(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Ir.has(e)||Ir.isInflight(e)))try{const t=await Vi(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=By&&Ir.set(e,t)}catch{}},cancelPrefetch:e=>{Ir.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Nt(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Nt(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Nt(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Nt(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>Nt(`${Xe}/views`).promise,saveViews:e=>Nt(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Wy=e=>["folder",e];function qp(e){return tc({queryKey:Wy(e),queryFn:()=>pe.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function _l(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Qy(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function zl(e){try{return JSON.parse(e)}catch{return}}const Hy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Ln(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Hy.test(s)?s:"/"}catch{return"/"}}function _d(){return(window.location.hash||"").replace(/^#/,"")}function Vy(e){const t=Ln(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Gp(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Ky(e){const n=Ln(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function qy(e){return e.endsWith("/_trash_")}const Yp="application/x-lenslet-paths",Gy='[role="treeitem"].drop-target';function zd(e){var n;return Array.from(((n=e.dataTransfer)==null?void 0:n.types)||[]).includes(Yp)}function Yy(e){document.querySelectorAll(Gy).forEach(t=>{t!==e&&t.classList.remove("drop-target")})}function Dd(e){Yy(e),e.classList.add("drop-target")}function Ad(e){return e.startsWith("/")?e:`/${e}`}function Xy({path:e,isLeaf:t}){const n=Ci(),r=y.useCallback(l=>{zd(l)&&(l.preventDefault(),t&&Dd(l.currentTarget))},[t]),s=y.useCallback(l=>{!t||!zd(l)||(l.preventDefault(),Dd(l.currentTarget))},[t]),i=y.useCallback(l=>{const a=l.currentTarget,u=document.elementFromPoint(l.clientX,l.clientY);u&&a.contains(u)||a.classList.remove("drop-target")},[]),o=y.useCallback(async l=>{const a=l.dataTransfer;if(!a)return;l.preventDefault(),l.currentTarget.classList.remove("drop-target");const u=a.getData(Yp),f=(u?JSON.parse(u):[]).filter(Boolean);if(!f.length)return;let g=f[0].split("/").slice(0,-1).join("/")||"/";g=Ad(g);const S=Ad(e);try{for(const w of f)await pe.moveFile(w,S);n.invalidateQueries({queryKey:["folder",g]}),n.invalidateQueries({queryKey:["folder",S]}),n.setQueryData(["folder",g],w=>!w||!Array.isArray(w.items)?w:{...w,items:w.items.filter(N=>!f.includes(N.path))})}catch{}},[e,n]);return{onDragOver:r,onDragEnter:s,onDragLeave:i,onDrop:o}}const Jy='[role="tree"] [role="treeitem"]';function Zy(){return Array.from(document.querySelectorAll(Jy))}function e0(e,t){var i;const n=Zy(),r=n.findIndex(o=>o===e);if(r===-1)return;let s=r;t==="ArrowDown"?s=Math.min(n.length-1,r+1):t==="ArrowUp"?s=Math.max(0,r-1):t==="Home"?s=0:t==="End"&&(s=n.length-1),(i=n[s])==null||i.focus()}function t0({path:e,isLeaf:t,isExpanded:n,setExpanded:r,onOpen:s}){return y.useCallback(i=>{if(i.key==="Enter"){i.preventDefault(),s(e);return}if(i.key==="ArrowRight"){!t&&!n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.add(e),l}));return}if(i.key==="ArrowLeft"){!t&&n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.delete(e),l}));return}(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="Home"||i.key==="End")&&(i.preventDefault(),e0(i.currentTarget,i.key))},[e,t,n,r,s])}function n0({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=y.useState(new Set(["/"]));y.useEffect(()=>{const f=e.split("/").filter(Boolean),g=["/"];let S="";for(const w of f)S=S?`${S}/${w}`:`/${w}`,g.push(S);u(w=>{const N=new Set(w);for(const L of g)N.add(L);return N})},[e]);const d=o??"h-full overflow-auto bg-panel scrollbar-thin";return c.jsxs("div",{className:d,children:[c.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(f=>c.jsx(Xp,{path:f.path,label:f.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},f.path))}),l&&c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function Xp({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var C,M,R;const u=s.has(e),{data:d}=qp(e),f=a&&e===a.path?a:d,g=r===e,S=(((C=f==null?void 0:f.dirs)==null?void 0:C.length)??0)===0,w=S?((M=f==null?void 0:f.items)==null?void 0:M.length)??0:0,N=t0({path:e,isLeaf:S,isExpanded:u,setExpanded:i,onOpen:o}),{onDragOver:L,onDragEnter:v,onDragLeave:m,onDrop:h}=Xy({path:e,isLeaf:S}),p=b=>{b.stopPropagation(),i(_=>{const k=new Set(_);return k.has(e)?k.delete(e):k.add(e),k})};return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${g?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":S?void 0:u,"aria-selected":g,tabIndex:g?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:b=>{b.preventDefault(),b.stopPropagation(),l&&l(b,e)},onKeyDown:N,onDragOver:L,onDragEnter:v,onDragLeave:m,onDrop:h,children:[c.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:p,children:u?"":""}),c.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Qy(t,28)}),S&&c.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((R=f==null?void 0:f.dirs)==null?void 0:R.map(b=>c.jsx(Xp,{path:Gp(e,b.name),label:b.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},b.name)))]})}class r0{constructor(t=400){Lr(this,"cache",new Map);Lr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Dl=new r0(400);function s0({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=y.useRef(null),[d,f]=y.useState(()=>Dl.get(e)??null),[g,S]=y.useState(!1),[w,N]=y.useState(()=>!!d);return y.useEffect(()=>{const L=u.current;if(!L)return;const v=new IntersectionObserver(m=>{for(const h of m)h.target===L&&S(h.isIntersecting||h.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return v.observe(L),()=>{v.unobserve(L),v.disconnect()}},[o]),y.useEffect(()=>{if(d||!(g&&!l||a))return;let L=!0;return pe.getThumb(e).then(v=>{if(!L)return;const m=URL.createObjectURL(v);Dl.set(e,m),f(m)}).catch(()=>{}),()=>{L=!1}},[e,d,g,l,a]),y.useEffect(()=>{var v;if(!d){N(!1);return}const L=(v=u.current)==null?void 0:v.querySelector("img");L&&L.complete&&L.naturalWidth>0?N(!0):N(!1)},[d]),y.useEffect(()=>{f(Dl.get(e)??null)},[e]),c.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?c.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>N(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Or(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,N)=>r[N]!==w)))return s;r=f;let S;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(S=Date.now()),s=t(...f),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,N=Math.round((Date.now()-S)*100)/100,L=N/16,v=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c ${v(N,5)} /${v(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*L,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function $d(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const i0=(e,t)=>Math.abs(e-t)<1.01,o0=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Ud=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},l0=e=>e,a0=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},u0=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Ud(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Ud(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Bd={passive:!0},Wd=typeof window>"u"?!0:"onscrollend"in window,c0=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&Wd?()=>{}:o0(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:g}=e.options;s=f?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(s,d)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,Bd);const u=e.options.useScrollendEvent&&Wd;return u&&n.addEventListener("scrollend",a,Bd),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},d0=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},f0=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class h0{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:l0,rangeExtractor:a0,onChange:()=>{},measureElement:d0,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Or(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Or(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Or(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const g of this.laneAssignments.keys())g>=n&&this.laneAssignments.delete(g);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),f=new Array(l).fill(void 0);for(let g=0;g<u;g++){const S=d[g];S&&(f[S.lane]=g)}for(let g=u;g<n;g++){const S=i(g),w=this.laneAssignments.get(g);let N,L;if(w!==void 0&&this.options.lanes>1){N=w;const p=f[N],C=p!==void 0?d[p]:void 0;L=C?C.end+this.options.gap:r+s}else{const p=this.options.lanes===1?d[g-1]:this.getFurthestMeasurement(d,g);L=p?p.end+this.options.gap:r+s,N=p?p.lane:g%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(g,N)}const v=a.get(S),m=typeof v=="number"?v:this.options.estimateSize(g),h=L+m;d[g]={index:g,start:L,size:m,end:h,key:S,lane:N},f[N]=g}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Or(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?p0({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Or(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Or(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return $d(r[Jp(0,r.length-1,s=>$d(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,g]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),w=this.getOffsetForIndex(n,g);if(!w){console.warn("Failed to get offset for index:",n);return}i0(w[0],S)||a(g)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Jp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function p0({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=Jp(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(d=>d<n+t);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const Qd=typeof document<"u"?y.useLayoutEffect:y.useEffect;function m0(e){const t=y.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Yu.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=y.useState(()=>new h0(n));return r.setOptions(n),Qd(()=>r._didMount(),[]),Qd(()=>r._willUpdate()),r}function g0(e){return m0({observeElementRect:u0,observeElementOffset:c0,scrollToFn:f0,...e})}function v0({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s}){const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}}const y0=1.333;function x0({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;const a=(u,d)=>({index:i.length,height:d+s+r,imageH:d,items:u.map(f=>({item:f.item,displayW:f.aspect*d,displayH:d,originalIndex:f.originalIndex}))});for(let u=0;u<e.length;u++){const d=e[u],f=d.w>0&&d.h>0?d.w/d.h:y0;o.push({item:d,aspect:f,originalIndex:u}),l+=f;const g=(o.length-1)*r;if(l*n+g>=t){const w=(t-g)/l;i.push(a(o,w)),o=[],l=0}}return o.length>0&&i.push(a(o,n)),i}function w0(e,t,n){return{mode:"adaptive",rows:x0({items:t,containerWidth:e,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})}}function S0(e,t,n){const{columns:r,cellW:s,mediaH:i,rowH:o}=v0({containerW:e,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),l=Math.ceil(t.length/Math.max(1,r));return{mode:"grid",columns:r,cellW:s,mediaH:i,rowH:o,rowCount:l}}function k0(e,t,n){const[r,s]=y.useState(0);y.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const f=getComputedStyle(a),g=a.clientWidth-parseFloat(f.paddingLeft)-parseFloat(f.paddingRight);s(g)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=y.useMemo(()=>n.viewMode==="adaptive"?w0(r,t,n):S0(r,t,n),[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=g0({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return y.useEffect(()=>{o.measure()},[i,o]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function C0(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}const rn=12,E0=44,N0={w:4,h:3},b0=350,j0=120;function M0({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,f]=y.useState(null),[g,S]=y.useState(null),[w,N]=y.useState(!1),[L,v]=y.useState(null),[m,h]=y.useState(null),p=y.useRef(null),C=y.useRef(null),M=y.useRef(null),R=y.useRef(null),b=u,{width:_,layout:k,rowVirtualizer:$,virtualRows:Z}=k0(M,e,{gap:rn,targetCell:b,aspect:N0,captionH:E0,viewMode:a}),te=y.useMemo(()=>{const j=new Map;for(let P=0;P<e.length;P++)j.set(e[P].path,P);return j},[e]),X=y.useMemo(()=>{if(k.mode!=="adaptive")return null;const j=new Map;return k.rows.forEach((P,O)=>{let D=0;P.items.forEach((B,ee)=>{const V=D+B.displayW/2;j.set(B.item.path,{row:O,center:V,order:ee}),D+=B.displayW+rn})}),j},[k]);y.useEffect(()=>{if(!t.length)return;const j=t[0];L!==j&&v(j)},[t,L]);const U=y.useMemo(()=>{if(k.mode!=="adaptive")return null;let j=0;return k.rows.map(P=>{const O=j;return j+=P.height,{start:O,height:P.height}})},[k]),se=y.useRef(null),le=(j,P)=>{try{if(se.current!=null){try{cancelAnimationFrame(se.current)}catch{}se.current=null}const O=j.scrollTop,D=P-O;if(Math.abs(D)<1){j.scrollTop=P;return}const B=140,ee=performance.now(),V=ue=>1-Math.pow(1-ue,3),fe=ue=>{const je=Math.min(1,(ue-ee)/B),Se=V(je);j.scrollTop=O+D*Se,je<1?se.current=requestAnimationFrame(fe):se.current=null};se.current=requestAnimationFrame(fe)}catch{j.scrollTop=P}},[I,H]=y.useState(!1);y.useEffect(()=>{const j=M.current;if(!j)return;let P=0;const O=()=>{H(!0),window.clearTimeout(P),P=window.setTimeout(()=>H(!1),j0)};return j.addEventListener("scroll",O,{passive:!0}),()=>j.removeEventListener("scroll",O)},[]);const Q=()=>{C.current!=null&&(window.clearTimeout(C.current),C.current=null)},ae=()=>{if(Q(),N(!1),f(null),p.current){try{URL.revokeObjectURL(p.current)}catch{}p.current=null}S(null)},J=j=>{I||(Q(),f(j),N(!1),C.current=window.setTimeout(async()=>{C.current=null;try{const P=await pe.getFile(j),O=URL.createObjectURL(P);if(p.current)try{URL.revokeObjectURL(p.current)}catch{}p.current=O,S(O),N(!0)}catch{}},b0))},de=k.mode==="grid"?k.columns:Math.max(1,Math.floor(_/(b+rn))),Le=(j,P)=>{if(k.mode!=="adaptive")return null;const O=k.rows[j];if(!O)return null;let D=0,B=null;for(const ee of O.items){const V=D+ee.displayW/2,fe=Math.abs(V-P);(!B||fe<B.dist)&&(B={path:ee.item.path,dist:fe}),D+=ee.displayW+rn}return B?B.path:null},be=(j,P)=>{var Se,Et,_t,ve;if(!e.length)return null;const O=j??e[0].path;if(k.mode!=="adaptive"){const Ie=C0(e,de,O,P);return Ie==="open"||Ie==null?Ie:((Se=e[Ie])==null?void 0:Se.path)??null}const D=X==null?void 0:X.get(O);if(!D)return O;const B=te.get(O)??0,ee=P.key;if(ee==="Enter")return"open";if(ee==="ArrowRight"||ee==="d")return((Et=e[Math.min(e.length-1,B+1)])==null?void 0:Et.path)??O;if(ee==="ArrowLeft"||ee==="a")return((_t=e[Math.max(0,B-1)])==null?void 0:_t.path)??O;const V=ee==="ArrowDown"||ee==="s"?1:ee==="ArrowUp"||ee==="w"?-1:0;if(V===0)return null;const fe=D.row+V;if(fe<0||fe>=(((ve=k.rows)==null?void 0:ve.length)??0))return O;const ue=D.center;return Le(fe,ue)??O},$e=j=>{var P;try{(P=document.getElementById(`cell-${encodeURIComponent(j)}`))==null||P.focus()}catch{}},gt=j=>{try{pe.prefetchFile(j),pe.prefetchThumb(j)}catch{}},It=(j,P)=>{v(j),h(j);const O=!!P.shiftKey,D=!!(P.ctrlKey||P.metaKey);if(O){const B=R.current??L??t[0]??j,ee=te.get(B)??e.findIndex(fe=>fe.path===B),V=te.get(j)??e.findIndex(fe=>fe.path===j);if(ee!==-1&&V!==-1){const fe=Math.min(ee,V),ue=Math.max(ee,V),je=e.slice(fe,ue+1).map(Se=>Se.path);if(D){const Se=new Set(t);for(const Et of je)Se.add(Et);r(Array.from(Se))}else r(je)}else r([j])}else if(D){const B=new Set(t);B.has(j)?B.delete(j):B.add(j),r(Array.from(B)),R.current=j}else r([j]),R.current=j;I||gt(j),$e(j)},nr=(j,P)=>{var O,D;try{const B=Sn.has(j)&&t.length>0?t:[j];(O=P.dataTransfer)==null||O.setData("application/x-lenslet-paths",JSON.stringify(B)),P.dataTransfer&&(P.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const V=P.currentTarget.querySelector(".cell-content img"),fe=document.createElement("div");fe.className="drag-ghost";const ue=document.createElement("img");ue.draggable=!1,ue.alt="drag",V&&V.src&&(ue.src=V.src),fe.appendChild(ue),document.body.appendChild(fe);const je=fe.getBoundingClientRect().width||150;(D=P.dataTransfer)==null||D.setDragImage(fe,Math.round(je/2),0);const Se=()=>{try{fe.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Se),window.removeEventListener("pointerup",Se),document.removeEventListener("visibilitychange",Se)};window.addEventListener("dragend",Se),window.addEventListener("pointerup",Se),document.addEventListener("visibilitychange",Se)}catch{}};y.useEffect(()=>{const j=M.current;if(!j)return;const P=O=>{var Se,Et,_t;const D=be(m,O);if(D==null)return;if(O.preventDefault(),D==="open"){m&&s(m);return}const B=e.find(ve=>ve.path===D);if(!B)return;h(B.path),v(B.path),r([B.path]);try{R.current=B.path}catch{}const ee=k.mode==="grid"?Math.floor((te.get(B.path)??0)/Math.max(1,k.columns)):((Se=X==null?void 0:X.get(B.path))==null?void 0:Se.row)??0,V=j.scrollTop,fe=V+j.clientHeight,ue=k.mode==="adaptive"?((Et=U==null?void 0:U[ee])==null?void 0:Et.start)??0:ee*k.rowH,je=k.mode==="adaptive"?ue+(((_t=U==null?void 0:U[ee])==null?void 0:_t.height)??0):ue+k.rowH;(ue<V||je>fe)&&le(j,ue),$e(B.path)};return j.addEventListener("keydown",P),()=>{j.removeEventListener("keydown",P)}},[e,m,de,s,k,X,U,te]),y.useLayoutEffect(()=>{var ee;const j=M.current;if(!j||!n||!t||t.length===0)return;const P=t[0],O=te.get(P);if(O==null||O<0)return;let D=0;if(k.mode==="grid")D=Math.floor(O/Math.max(1,k.columns));else{let V=0,fe=k.rows.length-1;for(;V<=fe;){const ue=V+fe>>1,je=k.rows[ue];if(O>=je.items[0].originalIndex&&O<=je.items[je.items.length-1].originalIndex){D=ue;break}O<je.items[0].originalIndex?fe=ue-1:V=ue+1}}const B=k.mode==="adaptive"?((ee=U==null?void 0:U[D])==null?void 0:ee.start)??0:D*k.rowH;try{j.scrollTop=B}catch{}},[n,k,U]);const Sn=y.useMemo(()=>new Set(t),[t]),Kt=!!(d&&g&&w);y.useEffect(()=>{var j;(j=M.current)==null||j.focus()},[]),y.useEffect(()=>{var j;if(l){try{(j=M.current)==null||j.blur()}catch{}try{h(null)}catch{}}},[l]);const qt=m?`cell-${encodeURIComponent(m)}`:void 0;return c.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${Kt?"cursor-zoom-in":""}`,ref:M,tabIndex:0,"aria-activedescendant":qt,onMouseDown:()=>{var j;return(j=M.current)==null?void 0:j.focus()},style:{"--gap":`${rn}px`},children:c.jsxs("div",{className:"relative w-full",style:{height:$.getTotalSize()},children:[Z.map(j=>{var ee;let P=[],O={},D="";if(k.mode==="adaptive"){const V=k.rows[j.index];if(!V)return null;P=V.items,O={height:V.height,transform:`translate3d(0, ${j.start}px, 0)`,display:"flex",gap:rn,paddingBottom:rn},D="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const V=j.index*k.columns;P=e.slice(V,V+k.columns).map(ue=>({item:ue,displayW:k.cellW,displayH:k.mediaH})),O={transform:`translate3d(0, ${j.start}px, 0)`,gridTemplateColumns:`repeat(${k.columns}, minmax(0, 1fr))`,gap:rn,paddingBottom:rn},D="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const B=j.index===((ee=Z[0])==null?void 0:ee.index);try{if(!I)for(const{item:V}of P)try{pe.prefetchThumb(V.path)}catch{}}catch{}return c.jsx("div",{className:D,role:"row",style:O,children:P.map(({item:V,displayW:fe,displayH:ue})=>{const je=!l&&(L===V.path||Sn.has(V.path)),Se=k.mode==="adaptive"?{width:fe}:{},Et=k.mode==="adaptive"?{height:ue}:{},_t=k.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return c.jsxs("div",{id:`cell-${encodeURIComponent(V.path)}`,className:`relative min-w-0 ${je?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":je,tabIndex:m===V.path?0:-1,onFocus:()=>h(V.path),draggable:!0,style:Se,onDragStart:ve=>nr(V.path,ve),onDragEnd:()=>{},onContextMenu:ve=>{ve.preventDefault(),ve.stopPropagation(),i&&i(ve,V.path)},children:[c.jsxs("div",{className:_t,style:Et,onMouseEnter:()=>{try{pe.prefetchFile(V.path)}catch{}},onDoubleClick:()=>s(V.path),onMouseLeave:ae,children:[c.jsx("div",{className:"cell-content absolute inset-0",children:c.jsx(s0,{path:V.path,name:V.name,selected:je,displayW:fe,displayH:ue,ioRoot:M.current,isScrolling:I,priority:B,onClick:ve=>It(V.path,ve)})}),c.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:()=>J(V.path),onMouseLeave:ae,children:c.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:c.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[c.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),c.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),c.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[c.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:V.name,children:(()=>{const ve=(o||"").trim();if(!ve)return V.name;const Ie=V.name,rr=Ie.toLowerCase().indexOf(ve.toLowerCase());if(rr===-1)return V.name;const rl=Ie.slice(0,rr),et=Ie.slice(rr,rr+ve.length),Cs=Ie.slice(rr+ve.length);return c.jsxs(c.Fragment,{children:[rl,c.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:et}),Cs]})})()}),c.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[V.w,"  ",V.h]})]})]},V.path)})},j.key)}),d&&g&&w&&Yu.createPortal(c.jsx("div",{className:"toolbar-offset fixed inset-0 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:c.jsx("img",{src:g,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${de}`)})}function Xa(e,t){const[n,r]=y.useState(null),s=y.useRef(null);return y.useEffect(()=>{if(!e){if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}r(null);return}let i=!0;return e().then(o=>{if(!i)return;const l=URL.createObjectURL(o);if(s.current)try{URL.revokeObjectURL(s.current)}catch{}s.current=l,r(l)}).catch(()=>{}),()=>{i=!1}},t),y.useEffect(()=>()=>{if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}},[]),n}function R0(){const[e,t]=y.useState(1),[n,r]=y.useState(0),[s,i]=y.useState(0),[o,l]=y.useState(1),[a,u]=y.useState(!1),[d,f]=y.useState(!1),[g,S]=y.useState(!1),w=y.useRef(null),N=y.useRef(null),L=()=>{const h=w.current,p=N.current;if(!h||!p||!p.naturalWidth||!p.naturalHeight)return;const C=h.getBoundingClientRect(),M=C.width/p.naturalWidth,R=C.height/p.naturalHeight,b=Math.min(1,Math.min(M,R));l(b);const _=p.naturalWidth*b,k=p.naturalHeight*b;r((C.width-_)/2),i((C.height-k)/2)};return y.useEffect(()=>{const h=w.current;if(!h)return;const p=new ResizeObserver(()=>{try{requestAnimationFrame(()=>L())}catch{L()}});return p.observe(h),()=>p.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:d,setDragging:f,visible:g,setVisible:S,containerRef:w,imgRef:N,fitAndCenter:L,handleWheel:h=>{h.preventDefault();const p=h.deltaY>0?-1:1,C=1.2,M=.05,R=8,b=w.current;if(!b)return;const _=b.getBoundingClientRect(),k=h.clientX-_.left,$=h.clientY-_.top;t(Z=>{const te=Math.min(R,Math.max(M,Z*Math.pow(C,p))),X=te/Z;return r(U=>k-X*(k-U)),i(U=>$-X*($-U)),Number(te.toFixed(4))})},handleMouseDown:h=>{const p=w.current,C=N.current;if(!p||!C||h.target!==C)return;const R=p.getBoundingClientRect();if(h.clientX<R.left||h.clientX>R.right||h.clientY<R.top||h.clientY>R.bottom)return;h.preventDefault(),h.stopPropagation(),f(!0);const b=h.clientX,_=h.clientY,k=n,$=s,Z=X=>{r(k+(X.clientX-b)),i($+(X.clientY-_))},te=()=>{window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",te),f(!1)};window.addEventListener("mousemove",Z),window.addEventListener("mouseup",te)}}}function L0({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const{scale:o,setScale:l,tx:a,setTx:u,ty:d,setTy:f,base:g,ready:S,setReady:w,dragging:N,visible:L,setVisible:v,containerRef:m,imgRef:h,fitAndCenter:p,handleWheel:C,handleMouseDown:M}=R0(),R=Xa(()=>pe.getFile(e),[e]),b=Xa(()=>pe.getThumb(e),[e]),_=y.useCallback(()=>{v(!1),window.setTimeout(t,110)},[t,v]);return y.useEffect(()=>{requestAnimationFrame(()=>{var k;v(!0),(k=m.current)==null||k.focus()})},[e]),y.useEffect(()=>{const k=$=>{$.key==="Escape"?_():($.key==="ArrowRight"||$.key==="d")&&n?n(1):($.key==="ArrowLeft"||$.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[t,n]),y.useEffect(()=>{w(!1)},[R]),y.useEffect(()=>{r&&r(g*o*100)},[g,o,r]),y.useEffect(()=>{if(s==null)return;const k=m.current;if(!k){i&&i();return}const $=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,g))),Z=k.getBoundingClientRect(),te=Z.width/2,X=Z.height/2;l(U=>{const se=$/U;return u(le=>te-se*(te-le)),f(le=>X-se*(X-le)),Number($.toFixed(4))}),i&&i()},[s,g,i]),c.jsxs("div",{ref:m,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`toolbar-offset absolute inset-0 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${N?"cursor-grabbing select-none":""} ${L?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:_,onWheel:C,onMouseDown:M,onKeyDown:k=>{k.key==="Tab"&&k.preventDefault()},children:[c.jsxs("button",{"aria-label":"Close",onClick:k=>{k.stopPropagation(),_()},className:"btn btn-sm absolute top-3 right-3 z-10",title:"Close (Esc)",children:[c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"M6 6l12 12"})]}),"Close"]}),b&&c.jsx("img",{src:b,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:k=>k.preventDefault(),style:{transform:`translate(${a}px, ${d}px) scale(${g})`,transformOrigin:"0 0",opacity:S?0:.5,filter:"blur(0.25px)"}}),R&&c.jsx("img",{ref:h,src:R,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:k=>{k.preventDefault()},onLoad:k=>{p(),l(1);try{requestAnimationFrame(()=>w(!0))}catch{w(!0)}},onClick:k=>k.stopPropagation(),style:{transform:`translate(${a}px, ${d}px) scale(${g*o})`,transformOrigin:"0 0",opacity:S?.99:0,WebkitUserDrag:"none"}})]})}const Zp=e=>["item",e],T0={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function O0(e){return tc({queryKey:Zp(e),queryFn:()=>pe.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function P0(e){const t=Ci();return zy({mutationFn:n=>pe.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(Zp(e),n)}})}const F0=6;async function Hd(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await em(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(F0,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Os=new Map,Al=new Map;async function em(e,t,n){const r=n??new Date().toISOString(),s=Os.get(e)||{};Os.set(e,{...s,...t});const i=Al.get(e);if(i)return i;const o=(async()=>{try{for(;Os.has(e);){const l=Os.get(e);if(Os.delete(e),!l)break;let a;try{a=await pe.getSidecar(e)}catch{a={...T0,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let d=0;const f=3;for(;d<f;)try{await pe.putSidecar(e,u);break}catch(g){if(d++,d>=f)throw g;await new Promise(S=>setTimeout(S,200*Math.pow(2,d)))}}}finally{Al.delete(e)}})();return Al.set(e,o),o}function tm(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function lo(e){if(Array.isArray(e))return e.map(lo);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,lo(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return lo(r)}catch{return e}}return e}function $l(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function I0(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function _0(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function z0(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=$l(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${$l(o)}</span>`,r=i+o.length}return n+=$l(e.slice(r)),n}const D0=["overview","notes","metadata","basics"],Vd="lenslet.inspector.sections",A0={overview:!0,notes:!0,metadata:!0,basics:!0};function Ki({title:e,open:t,onToggle:n,actions:r,children:s,contentClassName:i}){const[o,l]=y.useState(t),[a,u]=y.useState(t?"open":"closed");return y.useEffect(()=>{if(t){l(!0);const f=window.requestAnimationFrame(()=>u("open"));return()=>window.cancelAnimationFrame(f)}u("closing");const d=window.setTimeout(()=>{l(!1),u("closed")},140);return()=>window.clearTimeout(d)},[t]),c.jsxs("div",{className:"border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsxs("button",{type:"button",onClick:n,"aria-expanded":t,className:"flex items-center gap-2 text-xs uppercase tracking-wide text-muted hover:text-text transition-colors",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${t?"rotate-90":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"m9 18 6-6-6-6"})}),c.jsx("span",{children:e})]}),r]}),o&&c.jsx("div",{className:"inspector-section-body","data-state":a,"aria-hidden":!t,children:c.jsx("div",{className:i??"px-3 pb-3",children:s})})]})}function $0({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=O0(e??""),a=P0(e??""),[u,d]=y.useState(A0),f=y.useCallback(j=>{d(P=>({...P,[j]:!P[j]}))},[]),[g,S]=y.useState(""),[w,N]=y.useState(""),[L,v]=y.useState(""),[m,h]=y.useState(null),[p,C]=y.useState("idle"),[M,R]=y.useState(!1),[b,_]=y.useState(null),[k,$]=y.useState({}),te=y.useMemo(()=>{const j=n.find(P=>P.path===e);return j&&j.star!==void 0?j.star:null},[n,e])??(o==null?void 0:o.star)??null,X=t.length>1,U=y.useMemo(()=>{const j=new Set(t);return n.filter(P=>j.has(P.path))},[n,t]),se=y.useMemo(()=>U.reduce((j,P)=>j+(P.size||0),0),[U]);y.useEffect(()=>{o&&(S((o.tags||[]).join(", ")),N(o.notes||"")),v(""),h(null),C("idle"),R(!1)},[o==null?void 0:o.updated_at,e]);const le=y.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]),I=y.useCallback(j=>{if(X&&t.length){Hd(t,j);return}if(!e)return;const P=le();a.mutate({...P,...j,updated_at:new Date().toISOString(),updated_by:"web"})},[X,t,e,le,a]);y.useEffect(()=>{if(!e)return;const j=P=>{if(tm(P.target))return;const O=P.key;if(!/^[0-5]$/.test(O))return;P.preventDefault();const D=O==="0"?null:Number(O);if(X&&t.length){I({star:D}),s==null||s(t,D);return}I({star:D}),s==null||s([e],D)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,X,t,I,s]);const H=Xa(e?()=>pe.getThumb(e):null,[e]),Q=e?e.split("/").pop()||e:"",ae=y.useMemo(()=>{var P;if(Q.includes("."))return Q.slice(Q.lastIndexOf(".")+1).toUpperCase();const j=n.find(O=>O.path===e);return(P=j==null?void 0:j.type)!=null&&P.includes("/")?j.type.split("/")[1].toUpperCase():""},[Q,n,e]),J=y.useMemo(()=>n.find(j=>j.path===e),[n,e]),de=y.useMemo(()=>e?(J==null?void 0:J.source)??e:"",[J,e]),Le=y.useCallback(async()=>{if(e){C("loading"),h(null);try{const j=await pe.getMetadata(e),P=lo(j.meta),O=JSON.stringify(P,null,2);v(O),C("loaded")}catch(j){const P=j instanceof Error?j.message:"Failed to load metadata";v(P),h(P),C("error")}}},[e]),be=y.useCallback(()=>{var j;L&&((j=navigator.clipboard)==null||j.writeText(L).then(()=>{R(!0),setTimeout(()=>R(!1),1200)}).catch(P=>{const O=P instanceof Error?P.message:"Copy failed";h(O)}))},[L]),$e=y.useMemo(()=>L?z0(L):"",[L]),gt=p==="loading"?"Loading metadata":L||"PNG metadata not loaded yet.",It=p==="loaded"&&!!L,nr=It?"h-48":"h-24",Sn=X?null:c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[L&&c.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:be,disabled:!L,title:"Copy metadata",children:M?"Copied":"Copy"}),c.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Le,disabled:!e||p==="loading",children:p==="loading"?"Loading":"Load meta"})]});y.useEffect(()=>{try{const j=localStorage.getItem(Vd);if(!j)return;const P=JSON.parse(j);if(!P||typeof P!="object")return;const O={};for(const D of D0)typeof P[D]=="boolean"&&(O[D]=P[D]);Object.keys(O).length>0&&d(D=>({...D,...O}))}catch{}},[]),y.useEffect(()=>{try{localStorage.setItem(Vd,JSON.stringify(u))}catch{}},[u]);const Kt=y.useCallback((j,P)=>{var O;P&&((O=navigator.clipboard)==null||O.writeText(P).then(()=>{_(j),setTimeout(()=>_(D=>D===j?null:D),1e3)}).catch(()=>{}))},[]),qt=y.useCallback((j,P)=>{if(P&&!k[j]){const O=P.offsetHeight;O&&$(D=>D[j]?D:{...D,[j]:O})}},[k]);return i?c.jsxs("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!X&&c.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel select-none",children:[H&&c.jsx("img",{src:H,alt:"thumb",className:"block w-full h-full object-contain"}),!!ae&&c.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md select-none",children:ae})]})}),c.jsx(Ki,{title:X?"Selection":"Item",open:u.overview,onToggle:()=>f("overview"),children:X?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),c.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",_l(se)]})]}):c.jsx("div",{className:"font-mono text-text break-all",title:Q,children:Q})}),c.jsxs(Ki,{title:"Notes & Tags",open:u.notes,onToggle:()=>f("notes"),contentClassName:"px-3 pb-3 space-y-1.5",children:[c.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:w,onChange:j=>N(j.target.value),onBlur:()=>{I({notes:w})},"aria-label":X?"Notes for selected items":"Notes"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:X?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),c.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:g,onChange:j=>S(j.target.value),onBlur:()=>{I({tags:_0(g)})},"aria-label":X?"Tags for selected items":"Tags"})]})]}),!X&&c.jsxs(Ki,{title:"Metadata",open:u.metadata,onToggle:()=>f("metadata"),actions:Sn,children:[c.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${nr} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:It?c.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:$e}}):gt}),m&&c.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:m})]}),c.jsxs(Ki,{title:"Basics",open:u.basics,onToggle:()=>f("basics"),children:[c.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[c.jsx("span",{className:"text-muted w-16 shrink-0",children:X?"Rating (all)":"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(j=>{const P=(te??0)>=j;return c.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${P?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const O=te===j&&!X?null:j;X&&t.length?(s==null||s(t,O),Hd(t,{star:O})):e&&(s==null||s([e],O),em(e,{star:O}))},title:`${j} star${j>1?"s":""} (key ${j})`,"aria-label":`${j} star${j>1?"s":""}`,"aria-pressed":te===j,children:P?"":""},j)})})]}),!X&&J&&c.jsxs("div",{className:"text-[12px] space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Kt("dimensions",`${J.w}${J.h}`),children:"Dimensions"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:j=>qt("dimensions",j),style:k.dimensions?{minHeight:k.dimensions}:void 0,children:b==="dimensions"?"Copied":`${J.w}${J.h}`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Kt("size",_l(J.size)),children:"Size"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:j=>qt("size",j),style:k.size?{minHeight:k.size}:void 0,children:b==="size"?"Copied":_l(J.size)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Kt("type",J.type),children:"Type"}),c.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:j=>qt("type",j),style:k.type?{minHeight:k.type}:void 0,children:b==="type"?"Copied":J.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>de&&Kt("source",de),children:"Source"}),c.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:j=>qt("source",j),style:k.source?{minHeight:k.source}:void 0,children:b==="source"?"Copied":de})]}),(()=>{const j=J.metrics||null;if(!j)return null;const P=Object.entries(j).filter(([,ee])=>ee!=null);if(!P.length)return null;const O=P.sort(([ee],[V])=>ee.localeCompare(V)),D=O.slice(0,12),B=O.length-D.length;return c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),c.jsxs("div",{className:"space-y-1",children:[D.map(([ee,V])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-24 shrink-0",children:ee}),c.jsx("span",{className:"font-mono text-text text-right",children:I0(V)})]},ee)),B>0&&c.jsxs("div",{className:"text-[11px] text-muted",children:["+",B," more"]})]})]})})()]})]}),c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):c.jsx("div",{className:"app-right-panel col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:c.jsx("div",{className:"toolbar-offset absolute bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const U0=(e,t)=>["search",e,t];function B0(e,t){return tc({enabled:!!e.trim(),queryKey:U0(e,t),queryFn:()=>pe.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const W0=new Set([0,1,2,3,4,5]),nc=new Set(["<","<=",">",">="]),Q0=/^\d{4}-\d{2}-\d{2}$/;function H0(e,t){return!t||!t.and.length?e:e.filter(n=>V0(n,t.and))}function V0(e,t){for(const n of t)if(!K0(e,n))return!1;return!0}function K0(e,t){var n,r,s,i,o,l,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(o=t.urlContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.source??e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.source??e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const f=Date.parse(e.addedAt);if(Number.isNaN(f))return!1;const g=Gd(u,!1),S=Gd(d,!0);return!(g!=null&&f<g||S!=null&&f>S)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const f=e.w;return!Number.isFinite(f)||f<=0?!1:Yd(f,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const f=e.h;return!Number.isFinite(f)||f<=0?!1:Yd(f,u,d)}if("metricRange"in t){const{key:u,min:d,max:f}=t.metricRange,g=(a=e.metrics)==null?void 0:a[u];return!(g==null||g<d||g>f)}return!0}function Ja(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=ax(r);s&&n.push(s)}return{and:n}}function Kd(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function Ul(e,t){return nm(e,t)}function q0(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function nm(e,t){const n=Ks(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function G0(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function rm(e,t){const n=Ks(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function Y0(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function sm(e,t){const n=Lt(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function X0(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function im(e,t){const n=Lt(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function J0(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function om(e,t){const n=Lt(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function Z0(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function lm(e,t){const n=Lt(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function ex(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function am(e,t){const n=Lt(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function tx(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function um(e,t){const n=Lt(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function nx(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function Za(e,t){const n=Ao((t==null?void 0:t.from)??null),r=Ao((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function rx(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function ao(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!nc.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function sx(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function uo(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!nc.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function ix(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function ox(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function lx(e){const t=Ja(e);return t?t.and.length:0}function ax(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=Ks(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=Ks((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=Ks((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=Lt((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=Lt((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=Lt((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=Lt((o=e.commentsNotContains)==null?void 0:o.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=Lt((l=e.urlContains)==null?void 0:l.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=Lt((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=Ao((u==null?void 0:u.from)??null),f=Ao((u==null?void 0:u.to)??null);return!d&&!f?null:{dateRange:{...d?{from:d}:{},...f?{to:f}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=qd(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=qd(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",f=eu(u.min),g=eu(u.max);return!d||f==null||g==null||f>g?null:{metricRange:{key:d,min:f,max:g}}}return null}function Ks(e){if(!Array.isArray(e))return[];const t=[],n=new Set;for(const r of e){const s=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;!Number.isInteger(s)||!W0.has(s)||n.has(s)||(n.add(s),t.push(s))}return t}function Lt(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function Ao(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function qd(e,t){if(typeof e!="string"||!nc.has(e))return null;const n=eu(t);return n==null?null:{op:e,value:n}}function Gd(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&Q0.test(n)?r+24*60*60*1e3-1:r}function Yd(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function eu(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function Xd(e){return e.addedAt?Date.parse(e.addedAt):0}function $o(e,t){return e.name.localeCompare(t.name)}function ux(e,t){const n=Xd(e),r=Xd(t);return n===r?$o(e,t):n-r}function cx(e){return(t,n)=>{var i,o;const r=(i=t.metrics)==null?void 0:i[e],s=(o=n.metrics)==null?void 0:o[e];return r==null&&s==null?$o(t,n):r==null?1:s==null?-1:r===s?$o(t,n):r-s}}function dx(e,t){return H0(e,t)}function fx(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function hx(e,t){const n=fx(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function px(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return hx(e,i)}let r=ux;t.kind==="metric"?r=cx(t.key):t.key==="name"&&(r=$o);const s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const qs=40,Jd=[5,4,3,2,1],Zd=["<","<=",">",">="];function mx({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o,onChangeFilters:l}){const a=c.jsx(gx,{filters:i,onChangeFilters:l});return n.length?c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx(vx,{items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o})]}):c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function gx({filters:e,onChangeFilters:t}){const n=y.useMemo(()=>q0(e),[e]),r=y.useMemo(()=>G0(e),[e]),s=y.useMemo(()=>Y0(e)??"",[e]),i=y.useMemo(()=>X0(e)??"",[e]),o=y.useMemo(()=>J0(e)??"",[e]),l=y.useMemo(()=>Z0(e)??"",[e]),a=y.useMemo(()=>ex(e)??"",[e]),u=y.useMemo(()=>tx(e)??"",[e]),d=y.useMemo(()=>nx(e)??{},[e]),f=y.useMemo(()=>of(d.from),[d.from]),g=y.useMemo(()=>of(d.to),[d.to]),S=y.useMemo(()=>rx(e),[e]),w=y.useMemo(()=>sx(e),[e]),[N,L]=y.useState((S==null?void 0:S.op)??">="),[v,m]=y.useState((w==null?void 0:w.op)??">=");y.useEffect(()=>{S!=null&&S.op&&L(S.op)},[S==null?void 0:S.op]),y.useEffect(()=>{w!=null&&w.op&&m(w.op)},[w==null?void 0:w.op]);const h=(p,C)=>{const M=new Set(n),R=new Set(r);p==="include"?M.has(C)?M.delete(C):(M.add(C),R.delete(C)):R.has(C)?R.delete(C):(R.add(C),M.delete(C));let b=nm(e,Array.from(M));b=rm(b,Array.from(R)),t(b)};return c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Jd.map(p=>{const C=n.includes(p);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",p),"aria-pressed":C,title:`Include ${p} star${p>1?"s":""}`,children:[p,""]},`stars-in-${p}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${n.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",0),"aria-pressed":n.includes(0),title:"Include unrated",children:"None"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Jd.map(p=>{const C=r.includes(p);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",p),"aria-pressed":C,title:`Exclude ${p} star${p>1?"s":""}`,children:[p,""]},`stars-out-${p}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${r.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",0),"aria-pressed":r.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:s,placeholder:"e.g. draft",onChange:p=>t(sm(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:i,placeholder:"e.g. v1",onChange:p=>t(im(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,placeholder:"e.g. hero",onChange:p=>t(om(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,placeholder:"e.g. todo",onChange:p=>t(lm(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,placeholder:"e.g. s3://bucket",onChange:p=>t(am(e,p.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:u,placeholder:"e.g. http://",onChange:p=>t(um(e,p.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:f,onChange:p=>t(Za(e,{from:p.target.value||null,to:d.to??null}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:g,onChange:p=>t(Za(e,{from:d.from??null,to:p.target.value||null}))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:N,onChange:p=>{const C=p.target.value;L(C),S&&t(ao(e,{op:C,value:S.value}))},children:Zd.map(p=>c.jsx("option",{value:p,children:p},`w-${p}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:S?String(S.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(ao(e,null));return}const M=Number(C);Number.isFinite(M)&&t(ao(e,{op:N,value:M}))}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:v,onChange:p=>{const C=p.target.value;m(C),w&&t(uo(e,{op:C,value:w.value}))},children:Zd.map(p=>c.jsx("option",{value:p,children:p},`h-${p}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:w?String(w.value):"",min:0,placeholder:"px",onChange:p=>{const C=p.target.value;if(!C){t(uo(e,null));return}const M=Number(C);Number.isFinite(M)&&t(uo(e,{op:v,value:M}))}})]})]})]})]})]})]})}function vx({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o}){const l=r&&n.includes(r)?r:n[0],a=y.useMemo(()=>l?ef(e,l,qs):null,[e,l]),u=y.useMemo(()=>l&&a?ef(t,l,qs,a):null,[t,l,a]),d=l?ix(i,l):null,[f,g]=y.useState(null),[S,w]=y.useState(!1),N=y.useRef(null),L=y.useRef(null),[v,m]=y.useState(""),[h,p]=y.useState(""),[C,M]=y.useState(null),R=f??d,b=a?{min:a.min,max:a.max}:null;y.useEffect(()=>{if(!d||!b){C!=="min"&&m(d?En(d.min):""),C!=="max"&&p(d?En(d.max):"");return}if(C!=="min"){const U=Fr(d.min,b.min)?"":En(d.min);m(U)}if(C!=="max"){const U=Fr(d.max,b.max)?"":En(d.max);p(U)}},[d,l,b,C]);const _=U=>{var I;if(!b||!l)return null;const se=(I=L.current)==null?void 0:I.getBoundingClientRect();if(!se)return null;const le=cm((U.clientX-se.left)/se.width);return b.min+(b.max-b.min)*le},k=(U,se)=>{if(!b||!l)return;const le=N.current??U,I=nf(le,U);g(I),se&&o(l,I)},$=U=>{var le;if(!b||!l)return;U.preventDefault();const se=_(U);se!=null&&(w(!0),g(null),N.current=se,(le=L.current)==null||le.setPointerCapture(U.pointerId),k(se,!1))},Z=U=>{if(!S)return;const se=_(U);se!=null&&k(se,!1)},te=U=>{var le;if(!S)return;w(!1),(le=L.current)==null||le.releasePointerCapture(U.pointerId);const se=_(U);se!=null&&k(se,!0),N.current=null,setTimeout(()=>g(null),0)},X=(U,se)=>{if(!b||!l)return;const le=rf(U),I=rf(se);if(!le.valid||!I.valid){le.valid||m(d?En(d.min):""),I.valid||p(d?En(d.max):"");return}if(le.value==null&&I.value==null){o(l,null);return}const H=le.value??b.min,Q=I.value??b.max,ae=sf(H,b.min,b.max),J=sf(Q,b.min,b.max),de=nf(ae,J);if(Fr(de.min,b.min)&&Fr(de.max,b.max)){o(l,null);return}o(l,de)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),c.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,onChange:U=>s(U.target.value),children:n.map(U=>c.jsx("option",{value:U,children:U},U))})]}),a?c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[c.jsxs("span",{children:["Population: ",a.count]}),c.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),c.jsxs("svg",{ref:L,viewBox:`0 0 ${qs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:$,onPointerMove:Z,onPointerUp:te,children:[tf(a.bins,"#2e3a4b"),u&&tf(u.bins,"#3a8fff"),R&&b&&yx(R,b)]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[c.jsx("span",{children:Pr(b==null?void 0:b.min)}),R?c.jsx("span",{className:"text-text",children:b&&Fr(R.min,b.min)?` ${Pr(R.max)}`:b&&Fr(R.max,b.max)?` ${Pr(R.min)}`:`${Pr(R.min)}  ${Pr(R.max)}`}):c.jsx("span",{children:"Drag to filter"}),c.jsx("span",{children:Pr(b==null?void 0:b.max)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Min"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:v,placeholder:En(b.min),onFocus:()=>M("min"),onBlur:()=>{M(null),X(v,h)},onChange:U=>m(U.target.value),onKeyDown:U=>{U.key==="Enter"&&U.currentTarget.blur()}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Max"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:h,placeholder:En(b.max),onFocus:()=>M("max"),onBlur:()=>{M(null),X(v,h)},onChange:U=>p(U.target.value),onKeyDown:U=>{U.key==="Enter"&&U.currentTarget.blur()}})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx("button",{className:"btn btn-sm",onClick:()=>l&&o(l,null),children:"Clear"})})]}):c.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]})}function ef(e,t,n,r){var u;const s=[];for(const d of e){const f=(u=d.metrics)==null?void 0:u[t];f==null||Number.isNaN(f)||s.push(f)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const d of s){const f=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));l[f]+=1}return{bins:l,min:i,max:o,count:s.length}}function tf(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return c.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function yx(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=qs*cm(Math.min(n,r)),i=qs*Math.abs(r-n);return c.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function nf(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function cm(e){return e<0?0:e>1?1:e}function Pr(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function En(e){if(!Number.isFinite(e))return"";const t=e.toString();return t.includes("e")?e.toFixed(6):t}function rf(e){const t=e.trim();if(!t)return{value:null,valid:!0};const n=Number(t);return Number.isFinite(n)?{value:n,valid:!0}:{value:null,valid:!1}}function sf(e,t,n){return e<t?t:e>n?n:e}function Fr(e,t){const n=Math.max(1,Math.abs(e),Math.abs(t));return Math.abs(e-t)<=1e-6*n}function of(e){return e?e.length>=10?e.slice(0,10):e:""}function xx(e){const[t,n]=y.useState(250),[r,s]=y.useState(240),i=y.useRef(t),o=y.useRef(r);return y.useEffect(()=>{i.current=t},[t]),y.useEffect(()=>{o.current=r},[r]),y.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const f=Number(u.getItem("rightW"));Number.isFinite(f)&&f>0&&s(f)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const N=w.clientX-f.left,L=200,v=Math.max(L,f.width-o.current-200),m=Math.min(Math.max(N,L),v);n(m)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const N=w.clientX-f.left,L=f.width-N,v=240,m=Math.max(v,f.width-i.current-200),h=Math.min(Math.max(L,v),m);s(h)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)}}}function wx({x:e,y:t,items:n}){return c.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>c.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&c.jsx("span",{className:"shrink-0",children:r.icon}),c.jsx("span",{children:r.label})]},s))})}function lf(e){return JSON.stringify(e,null,2)}function af(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function Bl(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function Sx(e,t=250){const[n,r]=fo.useState(e);return fo.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Oe={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function kx(){var cc;const[e,t]=y.useState("/"),[n,r]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(null),[a,u]=y.useState(0),[d,f]=y.useState(null),[g,S]=y.useState(100),[w,N]=y.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[L,v]=y.useState(()=>Date.now()),[m,h]=y.useState("adaptive"),[p,C]=y.useState(220),[M,R]=y.useState(!0),[b,_]=y.useState(!0),[k,$]=y.useState("folders"),[Z,te]=y.useState([]),[X,U]=y.useState(null),[se,le]=y.useState(null),[I,H]=y.useState(null),[Q,ae]=y.useState({}),J=y.useRef(null),de=y.useRef(null),Le=y.useRef(null),be=y.useRef(!1),$e=y.useRef(null),gt=y.useRef(new Map),It=y.useRef(new Map),{leftW:nr,rightW:Sn,onResizeLeft:Kt,onResizeRight:qt}=xx(J),[j,P]=y.useState(!1),[O,D]=y.useState(null);y.useEffect(()=>{const E=Ln(_d());t(E);const T=()=>{const z=Ln(_d());l(null),t(G=>G===z?G:(u(ne=>ne+1),z))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:B,refetch:ee,isLoading:V,isError:fe}=qp(e),ue=n.trim().length>0,je=Sx(n,250),Se=y.useMemo(()=>je.trim().replace(/\s+/g," "),[je]),Et=B0(ue?Se:"",e),_t=y.useMemo(()=>Kd(w.filters),[w.filters]),ve=y.useMemo(()=>{var T;return(ue?((T=Et.data)==null?void 0:T.items)??[]:(B==null?void 0:B.items)??[]).map(z=>({...z,star:Q[z.path]!==void 0?Q[z.path]:z.star}))},[ue,Et.data,B,Q]),Ie=y.useMemo(()=>{const E=dx(ve,w.filters);return px(E,w.sort,L)},[ve,w.filters,w.sort,L]),rr=ve.length,rl=Ie.length,et=y.useMemo(()=>Ie.map(E=>E.path),[Ie]),Cs=y.useCallback(async E=>{const T=Ln(E||"/"),z=gt.current.get(T);if(typeof z=="number")return z;const G=It.current.get(T);if(G)return G;const ne=(async()=>{const Te=[T],Qe=new Set;let Y=0;for(;Te.length;){const K=Te.pop();if(!Qe.has(K)){Qe.add(K);try{const ie=await pe.getFolder(K);Y+=ie.items.length;for(const vt of ie.dirs)vt.kind==="branch"&&Te.push(Gp(K,vt.name))}catch(ie){console.warn(`Failed to count folder ${K}:`,ie)}}}return gt.current.set(T,Y),It.current.delete(T),Y})();return It.current.set(T,ne),ne},[]);y.useEffect(()=>{let E=!1;const T=Ln(e||"/");return(async()=>{const G=Cs("/"),ne=T==="/"?G:Cs(T),[Te,Qe]=await Promise.all([G,ne]);E||(H(Te),le(Qe))})().catch(G=>console.warn("Failed to compute folder counts:",G)),()=>{E=!0}},[e,Cs]);const dm=y.useMemo(()=>{const E=ve,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const z of E){const G=Q[z.path]??z.star??0;T[String(G)]=(T[String(G)]||0)+1}return T},[ve,Q]),kn=y.useMemo(()=>{const E=new Set;let T=0;for(const z of ve){const G=z.metrics;if(G)for(const ne of Object.keys(G))E.add(ne);if(T+=1,T>=250&&E.size>0)break}return Array.from(E).sort()},[ve]);y.useEffect(()=>{kn.length&&N(E=>{const T=E.selectedMetric&&kn.includes(E.selectedMetric)?E.selectedMetric:kn[0];return T===E.selectedMetric?E:{...E,selectedMetric:T}})},[kn]),y.useEffect(()=>{w.sort.kind==="metric"&&(kn.includes(w.sort.key)||N(E=>({...E,sort:{kind:"builtin",key:"added",dir:E.sort.dir}})))},[kn,w.sort]);const rc=y.useMemo(()=>lx(w.filters),[w.filters]),Ei=se??rr,fm=I??Ei,sc=ue||rc>0,hm=sc?rl:Ei,pm=sc||e==="/"?Ei:fm,tt=y.useCallback(E=>{N(T=>({...T,filters:E(T.filters)}))},[]),mm=y.useCallback(E=>{N(T=>({...T,filters:E}))},[]),Ni=y.useCallback(()=>{tt(E=>Ul(E,[]))},[tt]),ic=y.useCallback(()=>{N(E=>({...E,filters:{and:[]}}))},[]),sl=y.useCallback((E,T)=>{tt(z=>ox(z,E,T))},[tt]),oc=y.useMemo(()=>{var T,z,G,ne,Te,Qe;const E=[];for(const Y of w.filters.and)if("stars"in Y){const K=Y.stars||[];if(!K.length)continue;E.push({id:"stars",label:`Rating in: ${Wl(K)}`,onRemove:()=>Ni()})}else if("starsIn"in Y){const K=Y.starsIn.values||[];if(!K.length)continue;E.push({id:"stars-in",label:`Rating in: ${Wl(K)}`,onRemove:()=>Ni()})}else if("starsNotIn"in Y){const K=Y.starsNotIn.values||[];if(!K.length)continue;E.push({id:"stars-not-in",label:`Rating not in: ${Wl(K)}`,onRemove:()=>tt(ie=>rm(ie,[]))})}else if("nameContains"in Y){const K=(T=Y.nameContains.value)==null?void 0:T.trim();if(!K)continue;E.push({id:"name-contains",label:`Filename contains: ${K}`,onRemove:()=>tt(ie=>sm(ie,""))})}else if("nameNotContains"in Y){const K=(z=Y.nameNotContains.value)==null?void 0:z.trim();if(!K)continue;E.push({id:"name-not-contains",label:`Filename not: ${K}`,onRemove:()=>tt(ie=>im(ie,""))})}else if("commentsContains"in Y){const K=(G=Y.commentsContains.value)==null?void 0:G.trim();if(!K)continue;E.push({id:"comments-contains",label:`Comments contain: ${K}`,onRemove:()=>tt(ie=>om(ie,""))})}else if("commentsNotContains"in Y){const K=(ne=Y.commentsNotContains.value)==null?void 0:ne.trim();if(!K)continue;E.push({id:"comments-not-contains",label:`Comments not: ${K}`,onRemove:()=>tt(ie=>lm(ie,""))})}else if("urlContains"in Y){const K=(Te=Y.urlContains.value)==null?void 0:Te.trim();if(!K)continue;E.push({id:"url-contains",label:`URL contains: ${K}`,onRemove:()=>tt(ie=>am(ie,""))})}else if("urlNotContains"in Y){const K=(Qe=Y.urlNotContains.value)==null?void 0:Qe.trim();if(!K)continue;E.push({id:"url-not-contains",label:`URL not: ${K}`,onRemove:()=>tt(ie=>um(ie,""))})}else if("dateRange"in Y){const{from:K,to:ie}=Y.dateRange;if(!K&&!ie)continue;E.push({id:"date-range",label:`Date: ${Nx(K,ie)}`,onRemove:()=>tt(vt=>Za(vt,null))})}else if("widthCompare"in Y){const{op:K,value:ie}=Y.widthCompare;E.push({id:"width-compare",label:`Width ${K} ${ie}`,onRemove:()=>tt(vt=>ao(vt,null))})}else if("heightCompare"in Y){const{op:K,value:ie}=Y.heightCompare;E.push({id:"height-compare",label:`Height ${K} ${ie}`,onRemove:()=>tt(vt=>uo(vt,null))})}else if("metricRange"in Y){const{key:K,min:ie,max:vt}=Y.metricRange;E.push({id:`metric:${K}`,label:`${K}: ${jx(ie,vt)}`,onRemove:()=>sl(K,null)})}return E},[w.filters,Ni,sl,tt]),gm=y.useCallback(E=>{const T=new Set(_t);T.has(E)?T.delete(E):T.add(E),N(z=>({...z,filters:Ul(z.filters,Array.from(T))}))},[_t]),vm=y.useCallback(()=>{R(!0),$("metrics")},[]),ym=y.useCallback(E=>{N(T=>({...T,sort:E})),E.kind==="builtin"&&E.key==="random"&&v(Date.now())},[]),lc=y.useCallback(E=>{if(E==="/"||E==="")return"Lenslet | Root";const T=E.split("/").filter(Boolean);if(!T.length)return"Lenslet";const z=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${z}`:`/${z}`}`},[]),xm=y.useMemo(()=>bx(e),[e]);y.useEffect(()=>{document.title=lc(e)},[e,lc]),y.useEffect(()=>{let E=!0;return pe.getViews().then(T=>{E&&te(T.views||[])}).catch(()=>{E&&te([])}),()=>{E=!1}},[]),y.useEffect(()=>{ue&&(i([]),l(null))},[ue]),y.useEffect(()=>{const E=J.current,T=Le.current;if(!E||!T)return;const z=()=>{const G=Math.max(48,Math.round(T.getBoundingClientRect().height));E.style.setProperty("--toolbar-h",`${G}px`)};if(z(),"ResizeObserver"in window){const G=new ResizeObserver(z);return G.observe(T),()=>G.disconnect()}return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),y.useEffect(()=>{try{const E=localStorage.getItem(Oe.sortKey),T=localStorage.getItem(Oe.sortDir),z=localStorage.getItem(Oe.sortSpec),G=localStorage.getItem(Oe.starFilters),ne=localStorage.getItem(Oe.filterAst),Te=localStorage.getItem(Oe.selectedMetric),Qe=localStorage.getItem(Oe.viewMode),Y=localStorage.getItem(Oe.gridItemSize),K=localStorage.getItem(Oe.leftOpen),ie=localStorage.getItem(Oe.rightOpen),dc=(qe=>{if(!qe)return null;const _e=zl(qe);return!_e||typeof _e!="object"?null:_e.kind==="builtin"&&(_e.key==="name"||_e.key==="added"||_e.key==="random")&&(_e.dir==="asc"||_e.dir==="desc")||_e.kind==="metric"&&typeof _e.key=="string"&&_e.key.length>0&&(_e.dir==="asc"||_e.dir==="desc")?_e:null})(z)??{kind:"builtin",key:E==="name"||E==="added"||E==="random"?E:"added",dir:T==="asc"||T==="desc"?T:"desc"};dc.key==="random"&&v(Date.now());let ll=(qe=>{if(!qe)return null;const _e=zl(qe);return Ja(_e)})(ne)??{and:[]};if(G){const qe=zl(G);if(Array.isArray(qe)){const _e=qe.filter(bm=>[0,1,2,3,4,5].includes(bm));ll=Ul(ll,_e)}}if(N(qe=>({...qe,sort:dc,filters:ll,selectedMetric:Te||qe.selectedMetric})),(Qe==="grid"||Qe==="adaptive")&&h(Qe),Y){const qe=Number(Y);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(K==="0"||K==="false")&&R(!1),(ie==="0"||ie==="false")&&_(!1)}catch{}},[]),y.useEffect(()=>{if(typeof window>"u")return;const E=window.matchMedia("(max-width: 900px)"),T=()=>{E.matches&&(R(!1),_(!1))};return T(),"addEventListener"in E?(E.addEventListener("change",T),()=>E.removeEventListener("change",T)):(E.addListener(T),()=>E.removeListener(T))},[]),y.useEffect(()=>{try{localStorage.setItem(Oe.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Oe.sortDir,w.sort.dir),localStorage.setItem(Oe.sortSpec,JSON.stringify(w.sort));const E=Kd(w.filters);localStorage.setItem(Oe.starFilters,JSON.stringify(E)),localStorage.setItem(Oe.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Oe.selectedMetric,w.selectedMetric):localStorage.removeItem(Oe.selectedMetric),localStorage.setItem(Oe.viewMode,m),localStorage.setItem(Oe.gridItemSize,String(p)),localStorage.setItem(Oe.leftOpen,M?"1":"0"),localStorage.setItem(Oe.rightOpen,b?"1":"0")}catch{}},[w,m,p,M,b]),y.useEffect(()=>{const E=de.current;if(!E)return;const T=G=>Math.min(500,Math.max(80,G)),z=G=>{G.ctrlKey&&(G.preventDefault(),C(ne=>T(ne+(G.deltaY<0?20:-20))))};return E.addEventListener("wheel",z,{passive:!1}),()=>E.removeEventListener("wheel",z)},[]),y.useEffect(()=>{if(o)return;const E=de.current;if(!E)return;const T=Y=>Math.min(500,Math.max(80,Y));let z=null;const G=Y=>{if(Y.length<2)return 0;const[K,ie]=[Y[0],Y[1]];return Math.hypot(K.clientX-ie.clientX,K.clientY-ie.clientY)},ne=Y=>{if(Y.touches.length!==2)return;const K=G(Y.touches);K&&(z={dist:K,size:p})},Te=Y=>{if(!z||Y.touches.length!==2)return;const K=G(Y.touches);if(!K)return;Y.preventDefault();const ie=T(z.size*(K/z.dist));C(ie)},Qe=()=>{z=null};return E.addEventListener("touchstart",ne,{passive:!0}),E.addEventListener("touchmove",Te,{passive:!1}),E.addEventListener("touchend",Qe),E.addEventListener("touchcancel",Qe),()=>{E.removeEventListener("touchstart",ne),E.removeEventListener("touchmove",Te),E.removeEventListener("touchend",Qe),E.removeEventListener("touchcancel",Qe)}},[o,p]),y.useEffect(()=>{if(!o)return;const E=et.indexOf(o);if(E===-1)return;const T=[et[E-2],et[E-1],et[E+1],et[E+2]].filter(z=>!!z);for(const z of T)pe.prefetchFile(z),pe.prefetchThumb(z)},[o,et]),y.useEffect(()=>{var T;if(!((T=B==null?void 0:B.items)!=null&&T.length))return;const E=B.items.slice(0,5);for(const z of E)pe.prefetchFile(z.path)},[B==null?void 0:B.path,B==null?void 0:B.items]);const bi=y.useCallback(E=>{l(null);const T=Ln(E);t(T),Vy(T)},[]),wm=y.useCallback(async()=>{const E=window.prompt("Save Smart Folder as:","New Smart Folder");if(!E)return;const T=Cx(E,Z),z={id:T,name:E,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},G=[...Z.filter(ne=>ne.id!==T),z];te(G),U(T);try{await pe.saveViews({version:1,views:G})}catch(ne){if(ne instanceof Wt&&ne.status===403){const Te=new Blob([JSON.stringify({version:1,views:G},null,2)],{type:"application/json"});co(Te,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",ne)}},[e,w,Z]);y.useEffect(()=>{if(!X)return;const E=Z.find(G=>G.id===X);if(!E){U(null);return}const T=E.pool.path===e,z=JSON.stringify(E.view)===JSON.stringify(w);(!T||!z)&&U(null)},[X,Z,e,w]);const Sm=y.useCallback(E=>{l(E),be.current||(window.history.pushState({viewer:!0},"",window.location.href),be.current=!0)},[]),ac=y.useCallback(()=>{l(null),be.current&&(be.current=!1,window.history.back());const E=$e.current;if(E){const T=document.getElementById(`cell-${encodeURIComponent(E)}`);T==null||T.focus()}},[]);y.useEffect(()=>{const E=()=>{o&&(be.current=!1,l(null))};return window.addEventListener("popstate",E),()=>window.removeEventListener("popstate",E)},[o]),y.useEffect(()=>{const E=J.current;if(!E)return;const T=ne=>{ne.dataTransfer&&Array.from(ne.dataTransfer.types).includes("Files")&&(ne.preventDefault(),P(!0))},z=ne=>{const Te=ne.relatedTarget;Te&&E.contains(Te)||P(!1)},G=async ne=>{var Y,K;ne.preventDefault(),P(!1);const Te=Array.from(((Y=ne.dataTransfer)==null?void 0:Y.files)??[]);if(!Te.length)return;if(!((((K=B==null?void 0:B.dirs)==null?void 0:K.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ie of Te)try{await pe.uploadFile(e,ie)}catch(vt){console.error(`Failed to upload ${ie.name}:`,vt)}ee()};return E.addEventListener("dragover",T),E.addEventListener("dragleave",z),E.addEventListener("drop",G),()=>{E.removeEventListener("dragover",T),E.removeEventListener("dragleave",z),E.removeEventListener("drop",G)}},[e,(cc=B==null?void 0:B.dirs)==null?void 0:cc.length,ee]),y.useEffect(()=>{const E=()=>D(null),T=z=>{z.key==="Escape"&&D(null)};return window.addEventListener("click",E),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",E),window.removeEventListener("keydown",T)}},[]),y.useEffect(()=>{const E=T=>{if(!tm(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?_(z=>!z):R(z=>!z);return}if(!o){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),bi(Ky(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(Ie.map(z=>z.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const z=document.querySelector(".toolbar-right .input");z==null||z.focus()}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,Ie,s,o,bi]);const km=M?`${nr}px`:"0px",Cm=b?`${Sn}px`:"0px",uc=o??s[0]??null,il=uc?et.indexOf(uc):-1,Em=il>0,Nm=il>=0&&il<et.length-1,ol=y.useCallback(E=>{if(!et.length)return;const T=o??s[0];if(!T)return;const z=et.indexOf(T);if(z===-1)return;const G=Math.min(et.length-1,Math.max(0,z+E)),ne=et[G];!ne||ne===T||(o&&l(ne),i([ne]))},[et,o,s]);return c.jsxs("div",{className:"app-shell grid h-full grid-cols-[var(--left)_1fr_var(--right)]",ref:J,style:{"--left":km,"--right":Cm},children:[c.jsx(Dy,{rootRef:Le,onSearch:r,viewerActive:!!o,onBack:ac,zoomPercent:o?g:void 0,onZoomPercentChange:E=>f(E),currentLabel:xm,itemCount:hm,totalCount:pm,sortSpec:w.sort,metricKeys:kn,onSortChange:ym,filterCount:rc,onOpenFilters:vm,starFilters:_t,onToggleStar:gm,onClearStars:Ni,onClearFilters:ic,starCounts:dm,viewMode:m,onViewMode:h,gridItemSize:p,onGridItemSize:C,leftOpen:M,rightOpen:b,onToggleLeft:()=>R(E=>!E),onToggleRight:()=>_(E=>!E),onPrevImage:()=>ol(-1),onNextImage:()=>ol(1),canPrevImage:Em,canNextImage:Nm}),M&&c.jsxs("div",{className:"app-left-panel col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":k==="folders",onClick:()=>$("folders"),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":k==="metrics",onClick:()=>$("metrics"),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]})})]}),c.jsx("div",{className:"ml-10 h-full",children:k==="folders"?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:wm,title:"Save current view as Smart Folder",children:"+ New"})]}),Z.length?c.jsx("div",{className:"flex flex-col gap-1",children:Z.map(E=>{const T=E.id===X;return c.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var G;U(E.id);const z=Ja((G=E.view)==null?void 0:G.filters)??{and:[]};N({...E.view,filters:z}),bi(E.pool.path),$("metrics")},children:E.name},E.id)})}):c.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),c.jsx(n0,{current:e,roots:[{label:"Root",path:"/"}],data:B,onOpen:E=>{U(null),bi(E)},onContextMenu:(E,T)=>{E.preventDefault(),D({x:E.clientX,y:E.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):c.jsx(mx,{items:ve,filteredItems:Ie,metricKeys:kn,selectedMetric:w.selectedMetric,onSelectMetric:E=>N(T=>({...T,selectedMetric:E})),filters:w.filters,onChangeRange:sl,onChangeFilters:mm})}),c.jsx("div",{className:"toolbar-offset absolute bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:Kt})]}),c.jsxs("div",{className:"grid-shell col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:de,children:[c.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),oc.length>0&&c.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel border-b border-border",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),oc.map(E=>c.jsxs("span",{className:"filter-chip",children:[c.jsx("span",{className:"truncate max-w-[240px]",title:E.label,children:E.label}),c.jsx("button",{className:"filter-chip-remove","aria-label":`Clear filter ${E.label}`,onClick:E.onRemove,children:""})]},E.id)),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:ic,children:"Clear all"})]})}),!1,c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(M0,{items:Ie,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:E=>{try{$e.current=E}catch{}Sm(E),i([E])},highlight:ue?Se:"",suppressSelectionHighlight:!!o,viewMode:m,targetCellSize:p,onContextMenuItem:(E,T)=>{E.preventDefault();const z=s.length?s:[T];D({x:E.clientX,y:E.clientY,kind:"grid",payload:{paths:z}})}})})]}),b&&c.jsx($0,{path:s[0]??null,selectedPaths:s,items:Ie,onResize:qt,onStarChanged:(E,T)=>{ae(z=>{const G={...z};for(const ne of E)G[ne]=T;return G})}}),o&&c.jsx(L0,{path:o,onClose:ac,onZoomChange:E=>S(Math.round(E)),requestedZoomPercent:d,onZoomRequestConsumed:()=>f(null),onNavigate:ol}),j&&c.jsx("div",{className:"toolbar-offset fixed inset-0 left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),O&&c.jsx(Mx,{ctx:O,current:e,items:Ie,refetch:ee,setCtx:D})]})}function Cx(e,t){const n=Ex(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function Ex(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Wl(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function Nx(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function bx(e){if(e==="/"||e==="")return"Root";const t=e.split("/").filter(Boolean);return t.length?t.length<=2?`/${t.join("/")}`:`.../${t.slice(-2).join("/")}`:"Root"}function jx(e,t){return`${uf(e)}${uf(t)}`}function uf(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function co(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Mx({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=qy(t),o=(h,p)=>h==="/"?`/${p}`:`${h}/${p}`,l=Ci(),[a,u]=fo.useState(!1),[d,f]=fo.useState(null),g=()=>new Date().toISOString().replace(/[:.]/g,"-"),S=h=>{const p=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const M=typeof C[1]=="string"?C[1]:"";return p(M)}})},w=h=>{const p=Ln(h);return p===""?"/":p},N=async()=>{const h=w(e.payload.path||"/");u(!0);try{await pe.refreshFolder(h),S(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),Ya.evictPrefix(h),Ir.evictPrefix(h)}catch(p){console.error("Failed to refresh folder:",p)}finally{u(!1),s(null)}},L=async h=>{const p=[h],C=new Set,M=[];for(;p.length;){const R=p.pop();if(!C.has(R)){C.add(R);try{const b=await pe.getFolder(R);M.push(...b.items);for(const _ of b.dirs)_.kind==="branch"&&p.push(o(R,_.name))}catch(b){console.error(`Failed to fetch folder ${R}:`,b)}}}return M},v=h=>async()=>{f(h);const p=e.payload.path||t;try{const C=await L(p),M=Bl(C),R=h==="csv"?af(M):lf(M),b=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",_=p==="/"?"root":(p.replace(/^\/+/,"")||"root").replace(/\//g,"_");co(new Blob([R],{type:b}),`metadata_${_}_${g()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{f(null),s(null)}},m=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:N},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:v("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:v("json")}]:(()=>{const h=e.payload.paths??[],p=[];return p.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await pe.moveFile(C,"/_trash_")}catch(M){console.error(`Failed to trash ${C}:`,M)}r(),s(null)}}}),i&&(p.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await pe.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),p.push({label:"Recover",onClick:async()=>{for(const C of h)try{const R=(await pe.getSidecar(C)).original_position,b=R&&R.split("/").slice(0,-1).join("/")||"/";await pe.moveFile(C,b)}catch(M){console.error(`Failed to recover ${C}:`,M)}r(),s(null)}})),h.length&&(p.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{f("csv");try{const C=new Set(h),M=n.filter(_=>C.has(_.path)),R=Bl(M),b=af(R);co(new Blob([b],{type:"text/csv;charset=utf-8"}),`metadata_selection_${g()}.csv`)}finally{f(null),s(null)}}}),p.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{f("json");try{const C=new Set(h),M=n.filter(_=>C.has(_.path)),R=Bl(M),b=lf(R);co(new Blob([b],{type:"application/json;charset=utf-8"}),`metadata_selection_${g()}.json`)}finally{f(null),s(null)}}})),p})();return c.jsx(wx,{x:e.x,y:e.y,items:m})}const Rx=new Ey({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Lx(){return c.jsx(Ny,{client:Rx,children:c.jsx(kx,{})})}Pp(document.getElementById("root")).render(c.jsx(Lx,{}));
