var xp=Object.defineProperty;var Wu=e=>{throw TypeError(e)};var Sp=(e,t,n)=>t in e?xp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>Sp(e,typeof t!="symbol"?t+"":t,n),Gl=(e,t,n)=>t.has(e)||Wu("Cannot "+n);var v=(e,t,n)=>(Gl(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Wu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(Gl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X=(e,t,n)=>(Gl(e,t,"access private method"),n);var vi=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return v(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _d={exports:{}},Rl={},Fd={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Op=Symbol.for("react.memo"),Pp=Symbol.for("react.lazy"),Hu=Symbol.iterator;function Lp(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var Id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Dd={};function fs(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||Id}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=fs.prototype;function Aa(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||Id}var Ua=Aa.prototype=new Ad;Ua.constructor=Aa;zd(Ua,fs.prototype);Ua.isPureReactComponent=!0;var Vu=Array.isArray,Ud=Object.prototype.hasOwnProperty,$a={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ud.call(t,r)&&!$d.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:fi,type:e,key:i,ref:l,props:s,_owner:$a.current}}function _p(e,t){return{$$typeof:fi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===fi}function Fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ku=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fp(""+e.key):t.toString(36)}function Ui(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case fi:case Ep:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Yl(l,0):r,Vu(s)?(n="",e!=null&&(n=e.replace(Ku,"$&/")+"/"),Ui(s,t,n,"",function(u){return u})):s!=null&&(Ba(s)&&(s=_p(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ku,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Vu(e))for(var o=0;o<e.length;o++){i=e[o];var a=r+Yl(i,o);l+=Ui(i,t,n,a,s)}else if(a=Lp(e),typeof a=="function")for(e=a.call(e),o=0;!(i=e.next()).done;)i=i.value,a=r+Yl(i,o++),l+=Ui(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function wi(e,t,n){if(e==null)return e;var r=[],s=0;return Ui(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},$i={transition:null},zp={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:$i,ReactCurrentOwner:$a};function Qd(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:wi,forEach:function(e,t,n){wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=fs;ee.Fragment=Cp;ee.Profiler=bp;ee.PureComponent=Aa;ee.StrictMode=Np;ee.Suspense=Tp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zp;ee.act=Qd;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zd({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)Ud.call(t,a)&&!$d.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:fi,type:e.type,key:s,ref:i,props:r,_owner:l}};ee.createContext=function(e){return e={$$typeof:Mp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jp,_context:e},e.Consumer=e};ee.createElement=Bd;ee.createFactory=function(e){var t=Bd.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Rp,render:e}};ee.isValidElement=Ba;ee.lazy=function(e){return{$$typeof:Pp,_payload:{_status:-1,_result:e},_init:Ip}};ee.memo=function(e,t){return{$$typeof:Op,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=$i.transition;$i.transition={};try{e()}finally{$i.transition=t}};ee.unstable_act=Qd;ee.useCallback=function(e,t){return lt.current.useCallback(e,t)};ee.useContext=function(e){return lt.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ee.useEffect=function(e,t){return lt.current.useEffect(e,t)};ee.useId=function(){return lt.current.useId()};ee.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return lt.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};ee.useRef=function(e){return lt.current.useRef(e)};ee.useState=function(e){return lt.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return lt.current.useTransition()};ee.version="18.3.1";Fd.exports=ee;var k=Fd.exports;const tl=kp(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=k,Ap=Symbol.for("react.element"),Up=Symbol.for("react.fragment"),$p=Object.prototype.hasOwnProperty,Bp=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)$p.call(t,r)&&!Qp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ap,type:e,key:i,ref:l,props:s,_owner:Bp.current}}Rl.Fragment=Up;Rl.jsx=Wd;Rl.jsxs=Wd;_d.exports=Rl;var y=_d.exports,Hd={exports:{}},St={},Vd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var Q=L.length;L.push(D);e:for(;0<Q;){var le=Q-1>>>1,oe=L[le];if(0<s(oe,D))L[le]=D,L[Q]=oe,Q=le;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],Q=L.pop();if(Q!==D){L[0]=Q;e:for(var le=0,oe=L.length,et=oe>>>1;le<et;){var H=2*(le+1)-1,Fe=L[H],ge=H+1,Pe=L[ge];if(0>s(Fe,Q))ge<oe&&0>s(Pe,Fe)?(L[le]=Pe,L[ge]=Q,le=ge):(L[le]=Fe,L[H]=Q,le=H);else if(ge<oe&&0>s(Pe,Q))L[le]=Pe,L[ge]=Q,le=ge;else break e}}return D}function s(L,D){var Q=L.sortIndex-D.sortIndex;return Q!==0?Q:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],u=[],m=1,p=null,g=3,x=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(L){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=L)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function f(L){if(S=!1,c(L),!w)if(n(a)!==null)w=!0,me(C);else{var D=n(u);D!==null&&fe(f,D.startTime-L)}}function C(L,D){w=!1,S&&(S=!1,h(j),j=-1),x=!0;var Q=g;try{for(c(D),p=n(a);p!==null&&(!(p.expirationTime>D)||L&&!F());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var oe=le(p.expirationTime<=D);D=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(a)&&r(a),c(D)}else r(a);p=n(a)}if(p!==null)var et=!0;else{var H=n(u);H!==null&&fe(f,H.startTime-D),et=!1}return et}finally{p=null,g=Q,x=!1}}var E=!1,b=null,j=-1,_=5,O=-1;function F(){return!(e.unstable_now()-O<_)}function W(){if(b!==null){var L=e.unstable_now();O=L;var D=!0;try{D=b(!0,L)}finally{D?q():(E=!1,b=null)}}else E=!1}var q;if(typeof d=="function")q=function(){d(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,he=$.port2;$.port1.onmessage=W,q=function(){he.postMessage(null)}}else q=function(){M(W,0)};function me(L){b=L,E||(E=!0,q())}function fe(L,D){j=M(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,me(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var Q=g;g=D;try{return L()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=g;g=L;try{return D()}finally{g=Q}},e.unstable_scheduleCallback=function(L,D,Q){var le=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,L={id:m++,callback:D,priorityLevel:L,startTime:Q,expirationTime:oe,sortIndex:-1},Q>le?(L.sortIndex=Q,t(u,L),n(a)===null&&L===n(u)&&(S?(h(j),j=-1):S=!0,fe(f,Q-le))):(L.sortIndex=oe,t(a,L),w||x||(w=!0,me(C))),L},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(L){var D=g;return function(){var Q=g;g=D;try{return L.apply(this,arguments)}finally{g=Q}}}})(Kd);Vd.exports=Kd;var Wp=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=k,xt=Wp;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,Qs={};function xr(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Qs[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qu={},Gu={};function Kp(e){return Oo.call(Gu,e)?!0:Oo.call(qu,e)?!1:Vp.test(e)?Gu[e]=!0:(qu[e]=!0,!1)}function qp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gp(e,t,n,r){if(t===null||typeof t>"u"||qp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qa,Wa);Ve[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qa,Wa);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qa,Wa);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ha(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gp(t,n,s,r)&&(n=null),r||s===null?Kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),qa=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Yu=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Xl;function Ms(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Jl=!1;function Zl(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var a=`
`+s[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ms(e):""}function Yp(e){switch(e.tag){case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case Mr:return"Portal";case Po:return"Profiler";case Va:return"StrictMode";case Lo:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yd:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case Ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qa:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function Xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jp(e){var t=Jd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=Jp(e))}function Zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ef(e,t){t=t.checked,t!=null&&Ha(e,"checked",t,!1)}function zo(e,t){ef(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Do(e,t.type,n):t.hasOwnProperty("defaultValue")&&Do(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ju(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Do(e,t,n){(t!=="number"||nl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Rs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function tf(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zp=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){Zp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function lf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var em=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,$r=null,Br=null;function tc(e){if(e=mi(e)){if(typeof Wo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=_l(t),Wo(e.stateNode,e.type,t))}}function of(e){$r?Br?Br.push(e):Br=[e]:$r=e}function af(){if($r){var e=$r,t=Br;if(Br=$r=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function uf(e,t){return e(t)}function cf(){}var eo=!1;function df(e,t,n){if(eo)return e(t,n);eo=!0;try{return uf(e,t,n)}finally{eo=!1,($r!==null||Br!==null)&&(cf(),af())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=_l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ho=!1;if(hn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Ho=!1}function tm(e,t,n,r,s,i,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var _s=!1,rl=null,sl=!1,Vo=null,nm={onError:function(e){_s=!0,rl=e}};function rm(e,t,n,r,s,i,l,o,a){_s=!1,rl=null,tm.apply(nm,arguments)}function sm(e,t,n,r,s,i,l,o,a){if(rm.apply(this,arguments),_s){if(_s){var u=rl;_s=!1,rl=null}else throw Error(P(198));sl||(sl=!0,Vo=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ff(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nc(e){if(Sr(e)!==e)throw Error(P(188))}function im(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nc(s),e;if(i===r)return nc(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function hf(e){return e=im(e),e!==null?pf(e):null}function pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pf(e);if(t!==null)return t;e=e.sibling}return null}var mf=xt.unstable_scheduleCallback,rc=xt.unstable_cancelCallback,lm=xt.unstable_shouldYield,om=xt.unstable_requestPaint,Oe=xt.unstable_now,am=xt.unstable_getCurrentPriorityLevel,Ya=xt.unstable_ImmediatePriority,gf=xt.unstable_UserBlockingPriority,il=xt.unstable_NormalPriority,um=xt.unstable_LowPriority,yf=xt.unstable_IdlePriority,Tl=null,Yt=null;function cm(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:hm,dm=Math.log,fm=Math.LN2;function hm(e){return e>>>=0,e===0?32:31-(dm(e)/fm|0)|0}var Ei=64,Ci=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Ts(o):(i&=l,i!==0&&(r=Ts(i)))}else l=n&~s,l!==0?r=Ts(l):i!==0&&(r=Ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ut(i),o=1<<l,a=s[l];a===-1?(!(o&n)||o&r)&&(s[l]=pm(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}}function Ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vf(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xf,Ja,Sf,kf,Ef,qo=!1,Ni=[],In=null,zn=null,Dn=null,Vs=new Map,Ks=new Map,En=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mi(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vm(e,t,n,r,s){switch(t){case"focusin":return In=Ss(In,e,t,n,r,s),!0;case"dragenter":return zn=Ss(zn,e,t,n,r,s),!0;case"mouseover":return Dn=Ss(Dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,Ss(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ks.set(i,Ss(Ks.get(i)||null,e,t,n,r,s)),!0}return!1}function Cf(e){var t=Jn(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=ff(n),t!==null){e.blockedOn=t,Ef(e.priority,function(){Sf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qo=r,n.target.dispatchEvent(r),Qo=null}else return t=mi(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function ic(e,t,n){Bi(e)&&n.delete(t)}function wm(){qo=!1,In!==null&&Bi(In)&&(In=null),zn!==null&&Bi(zn)&&(zn=null),Dn!==null&&Bi(Dn)&&(Dn=null),Vs.forEach(ic),Ks.forEach(ic)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,wm)))}function qs(e){function t(s){return ks(s,e)}if(0<Ni.length){ks(Ni[0],e);for(var n=1;n<Ni.length;n++){var r=Ni[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&ks(In,e),zn!==null&&ks(zn,e),Dn!==null&&ks(Dn,e),Vs.forEach(t),Ks.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&En.shift()}var Qr=yn.ReactCurrentBatchConfig,ol=!0;function xm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=1,Za(e,t,n,r)}finally{de=s,Qr.transition=i}}function Sm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=4,Za(e,t,n,r)}finally{de=s,Qr.transition=i}}function Za(e,t,n,r){if(ol){var s=Go(e,t,n,r);if(s===null)fo(e,t,r,al,n),sc(e,r);else if(vm(s,e,t,n,r))r.stopPropagation();else if(sc(e,r),t&4&&-1<ym.indexOf(e)){for(;s!==null;){var i=mi(s);if(i!==null&&xf(i),i=Go(e,t,n,r),i===null&&fo(e,t,r,al,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fo(e,t,r,null,n)}}var al=null;function Go(e,t,n,r){if(al=null,e=Ga(r),e=Jn(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ff(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return al=e,null}function Nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(am()){case Ya:return 1;case gf:return 4;case il:case um:return 16;case yf:return 536870912;default:return 16}default:return 16}}var _n=null,eu=null,Qi=null;function bf(){if(Qi)return Qi;var e,t=eu,n=t.length,r,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Qi=s.slice(e,1<r?1-r:void 0)}function Wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function lc(){return!1}function kt(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bi:lc,this.isPropagationStopped=lc,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=kt(hs),pi=Ee({},hs,{view:0,detail:0}),km=kt(pi),no,ro,Es,Ol=Ee({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(no=e.screenX-Es.screenX,ro=e.screenY-Es.screenY):ro=no=0,Es=e),no)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),oc=kt(Ol),Em=Ee({},Ol,{dataTransfer:0}),Cm=kt(Em),Nm=Ee({},pi,{relatedTarget:0}),so=kt(Nm),bm=Ee({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=kt(bm),Mm=Ee({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=kt(Mm),Tm=Ee({},hs,{data:0}),ac=kt(Tm),Om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lm[e])?!!t[e]:!1}function nu(){return _m}var Fm=Ee({},pi,{key:function(e){if(e.key){var t=Om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=kt(Fm),zm=Ee({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=kt(zm),Dm=Ee({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Am=kt(Dm),Um=Ee({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=kt(Um),Bm=Ee({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=kt(Bm),Wm=[9,13,27,32],ru=hn&&"CompositionEvent"in window,Fs=null;hn&&"documentMode"in document&&(Fs=document.documentMode);var Hm=hn&&"TextEvent"in window&&!Fs,jf=hn&&(!ru||Fs&&8<Fs&&11>=Fs),cc=" ",dc=!1;function Mf(e,t){switch(e){case"keyup":return Wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Vm(e,t){switch(e){case"compositionend":return Rf(t);case"keypress":return t.which!==32?null:(dc=!0,cc);case"textInput":return e=t.data,e===cc&&dc?null:e;default:return null}}function Km(e,t){if(Tr)return e==="compositionend"||!ru&&Mf(e,t)?(e=bf(),Qi=eu=_n=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jf&&t.locale!=="ko"?null:t.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qm[e.type]:t==="textarea"}function Tf(e,t,n,r){of(r),t=ul(t,"onChange"),0<t.length&&(n=new tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Is=null,Gs=null;function Gm(e){$f(e,0)}function Pl(e){var t=Lr(e);if(Zd(t))return e}function Ym(e,t){if(e==="change")return t}var Of=!1;if(hn){var io;if(hn){var lo="oninput"in document;if(!lo){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),lo=typeof hc.oninput=="function"}io=lo}else io=!1;Of=io&&(!document.documentMode||9<document.documentMode)}function pc(){Is&&(Is.detachEvent("onpropertychange",Pf),Gs=Is=null)}function Pf(e){if(e.propertyName==="value"&&Pl(Gs)){var t=[];Tf(t,Gs,e,Ga(e)),df(Gm,t)}}function Xm(e,t,n){e==="focusin"?(pc(),Is=t,Gs=n,Is.attachEvent("onpropertychange",Pf)):e==="focusout"&&pc()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Gs)}function Zm(e,t){if(e==="click")return Pl(t)}function eg(e,t){if(e==="input"||e==="change")return Pl(t)}function tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:tg;function Ys(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _f(){for(var e=window,t=nl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nl(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ng(e){var t=_f(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lf(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=gc(n,i);var l=gc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rg=hn&&"documentMode"in document&&11>=document.documentMode,Or=null,Yo=null,zs=null,Xo=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||Or==null||Or!==nl(r)||(r=Or,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zs&&Ys(zs,r)||(zs=r,r=ul(Yo,"onSelect"),0<r.length&&(t=new tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},oo={},Ff={};hn&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ll(e){if(oo[e])return oo[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ff)return oo[e]=t[n];return e}var If=Ll("animationend"),zf=Ll("animationiteration"),Df=Ll("animationstart"),Af=Ll("transitionend"),Uf=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){Uf.set(e,t),xr(t,[e])}for(var ao=0;ao<vc.length;ao++){var uo=vc[ao],sg=uo.toLowerCase(),ig=uo[0].toUpperCase()+uo.slice(1);Kn(sg,"on"+ig)}Kn(If,"onAnimationEnd");Kn(zf,"onAnimationIteration");Kn(Df,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(Af,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sm(r,t,void 0,e),e.currentTarget=null}function $f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;wc(s,o,u),i=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;wc(s,o,u),i=a}}}if(sl)throw e=Vo,sl=!1,Vo=null,e}function ye(e,t){var n=t[na];n===void 0&&(n=t[na]=new Set);var r=e+"__bubble";n.has(r)||(Bf(t,e,2,!1),n.add(r))}function co(e,t,n){var r=0;t&&(r|=4),Bf(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Mi]){e[Mi]=!0,qd.forEach(function(n){n!=="selectionchange"&&(lg.has(n)||co(n,!1,e),co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,co("selectionchange",!1,t))}}function Bf(e,t,n,r){switch(Nf(t)){case 1:var s=xm;break;case 4:s=Sm;break;default:s=Za}n=s.bind(null,t,n,e),s=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function fo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Jn(o),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}o=o.parentNode}}r=r.return}df(function(){var u=i,m=Ga(n),p=[];e:{var g=Uf.get(e);if(g!==void 0){var x=tu,w=e;switch(e){case"keypress":if(Wi(n)===0)break e;case"keydown":case"keyup":x=Im;break;case"focusin":w="focus",x=so;break;case"focusout":w="blur",x=so;break;case"beforeblur":case"afterblur":x=so;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Am;break;case If:case zf:case Df:x=jm;break;case Af:x=$m;break;case"scroll":x=km;break;case"wheel":x=Qm;break;case"copy":case"cut":case"paste":x=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uc}var S=(t&4)!==0,M=!S&&e==="scroll",h=S?g!==null?g+"Capture":null:g;S=[];for(var d=u,c;d!==null;){c=d;var f=c.stateNode;if(c.tag===5&&f!==null&&(c=f,h!==null&&(f=Hs(d,h),f!=null&&S.push(Js(d,f,c)))),M)break;d=d.return}0<S.length&&(g=new x(g,w,null,n,m),p.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==Qo&&(w=n.relatedTarget||n.fromElement)&&(Jn(w)||w[pn]))break e;if((x||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?Jn(w):null,w!==null&&(M=Sr(w),w!==M||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(S=oc,f="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=uc,f="onPointerLeave",h="onPointerEnter",d="pointer"),M=x==null?g:Lr(x),c=w==null?g:Lr(w),g=new S(f,d+"leave",x,n,m),g.target=M,g.relatedTarget=c,f=null,Jn(m)===u&&(S=new S(h,d+"enter",w,n,m),S.target=c,S.relatedTarget=M,f=S),M=f,x&&w)t:{for(S=x,h=w,d=0,c=S;c;c=Nr(c))d++;for(c=0,f=h;f;f=Nr(f))c++;for(;0<d-c;)S=Nr(S),d--;for(;0<c-d;)h=Nr(h),c--;for(;d--;){if(S===h||h!==null&&S===h.alternate)break t;S=Nr(S),h=Nr(h)}S=null}else S=null;x!==null&&xc(p,g,x,S,!1),w!==null&&M!==null&&xc(p,M,w,S,!0)}}e:{if(g=u?Lr(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var C=Ym;else if(fc(g))if(Of)C=eg;else{C=Jm;var E=Xm}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Zm);if(C&&(C=C(e,u))){Tf(p,C,n,m);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Do(g,"number",g.value)}switch(E=u?Lr(u):window,e){case"focusin":(fc(E)||E.contentEditable==="true")&&(Or=E,Yo=u,zs=null);break;case"focusout":zs=Yo=Or=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,yc(p,n,m);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":yc(p,n,m)}var b;if(ru)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tr?Mf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(jf&&n.locale!=="ko"&&(Tr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Tr&&(b=bf()):(_n=m,eu="value"in _n?_n.value:_n.textContent,Tr=!0)),E=ul(u,j),0<E.length&&(j=new ac(j,e,null,n,m),p.push({event:j,listeners:E}),b?j.data=b:(b=Rf(n),b!==null&&(j.data=b)))),(b=Hm?Vm(e,n):Km(e,n))&&(u=ul(u,"onBeforeInput"),0<u.length&&(m=new ac("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:u}),m.data=b))}$f(p,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hs(e,n),i!=null&&r.unshift(Js(e,i,s)),i=Hs(e,t),i!=null&&r.push(Js(e,i,s))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&u!==null&&(o=u,s?(a=Hs(n,i),a!=null&&l.unshift(Js(n,a,o))):s||(a=Hs(n,i),a!=null&&l.push(Js(n,a,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var og=/\r\n?/g,ag=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(og,`
`).replace(ag,"")}function Ri(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(P(425))}function cl(){}var Jo=null,Zo=null;function ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,ug=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,cg=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(dg)}:ta;function dg(e){setTimeout(function(){throw e})}function ho(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ec(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ps,Zs="__reactProps$"+ps,pn="__reactContainer$"+ps,na="__reactEvents$"+ps,fg="__reactListeners$"+ps,hg="__reactHandles$"+ps;function Jn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ec(e);e!==null;){if(n=e[Gt])return n;e=Ec(e)}return t}e=n,n=e.parentNode}return null}function mi(e){return e=e[Gt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function _l(e){return e[Zs]||null}var ra=[],_r=-1;function qn(e){return{current:e}}function ve(e){0>_r||(e.current=ra[_r],ra[_r]=null,_r--)}function pe(e,t){_r++,ra[_r]=e.current,e.current=t}var Vn={},Ze=qn(Vn),ht=qn(!1),hr=Vn;function ls(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function dl(){ve(ht),ve(Ze)}function Cc(e,t,n){if(Ze.current!==Vn)throw Error(P(168));pe(Ze,t),pe(ht,n)}function Qf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Xp(e)||"Unknown",s));return Ee({},n,r)}function fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,hr=Ze.current,pe(Ze,e),pe(ht,ht.current),!0}function Nc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Qf(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,ve(ht),ve(Ze),pe(Ze,e)):ve(ht),pe(ht,n)}var rn=null,Fl=!1,po=!1;function Wf(e){rn===null?rn=[e]:rn.push(e)}function pg(e){Fl=!0,Wf(e)}function Gn(){if(!po&&rn!==null){po=!0;var e=0,t=de;try{var n=rn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Fl=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),mf(Ya,Gn),s}finally{de=t,po=!1}}return null}var Fr=[],Ir=0,hl=null,pl=0,bt=[],jt=0,pr=null,un=1,cn="";function Yn(e,t){Fr[Ir++]=pl,Fr[Ir++]=hl,hl=e,pl=t}function Hf(e,t,n){bt[jt++]=un,bt[jt++]=cn,bt[jt++]=pr,pr=e;var r=un;e=cn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var i=32-Ut(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,un=1<<32-Ut(t)+s|n<<s|r,cn=i+e}else un=1<<i|n<<s|r,cn=e}function iu(e){e.return!==null&&(Yn(e,1),Hf(e,1,0))}function lu(e){for(;e===hl;)hl=Fr[--Ir],Fr[Ir]=null,pl=Fr[--Ir],Fr[Ir]=null;for(;e===pr;)pr=bt[--jt],bt[jt]=null,cn=bt[--jt],bt[jt]=null,un=bt[--jt],bt[jt]=null}var wt=null,vt=null,xe=!1,Dt=null;function Vf(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,vt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,vt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(xe){var t=vt;if(t){var n=t;if(!bc(e,t)){if(sa(e))throw Error(P(418));t=An(n.nextSibling);var r=wt;t&&bc(e,t)?Vf(r,n):(e.flags=e.flags&-4097|2,xe=!1,wt=e)}}else{if(sa(e))throw Error(P(418));e.flags=e.flags&-4097|2,xe=!1,wt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ti(e){if(e!==wt)return!1;if(!xe)return jc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ea(e.type,e.memoizedProps)),t&&(t=vt)){if(sa(e))throw Kf(),Error(P(418));for(;t;)Vf(e,t),t=An(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=wt?An(e.stateNode.nextSibling):null;return!0}function Kf(){for(var e=vt;e;)e=An(e.nextSibling)}function os(){vt=wt=null,xe=!1}function ou(e){Dt===null?Dt=[e]:Dt.push(e)}var mg=yn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mc(e){var t=e._init;return t(e._payload)}function qf(e){function t(h,d){if(e){var c=h.deletions;c===null?(h.deletions=[d],h.flags|=16):c.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Qn(h,d),h.index=0,h.sibling=null,h}function i(h,d,c){return h.index=c,e?(c=h.alternate,c!==null?(c=c.index,c<d?(h.flags|=2,d):c):(h.flags|=2,d)):(h.flags|=1048576,d)}function l(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,d,c,f){return d===null||d.tag!==6?(d=So(c,h.mode,f),d.return=h,d):(d=s(d,c),d.return=h,d)}function a(h,d,c,f){var C=c.type;return C===Rr?m(h,d,c.props.children,f,c.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&Mc(C)===d.type)?(f=s(d,c.props),f.ref=Cs(h,d,c),f.return=h,f):(f=Xi(c.type,c.key,c.props,null,h.mode,f),f.ref=Cs(h,d,c),f.return=h,f)}function u(h,d,c,f){return d===null||d.tag!==4||d.stateNode.containerInfo!==c.containerInfo||d.stateNode.implementation!==c.implementation?(d=ko(c,h.mode,f),d.return=h,d):(d=s(d,c.children||[]),d.return=h,d)}function m(h,d,c,f,C){return d===null||d.tag!==7?(d=fr(c,h.mode,f,C),d.return=h,d):(d=s(d,c),d.return=h,d)}function p(h,d,c){if(typeof d=="string"&&d!==""||typeof d=="number")return d=So(""+d,h.mode,c),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xi:return c=Xi(d.type,d.key,d.props,null,h.mode,c),c.ref=Cs(h,null,d),c.return=h,c;case Mr:return d=ko(d,h.mode,c),d.return=h,d;case Sn:var f=d._init;return p(h,f(d._payload),c)}if(Rs(d)||ws(d))return d=fr(d,h.mode,c,null),d.return=h,d;Oi(h,d)}return null}function g(h,d,c,f){var C=d!==null?d.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return C!==null?null:o(h,d,""+c,f);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:return c.key===C?a(h,d,c,f):null;case Mr:return c.key===C?u(h,d,c,f):null;case Sn:return C=c._init,g(h,d,C(c._payload),f)}if(Rs(c)||ws(c))return C!==null?null:m(h,d,c,f,null);Oi(h,c)}return null}function x(h,d,c,f,C){if(typeof f=="string"&&f!==""||typeof f=="number")return h=h.get(c)||null,o(d,h,""+f,C);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xi:return h=h.get(f.key===null?c:f.key)||null,a(d,h,f,C);case Mr:return h=h.get(f.key===null?c:f.key)||null,u(d,h,f,C);case Sn:var E=f._init;return x(h,d,c,E(f._payload),C)}if(Rs(f)||ws(f))return h=h.get(c)||null,m(d,h,f,C,null);Oi(d,f)}return null}function w(h,d,c,f){for(var C=null,E=null,b=d,j=d=0,_=null;b!==null&&j<c.length;j++){b.index>j?(_=b,b=null):_=b.sibling;var O=g(h,b,c[j],f);if(O===null){b===null&&(b=_);break}e&&b&&O.alternate===null&&t(h,b),d=i(O,d,j),E===null?C=O:E.sibling=O,E=O,b=_}if(j===c.length)return n(h,b),xe&&Yn(h,j),C;if(b===null){for(;j<c.length;j++)b=p(h,c[j],f),b!==null&&(d=i(b,d,j),E===null?C=b:E.sibling=b,E=b);return xe&&Yn(h,j),C}for(b=r(h,b);j<c.length;j++)_=x(b,h,j,c[j],f),_!==null&&(e&&_.alternate!==null&&b.delete(_.key===null?j:_.key),d=i(_,d,j),E===null?C=_:E.sibling=_,E=_);return e&&b.forEach(function(F){return t(h,F)}),xe&&Yn(h,j),C}function S(h,d,c,f){var C=ws(c);if(typeof C!="function")throw Error(P(150));if(c=C.call(c),c==null)throw Error(P(151));for(var E=C=null,b=d,j=d=0,_=null,O=c.next();b!==null&&!O.done;j++,O=c.next()){b.index>j?(_=b,b=null):_=b.sibling;var F=g(h,b,O.value,f);if(F===null){b===null&&(b=_);break}e&&b&&F.alternate===null&&t(h,b),d=i(F,d,j),E===null?C=F:E.sibling=F,E=F,b=_}if(O.done)return n(h,b),xe&&Yn(h,j),C;if(b===null){for(;!O.done;j++,O=c.next())O=p(h,O.value,f),O!==null&&(d=i(O,d,j),E===null?C=O:E.sibling=O,E=O);return xe&&Yn(h,j),C}for(b=r(h,b);!O.done;j++,O=c.next())O=x(b,h,j,O.value,f),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?j:O.key),d=i(O,d,j),E===null?C=O:E.sibling=O,E=O);return e&&b.forEach(function(W){return t(h,W)}),xe&&Yn(h,j),C}function M(h,d,c,f){if(typeof c=="object"&&c!==null&&c.type===Rr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:e:{for(var C=c.key,E=d;E!==null;){if(E.key===C){if(C=c.type,C===Rr){if(E.tag===7){n(h,E.sibling),d=s(E,c.props.children),d.return=h,h=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&Mc(C)===E.type){n(h,E.sibling),d=s(E,c.props),d.ref=Cs(h,E,c),d.return=h,h=d;break e}n(h,E);break}else t(h,E);E=E.sibling}c.type===Rr?(d=fr(c.props.children,h.mode,f,c.key),d.return=h,h=d):(f=Xi(c.type,c.key,c.props,null,h.mode,f),f.ref=Cs(h,d,c),f.return=h,h=f)}return l(h);case Mr:e:{for(E=c.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){n(h,d.sibling),d=s(d,c.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=ko(c,h.mode,f),d.return=h,h=d}return l(h);case Sn:return E=c._init,M(h,d,E(c._payload),f)}if(Rs(c))return w(h,d,c,f);if(ws(c))return S(h,d,c,f);Oi(h,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,c),d.return=h,h=d):(n(h,d),d=So(c,h.mode,f),d.return=h,h=d),l(h)):n(h,d)}return M}var as=qf(!0),Gf=qf(!1),ml=qn(null),gl=null,zr=null,au=null;function uu(){au=zr=gl=null}function cu(e){var t=ml.current;ve(ml),e._currentValue=t}function la(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){gl=e,au=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(gl===null)throw Error(P(308));zr=e,gl.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var Zn=null;function du(e){Zn===null?Zn=[e]:Zn.push(e)}function Yf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,du(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,du(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function Hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}function Rc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var s=e.updateQueue;kn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=a))}if(i!==null){var p=s.baseState;l=0,m=u=a=null,o=i;do{var g=o.lane,x=o.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,S=o;switch(g=t,x=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){p=w.call(x,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,g=typeof w=="function"?w.call(x,p,g):w,g==null)break e;p=Ee({},p,g);break e;case 2:kn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[o]:g.push(o))}else x={eventTime:x,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=x,a=p):m=m.next=x,l|=g;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(a=p),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=l,e.lanes=l,e.memoizedState=p}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var gi={},Xt=qn(gi),ei=qn(gi),ti=qn(gi);function er(e){if(e===gi)throw Error(P(174));return e}function hu(e,t){switch(pe(ti,t),pe(ei,e),pe(Xt,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uo(t,e)}ve(Xt),pe(Xt,t)}function us(){ve(Xt),ve(ei),ve(ti)}function Jf(e){er(ti.current);var t=er(Xt.current),n=Uo(t,e.type);t!==n&&(pe(ei,e),pe(Xt,n))}function pu(e){ei.current===e&&(ve(Xt),ve(ei))}var Se=qn(0);function vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mo=[];function mu(){for(var e=0;e<mo.length;e++)mo[e]._workInProgressVersionPrimary=null;mo.length=0}var Vi=yn.ReactCurrentDispatcher,go=yn.ReactCurrentBatchConfig,mr=0,ke=null,Ie=null,$e=null,wl=!1,Ds=!1,ni=0,gg=0;function Ge(){throw Error(P(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function yu(e,t,n,r,s,i){if(mr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?xg:Sg,e=n(r,s),Ds){i=0;do{if(Ds=!1,ni=0,25<=i)throw Error(P(301));i+=1,$e=Ie=null,t.updateQueue=null,Vi.current=kg,e=n(r,s)}while(Ds)}if(Vi.current=xl,t=Ie!==null&&Ie.next!==null,mr=0,$e=Ie=ke=null,wl=!1,t)throw Error(P(300));return e}function vu(){var e=ni!==0;return ni=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ke.memoizedState=$e=e:$e=$e.next=e,$e}function Ot(){if(Ie===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=$e===null?ke.memoizedState:$e.next;if(t!==null)$e=t,Ie=e;else{if(e===null)throw Error(P(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},$e===null?ke.memoizedState=$e=e:$e=$e.next=e}return $e}function ri(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=Ot(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,a=null,u=i;do{var m=u.lane;if((mr&m)===m)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=p,l=r):a=a.next=p,ke.lanes|=m,gr|=m}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=o,Bt(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vo(e){var t=Ot(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Bt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Zf(){}function eh(e,t){var n=ke,r=Ot(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,wu(rh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,si(9,nh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(P(349));mr&30||th(n,t,s)}return s}function th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nh(e,t,n,r){t.value=n,t.getSnapshot=r,sh(t)&&ih(e)}function rh(e,t,n){return n(function(){sh(t)&&ih(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function ih(e){var t=mn(e,1);t!==null&&$t(t,e,1,-1)}function Oc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=wg.bind(null,ke,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lh(){return Ot().memoizedState}function Ki(e,t,n,r){var s=Ht();ke.flags|=e,s.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function Il(e,t,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var l=Ie.memoizedState;if(i=l.destroy,r!==null&&gu(r,l.deps)){s.memoizedState=si(t,n,i,r);return}}ke.flags|=e,s.memoizedState=si(1|t,n,i,r)}function Pc(e,t){return Ki(8390656,8,e,t)}function wu(e,t){return Il(2048,8,e,t)}function oh(e,t){return Il(4,2,e,t)}function ah(e,t){return Il(4,4,e,t)}function uh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,n){return n=n!=null?n.concat([e]):null,Il(4,4,uh.bind(null,t,e),n)}function xu(){}function dh(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fh(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hh(e,t,n){return mr&21?(Bt(n,t)||(n=vf(),ke.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function yg(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=go.transition;go.transition={};try{e(!1),t()}finally{de=n,go.transition=r}}function ph(){return Ot().memoizedState}function vg(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mh(e))gh(t,n);else if(n=Yf(e,t,n,r),n!==null){var s=it();$t(n,e,r,s),yh(n,t,r)}}function wg(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mh(e))gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Bt(o,l)){var a=t.interleaved;a===null?(s.next=s,du(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Yf(e,t,s,r),n!==null&&(s=it(),$t(n,e,r,s),yh(n,t,r))}}function mh(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function gh(e,t){Ds=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}var xl={readContext:Tt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},xg={readContext:Tt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4194308,4,uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vg.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Oc,useDebugValue:xu,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Oc(!1),t=e[0];return e=yg.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Ht();if(xe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Be===null)throw Error(P(349));mr&30||th(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Pc(rh.bind(null,r,i,e),[e]),r.flags|=2048,si(9,nh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Be.identifierPrefix;if(xe){var n=cn,r=un;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sg={readContext:Tt,useCallback:dh,useContext:Tt,useEffect:wu,useImperativeHandle:ch,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:fh,useReducer:yo,useRef:lh,useState:function(){return yo(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Ot();return hh(t,Ie.memoizedState,e)},useTransition:function(){var e=yo(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1},kg={readContext:Tt,useCallback:dh,useContext:Tt,useEffect:wu,useImperativeHandle:ch,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:fh,useReducer:vo,useRef:lh,useState:function(){return vo(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Ot();return Ie===null?t.memoizedState=e:hh(t,Ie.memoizedState,e)},useTransition:function(){var e=vo(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=Bn(e),i=dn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&($t(t,e,s,r),Hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=Bn(e),i=dn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&($t(t,e,s,r),Hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Bn(e),s=dn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,r),t!==null&&($t(t,e,r,n),Hi(t,e,r))}};function Lc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,i):!0}function vh(e,t,n){var r=!1,s=Vn,i=t.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(s=pt(t)?hr:Ze.current,r=t.contextTypes,i=(r=r!=null)?ls(e,s):Vn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _c(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Tt(i):(i=pt(t)?hr:Ze.current,s.context=ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zl.enqueueReplaceState(s,s.state,null),yl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=Yp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function wh(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,wa=r),ua(e,t)},n}function xh(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ua(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Eg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zg.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Cg=yn.ReactCurrentOwner,ft=!1;function rt(e,t,n,r){t.child=e===null?Gf(t,null,n,r):as(t,e.child,n,r)}function Dc(e,t,n,r,s){n=n.render;var i=t.ref;return Wr(t,s),r=yu(e,t,n,r,i,s),n=vu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(xe&&n&&iu(t),t.flags|=1,rt(e,t,r,s),t.child)}function Ac(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Mu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,r,s)):(e=Xi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(l,r)&&e.ref===t.ref)return gn(e,t,s)}return t.flags|=1,e=Qn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ys(i,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,gn(e,t,s)}return ca(e,t,n,r,s)}function kh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ar,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Ar,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(Ar,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,pe(Ar,yt),yt|=r;return rt(e,t,s,n),t.child}function Eh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,n,r,s){var i=pt(n)?hr:Ze.current;return i=ls(t,i),Wr(t,s),n=yu(e,t,n,r,i,s),r=vu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(xe&&r&&iu(t),t.flags|=1,rt(e,t,n,s),t.child)}function Uc(e,t,n,r,s){if(pt(n)){var i=!0;fl(t)}else i=!1;if(Wr(t,s),t.stateNode===null)qi(e,t),vh(t,n,r),aa(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=pt(n)?hr:Ze.current,u=ls(t,u));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||a!==u)&&_c(t,l,r,u),kn=!1;var g=t.memoizedState;l.state=g,yl(t,r,l,s),a=t.memoizedState,o!==r||g!==a||ht.current||kn?(typeof m=="function"&&(oa(t,n,m,r),a=t.memoizedState),(o=kn||Lc(t,n,o,r,g,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Xf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_t(t.type,o),l.props=u,p=t.pendingProps,g=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=pt(n)?hr:Ze.current,a=ls(t,a));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||g!==a)&&_c(t,l,r,a),kn=!1,g=t.memoizedState,l.state=g,yl(t,r,l,s);var w=t.memoizedState;o!==p||g!==w||ht.current||kn?(typeof x=="function"&&(oa(t,n,x,r),w=t.memoizedState),(u=kn||Lc(t,n,u,r,g,w,a)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return da(e,t,n,r,i,s)}function da(e,t,n,r,s,i){Eh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Nc(t,n,!1),gn(e,t,i);r=t.stateNode,Cg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=as(t,e.child,null,i),t.child=as(t,null,o,i)):rt(e,t,o,i),t.memoizedState=r.state,s&&Nc(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),hu(e,t.containerInfo)}function $c(e,t,n,r,s){return os(),ou(s),t.flags|=256,rt(e,t,n,r),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nh(e,t,n){var r=t.pendingProps,s=Se.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(Se,s&1),e===null)return ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ul(l,r,0,null),e=fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ha(n),t.memoizedState=fa,e):Su(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ng(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Qn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Qn(o,i):(i=fr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?ha(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=fa,r}return i=e.child,e=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pi(e,t,n,r){return r!==null&&ou(r),as(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ng(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=wo(Error(P(422))),Pi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&as(t,e.child,null,l),t.child.memoizedState=ha(l),t.memoizedState=fa,i);if(!(t.mode&1))return Pi(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=wo(i,r,void 0),Pi(e,t,l,r)}if(o=(l&e.childLanes)!==0,ft||o){if(r=Be,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(e,s),$t(r,e,s,-1))}return ju(),r=wo(Error(P(421))),Pi(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=An(s.nextSibling),wt=t,xe=!0,Dt=null,e!==null&&(bt[jt++]=un,bt[jt++]=cn,bt[jt++]=pr,un=e.id,cn=e.overflow,pr=t),t=Su(t,r.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),la(e.return,t,n)}function xo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xo(t,!0,n,null,i);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bg(e,t,n){switch(t.tag){case 3:Ch(t),os();break;case 5:Jf(t);break;case 1:pt(t.type)&&fl(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?Nh(e,t,n):(pe(Se,Se.current&1),e=gn(e,t,n),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,n)}return gn(e,t,n)}var jh,pa,Mh,Rh;jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};Mh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,er(Xt.current);var i=null;switch(n){case"input":s=Io(e,s),r=Io(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Ao(e,s),r=Ao(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cl)}$o(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||o===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Rh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jg(e,t,n){var r=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return pt(t.type)&&dl(),Ye(t),null;case 3:return r=t.stateNode,us(),ve(ht),ve(Ze),mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(ka(Dt),Dt=null))),pa(e,t),Ye(t),null;case 5:pu(t);var s=er(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Mh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ye(t),null}if(e=er(Xt.current),Ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[Zs]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Os.length;s++)ye(Os[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Xu(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Zu(r,i),ye("invalid",r)}$o(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,o,e),s=["children",""+o]):Qs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",r)}switch(n){case"input":Si(r),Ju(r,i,!0);break;case"textarea":Si(r),ec(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gt]=t,e[Zs]=r,jh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bo(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Os.length;s++)ye(Os[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Xu(e,r),s=Io(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Zu(e,r),s=Ao(e,r),ye("invalid",e);break;default:s=r}$o(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="style"?lf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&rf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ws(e,a):typeof a=="number"&&Ws(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&Ha(e,i,a,l))}switch(n){case"input":Si(e),Ju(e,r,!1);break;case"textarea":Si(e),ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Rh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=er(ti.current),er(Xt.current),Ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ve(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&t.mode&1&&!(t.flags&128))Kf(),os(),t.flags|=98560,i=!1;else if(i=Ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Gt]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Dt!==null&&(ka(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?De===0&&(De=3):ju())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return us(),pa(e,t),e===null&&Xs(t.stateNode.containerInfo),Ye(t),null;case 10:return cu(t.type._context),Ye(t),null;case 17:return pt(t.type)&&dl(),Ye(t),null;case 19:if(ve(Se),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Ns(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=vl(e),l!==null){for(t.flags|=128,Ns(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&Oe()>ds&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304)}else{if(!r)if(e=vl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!xe)return Ye(t),null}else 2*Oe()-i.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Oe(),t.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return bu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Mg(e,t){switch(lu(t),t.tag){case 1:return pt(t.type)&&dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),ve(ht),ve(Ze),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pu(t),null;case 13:if(ve(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(Se),null;case 4:return us(),null;case 10:return cu(t.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Li=!1,Je=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,U=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function ma(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Qc=!1;function Tg(e,t){if(Jo=ol,e=_f(),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,m=0,p=e,g=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(o=l+s),p!==i||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===n&&++u===s&&(o=l),g===i&&++m===r&&(a=l),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:e,selectionRange:n},ol=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,M=w.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:_t(t.type,S),M);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(f){Me(t,t.return,f)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=Qc,Qc=!1,w}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ma(t,n,i)}s=s.next}while(s!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Zs],delete t[na],delete t[fg],delete t[hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oh(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}var We=null,zt=!1;function wn(e,t,n){for(n=n.child;n!==null;)Ph(e,t,n),n=n.sibling}function Ph(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:Je||Dr(n,t);case 6:var r=We,s=zt;We=null,wn(e,t,n),We=r,zt=s,We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?ho(e.parentNode,n):e.nodeType===1&&ho(e,n),qs(e)):ho(We,n.stateNode));break;case 4:r=We,s=zt,We=n.stateNode.containerInfo,zt=!0,wn(e,t,n),We=r,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ma(n,t,l),s=s.next}while(s!==r)}wn(e,t,n);break;case 1:if(!Je&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Me(n,t,o)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,wn(e,t,n),Je=r):wn(e,t,n);break;default:wn(e,t,n)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rg),t.forEach(function(r){var s=Ag.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:We=o.stateNode,zt=!1;break e;case 3:We=o.stateNode.containerInfo,zt=!0;break e;case 4:We=o.stateNode.containerInfo,zt=!0;break e}o=o.return}if(We===null)throw Error(P(160));Ph(i,l,s),We=null,zt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Wt(e),r&4){try{As(3,e,e.return),Dl(3,e)}catch(S){Me(e,e.return,S)}try{As(5,e,e.return)}catch(S){Me(e,e.return,S)}}break;case 1:Lt(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Lt(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{Ws(s,"")}catch(S){Me(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ef(s,i),Bo(o,l);var u=Bo(o,i);for(l=0;l<a.length;l+=2){var m=a[l],p=a[l+1];m==="style"?lf(s,p):m==="dangerouslySetInnerHTML"?rf(s,p):m==="children"?Ws(s,p):Ha(s,m,p,u)}switch(o){case"input":zo(s,i);break;case"textarea":tf(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ur(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zs]=i}catch(S){Me(e,e.return,S)}}break;case 6:if(Lt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){Me(e,e.return,S)}}break;case 3:if(Lt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(S){Me(e,e.return,S)}break;case 4:Lt(t,e),Wt(e);break;case 13:Lt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=Oe())),r&4&&Hc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||m,Lt(t,e),Je=u):Lt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(U=e,m=e.child;m!==null;){for(p=U=m;U!==null;){switch(g=U,x=g.child,g.tag){case 0:case 11:case 14:case 15:As(4,g,g.return);break;case 1:Dr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){Me(r,n,S)}}break;case 5:Dr(g,g.return);break;case 22:if(g.memoizedState!==null){Kc(p);continue}}x!==null?(x.return=g,U=x):Kc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=sf("display",l))}catch(S){Me(e,e.return,S)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){Me(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Lt(t,e),Wt(e),r&4&&Hc(e);break;case 21:break;default:Lt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ws(s,""),r.flags&=-33);var i=Wc(e);va(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Wc(e);ya(e,o,l);break;default:throw Error(P(161))}}catch(a){Me(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Og(e,t,n){U=e,_h(e)}function _h(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Li;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||Je;o=Li;var u=Je;if(Li=l,(Je=a)&&!u)for(U=s;U!==null;)l=U,a=l.child,l.tag===22&&l.memoizedState!==null?qc(s):a!==null?(a.return=l,U=a):qc(s);for(;i!==null;)U=i,_h(i),i=i.sibling;U=s,Li=o,Je=u}Vc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&qs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Je||t.flags&512&&ga(t)}catch(g){Me(t,t.return,g)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Kc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function qc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(a){Me(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Me(t,s,a)}}var i=t.return;try{ga(t)}catch(a){Me(t,i,a)}break;case 5:var l=t.return;try{ga(t)}catch(a){Me(t,l,a)}}}catch(a){Me(t,t.return,a)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var Pg=Math.ceil,Sl=yn.ReactCurrentDispatcher,ku=yn.ReactCurrentOwner,Rt=yn.ReactCurrentBatchConfig,ie=0,Be=null,_e=null,He=0,yt=0,Ar=qn(0),De=0,ii=null,gr=0,Al=0,Eu=0,Us=null,dt=null,Cu=0,ds=1/0,nn=null,kl=!1,wa=null,$n=null,_i=!1,Fn=null,El=0,$s=0,xa=null,Gi=-1,Yi=0;function it(){return ie&6?Oe():Gi!==-1?Gi:Gi=Oe()}function Bn(e){return e.mode&1?ie&2&&He!==0?He&-He:mg.transition!==null?(Yi===0&&(Yi=vf()),Yi):(e=de,e!==0||(e=window.event,e=e===void 0?16:Nf(e.type)),e):1}function $t(e,t,n,r){if(50<$s)throw $s=0,xa=null,Error(P(185));hi(e,n,r),(!(ie&2)||e!==Be)&&(e===Be&&(!(ie&2)&&(Al|=n),De===4&&Cn(e,He)),mt(e,r),n===1&&ie===0&&!(t.mode&1)&&(ds=Oe()+500,Fl&&Gn()))}function mt(e,t){var n=e.callbackNode;mm(e,t);var r=ll(e,e===Be?He:0);if(r===0)n!==null&&rc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rc(n),t===1)e.tag===0?pg(Gc.bind(null,e)):Wf(Gc.bind(null,e)),cg(function(){!(ie&6)&&Gn()}),n=null;else{switch(wf(r)){case 1:n=Ya;break;case 4:n=gf;break;case 16:n=il;break;case 536870912:n=yf;break;default:n=il}n=Bh(n,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fh(e,t){if(Gi=-1,Yi=0,ie&6)throw Error(P(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=ll(e,e===Be?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var s=ie;ie|=2;var i=zh();(Be!==e||He!==t)&&(nn=null,ds=Oe()+500,dr(e,t));do try{Fg();break}catch(o){Ih(e,o)}while(!0);uu(),Sl.current=i,ie=s,_e!==null?t=0:(Be=null,He=0,t=De)}if(t!==0){if(t===2&&(s=Ko(e),s!==0&&(r=s,t=Sa(e,s))),t===1)throw n=ii,dr(e,0),Cn(e,r),mt(e,Oe()),n;if(t===6)Cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lg(s)&&(t=Cl(e,r),t===2&&(i=Ko(e),i!==0&&(r=i,t=Sa(e,i))),t===1))throw n=ii,dr(e,0),Cn(e,r),mt(e,Oe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Xn(e,dt,nn);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=Cu+500-Oe(),10<t)){if(ll(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ta(Xn.bind(null,e,dt,nn),t);break}Xn(e,dt,nn);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ut(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pg(r/1960))-r,10<r){e.timeoutHandle=ta(Xn.bind(null,e,dt,nn),r);break}Xn(e,dt,nn);break;case 5:Xn(e,dt,nn);break;default:throw Error(P(329))}}}return mt(e,Oe()),e.callbackNode===n?Fh.bind(null,e):null}function Sa(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=dt,dt=n,t!==null&&ka(t)),e}function ka(e){dt===null?dt=e:dt.push.apply(dt,e)}function Lg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Eu,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(ie&6)throw Error(P(327));Hr();var t=ll(e,0);if(!(t&1))return mt(e,Oe()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=Ko(e);r!==0&&(t=r,n=Sa(e,r))}if(n===1)throw n=ii,dr(e,0),Cn(e,t),mt(e,Oe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,dt,nn),mt(e,Oe()),null}function Nu(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(ds=Oe()+500,Fl&&Gn())}}function yr(e){Fn!==null&&Fn.tag===0&&!(ie&6)&&Hr();var t=ie;ie|=1;var n=Rt.transition,r=de;try{if(Rt.transition=null,de=1,e)return e()}finally{de=r,Rt.transition=n,ie=t,!(ie&6)&&Gn()}}function bu(){yt=Ar.current,ve(Ar)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ug(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:us(),ve(ht),ve(Ze),mu();break;case 5:pu(r);break;case 4:us();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:cu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(Be=e,_e=e=Qn(e.current,null),He=yt=t,De=0,ii=null,Eu=Al=gr=0,dt=Us=null,Zn!==null){for(t=0;t<Zn.length;t++)if(n=Zn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Zn=null}return e}function Ih(e,t){do{var n=_e;try{if(uu(),Vi.current=xl,wl){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wl=!1}if(mr=0,$e=Ie=ke=null,Ds=!1,ni=0,ku.current=null,n===null||n.return===null){De=1,ii=t,_e=null;break}e:{var i=e,l=n.return,o=n,a=t;if(t=He,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Ic(l);if(x!==null){x.flags&=-257,zc(x,l,o,i,t),x.mode&1&&Fc(i,u,t),t=x,a=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(a),t.updateQueue=S}else w.add(a);break e}else{if(!(t&1)){Fc(i,u,t),ju();break e}a=Error(P(426))}}else if(xe&&o.mode&1){var M=Ic(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),zc(M,l,o,i,t),ou(cs(a,o));break e}}i=a=cs(a,o),De!==4&&(De=2),Us===null?Us=[i]:Us.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=wh(i,a,t);Rc(i,h);break e;case 1:o=a;var d=i.type,c=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c)))){i.flags|=65536,t&=-t,i.lanes|=t;var f=xh(i,o,t);Rc(i,f);break e}}i=i.return}while(i!==null)}Ah(n)}catch(C){t=C,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function zh(){var e=Sl.current;return Sl.current=xl,e===null?xl:e}function ju(){(De===0||De===3||De===2)&&(De=4),Be===null||!(gr&268435455)&&!(Al&268435455)||Cn(Be,He)}function Cl(e,t){var n=ie;ie|=2;var r=zh();(Be!==e||He!==t)&&(nn=null,dr(e,t));do try{_g();break}catch(s){Ih(e,s)}while(!0);if(uu(),ie=n,Sl.current=r,_e!==null)throw Error(P(261));return Be=null,He=0,De}function _g(){for(;_e!==null;)Dh(_e)}function Fg(){for(;_e!==null&&!lm();)Dh(_e)}function Dh(e){var t=$h(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Ah(e):_e=t,ku.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mg(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,_e=null;return}}else if(n=jg(n,t,yt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);De===0&&(De=5)}function Xn(e,t,n){var r=de,s=Rt.transition;try{Rt.transition=null,de=1,Ig(e,t,n,r)}finally{Rt.transition=s,de=r}return null}function Ig(e,t,n,r){do Hr();while(Fn!==null);if(ie&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gm(e,i),e===Be&&(_e=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_i||(_i=!0,Bh(il,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var l=de;de=1;var o=ie;ie|=4,ku.current=null,Tg(e,n),Lh(n,e),ng(Zo),ol=!!Jo,Zo=Jo=null,e.current=n,Og(n),om(),ie=o,de=l,Rt.transition=i}else e.current=n;if(_i&&(_i=!1,Fn=e,El=s),i=e.pendingLanes,i===0&&($n=null),cm(n.stateNode),mt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kl)throw kl=!1,e=wa,wa=null,e;return El&1&&e.tag!==0&&Hr(),i=e.pendingLanes,i&1?e===xa?$s++:($s=0,xa=e):$s=0,Gn(),null}function Hr(){if(Fn!==null){var e=wf(El),t=Rt.transition,n=de;try{if(Rt.transition=null,de=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,El=0,ie&6)throw Error(P(331));var s=ie;for(ie|=4,U=e.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var o=i.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for(U=u;U!==null;){var m=U;switch(m.tag){case 0:case 11:case 15:As(8,m,i)}var p=m.child;if(p!==null)p.return=m,U=p;else for(;U!==null;){m=U;var g=m.sibling,x=m.return;if(Th(m),m===u){U=null;break}if(g!==null){g.return=x,U=g;break}U=x}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,U=h;break e}U=i.return}}var d=e.current;for(U=d;U!==null;){l=U;var c=l.child;if(l.subtreeFlags&2064&&c!==null)c.return=l,U=c;else e:for(l=d;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dl(9,o)}}catch(C){Me(o,o.return,C)}if(o===l){U=null;break e}var f=o.sibling;if(f!==null){f.return=o.return,U=f;break e}U=o.return}}if(ie=s,Gn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Tl,e)}catch{}r=!0}return r}finally{de=n,Rt.transition=t}}return!1}function Yc(e,t,n){t=cs(n,t),t=wh(e,t,1),e=Un(e,t,1),t=it(),e!==null&&(hi(e,1,t),mt(e,t))}function Me(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=cs(n,e),e=xh(t,e,1),t=Un(t,e,1),e=it(),t!==null&&(hi(t,1,e),mt(t,e));break}}t=t.return}}function zg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Oe()-Cu?dr(e,0):Eu|=n),mt(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=it();e=mn(e,t),e!==null&&(hi(e,t,n),mt(e,n))}function Dg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uh(e,n)}function Ag(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Uh(e,n)}var $h;$h=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,bg(e,t,n);ft=!!(e.flags&131072)}else ft=!1,xe&&t.flags&1048576&&Hf(t,pl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var s=ls(t,Ze.current);Wr(t,n),s=yu(null,t,r,e,s,n);var i=vu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(i=!0,fl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fu(t),s.updater=zl,t.stateNode=s,s._reactInternals=t,aa(t,r,e,n),t=da(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&iu(t),rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=$g(r),e=_t(r,e),s){case 0:t=ca(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=Ac(null,t,r,_t(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),ca(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Uc(e,t,r,s,n);case 3:e:{if(Ch(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Xf(e,t),yl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cs(Error(P(423)),t),t=$c(e,t,r,n,s);break e}else if(r!==s){s=cs(Error(P(424)),t),t=$c(e,t,r,n,s);break e}else for(vt=An(t.stateNode.containerInfo.firstChild),wt=t,xe=!0,Dt=null,n=Gf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===s){t=gn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Jf(t),e===null&&ia(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,ea(r,s)?l=null:i!==null&&ea(r,i)&&(t.flags|=32),Eh(e,t),rt(e,t,l,n),t.child;case 6:return e===null&&ia(t),null;case 13:return Nh(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Dc(e,t,r,s,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,pe(ml,r._currentValue),r._currentValue=l,i!==null)if(Bt(i.value,l)){if(i.children===s.children&&!ht.current){t=gn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=dn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),la(i.return,n,t),o.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),la(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wr(t,n),s=Tt(s),r=r(s),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),Ac(e,t,r,s,n);case 15:return Sh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),qi(e,t),t.tag=1,pt(r)?(e=!0,fl(t)):e=!1,Wr(t,n),vh(t,r,s),aa(t,r,s,n),da(null,t,r,!0,e,n);case 19:return bh(e,t,n);case 22:return kh(e,t,n)}throw Error(P(156,t.tag))};function Bh(e,t){return mf(e,t)}function Ug(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new Ug(e,t,n,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ka)return 11;if(e===qa)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xi(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Mu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Rr:return fr(n.children,s,i,t);case Va:l=8,s|=8;break;case Po:return e=Mt(12,n,t,s|2),e.elementType=Po,e.lanes=i,e;case Lo:return e=Mt(13,n,t,s),e.elementType=Lo,e.lanes=i,e;case _o:return e=Mt(19,n,t,s),e.elementType=_o,e.lanes=i,e;case Xd:return Ul(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:l=10;break e;case Yd:l=9;break e;case Ka:l=11;break e;case qa:l=14;break e;case Sn:l=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Mt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ru(e,t,n,r,s,i,l,o,a){return e=new Bg(e,t,n,o,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(i),e}function Qg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qh(e){if(!e)return Vn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(pt(n))return Qf(e,n,t)}return t}function Wh(e,t,n,r,s,i,l,o,a){return e=Ru(n,r,!0,e,s,i,l,o,a),e.context=Qh(null),n=e.current,r=it(),s=Bn(n),i=dn(r,s),i.callback=t??null,Un(n,i,s),e.current.lanes=s,hi(e,s,r),mt(e,r),e}function $l(e,t,n,r){var s=t.current,i=it(),l=Bn(s);return n=Qh(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(s,t,l),e!==null&&($t(e,s,l,i),Hi(e,s,l)),l}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Wg(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Bl.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));$l(e,t,null,null)};Bl.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){$l(null,e,null,null)}),t[pn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&Cf(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Hg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Nl(l);i.call(u)}}var l=Wh(t,r,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=l,e[pn]=l.current,Xs(e.nodeType===8?e.parentNode:e),yr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Nl(a);o.call(u)}}var a=Ru(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=a,e[pn]=a.current,Xs(e.nodeType===8?e.parentNode:e),yr(function(){$l(t,a,n,r)}),a}function Wl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var a=Nl(l);o.call(a)}}$l(t,l,e,s)}else l=Hg(n,t,e,s,r);return Nl(l)}xf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ts(t.pendingLanes);n!==0&&(Xa(t,n|1),mt(t,Oe()),!(ie&6)&&(ds=Oe()+500,Gn()))}break;case 13:yr(function(){var r=mn(e,1);if(r!==null){var s=it();$t(r,e,1,s)}}),Tu(e,1)}};Ja=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=it();$t(t,e,134217728,n)}Tu(e,134217728)}};Sf=function(e){if(e.tag===13){var t=Bn(e),n=mn(e,t);if(n!==null){var r=it();$t(n,e,t,r)}Tu(e,t)}};kf=function(){return de};Ef=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Wo=function(e,t,n){switch(t){case"input":if(zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_l(r);if(!s)throw Error(P(90));Zd(r),zo(r,s)}}}break;case"textarea":tf(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};uf=Nu;cf=yr;var Vg={usingClientEntryPoint:!1,Events:[mi,Lr,_l,of,af,Nu]},bs={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hf(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||Wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Tl=Fi.inject(Kg),Yt=Fi}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(P(200));return Qg(e,t,null,n)};St.createRoot=function(e,t){if(!Pu(e))throw Error(P(299));var n=!1,r="",s=Hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ru(e,1,!1,null,null,n,!1,r,s),e[pn]=t.current,Xs(e.nodeType===8?e.parentNode:e),new Ou(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=hf(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return yr(e)};St.hydrate=function(e,t,n){if(!Ql(t))throw Error(P(200));return Wl(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Hh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Wh(t,null,e,1,n??null,s,!1,i,l),e[pn]=t.current,Xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bl(t)};St.render=function(e,t,n){if(!Ql(t))throw Error(P(200));return Wl(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(P(40));return e._reactRootContainer?(yr(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};St.unstable_batchedUpdates=Nu;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Wl(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(e){console.error(e)}}Vh(),Hd.exports=St;var Lu=Hd.exports,Kh,Zc=Lu;Kh=Zc.createRoot,Zc.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nn,Da,Ed,Gg=(Ed=class{constructor(){V(this,Nn,qg);V(this,Da,!1)}setTimeoutProvider(e){z(this,Nn,e)}setTimeout(e,t){return v(this,Nn).setTimeout(e,t)}clearTimeout(e){v(this,Nn).clearTimeout(e)}setInterval(e,t){return v(this,Nn).setInterval(e,t)}clearInterval(e){v(this,Nn).clearInterval(e)}},Nn=new WeakMap,Da=new WeakMap,Ed),tr=new Gg;function Yg(e){setTimeout(e,0)}var vr=typeof window>"u"||"Deno"in globalThis;function st(){}function Xg(e,t){return typeof e=="function"?e(t):e}function Ea(e){return typeof e=="number"&&e>=0&&e!==1/0}function qh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wn(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function ed(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==_u(l,t.options))return!1}else if(!li(t.queryKey,l))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function td(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(wr(t.options.mutationKey)!==wr(i))return!1}else if(!li(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _u(e,t){return((t==null?void 0:t.queryKeyHashFn)||wr)(e)}function wr(e){return JSON.stringify(e,(t,n)=>Ca(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function li(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>li(e[n],t[n])):!1}var Jg=Object.prototype.hasOwnProperty;function Gh(e,t){if(e===t)return e;const n=nd(e)&&nd(t);if(!n&&!(Ca(e)&&Ca(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,o=n?new Array(l):{};let a=0;for(let u=0;u<l;u++){const m=n?u:i[u],p=e[m],g=t[m];if(p===g){o[m]=p,(n?u<s:Jg.call(e,m))&&a++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[m]=g;continue}const x=Gh(p,g);o[m]=x,x===p&&a++}return s===l&&a===s?e:o}function bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ca(e){if(!rd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zg(e){return new Promise(t=>{tr.setTimeout(t,e)})}function Na(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Gh(e,t):t}function ey(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ty(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fu=Symbol();function Yh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Xh(e,t){return typeof e=="function"?e(...t):!!e}function ny(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var nr,bn,Kr,Cd,ry=(Cd=class extends ms{constructor(){super();V(this,nr);V(this,bn);V(this,Kr);z(this,Kr,t=>{if(!vr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){v(this,bn)||this.setEventListener(v(this,Kr))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,bn))==null||t.call(this),z(this,bn,void 0))}setEventListener(t){var n;z(this,Kr,t),(n=v(this,bn))==null||n.call(this),z(this,bn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){v(this,nr)!==t&&(z(this,nr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof v(this,nr)=="boolean"?v(this,nr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nr=new WeakMap,bn=new WeakMap,Kr=new WeakMap,Cd),Iu=new ry;function ba(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var sy=Yg;function iy(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=sy;const i=o=>{t?e.push(o):s(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(a=>{n(a)})})})};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||l()}return a},batchCalls:o=>(...a)=>{i(()=>{o(...a)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var ze=iy(),qr,jn,Gr,Nd,ly=(Nd=class extends ms{constructor(){super();V(this,qr,!0);V(this,jn);V(this,Gr);z(this,Gr,t=>{if(!vr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){v(this,jn)||this.setEventListener(v(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,jn))==null||t.call(this),z(this,jn,void 0))}setEventListener(t){var n;z(this,Gr,t),(n=v(this,jn))==null||n.call(this),z(this,jn,t(this.setOnline.bind(this)))}setOnline(t){v(this,qr)!==t&&(z(this,qr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return v(this,qr)}},qr=new WeakMap,jn=new WeakMap,Gr=new WeakMap,Nd),jl=new ly;function oy(e){return Math.min(1e3*2**e,3e4)}function Jh(e){return(e??"online")==="online"?jl.isOnline():!0}var ja=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zh(e){let t=!1,n=0,r;const s=ba(),i=()=>s.status!=="pending",l=S=>{var M;if(!i()){const h=new ja(S);g(h),(M=e.onCancel)==null||M.call(e,h)}},o=()=>{t=!0},a=()=>{t=!1},u=()=>Iu.isFocused()&&(e.networkMode==="always"||jl.isOnline())&&e.canRun(),m=()=>Jh(e.networkMode)&&e.canRun(),p=S=>{i()||(r==null||r(),s.resolve(S))},g=S=>{i()||(r==null||r(),s.reject(S))},x=()=>new Promise(S=>{var M;r=h=>{(i()||u())&&S(h)},(M=e.onPause)==null||M.call(e)}).then(()=>{var S;r=void 0,i()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(i())return;let S;const M=n===0?e.initialPromise:void 0;try{S=M??e.fn()}catch(h){S=Promise.reject(h)}Promise.resolve(S).then(p).catch(h=>{var E;if(i())return;const d=e.retry??(vr?0:3),c=e.retryDelay??oy,f=typeof c=="function"?c(n,h):c,C=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,h);if(t||!C){g(h);return}n++,(E=e.onFail)==null||E.call(e,n,h),Zg(f).then(()=>u()?void 0:x()).then(()=>{t?g(h):w()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:a,canStart:m,start:()=>(m()?w():x().then(w),s)}}var rr,bd,ep=(bd=class{constructor(){V(this,rr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ea(this.gcTime)&&z(this,rr,tr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vr?1/0:5*60*1e3))}clearGcTimeout(){v(this,rr)&&(tr.clearTimeout(v(this,rr)),z(this,rr,void 0))}},rr=new WeakMap,bd),sr,Yr,Ct,ir,Ue,oi,lr,Ft,tn,jd,ay=(jd=class extends ep{constructor(t){super();V(this,Ft);V(this,sr);V(this,Yr);V(this,Ct);V(this,ir);V(this,Ue);V(this,oi);V(this,lr);z(this,lr,!1),z(this,oi,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,ir,t.client),z(this,Ct,v(this,ir).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,sr,id(this.options)),this.state=t.state??v(this,sr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=v(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...v(this,oi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=id(this.options);n.data!==void 0&&(this.setState(sd(n.data,n.dataUpdatedAt)),z(this,sr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,Ct).remove(this)}setData(t,n){const r=Na(this.state.data,t,this.options);return X(this,Ft,tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){X(this,Ft,tn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=v(this,Ue))==null?void 0:r.promise;return(s=v(this,Ue))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,sr))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),v(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(v(this,Ue)&&(v(this,lr)?v(this,Ue).cancel({revert:!0}):v(this,Ue).cancelRetry()),this.scheduleGc()),v(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,Ft,tn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,m,p,g,x,w,S,M,h,d,c;if(this.state.fetchStatus!=="idle"&&((a=v(this,Ue))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(v(this,Ue))return v(this,Ue).continueRetry(),v(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(C=>C.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(z(this,lr,!0),r.signal)})},i=()=>{const f=Yh(this.options,n),E=(()=>{const b={client:v(this,ir),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return z(this,lr,!1),this.options.persister?this.options.persister(f,E,this):f(E)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:v(this,ir),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),z(this,Yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&X(this,Ft,tn).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),z(this,Ue,Zh({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:f=>{f instanceof ja&&f.revert&&this.setState({...v(this,Yr),fetchStatus:"idle"}),r.abort()},onFail:(f,C)=>{X(this,Ft,tn).call(this,{type:"failed",failureCount:f,error:C})},onPause:()=>{X(this,Ft,tn).call(this,{type:"pause"})},onContinue:()=>{X(this,Ft,tn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const f=await v(this,Ue).start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),(x=(g=v(this,Ct).config).onSuccess)==null||x.call(g,f,this),(S=(w=v(this,Ct).config).onSettled)==null||S.call(w,f,this.state.error,this),f}catch(f){if(f instanceof ja){if(f.silent)return v(this,Ue).promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw X(this,Ft,tn).call(this,{type:"error",error:f}),(h=(M=v(this,Ct).config).onError)==null||h.call(M,f,this),(c=(d=v(this,Ct).config).onSettled)==null||c.call(d,this.state.data,f,this),f}finally{this.scheduleGc()}}},sr=new WeakMap,Yr=new WeakMap,Ct=new WeakMap,ir=new WeakMap,Ue=new WeakMap,oi=new WeakMap,lr=new WeakMap,Ft=new WeakSet,tn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...sd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,Yr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),v(this,Ct).notify({query:this,type:"updated",action:t})})},jd);function tp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function id(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ut,ne,ai,tt,or,Xr,sn,Mn,ui,Jr,Zr,ar,ur,Rn,es,ue,Ps,Ma,Ra,Ta,Oa,Pa,La,_a,np,Md,uy=(Md=class extends ms{constructor(t,n){super();V(this,ue);V(this,ut);V(this,ne);V(this,ai);V(this,tt);V(this,or);V(this,Xr);V(this,sn);V(this,Mn);V(this,ui);V(this,Jr);V(this,Zr);V(this,ar);V(this,ur);V(this,Rn);V(this,es,new Set);this.options=n,z(this,ut,t),z(this,Mn,null),z(this,sn,ba()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,ne).addObserver(this),ld(v(this,ne),this.options)?X(this,ue,Ps).call(this):this.updateResult(),X(this,ue,Oa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fa(v(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fa(v(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ue,Pa).call(this),X(this,ue,La).call(this),v(this,ne).removeObserver(this)}setOptions(t){const n=this.options,r=v(this,ne);if(this.options=v(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,v(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ue,_a).call(this),v(this,ne).setOptions(this.options),n._defaulted&&!bl(this.options,n)&&v(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,ne),observer:this});const s=this.hasListeners();s&&od(v(this,ne),r,this.options,n)&&X(this,ue,Ps).call(this),this.updateResult(),s&&(v(this,ne)!==r||Nt(this.options.enabled,v(this,ne))!==Nt(n.enabled,v(this,ne))||Wn(this.options.staleTime,v(this,ne))!==Wn(n.staleTime,v(this,ne)))&&X(this,ue,Ma).call(this);const i=X(this,ue,Ra).call(this);s&&(v(this,ne)!==r||Nt(this.options.enabled,v(this,ne))!==Nt(n.enabled,v(this,ne))||i!==v(this,Rn))&&X(this,ue,Ta).call(this,i)}getOptimisticResult(t){const n=v(this,ut).getQueryCache().build(v(this,ut),t),r=this.createResult(n,t);return dy(this,r)&&(z(this,tt,r),z(this,Xr,this.options),z(this,or,v(this,ne).state)),r}getCurrentResult(){return v(this,tt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&v(this,sn).status==="pending"&&v(this,sn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){v(this,es).add(t)}getCurrentQuery(){return v(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=v(this,ut).defaultQueryOptions(t),r=v(this,ut).getQueryCache().build(v(this,ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return X(this,ue,Ps).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,tt)))}createResult(t,n){var _;const r=v(this,ne),s=this.options,i=v(this,tt),l=v(this,or),o=v(this,Xr),u=t!==r?t.state:v(this,ai),{state:m}=t;let p={...m},g=!1,x;if(n._optimisticResults){const O=this.hasListeners(),F=!O&&ld(t,n),W=O&&od(t,r,n,s);(F||W)&&(p={...p,...tp(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:M}=p;x=p.data;let h=!1;if(n.placeholderData!==void 0&&x===void 0&&M==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,h=!0):O=typeof n.placeholderData=="function"?n.placeholderData((_=v(this,Zr))==null?void 0:_.state.data,v(this,Zr)):n.placeholderData,O!==void 0&&(M="success",x=Na(i==null?void 0:i.data,O,n),g=!0)}if(n.select&&x!==void 0&&!h)if(i&&x===(l==null?void 0:l.data)&&n.select===v(this,ui))x=v(this,Jr);else try{z(this,ui,n.select),x=n.select(x),x=Na(i==null?void 0:i.data,x,n),z(this,Jr,x),z(this,Mn,null)}catch(O){z(this,Mn,O)}v(this,Mn)&&(w=v(this,Mn),x=v(this,Jr),S=Date.now(),M="error");const d=p.fetchStatus==="fetching",c=M==="pending",f=M==="error",C=c&&d,E=x!==void 0,j={status:M,fetchStatus:p.fetchStatus,isPending:c,isSuccess:M==="success",isError:f,isInitialLoading:C,isLoading:C,data:x,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!c,isLoadingError:f&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:f&&E,isStale:zu(t,n),refetch:this.refetch,promise:v(this,sn),isEnabled:Nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=q=>{j.status==="error"?q.reject(j.error):j.data!==void 0&&q.resolve(j.data)},F=()=>{const q=z(this,sn,j.promise=ba());O(q)},W=v(this,sn);switch(W.status){case"pending":t.queryHash===r.queryHash&&O(W);break;case"fulfilled":(j.status==="error"||j.data!==W.value)&&F();break;case"rejected":(j.status!=="error"||j.error!==W.reason)&&F();break}}return j}updateResult(){const t=v(this,tt),n=this.createResult(v(this,ne),this.options);if(z(this,or,v(this,ne).state),z(this,Xr,this.options),v(this,or).data!==void 0&&z(this,Zr,v(this,ne)),bl(n,t))return;z(this,tt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!v(this,es).size)return!0;const l=new Set(i??v(this,es));return this.options.throwOnError&&l.add("error"),Object.keys(v(this,tt)).some(o=>{const a=o;return v(this,tt)[a]!==t[a]&&l.has(a)})};X(this,ue,np).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ue,Oa).call(this)}},ut=new WeakMap,ne=new WeakMap,ai=new WeakMap,tt=new WeakMap,or=new WeakMap,Xr=new WeakMap,sn=new WeakMap,Mn=new WeakMap,ui=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,ar=new WeakMap,ur=new WeakMap,Rn=new WeakMap,es=new WeakMap,ue=new WeakSet,Ps=function(t){X(this,ue,_a).call(this);let n=v(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(st)),n},Ma=function(){X(this,ue,Pa).call(this);const t=Wn(this.options.staleTime,v(this,ne));if(vr||v(this,tt).isStale||!Ea(t))return;const r=qh(v(this,tt).dataUpdatedAt,t)+1;z(this,ar,tr.setTimeout(()=>{v(this,tt).isStale||this.updateResult()},r))},Ra=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,ne)):this.options.refetchInterval)??!1},Ta=function(t){X(this,ue,La).call(this),z(this,Rn,t),!(vr||Nt(this.options.enabled,v(this,ne))===!1||!Ea(v(this,Rn))||v(this,Rn)===0)&&z(this,ur,tr.setInterval(()=>{(this.options.refetchIntervalInBackground||Iu.isFocused())&&X(this,ue,Ps).call(this)},v(this,Rn)))},Oa=function(){X(this,ue,Ma).call(this),X(this,ue,Ta).call(this,X(this,ue,Ra).call(this))},Pa=function(){v(this,ar)&&(tr.clearTimeout(v(this,ar)),z(this,ar,void 0))},La=function(){v(this,ur)&&(tr.clearInterval(v(this,ur)),z(this,ur,void 0))},_a=function(){const t=v(this,ut).getQueryCache().build(v(this,ut),this.options);if(t===v(this,ne))return;const n=v(this,ne);z(this,ne,t),z(this,ai,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},np=function(t){ze.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(v(this,tt))}),v(this,ut).getQueryCache().notify({query:v(this,ne),type:"observerResultsUpdated"})})},Md);function cy(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ld(e,t){return cy(e,t)||e.state.data!==void 0&&Fa(e,t,t.refetchOnMount)}function Fa(e,t,n){if(Nt(t.enabled,e)!==!1&&Wn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&zu(e,t)}return!1}function od(e,t,n,r){return(e!==t||Nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zu(e,n)}function zu(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Wn(t.staleTime,e))}function dy(e,t){return!bl(e.getCurrentResult(),t)}function ad(e){return{onFetch:(t,n)=>{var m,p,g,x,w;const r=t.options,s=(g=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},a=0;const u=async()=>{let S=!1;const M=c=>{ny(c,()=>t.signal,()=>S=!0)},h=Yh(t.options,t.fetchOptions),d=async(c,f,C)=>{if(S)return Promise.reject();if(f==null&&c.pages.length)return Promise.resolve(c);const b=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:f,direction:C?"backward":"forward",meta:t.options.meta};return M(F),F})(),j=await h(b),{maxPages:_}=t.options,O=C?ty:ey;return{pages:O(c.pages,j,_),pageParams:O(c.pageParams,f,_)}};if(s&&i.length){const c=s==="backward",f=c?fy:ud,C={pages:i,pageParams:l},E=f(r,C);o=await d(C,E,c)}else{const c=e??i.length;do{const f=a===0?l[0]??r.initialPageParam:ud(r,o);if(a>0&&f==null)break;o=await d(o,f),a++}while(a<c)}return o};t.options.persister?t.fetchFn=()=>{var S,M;return(M=(S=t.options).persister)==null?void 0:M.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ud(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ci,Vt,nt,cr,Kt,xn,Rd,hy=(Rd=class extends ep{constructor(t){super();V(this,Kt);V(this,ci);V(this,Vt);V(this,nt);V(this,cr);z(this,ci,t.client),this.mutationId=t.mutationId,z(this,nt,t.mutationCache),z(this,Vt,[]),this.state=t.state||rp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){v(this,Vt).includes(t)||(v(this,Vt).push(t),this.clearGcTimeout(),v(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,Vt,v(this,Vt).filter(n=>n!==t)),this.scheduleGc(),v(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){v(this,Vt).length||(this.state.status==="pending"?this.scheduleGc():v(this,nt).remove(this))}continue(){var t;return((t=v(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,a,u,m,p,g,x,w,S,M,h,d,c,f,C,E,b,j,_;const n=()=>{X(this,Kt,xn).call(this,{type:"continue"})},r={client:v(this,ci),meta:this.options.meta,mutationKey:this.options.mutationKey};z(this,cr,Zh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,F)=>{X(this,Kt,xn).call(this,{type:"failed",failureCount:O,error:F})},onPause:()=>{X(this,Kt,xn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,nt).canRun(this)}));const s=this.state.status==="pending",i=!v(this,cr).canStart();try{if(s)n();else{X(this,Kt,xn).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=v(this,nt).config).onMutate)==null?void 0:o.call(l,t,this,r));const F=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));F!==this.state.context&&X(this,Kt,xn).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const O=await v(this,cr).start();return await((p=(m=v(this,nt).config).onSuccess)==null?void 0:p.call(m,O,t,this.state.context,this,r)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,O,t,this.state.context,r)),await((S=(w=v(this,nt).config).onSettled)==null?void 0:S.call(w,O,null,this.state.variables,this.state.context,this,r)),await((h=(M=this.options).onSettled)==null?void 0:h.call(M,O,null,t,this.state.context,r)),X(this,Kt,xn).call(this,{type:"success",data:O}),O}catch(O){try{await((c=(d=v(this,nt).config).onError)==null?void 0:c.call(d,O,t,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((C=(f=this.options).onError)==null?void 0:C.call(f,O,t,this.state.context,r))}catch(F){Promise.reject(F)}try{await((b=(E=v(this,nt).config).onSettled)==null?void 0:b.call(E,void 0,O,this.state.variables,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((_=(j=this.options).onSettled)==null?void 0:_.call(j,void 0,O,t,this.state.context,r))}catch(F){Promise.reject(F)}throw X(this,Kt,xn).call(this,{type:"error",error:O}),O}finally{v(this,nt).runNext(this)}}},ci=new WeakMap,Vt=new WeakMap,nt=new WeakMap,cr=new WeakMap,Kt=new WeakSet,xn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ze.batch(()=>{v(this,Vt).forEach(r=>{r.onMutationUpdate(t)}),v(this,nt).notify({mutation:this,type:"updated",action:t})})},Rd);function rp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,It,di,Td,py=(Td=class extends ms{constructor(t={}){super();V(this,ln);V(this,It);V(this,di);this.config=t,z(this,ln,new Set),z(this,It,new Map),z(this,di,0)}build(t,n,r){const s=new hy({client:t,mutationCache:this,mutationId:++vi(this,di)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){v(this,ln).add(t);const n=Ii(t);if(typeof n=="string"){const r=v(this,It).get(n);r?r.push(t):v(this,It).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(v(this,ln).delete(t)){const n=Ii(t);if(typeof n=="string"){const r=v(this,It).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&v(this,It).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ii(t);if(typeof n=="string"){const r=v(this,It).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ii(t);if(typeof n=="string"){const s=(r=v(this,It).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ze.batch(()=>{v(this,ln).forEach(t=>{this.notify({type:"removed",mutation:t})}),v(this,ln).clear(),v(this,It).clear()})}getAll(){return Array.from(v(this,ln))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>td(n,r))}findAll(t={}){return this.getAll().filter(n=>td(t,n))}notify(t){ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ze.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},ln=new WeakMap,It=new WeakMap,di=new WeakMap,Td);function Ii(e){var t;return(t=e.options.scope)==null?void 0:t.id}var on,Tn,ct,an,fn,Ji,Ia,Od,my=(Od=class extends ms{constructor(n,r){super();V(this,fn);V(this,on);V(this,Tn);V(this,ct);V(this,an);z(this,on,n),this.setOptions(r),this.bindMethods(),X(this,fn,Ji).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=v(this,on).defaultMutationOptions(n),bl(this.options,r)||v(this,on).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():((s=v(this,ct))==null?void 0:s.state.status)==="pending"&&v(this,ct).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=v(this,ct))==null||n.removeObserver(this)}onMutationUpdate(n){X(this,fn,Ji).call(this),X(this,fn,Ia).call(this,n)}getCurrentResult(){return v(this,Tn)}reset(){var n;(n=v(this,ct))==null||n.removeObserver(this),z(this,ct,void 0),X(this,fn,Ji).call(this),X(this,fn,Ia).call(this)}mutate(n,r){var s;return z(this,an,r),(s=v(this,ct))==null||s.removeObserver(this),z(this,ct,v(this,on).getMutationCache().build(v(this,on),this.options)),v(this,ct).addObserver(this),v(this,ct).execute(n)}},on=new WeakMap,Tn=new WeakMap,ct=new WeakMap,an=new WeakMap,fn=new WeakSet,Ji=function(){var r;const n=((r=v(this,ct))==null?void 0:r.state)??rp();z(this,Tn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ia=function(n){ze.batch(()=>{var r,s,i,l,o,a,u,m;if(v(this,an)&&this.hasListeners()){const p=v(this,Tn).variables,g=v(this,Tn).context,x={client:v(this,on),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=v(this,an)).onSuccess)==null||s.call(r,n.data,p,g,x)}catch(w){Promise.reject(w)}try{(l=(i=v(this,an)).onSettled)==null||l.call(i,n.data,null,p,g,x)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(o=v(this,an)).onError)==null||a.call(o,n.error,p,g,x)}catch(w){Promise.reject(w)}try{(m=(u=v(this,an)).onSettled)==null||m.call(u,void 0,n.error,p,g,x)}catch(w){Promise.reject(w)}}}this.listeners.forEach(p=>{p(v(this,Tn))})})},Od),qt,Pd,gy=(Pd=class extends ms{constructor(t={}){super();V(this,qt);this.config=t,z(this,qt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??_u(s,n);let l=this.get(i);return l||(l=new ay({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){v(this,qt).has(t.queryHash)||(v(this,qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=v(this,qt).get(t.queryHash);n&&(t.destroy(),n===t&&v(this,qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return v(this,qt).get(t)}getAll(){return[...v(this,qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ed(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ed(t,r)):n}notify(t){ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qt=new WeakMap,Pd),je,On,Pn,ts,ns,Ln,rs,ss,Ld,yy=(Ld=class{constructor(e={}){V(this,je);V(this,On);V(this,Pn);V(this,ts);V(this,ns);V(this,Ln);V(this,rs);V(this,ss);z(this,je,e.queryCache||new gy),z(this,On,e.mutationCache||new py),z(this,Pn,e.defaultOptions||{}),z(this,ts,new Map),z(this,ns,new Map),z(this,Ln,0)}mount(){vi(this,Ln)._++,v(this,Ln)===1&&(z(this,rs,Iu.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,je).onFocus())})),z(this,ss,jl.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,je).onOnline())})))}unmount(){var e,t;vi(this,Ln)._--,v(this,Ln)===0&&((e=v(this,rs))==null||e.call(this),z(this,rs,void 0),(t=v(this,ss))==null||t.call(this),z(this,ss,void 0))}isFetching(e){return v(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,On).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=v(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Wn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return v(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=v(this,je).get(r.queryHash),i=s==null?void 0:s.state.data,l=Xg(t,i);if(l!==void 0)return v(this,je).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return ze.batch(()=>v(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=v(this,je);ze.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=v(this,je);return ze.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ze.batch(()=>v(this,je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return ze.batch(()=>(v(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ze.batch(()=>v(this,je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=v(this,je).build(this,t);return n.isStaleByTime(Wn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=ad(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=ad(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jl.isOnline()?v(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,je)}getMutationCache(){return v(this,On)}getDefaultOptions(){return v(this,Pn)}setDefaultOptions(e){z(this,Pn,e)}setQueryDefaults(e,t){v(this,ts).set(wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...v(this,ts).values()],n={};return t.forEach(r=>{li(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){v(this,ns).set(wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...v(this,ns).values()],n={};return t.forEach(r=>{li(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...v(this,Pn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_u(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,Pn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,je).clear(),v(this,On).clear()}},je=new WeakMap,On=new WeakMap,Pn=new WeakMap,ts=new WeakMap,ns=new WeakMap,Ln=new WeakMap,rs=new WeakMap,ss=new WeakMap,Ld),sp=k.createContext(void 0),yi=e=>{const t=k.useContext(sp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vy=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(sp.Provider,{value:e,children:t})),ip=k.createContext(!1),wy=()=>k.useContext(ip);ip.Provider;function xy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sy=k.createContext(xy()),ky=()=>k.useContext(Sy),Ey=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Cy=e=>{k.useEffect(()=>{e.clearReset()},[e])},Ny=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Xh(n,[e.error,r])),by=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jy=(e,t)=>e.isLoading&&e.isFetching&&!t,My=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ry(e,t,n){var p,g,x,w,S;const r=wy(),s=ky(),i=yi(),l=i.defaultQueryOptions(e);(g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,l),l._optimisticResults=r?"isRestoring":"optimistic",by(l),Ey(l,s),Cy(s);const o=!i.getQueryCache().get(l.queryHash),[a]=k.useState(()=>new t(i,l)),u=a.getOptimisticResult(l),m=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(M=>{const h=m?a.subscribe(ze.batchCalls(M)):st;return a.updateResult(),h},[a,m]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setOptions(l)},[l,a]),My(l,u))throw cd(l,a,s);if(Ny({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((w=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||w.call(x,l,u),l.experimental_prefetchInRender&&!vr&&jy(u,r)){const M=o?cd(l,a,s):(S=i.getQueryCache().get(l.queryHash))==null?void 0:S.promise;M==null||M.catch(st).finally(()=>{a.updateResult()})}return l.notifyOnChangeProps?u:a.trackResult(u)}function Du(e,t){return Ry(e,uy)}function Ty(e,t){const n=yi(),[r]=k.useState(()=>new my(n,e));k.useEffect(()=>{r.setOptions(e)},[r,e]);const s=k.useSyncExternalStore(k.useCallback(l=>r.subscribe(ze.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((l,o)=>{r.mutate(l,o).catch(st)},[r]);if(s.error&&Xh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Oy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:l,onSortChange:o,filterCount:a,onOpenFilters:u,views:m,activeViewId:p,onApplyView:g,onSaveView:x,starFilters:w,onToggleStar:S,onClearStars:M,starCounts:h,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:C,leftOpen:E,rightOpen:b,onToggleLeft:j,onToggleRight:_,onPrevImage:O,onNextImage:F,canPrevImage:W,canNextImage:q}){const[$,he]=k.useState(!1),[me,fe]=k.useState(!1),L=k.useRef(null),D=k.useRef(null);k.useEffect(()=>{const H=Fe=>{const ge=Fe.target;$&&L.current&&!L.current.contains(ge)&&he(!1),me&&D.current&&!D.current.contains(ge)&&fe(!1)};return($||me)&&window.addEventListener("click",H),()=>window.removeEventListener("click",H)},[$,me]);const Q=i??{kind:"builtin",key:"added",dir:"desc"},le=Py(Q),oe=Q.dir,et=Q.kind==="builtin"&&Q.key==="random";return y.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-toolbar col-span-full row-start-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[t&&y.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:n,children:" Back"}),!t&&y.jsxs("div",{className:"flex gap-2 items-center relative",children:[y.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:d||"grid",onChange:H=>c&&c(H.target.value),title:"View mode",children:[y.jsx("option",{value:"grid",children:"Grid"}),y.jsx("option",{value:"adaptive",children:"Adaptive"})]}),y.jsx("div",{className:"w-px h-5 bg-border mx-1"}),y.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:le,onChange:H=>o&&o(Ly(H.target.value,Q)),title:"Sort by",children:[y.jsx("option",{value:"builtin:added",children:"Date added"}),y.jsx("option",{value:"builtin:name",children:"Filename"}),y.jsx("option",{value:"builtin:random",children:"Random"}),l&&l.length>0&&y.jsx("optgroup",{label:"Metrics",children:l.map(H=>y.jsx("option",{value:`metric:${H}`,children:H},H))})]}),y.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{o&&o(et?Q:{...Q,dir:oe==="desc"?"asc":"desc"})},title:et?"Shuffle":"Toggle sort",children:et?"":oe==="desc"?"":""}),y.jsxs("button",{className:`h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5 ${a?"bg-accent/15 border-accent/30":""}`,onClick:u,title:"Open filters",children:[y.jsx("span",{className:"text-[13px]",children:"Filter"}),a?y.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded-full bg-accent/30 text-text",children:a}):null]}),y.jsxs("div",{ref:L,children:[y.jsxs("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>he(H=>!H),title:"Filter by rating","aria-haspopup":"dialog","aria-expanded":$,children:[y.jsx("span",{className:"text-sm",children:""}),y.jsx("span",{className:"text-[13px]",children:"Rating"})]}),$&&y.jsxs("div",{role:"dialog","aria-label":"Filter by rating",className:"absolute top-[38px] left-0 bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[200px] z-[100]",onKeyDown:H=>{H.key==="Escape"&&he(!1)},children:[[5,4,3,2,1].map(H=>{const Fe=!!(w||[]).includes(H),ge=(h==null?void 0:h[String(H)])??0;return y.jsxs("div",{onClick:()=>S&&S(H),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${Fe?"bg-accent/15":""}`,children:[y.jsxs("div",{className:`text-[13px] ${Fe?"text-[#ffd166]":"text-text"}`,children:["".repeat(H),"".repeat(5-H)]}),y.jsx("div",{className:"opacity-80 text-xs",children:ge})]},H)}),(()=>{const H=!!(w||[]).includes(0);return y.jsxs("div",{onClick:()=>S&&S(0),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${H?"bg-accent/15":""}`,children:[y.jsx("div",{className:"text-[13px] text-text",children:"None"}),y.jsx("div",{className:"opacity-80 text-xs",children:(h==null?void 0:h["0"])??0})]})})(),y.jsx("div",{className:"h-px bg-border my-1.5"}),y.jsx("div",{className:"flex gap-2",children:y.jsx("button",{className:"h-[26px] px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:M,children:"All"})})]})]}),(()=>{const H=w||[];if(!H.length)return null;const Fe=H.filter(Pe=>Pe>0).sort((Pe,I)=>I-Pe),ge=Fe.length?Fe.join(","):H.includes(0)?"None":"";return y.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 pl-1.5 bg-accent/20 border border-border text-text rounded-[10px] h-[26px]","aria-label":`Rating filter active: ${ge}`,title:`Rating filter: ${ge}`,children:[y.jsx("span",{className:"text-[#ffd166] text-[13px] leading-none",children:""}),y.jsx("span",{className:"text-[13px] opacity-95",children:ge}),y.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":"Clear rating filter",onClick:M,children:""})]})})()]})]}),y.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:H=>s&&s(Number(H.target.value)),className:"zoom-slider"}),y.jsxs("span",{className:"text-xs opacity-80 min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):C&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Size"}),y.jsx("input",{type:"range",min:80,max:500,step:10,value:f??220,onChange:H=>C(Number(H.target.value)),className:"w-32 h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text","aria-label":"Thumbnail size"})]})}),y.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&y.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[y.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${W?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>W&&O&&O(),"aria-label":"Previous image","aria-disabled":!W,children:y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M15 18l-6-6 6-6"})})}),y.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${q?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>q&&F&&F(),"aria-label":"Next image","aria-disabled":!q,children:y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),!t&&y.jsxs("div",{ref:D,className:"relative",children:[y.jsxs("button",{className:"h-8 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>fe(H=>!H),"aria-haspopup":"dialog","aria-expanded":me,title:"Smart Folders",children:[y.jsx("span",{className:"text-sm",children:"Views"}),y.jsx("span",{className:"text-xs opacity-70",children:""})]}),me&&y.jsxs("div",{role:"dialog","aria-label":"Smart Folders",className:"fixed right-3 top-[48px] bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[220px] z-[100]",children:[y.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted px-1.5 py-1",children:"Smart Folders"}),y.jsx("div",{className:"max-h-[220px] overflow-auto scrollbar-thin",children:m&&m.length>0?m.map(H=>{const Fe=H.id===p;return y.jsx("button",{className:`w-full text-left px-2 py-1.5 rounded-md text-sm cursor-pointer ${Fe?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{fe(!1),g&&g(H)},children:H.name},H.id)}):y.jsx("div",{className:"text-xs text-muted px-2 py-2",children:"No saved views yet."})}),y.jsx("div",{className:"h-px bg-border my-1.5"}),y.jsx("button",{className:"w-full h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{fe(!1),x&&x()},children:"Save as Smart Folder"})]})]}),y.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[y.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${E?"opacity-100":"opacity-60"}`,title:E?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:j,"aria-pressed":E,"aria-label":"Toggle left panel",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),y.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),y.jsx("button",{className:`h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${b?"opacity-100":"opacity-60"}`,title:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:_,"aria-pressed":b,"aria-label":"Toggle right panel",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),y.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),y.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:H=>e(H.target.value),className:"input h-8 w-[220px] focus:w-[280px] transition-all duration-200 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text"})]})]})}function Py(e){return e.kind==="metric"?`metric:${e.key}`:`builtin:${e.key}`}function Ly(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const lp=3e4;class At extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Et(e,t={}){const{timeoutMs:n=lp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function zi(e,t={}){const{timeoutMs:n=lp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class op{constructor(t){Cr(this,"store",new Map);Cr(this,"inflight",new Map);Cr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),l=typeof i=="object"&&"promise"in i,o=l?i.promise:i,a=l?i.abort:void 0,u=o.then(m=>(this.set(t,m),m)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,l=s?r.abort:void 0,o=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:o,abort:l})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const jr=new op(60*1024*1024),za=new op(20*1024*1024),Eo={};function _y(){const e=Eo==null?void 0:Eo.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const l=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:l?"":i.origin}const Xe=_y();const Fy=40*1024*1024,ce={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Et(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Et(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return Et(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>Et(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Et(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Et(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>za.getOrFetch(e,()=>zi(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{za.prefetch(e,()=>zi(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>jr.getOrFetch(e,()=>zi(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(jr.has(e)||jr.isInflight(e)))try{const t=await zi(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Fy&&jr.set(e,t)}catch{}},cancelPrefetch:e=>{jr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Et(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Et(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Et(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Et(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>Et(`${Xe}/views`).promise,saveViews:e=>Et(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Iy=e=>["folder",e];function ap(e){return Du({queryKey:Iy(e),queryFn:()=>ce.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Co(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function zy(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const l=Math.ceil((i-1)/2),o=Math.floor((i-1)/2);return s.slice(0,l)+""+s.slice(-o)+r}function No(e){try{return JSON.parse(e)}catch{return}}const Dy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Vr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Dy.test(s)?s:"/"}catch{return"/"}}function dd(){return(window.location.hash||"").replace(/^#/,"")}function Ay(e){const t=Vr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Uy(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function $y(e){const n=Vr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function By(e){return e.endsWith("/_trash_")}function Qy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:l,showResizeHandle:o=!0}){const[a,u]=k.useState(new Set(["/"]));k.useEffect(()=>{const p=e.split("/").filter(Boolean),g=["/"];let x="";for(const w of p)x=x?`${x}/${w}`:`/${w}`,g.push(x);u(w=>{const S=new Set(w);for(const M of g)S.add(M);return S})},[e]);const m=l??"h-full overflow-auto bg-panel scrollbar-thin";return y.jsxs("div",{className:m,children:[y.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(p=>y.jsx(up,{path:p.path,label:p.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},p.path))}),o&&y.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function up({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o,initial:a}){var h,d,c;const u=s.has(e),{data:m}=ap(e),p=a&&e===a.path?a:m,g=r===e,x=(((h=p==null?void 0:p.dirs)==null?void 0:h.length)??0)===0,w=x?((d=p==null?void 0:p.items)==null?void 0:d.length)??0:0,S=yi(),M=f=>{f.stopPropagation(),i(C=>{const E=new Set(C);return E.has(e)?E.delete(e):E.add(e),E})};return y.jsxs("div",{children:[y.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${g?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":x?void 0:u,"aria-selected":g,tabIndex:g?0:-1,style:{paddingLeft:8+n*14},onClick:()=>l(e),onContextMenu:f=>{f.preventDefault(),f.stopPropagation(),o&&o(f,e)},onKeyDown:f=>{var C;if(f.key==="Enter")f.preventDefault(),l(e);else if(f.key==="ArrowRight")!x&&!u&&(f.preventDefault(),i(E=>{const b=new Set(E);return b.add(e),b}));else if(f.key==="ArrowLeft")!x&&u&&(f.preventDefault(),i(E=>{const b=new Set(E);return b.delete(e),b}));else if(f.key==="ArrowDown"||f.key==="ArrowUp"||f.key==="Home"||f.key==="End"){f.preventDefault();const E=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),b=E.findIndex(_=>_===f.currentTarget);if(b===-1)return;let j=b;f.key==="ArrowDown"?j=Math.min(E.length-1,b+1):f.key==="ArrowUp"?j=Math.max(0,b-1):f.key==="Home"?j=0:f.key==="End"&&(j=E.length-1),(C=E[j])==null||C.focus()}},onDragOver:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&(f.preventDefault(),x&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==f.currentTarget&&b.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target")))},onDragEnter:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&x&&(f.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==f.currentTarget&&b.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target"))},onDragLeave:f=>{const C=f.currentTarget,E=document.elementFromPoint(f.clientX,f.clientY);E&&C.contains(E)||C.classList.remove("drop-target")},onDrop:async f=>{const C=f.dataTransfer;if(!C)return;f.preventDefault(),f.currentTarget.classList.remove("drop-target");const E=C.getData("application/x-lenslet-paths"),j=(E?JSON.parse(E):[]).filter(Boolean);if(!j.length)return;let _=j[0].split("/").slice(0,-1).join("/")||"/";_.startsWith("/")||(_=`/${_}`);let O=e;O.startsWith("/")||(O=`/${O}`);try{for(const F of j)await ce.moveFile(F,O);S.invalidateQueries({queryKey:["folder",_]}),S.invalidateQueries({queryKey:["folder",O]}),S.setQueryData(["folder",_],F=>!F||!Array.isArray(F.items)?F:{...F,items:F.items.filter(W=>!j.includes(W.path))})}catch{}},children:[y.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:M,children:u?"":""}),y.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:zy(t,28)}),x&&y.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((c=p==null?void 0:p.dirs)==null?void 0:c.map(f=>y.jsx(up,{path:Uy(e,f.name),label:f.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o},f.name)))]})}class Wy{constructor(t=400){Cr(this,"cache",new Map);Cr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const bo=new Wy(400);function Hy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:l,isScrolling:o,priority:a}){const u=k.useRef(null),[m,p]=k.useState(()=>bo.get(e)??null),[g,x]=k.useState(!1),[w,S]=k.useState(()=>!!m);return k.useEffect(()=>{const M=u.current;if(!M)return;const h=new IntersectionObserver(d=>{for(const c of d)c.target===M&&x(c.isIntersecting||c.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return h.observe(M),()=>{h.unobserve(M),h.disconnect()}},[l]),k.useEffect(()=>{if(m||!(g&&!o||a))return;let M=!0;return ce.getThumb(e).then(h=>{if(!M)return;const d=URL.createObjectURL(h);bo.set(e,d),p(d)}).catch(()=>{}),()=>{M=!1}},[e,m,g,o,a]),k.useEffect(()=>{var h;if(!m){S(!1);return}const M=(h=u.current)==null?void 0:h.querySelector("img");M&&M.complete&&M.naturalWidth>0?S(!0):S(!1)},[m]),k.useEffect(()=>{p(bo.get(e)??null)},[e]),y.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:m?y.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:m,alt:t,loading:"lazy",decoding:"async",onLoad:()=>S(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function br(e,t,n){let r=n.initialDeps??[],s,i=!0;function l(){var o,a,u;let m;n.key&&((o=n.debug)!=null&&o.call(n))&&(m=Date.now());const p=e();if(!(p.length!==r.length||p.some((w,S)=>r[S]!==w)))return s;r=p;let x;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(x=Date.now()),s=t(...p),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-m)*100)/100,S=Math.round((Date.now()-x)*100)/100,M=S/16,h=(d,c)=>{for(d=String(d);d.length<c;)d=" "+d;return d};console.info(`%c ${h(S,5)} /${h(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return l.updateDeps=o=>{r=o},l}function fd(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Vy=(e,t)=>Math.abs(e-t)<1.01,Ky=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},hd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},qy=e=>e,Gy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Yy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=l=>{const{width:o,height:a}=l;t({width:Math.round(o),height:Math.round(a)})};if(s(hd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const o=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(hd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},pd={passive:!0},md=typeof window>"u"?!0:"onscrollend"in window,Xy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&md?()=>{}:Ky(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=m=>()=>{const{horizontal:p,isRtl:g}=e.options;s=p?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(s,m)},o=l(!0),a=l(!1);a(),n.addEventListener("scroll",o,pd);const u=e.options.useScrollendEvent&&md;return u&&n.addEventListener("scrollend",a,pd),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",a)}},Jy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Zy=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const l=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class ev{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:qy,rangeExtractor:Gy,onChange:()=>{},measureElement:Jy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=br(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let l=r-1;l>=0;l--){const o=n[l];if(s.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=br(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,l,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=br(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const g of this.laneAssignments.keys())g>=n&&this.laneAssignments.delete(g);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,u),p=new Array(o).fill(void 0);for(let g=0;g<u;g++){const x=m[g];x&&(p[x.lane]=g)}for(let g=u;g<n;g++){const x=i(g),w=this.laneAssignments.get(g);let S,M;if(w!==void 0&&this.options.lanes>1){S=w;const f=p[S],C=f!==void 0?m[f]:void 0;M=C?C.end+this.options.gap:r+s}else{const f=this.options.lanes===1?m[g-1]:this.getFurthestMeasurement(m,g);M=f?f.end+this.options.gap:r+s,S=f?f.lane:g%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(g,S)}const h=a.get(x),d=typeof h=="number"?h:this.options.estimateSize(g),c=M+d;m[g]={index:g,start:M,size:d,end:c,key:x,lane:S},p[S]=g}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=br(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?tv({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=br(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=br(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,l=n.length;i<l;i++){const o=n[i],a=r[o];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return fd(r[cp(0,r.length-1,s=>fd(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(s.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const l=10,o=u=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,u);if(!m){console.warn("Failed to get offset for index:",n);return}const[p,g]=m;this._scrollToOffset(p,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),w=this.getOffsetForIndex(n,g);if(!w){console.warn("Failed to get offset for index:",n);return}Vy(w[0],x)||a(g)})},a=u=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(o=>o===null);){const o=r[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}s=Math.max(...i.filter(o=>o!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const cp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function tv({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let l=cp(0,s,i,n),o=l;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const a=Array(r).fill(0);for(;o<s&&a.some(m=>m<n+t);){const m=e[o];a[m.lane]=m.end,o++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(m=>m>=n);){const m=e[l];u[m.lane]=m.start,l--}l=Math.max(0,l-l%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const gd=typeof document<"u"?k.useLayoutEffect:k.useEffect;function nv(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var l;i?Lu.flushSync(t):t(),(l=e.onChange)==null||l.call(e,s,i)}},[r]=k.useState(()=>new ev(n));return r.setOptions(n),gd(()=>r._didMount(),[]),gd(()=>r._willUpdate()),r}function rv(e){return nv({observeElementRect:Yy,observeElementOffset:Xy,scrollToFn:Zy,...e})}const sv=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),l=(e-t*(i-1))/i,o=l*r.h/r.w,a=o+s+t;return{columns:i,cellW:l,mediaH:o,rowH:a}};function iv({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let l=[],o=0;for(let a=0;a<e.length;a++){const u=e[a];let m=1.333;u.w>0&&u.h>0&&(m=u.w/u.h),l.push({item:u,aspect:m,originalIndex:a}),o+=m;const p=(l.length-1)*r;if(o*n+p>=t){const x=(t-p)/o,w=l.map(S=>({item:S.item,displayW:S.aspect*x,displayH:x,originalIndex:S.originalIndex}));i.push({index:i.length,height:x+s+r,imageH:x,items:w}),l=[],o=0}}if(l.length>0){const a=n,u=l.map(m=>({item:m.item,displayW:m.aspect*a,displayH:a,originalIndex:m.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function lv(e,t,n){const[r,s]=k.useState(0);k.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const p=getComputedStyle(a),g=a.clientWidth-parseFloat(p.paddingLeft)-parseFloat(p.paddingRight);s(g)},m=new ResizeObserver(u);return m.observe(a),u(),()=>m.disconnect()},[]);const i=k.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:iv({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:m,rowH:p}=sv({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),g=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:m,rowH:p,rowCount:g}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),l=rv({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),o=l.getVirtualItems();return k.useEffect(()=>{l.measure()},[i]),{width:r,layout:i,rowVirtualizer:l,virtualRows:o}}function ov(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(o=>o.path===n):0,i=Math.max(1,t);let l=s;if(r.key==="ArrowRight"||r.key==="d")l=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")l=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")l=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")l=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return l}function av({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:l,suppressSelectionHighlight:o=!1,viewMode:a="grid",targetCellSize:u=220}){const[m,p]=k.useState(null),[g,x]=k.useState(null),[w,S]=k.useState(null),[M,h]=k.useState(!1),[d,c]=k.useState(null),[f,C]=k.useState(null),E=k.useRef(null),b=k.useRef(null),j=k.useRef(null),_=12,O=u,F={w:4,h:3},W=44,{width:q,layout:$,rowVirtualizer:he,virtualRows:me}=lv(b,e,{gap:_,targetCell:O,aspect:F,captionH:W,viewMode:a}),fe=k.useMemo(()=>{const R=new Map;for(let K=0;K<e.length;K++)R.set(e[K].path,K);return R},[e]),L=k.useMemo(()=>{if($.mode!=="adaptive")return null;const R=new Map;return $.rows.forEach((K,Y)=>{let re=0;K.items.forEach((J,ae)=>{const B=re+J.displayW/2;R.set(J.item.path,{row:Y,center:B,order:ae}),re+=J.displayW+_})}),R},[$]);k.useEffect(()=>{if(!t.length)return;const R=t[0];d!==R&&c(R)},[t,d]);const D=k.useMemo(()=>{if($.mode!=="adaptive")return null;let R=0;return $.rows.map(K=>{const Y=R;return R+=K.height,{start:Y,height:K.height}})},[$]),Q=k.useRef(null),le=(R,K)=>{try{if(Q.current!=null){try{cancelAnimationFrame(Q.current)}catch{}Q.current=null}const Y=R.scrollTop,re=K-Y;if(Math.abs(re)<1){R.scrollTop=K;return}const J=140,ae=performance.now(),B=we=>1-Math.pow(1-we,3),Ce=we=>{const Ne=Math.min(1,(we-ae)/J),Ae=B(Ne);R.scrollTop=Y+re*Ae,Ne<1?Q.current=requestAnimationFrame(Ce):Q.current=null};Q.current=requestAnimationFrame(Ce)}catch{R.scrollTop=K}},[oe,et]=k.useState(!1);k.useEffect(()=>{const R=b.current;if(!R)return;let K=0;const Y=()=>{et(!0),window.clearTimeout(K),K=window.setTimeout(()=>et(!1),120)};return R.addEventListener("scroll",Y,{passive:!0}),()=>R.removeEventListener("scroll",Y)},[]);const H=$.mode==="grid"?$.columns:Math.max(1,Math.floor(q/(O+_))),Fe=(R,K)=>{if($.mode!=="adaptive")return null;const Y=$.rows[R];if(!Y)return null;let re=0,J=null;for(const ae of Y.items){const B=re+ae.displayW/2,Ce=Math.abs(B-K);(!J||Ce<J.dist)&&(J={path:ae.item.path,dist:Ce}),re+=ae.displayW+_}return J?J.path:null},ge=(R,K)=>{var Ae,Re,Jt,te;if(!e.length)return null;const Y=R??e[0].path;if($.mode!=="adaptive"){const Le=ov(e,H,Y,K);return Le==="open"||Le==null?Le:((Ae=e[Le])==null?void 0:Ae.path)??null}const re=L==null?void 0:L.get(Y);if(!re)return Y;const J=fe.get(Y)??0,ae=K.key;if(ae==="Enter")return"open";if(ae==="ArrowRight"||ae==="d")return((Re=e[Math.min(e.length-1,J+1)])==null?void 0:Re.path)??Y;if(ae==="ArrowLeft"||ae==="a")return((Jt=e[Math.max(0,J-1)])==null?void 0:Jt.path)??Y;const B=ae==="ArrowDown"||ae==="s"?1:ae==="ArrowUp"||ae==="w"?-1:0;if(B===0)return null;const Ce=re.row+B;if(Ce<0||Ce>=(((te=$.rows)==null?void 0:te.length)??0))return Y;const we=re.center;return Fe(Ce,we)??Y};k.useEffect(()=>{const R=b.current;if(!R)return;const K=Y=>{var Ae,Re,Jt,te;const re=ge(f,Y);if(re==null)return;if(Y.preventDefault(),re==="open"){f&&s(f);return}const J=e.find(Le=>Le.path===re);if(!J)return;C(J.path),c(J.path),r([J.path]);try{j.current=J.path}catch{}const ae=$.mode==="grid"?Math.floor((fe.get(J.path)??0)/Math.max(1,$.columns)):((Ae=L==null?void 0:L.get(J.path))==null?void 0:Ae.row)??0,B=R.scrollTop,Ce=B+R.clientHeight,we=$.mode==="adaptive"?((Re=D==null?void 0:D[ae])==null?void 0:Re.start)??0:ae*$.rowH,Ne=$.mode==="adaptive"?we+(((Jt=D==null?void 0:D[ae])==null?void 0:Jt.height)??0):we+$.rowH;(we<B||Ne>Ce)&&le(R,we);try{(te=document.getElementById(`cell-${encodeURIComponent(J.path)}`))==null||te.focus()}catch{}};return R.addEventListener("keydown",K),()=>{R.removeEventListener("keydown",K)}},[e,f,H,s,$,L,D,fe]),k.useLayoutEffect(()=>{var ae;const R=b.current;if(!R||!n||!t||t.length===0)return;const K=t[0],Y=fe.get(K);if(Y==null||Y<0)return;let re=0;if($.mode==="grid")re=Math.floor(Y/Math.max(1,$.columns));else{let B=0,Ce=$.rows.length-1;for(;B<=Ce;){const we=B+Ce>>1,Ne=$.rows[we];if(Y>=Ne.items[0].originalIndex&&Y<=Ne.items[Ne.items.length-1].originalIndex){re=we;break}Y<Ne.items[0].originalIndex?Ce=we-1:B=we+1}}const J=$.mode==="adaptive"?((ae=D==null?void 0:D[re])==null?void 0:ae.start)??0:re*$.rowH;try{R.scrollTop=J}catch{}},[n,$,D]);const Pe=new Set(t),I=!!(m&&g&&M);k.useEffect(()=>{var R;(R=b.current)==null||R.focus()},[]),k.useEffect(()=>{var R;if(o){try{(R=b.current)==null||R.blur()}catch{}try{C(null)}catch{}}},[o]);const G=f?`cell-${encodeURIComponent(f)}`:void 0;return y.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${I?"cursor-zoom-in":""}`,ref:b,tabIndex:0,"aria-activedescendant":G,onMouseDown:()=>{var R;return(R=b.current)==null?void 0:R.focus()},style:{"--gap":`${_}px`},children:y.jsxs("div",{className:"relative w-full",style:{height:he.getTotalSize()},children:[me.map(R=>{var ae;let K=[],Y={},re="";if($.mode==="adaptive"){const B=$.rows[R.index];if(!B)return null;K=B.items,Y={height:B.height,transform:`translate3d(0, ${R.start}px, 0)`,display:"flex",gap:_,paddingBottom:_},re="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const B=R.index*$.columns;K=e.slice(B,B+$.columns).map(we=>({item:we,displayW:$.cellW,displayH:$.mediaH})),Y={transform:`translate3d(0, ${R.start}px, 0)`,gridTemplateColumns:`repeat(${$.columns}, minmax(0, 1fr))`,gap:_,paddingBottom:_},re="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const J=R.index===((ae=me[0])==null?void 0:ae.index);try{if(!oe)for(const{item:B}of K)try{ce.prefetchThumb(B.path)}catch{}}catch{}return y.jsx("div",{className:re,role:"row",style:Y,children:K.map(({item:B,displayW:Ce,displayH:we})=>{const Ne=!o&&(d===B.path||Pe.has(B.path)),Ae=$.mode==="adaptive"?{width:Ce}:{},Re=$.mode==="adaptive"?{height:we}:{},Jt=$.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return y.jsxs("div",{id:`cell-${encodeURIComponent(B.path)}`,className:`relative min-w-0 ${Ne?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Ne,tabIndex:f===B.path?0:-1,onFocus:()=>C(B.path),draggable:!0,style:Ae,onDragStart:te=>{var Le;try{const Qe=Pe.has(B.path)&&t.length>0?t:[B.path];(Le=te.dataTransfer)==null||Le.setData("application/x-lenslet-paths",JSON.stringify(Qe)),te.dataTransfer&&(te.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const Ke=te.currentTarget.querySelector(".cell-content img"),at=document.createElement("div");at.className="drag-ghost";const Qt=document.createElement("img");Qt.draggable=!1,Qt.alt="drag",Ke&&Ke.src&&(Qt.src=Ke.src),at.appendChild(Qt),document.body.appendChild(at);const en=at.getBoundingClientRect().width||150;te.dataTransfer.setDragImage(at,Math.round(en/2),0);const Pt=()=>{try{at.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Pt),window.removeEventListener("pointerup",Pt),document.removeEventListener("visibilitychange",Pt)};window.addEventListener("dragend",Pt),window.addEventListener("pointerup",Pt),document.addEventListener("visibilitychange",Pt)}catch{}},onDragEnd:()=>{},onContextMenu:te=>{te.preventDefault(),te.stopPropagation(),i&&i(te,B.path)},children:[y.jsxs("div",{className:Jt,style:Re,onMouseEnter:()=>{try{ce.prefetchFile(B.path)}catch{}},onDoubleClick:()=>s(B.path),onMouseLeave:()=>{if(w&&(window.clearTimeout(w),S(null)),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null),h(!1)},children:[y.jsx("div",{className:"cell-content absolute inset-0",children:y.jsx(Hy,{path:B.path,name:B.name,selected:Ne,displayW:Ce,displayH:we,ioRoot:b.current,isScrolling:oe,priority:J,onClick:te=>{var Zt;c(B.path),C(B.path);const Le=!!te.shiftKey,Qe=!!(te.ctrlKey||te.metaKey);if(Le){const Ke=j.current??d??t[0]??B.path,at=fe.get(Ke)??e.findIndex(en=>en.path===Ke),Qt=fe.get(B.path)??e.findIndex(en=>en.path===B.path);if(at!==-1&&Qt!==-1){const en=Math.min(at,Qt),Pt=Math.max(at,Qt),vn=e.slice(en,Pt+1).map(kr=>kr.path);if(Qe){const kr=new Set(t);for(const Hl of vn)kr.add(Hl);r(Array.from(kr))}else r(vn)}else r([B.path])}else if(Qe){const Ke=new Set(t);Ke.has(B.path)?Ke.delete(B.path):Ke.add(B.path),r(Array.from(Ke));try{j.current=B.path}catch{}}else{r([B.path]);try{j.current=B.path}catch{}}try{oe||(ce.prefetchFile(B.path),ce.prefetchThumb(B.path))}catch{}try{(Zt=document.getElementById(`cell-${encodeURIComponent(B.path)}`))==null||Zt.focus()}catch{}}})}),y.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(oe)return;w&&window.clearTimeout(w),p(B.path),h(!1);const te=window.setTimeout(async()=>{try{const Le=await ce.getFile(B.path),Qe=URL.createObjectURL(Le);if(E.current)try{URL.revokeObjectURL(E.current)}catch{}E.current=Qe,x(Qe),h(!0)}catch{}},350);S(te)},onMouseLeave:()=>{if(w&&window.clearTimeout(w),S(null),h(!1),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null)},children:y.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:y.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[y.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),y.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),y.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[y.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:B.name,children:(()=>{const te=(l||"").trim();if(!te)return B.name;const Le=B.name,Qe=Le.toLowerCase().indexOf(te.toLowerCase());if(Qe===-1)return B.name;const Zt=Le.slice(0,Qe),Ke=Le.slice(Qe,Qe+te.length),at=Le.slice(Qe+te.length);return y.jsxs(y.Fragment,{children:[Zt,y.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:Ke}),at]})})()}),y.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[B.w,"  ",B.h]})]})]},B.path)})},R.key)}),m&&g&&M&&Lu.createPortal(y.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:y.jsx("img",{src:g,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${H}`)})}function uv(){const[e,t]=k.useState(1),[n,r]=k.useState(0),[s,i]=k.useState(0),[l,o]=k.useState(1),[a,u]=k.useState(!1),[m,p]=k.useState(!1),[g,x]=k.useState(!1),w=k.useRef(null),S=k.useRef(null),M=()=>{const c=w.current,f=S.current;if(!c||!f||!f.naturalWidth||!f.naturalHeight)return;const C=c.getBoundingClientRect(),E=C.width/f.naturalWidth,b=C.height/f.naturalHeight,j=Math.min(1,Math.min(E,b));o(j);const _=f.naturalWidth*j,O=f.naturalHeight*j;r((C.width-_)/2),i((C.height-O)/2)};return k.useEffect(()=>{const c=w.current;if(!c)return;const f=new ResizeObserver(()=>{try{requestAnimationFrame(()=>M())}catch{M()}});return f.observe(c),()=>f.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:l,setBase:o,ready:a,setReady:u,dragging:m,setDragging:p,visible:g,setVisible:x,containerRef:w,imgRef:S,fitAndCenter:M,handleWheel:c=>{c.preventDefault();const f=c.deltaY>0?-1:1,C=1.2,E=.05,b=8,j=w.current;if(!j)return;const _=j.getBoundingClientRect(),O=c.clientX-_.left,F=c.clientY-_.top;t(W=>{const q=Math.min(b,Math.max(E,W*Math.pow(C,f))),$=q/W;return r(he=>O-$*(O-he)),i(he=>F-$*(F-he)),Number(q.toFixed(4))})},handleMouseDown:c=>{const f=w.current,C=S.current;if(!f||!C||c.target!==C)return;const b=f.getBoundingClientRect();if(c.clientX<b.left||c.clientX>b.right||c.clientY<b.top||c.clientY>b.bottom)return;c.preventDefault(),c.stopPropagation(),p(!0);const j=c.clientX,_=c.clientY,O=n,F=s,W=$=>{r(O+($.clientX-j)),i(F+($.clientY-_))},q=()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",q),p(!1)};window.addEventListener("mousemove",W),window.addEventListener("mouseup",q)}}}function cv({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[l,o]=k.useState(null),[a,u]=k.useState(null),{scale:m,setScale:p,tx:g,setTx:x,ty:w,setTy:S,base:M,ready:h,setReady:d,dragging:c,visible:f,setVisible:C,containerRef:E,imgRef:b,fitAndCenter:j,handleWheel:_,handleMouseDown:O}=uv();return k.useEffect(()=>{let F=!0;return ce.getFile(e).then(W=>{F&&o(URL.createObjectURL(W))}).catch(()=>{}),ce.getThumb(e).then(W=>{F&&u(URL.createObjectURL(W))}).catch(()=>{}),requestAnimationFrame(()=>{var W;C(!0),(W=E.current)==null||W.focus()}),()=>{F=!1}},[e]),k.useEffect(()=>{const F=W=>{W.key==="Escape"?(C(!1),setTimeout(t,110)):(W.key==="ArrowRight"||W.key==="d")&&n?n(1):(W.key==="ArrowLeft"||W.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,n]),k.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),k.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),k.useEffect(()=>{d(!1)},[l]),k.useEffect(()=>{r&&r(M*m*100)},[M,m,r]),k.useEffect(()=>{if(s==null)return;const F=E.current;if(!F){i&&i();return}const W=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,M))),q=F.getBoundingClientRect(),$=q.width/2,he=q.height/2;p(me=>{const fe=W/me;return x(L=>$-fe*($-L)),S(L=>he-fe*(he-L)),Number(W.toFixed(4))}),i&&i()},[s,M,i]),y.jsxs("div",{ref:E,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${c?"cursor-grabbing select-none":""} ${f?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:_,onMouseDown:O,onKeyDown:F=>{F.key==="Tab"&&F.preventDefault()},children:[y.jsx("button",{"aria-label":"Close",onClick:F=>{F.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"absolute top-3 right-3 z-10 px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",children:""}),a&&y.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:F=>F.preventDefault(),style:{transform:`translate(${g}px, ${w}px) scale(${M})`,transformOrigin:"0 0",opacity:h?0:.5,filter:"blur(0.25px)"}}),l&&y.jsx("img",{ref:b,src:l,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:F=>{F.preventDefault()},onLoad:F=>{j(),p(1);try{requestAnimationFrame(()=>d(!0))}catch{d(!0)}},onClick:F=>F.stopPropagation(),style:{transform:`translate(${g}px, ${w}px) scale(${M*m})`,transformOrigin:"0 0",opacity:h?.99:0,WebkitUserDrag:"none"}})]})}const dp=e=>["item",e],dv={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function fv(e){return Du({queryKey:dp(e),queryFn:()=>ce.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function hv(e){const t=yi();return Ty({mutationFn:n=>ce.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(dp(e),n)}})}const pv=6;async function Di(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const o=r++,a=e[o];try{await fp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},l=Array.from({length:Math.min(pv,e.length)},()=>i());if(await Promise.all(l),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const js=new Map,jo=new Map;async function fp(e,t,n){const r=n??new Date().toISOString(),s=js.get(e)||{};js.set(e,{...s,...t});const i=jo.get(e);if(i)return i;const l=(async()=>{try{for(;js.has(e);){const o=js.get(e);if(js.delete(e),!o)break;let a;try{a=await ce.getSidecar(e)}catch{a={...dv,updated_at:r}}const u={...a,...o,v:1,updated_at:r,updated_by:"web"};let m=0;const p=3;for(;m<p;)try{await ce.putSidecar(e,u);break}catch(g){if(m++,m>=p)throw g;await new Promise(x=>setTimeout(x,200*Math.pow(2,m)))}}}finally{jo.delete(e)}})();return jo.set(e,l),l}function hp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Zi(e){if(Array.isArray(e))return e.map(Zi);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Zi(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Zi(r)}catch{return e}}return e}function Mo(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function mv(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function gv(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,l=s[0];n+=Mo(e.slice(r,i));let o="#cdd3dd";l.startsWith('"')&&l.trimEnd().endsWith(":")?o="#a7c4ff":l.startsWith('"')?o="#9ad4b5":/true|false|null/.test(l)?o="#c4b4f5":o="#d7c08c",n+=`<span style="color:${o}">${Mo(l)}</span>`,r=i+l.length}return n+=Mo(e.slice(r)),n}function yv({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:l,isLoading:o}=fv(e??""),a=hv(e??""),[u,m]=k.useState(""),[p,g]=k.useState(""),[x,w]=k.useState(null),[S,M]=k.useState(""),[h,d]=k.useState(null),[c,f]=k.useState("idle"),[C,E]=k.useState(!1),[b,j]=k.useState(null),[_,O]=k.useState({}),W=k.useMemo(()=>{const I=n.find(G=>G.path===e);return I&&I.star!==void 0?I.star:null},[n,e])??(l==null?void 0:l.star)??null,q=t.length>1,$=k.useMemo(()=>{const I=new Set(t);return n.filter(G=>I.has(G.path))},[n,t]),he=k.useMemo(()=>$.reduce((I,G)=>I+(G.size||0),0),[$]);k.useEffect(()=>{l&&(m((l.tags||[]).join(", ")),g(l.notes||"")),M(""),d(null),f("idle"),E(!1)},[l==null?void 0:l.updated_at,e]);const me=k.useCallback(()=>l??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[l]);k.useEffect(()=>{if(!e)return;const I=G=>{if(hp(G.target))return;const R=G.key;if(!/^[0-5]$/.test(R))return;G.preventDefault();const K=R==="0"?null:Number(R);if(q&&t.length)Di(t,{star:K}),s==null||s(t,K);else{const Y=me();a.mutate({...Y,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[e,q,t,me,a,s]),k.useEffect(()=>{if(!e){x&&URL.revokeObjectURL(x),w(null);return}let I=!0;return ce.getThumb(e).then(G=>{if(!I)return;const R=URL.createObjectURL(G);w(K=>(K&&URL.revokeObjectURL(K),R))}).catch(()=>{}),()=>{I=!1}},[e]),k.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]);const fe=e?e.split("/").pop()||e:"",L=k.useMemo(()=>{var G;if(fe.includes("."))return fe.slice(fe.lastIndexOf(".")+1).toUpperCase();const I=n.find(R=>R.path===e);return(G=I==null?void 0:I.type)!=null&&G.includes("/")?I.type.split("/")[1].toUpperCase():""},[fe,n,e]),D=k.useMemo(()=>n.find(I=>I.path===e),[n,e]),Q=k.useCallback(async()=>{if(e){f("loading"),d(null);try{const I=await ce.getMetadata(e),G=Zi(I.meta),R=JSON.stringify(G,null,2);M(R),f("loaded")}catch(I){const G=I instanceof Error?I.message:"Failed to load metadata";M(G),d(G),f("error")}}},[e]),le=k.useCallback(()=>{var I;S&&((I=navigator.clipboard)==null||I.writeText(S).then(()=>{E(!0),setTimeout(()=>E(!1),1200)}).catch(G=>{const R=G instanceof Error?G.message:"Copy failed";d(R)}))},[S]),oe=k.useMemo(()=>S?gv(S):"",[S]),et=c==="loading"?"Loading metadata":S||"PNG metadata not loaded yet.",H=c==="loaded"&&!!S,Fe=H?"h-48":"h-24",ge=k.useCallback((I,G)=>{var R;G&&((R=navigator.clipboard)==null||R.writeText(G).then(()=>{j(I),setTimeout(()=>j(K=>K===I?null:K),1e3)}).catch(()=>{}))},[]),Pe=k.useCallback((I,G)=>{if(G&&!_[I]){const R=G.offsetHeight;R&&O(K=>K[I]?K:{...K,[I]:R})}},[_]);return i?y.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&y.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:y.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[x&&y.jsx("img",{src:x,alt:"thumb",className:"block w-full h-full object-contain"}),!!L&&y.jsx("div",{className:"absolute top-1.5 left-1.5 bg-[#1b1b1b] border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:L})]})}),y.jsx("div",{className:"p-3 border-b border-border",children:q?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),y.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),y.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Co(he)]})]}):y.jsx(y.Fragment,{children:y.jsx("div",{className:"font-mono text-text break-all",title:fe,children:fe})})}),y.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[y.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-[#6d6d6d] focus:border-border",placeholder:"Add notes",value:p,onChange:I=>g(I.target.value),onBlur:()=>{if(q&&t.length)Di(t,{notes:p});else{const I=me();a.mutate({...I,notes:p,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Notes for selected items":"Notes"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),y.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-[#6d6d6d] focus:border-border",placeholder:"tag1, tag2",value:u,onChange:I=>m(I.target.value),onBlur:()=>{const I=u.split(",").map(G=>G.trim()).filter(Boolean);if(q&&t.length)Di(t,{tags:I});else{const G=me();a.mutate({...G,tags:I,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&y.jsxs("div",{className:"p-3 border-b border-border",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),y.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[S&&y.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:le,disabled:!S,title:"Copy metadata",children:C?"Copied":"Copy"}),y.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Q,disabled:!e||c==="loading",children:c==="loading"?"Loading":"Show meta"})]})]}),y.jsx("pre",{className:`bg-[#0f0f0f] text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Fe} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:H?y.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:oe}}):et}),h&&y.jsx("div",{className:"text-[11px] text-red-400 mt-1 break-words",children:h})]}),y.jsxs("div",{className:"p-3 border-b border-border",children:[y.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),y.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[y.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),y.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(I=>{const G=(W??0)>=I;return y.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${G?"text-[#e7c46a]":"text-[#6f6f6f]"} hover:border-border hover:text-[#e7c46a] transition-colors`,onClick:()=>{const R=W===I&&!q?null:I;q&&t.length?(s==null||s(t,R),Di(t,{star:R})):e&&(s==null||s([e],R),fp(e,{star:R}))},title:`${I} star${I>1?"s":""} (key ${I})`,"aria-label":`${I} star${I>1?"s":""}`,"aria-pressed":W===I,children:G?"":""},I)})})]}),!q&&D&&y.jsxs("div",{className:"text-[12px] space-y-1",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("dimensions",`${D.w}${D.h}`),children:"Dimensions"}),y.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:I=>Pe("dimensions",I),style:_.dimensions?{minHeight:_.dimensions}:void 0,children:b==="dimensions"?"Copied":`${D.w}${D.h}`})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("size",Co(D.size)),children:"Size"}),y.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:I=>Pe("size",I),style:_.size?{minHeight:_.size}:void 0,children:b==="size"?"Copied":Co(D.size)})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("type",D.type),children:"Type"}),y.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:I=>Pe("type",I),style:_.type?{minHeight:_.type}:void 0,children:b==="type"?"Copied":D.type})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>e&&ge("source",e),children:"Source"}),y.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:I=>Pe("source",I),style:_.source?{minHeight:_.source}:void 0,children:b==="source"?"Copied":e})]}),(()=>{const I=D.metrics||null;if(!I)return null;const G=Object.entries(I).filter(([,re])=>re!=null);if(!G.length)return null;const R=G.sort(([re],[J])=>re.localeCompare(J)),K=R.slice(0,12),Y=R.length-K.length;return y.jsxs("div",{className:"mt-3",children:[y.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),y.jsxs("div",{className:"space-y-1",children:[K.map(([re,J])=>y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted w-24 shrink-0",children:re}),y.jsx("span",{className:"font-mono text-text text-right",children:mv(J)})]},re)),Y>0&&y.jsxs("div",{className:"text-[11px] text-muted",children:["+",Y," more"]})]})]})})()]})]}),y.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):y.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:y.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const vv=(e,t)=>["search",e,t];function wv(e,t){return Du({enabled:!!e.trim(),queryKey:vv(e,t),queryFn:()=>ce.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}function xv(e,t){return!t||!t.and.length?e:e.filter(n=>Sv(n,t.and))}function Sv(e,t){for(const n of t)if(!kv(e,n))return!1;return!0}function kv(e,t){var n;if("stars"in t){const r=t.stars;if(!r||!r.length)return!0;const s=e.star??0;return r.includes(s)}if("metricRange"in t){const{key:r,min:s,max:i}=t.metricRange,l=(n=e.metrics)==null?void 0:n[r];return!(l==null||l<s||l>i)}return!0}function yd(e){const t=e.and.find(n=>"stars"in n);return(t==null?void 0:t.stars)??[]}function Ro(e,t){const n=e.and.filter(r=>!("stars"in r));return t.length?{and:[{stars:t},...n]}:{and:n}}function Ev(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function Cv(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function Nv(e){return e.and.length}const Ml=(e,t)=>e.name.localeCompare(t.name),bv=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?Ml(e,t):n-r},jv=e=>(t,n)=>{var o,a;const r=(o=t.metrics)==null?void 0:o[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,l=s==null;return i&&l?Ml(t,n):i?1:l?-1:r===s?Ml(t,n):r-s};function Mv(e,t){return xv(e,t)}function Rv(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function Tv(e,t){const n=Rv(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function Ov(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return Tv(e,i)}const r=t.kind==="metric"?jv(t.key):t.key==="name"?Ml:bv,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Bs=40;function Pv({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:l}){const o=r&&n.includes(r)?r:n[0],a=k.useMemo(()=>o?vd(e,o,Bs):null,[e,o]),u=k.useMemo(()=>o&&a?vd(t,o,Bs,a):null,[t,o,a]),m=o?Ev(i,o):null,[p,g]=k.useState(null),[x,w]=k.useState(!1),S=k.useRef(null),M=p??m,h=a?{min:a.min,max:a.max}:null,d=(E,b)=>{var F;if(!h||!o)return;const j=(F=S.current)==null?void 0:F.getBoundingClientRect();if(!j)return;const _=pp((E.clientX-j.left)/j.width),O=h.min+(h.max-h.min)*_;g(W=>{const q=(W==null?void 0:W.min)??O,he=_v(q,O);return b&&l(o,he),he})},c=E=>{var b;!h||!o||(E.preventDefault(),w(!0),g(null),(b=S.current)==null||b.setPointerCapture(E.pointerId),d(E,!1))},f=E=>{x&&d(E,!1)},C=E=>{var b;x&&(w(!1),(b=S.current)==null||b.releasePointerCapture(E.pointerId),d(E,!0),setTimeout(()=>g(null),0))};return n.length?y.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),y.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:o,onChange:E=>s(E.target.value),children:n.map(E=>y.jsx("option",{value:E,children:E},E))})]}),a?y.jsxs("div",{className:"rounded-xl border border-border bg-[#161616] p-3",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[y.jsxs("span",{children:["Population: ",a.count]}),y.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),y.jsxs("svg",{ref:S,viewBox:`0 0 ${Bs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-[#121212]",onPointerDown:c,onPointerMove:f,onPointerUp:C,children:[wd(a.bins,"#2e3a4b"),u&&wd(u.bins,"#3a8fff"),M&&h&&Lv(M,h)]}),y.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[y.jsx("span",{children:Ai(h==null?void 0:h.min)}),M?y.jsxs("span",{className:"text-text",children:[Ai(M.min),"  ",Ai(M.max)]}):y.jsx("span",{children:"Drag to filter"}),y.jsx("span",{children:Ai(h==null?void 0:h.max)})]}),y.jsx("div",{className:"flex items-center gap-2 mt-2",children:y.jsx("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>o&&l(o,null),children:"Clear"})})]}):y.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):y.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})}function vd(e,t,n,r){var u;const s=[];for(const m of e){const p=(u=m.metrics)==null?void 0:u[t];p==null||Number.isNaN(p)||s.push(p)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let l=r?r.max:Math.max(...s);i===l&&(l=i+1);const o=new Array(n).fill(0),a=n/(l-i);for(const m of s){const p=Math.max(0,Math.min(n-1,Math.floor((m-i)*a)));o[p]+=1}return{bins:o,min:i,max:l,count:s.length}}function wd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return y.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function Lv(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Bs*pp(Math.min(n,r)),i=Bs*Math.abs(r-n);return y.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function _v(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function pp(e){return e<0?0:e>1?1:e}function Ai(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Fv(e){const[t,n]=k.useState(250),[r,s]=k.useState(240),i=k.useRef(t),l=k.useRef(r);return k.useEffect(()=>{i.current=t},[t]),k.useEffect(()=>{l.current=r},[r]),k.useEffect(()=>{try{const u=window.localStorage,m=Number(u.getItem("leftW"));Number.isFinite(m)&&m>0&&n(m);const p=Number(u.getItem("rightW"));Number.isFinite(p)&&p>0&&s(p)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),g=w=>{const S=w.clientX-p.left,M=200,h=Math.max(M,p.width-l.current-200),d=Math.min(Math.max(S,M),h);n(d)},x=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",x)},onResizeRight:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),g=w=>{const S=w.clientX-p.left,M=p.width-S,h=240,d=Math.max(h,p.width-i.current-200),c=Math.min(Math.max(M,h),d);s(c)},x=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("rightW",String(l.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",x)}}}function Iv({x:e,y:t,items:n}){return y.jsx("div",{className:"fixed z-menu bg-[#1b1b1b] border border-border rounded-lg min-w-[160px] py-1.5 shadow-[0_10px_30px_rgba(0,0,0,0.4)]",role:"menu",style:{left:e,top:t},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>y.jsx("div",{className:`px-3 py-2 text-text cursor-default hover:bg-hover ${r.danger?"text-[#ff6b6b]":""} ${r.disabled?"text-muted cursor-not-allowed":""}`,role:"menuitem","aria-disabled":!!r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:r.label},s))})}function xd(e){return JSON.stringify(e,null,2)}function Sd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),l=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,l].map(o=>t(String(o))).join(",")});return[n,...r].join(`
`)}function To(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function zv(e,t=250){const[n,r]=tl.useState(e);return tl.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Te={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function Dv(){var $u;const[e,t]=k.useState("/"),[n,r]=k.useState(""),[s,i]=k.useState([]),[l,o]=k.useState(null),[a,u]=k.useState(0),[m,p]=k.useState(null),[g,x]=k.useState(100),[w,S]=k.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[M,h]=k.useState(()=>Date.now()),[d,c]=k.useState("adaptive"),[f,C]=k.useState(220),[E,b]=k.useState(!0),[j,_]=k.useState(!0),[O,F]=k.useState("folders"),[W,q]=k.useState([]),[$,he]=k.useState(null),[me,fe]=k.useState({}),L=k.useRef(null),D=k.useRef(null),Q=k.useRef(!1),le=k.useRef(null),{leftW:oe,rightW:et,onResizeLeft:H,onResizeRight:Fe}=Fv(L),[ge,Pe]=k.useState(!1),[I,G]=k.useState(null);k.useEffect(()=>{const N=Vr(dd());t(N);const T=()=>{const A=Vr(dd());o(null),t(Z=>Z===A?Z:(u(se=>se+1),A))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:R,refetch:K,isLoading:Y,isError:re}=ap(e),J=n.trim().length>0,ae=zv(n,250),B=k.useMemo(()=>ae.trim().replace(/\s+/g," "),[ae]),Ce=wv(J?B:"",e),we=k.useMemo(()=>yd(w.filters),[w.filters]),Ne=k.useMemo(()=>{var T;return(J?((T=Ce.data)==null?void 0:T.items)??[]:(R==null?void 0:R.items)??[]).map(A=>({...A,star:me[A.path]!==void 0?me[A.path]:A.star}))},[J,Ce.data,R,me]),Ae=k.useMemo(()=>{const N=Mv(Ne,w.filters);return Ov(N,w.sort,M)},[Ne,w.filters,w.sort,M]),Re=k.useMemo(()=>Ae.map(N=>N.path),[Ae]),Jt=k.useMemo(()=>{const N=Ne,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const A of N){const Z=me[A.path]??A.star??0;T[String(Z)]=(T[String(Z)]||0)+1}return T},[Ne,me]),te=k.useMemo(()=>{const N=new Set;let T=0;for(const A of Ne){const Z=A.metrics;if(Z)for(const se of Object.keys(Z))N.add(se);if(T+=1,T>=250&&N.size>0)break}return Array.from(N).sort()},[Ne]);k.useEffect(()=>{te.length&&S(N=>{const T=N.selectedMetric&&te.includes(N.selectedMetric)?N.selectedMetric:te[0];return T===N.selectedMetric?N:{...N,selectedMetric:T}})},[te]),k.useEffect(()=>{w.sort.kind==="metric"&&(te.includes(w.sort.key)||S(N=>({...N,sort:{kind:"builtin",key:"added",dir:N.sort.dir}})))},[te,w.sort]);const Le=k.useMemo(()=>Nv(w.filters),[w.filters]),Qe=k.useCallback(()=>{S(N=>({...N,filters:Ro(N.filters,[])}))},[]),Zt=k.useCallback((N,T)=>{S(A=>({...A,filters:Cv(A.filters,N,T)}))},[]),Ke=k.useMemo(()=>{const N=[];for(const T of w.filters.and)if("stars"in T){const A=T.stars||[];if(!A.length)continue;const Z=A.filter(gt=>gt>0).sort((gt,Er)=>Er-gt),se=Z.length?Z.join(","):A.includes(0)?"None":"";N.push({id:"stars",label:`Rating: ${se}`,onRemove:()=>Qe()})}else if("metricRange"in T){const{key:A,min:Z,max:se}=T.metricRange;N.push({id:`metric:${A}`,label:`${A}: ${$v(Z,se)}`,onRemove:()=>Zt(A,null)})}return N},[w.filters,Qe,Zt]),at=k.useCallback(N=>{const T=new Set(we);T.has(N)?T.delete(N):T.add(N),S(A=>({...A,filters:Ro(A.filters,Array.from(T))}))},[we]),Qt=k.useCallback(()=>{b(!0),F("metrics")},[]),en=k.useCallback(N=>{S(T=>({...T,sort:N})),N.kind==="builtin"&&N.key==="random"&&h(Date.now())},[]),Pt=k.useCallback(N=>{if(N==="/"||N==="")return"Lenslet | Root";const T=N.split("/").filter(Boolean);if(!T.length)return"Lenslet";const A=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${A}`:`/${A}`}`},[]);k.useEffect(()=>{document.title=Pt(e)},[e,Pt]),k.useEffect(()=>{let N=!0;return ce.getViews().then(T=>{N&&q(T.views||[])}).catch(()=>{N&&q([])}),()=>{N=!1}},[]),k.useEffect(()=>{J&&(i([]),o(null))},[J]),k.useEffect(()=>{try{const N=localStorage.getItem(Te.sortKey),T=localStorage.getItem(Te.sortDir),A=localStorage.getItem(Te.sortSpec),Z=localStorage.getItem(Te.starFilters),se=localStorage.getItem(Te.filterAst),gt=localStorage.getItem(Te.selectedMetric),Er=localStorage.getItem(Te.viewMode),gs=localStorage.getItem(Te.gridItemSize),ys=localStorage.getItem(Te.leftOpen),vs=localStorage.getItem(Te.rightOpen),Qu=(qe=>{if(!qe)return null;const be=No(qe);return!be||typeof be!="object"?null:be.kind==="builtin"&&(be.key==="name"||be.key==="added"||be.key==="random")&&(be.dir==="asc"||be.dir==="desc")||be.kind==="metric"&&typeof be.key=="string"&&be.key.length>0&&(be.dir==="asc"||be.dir==="desc")?be:null})(A)??{kind:"builtin",key:N==="name"||N==="added"||N==="random"?N:"added",dir:T==="asc"||T==="desc"?T:"desc"};Qu.key==="random"&&h(Date.now());let ql=(qe=>{if(!qe)return null;const be=No(qe);return!be||typeof be!="object"||!Array.isArray(be.and)?null:be})(se)??{and:[]};if(Z){const qe=No(Z);if(Array.isArray(qe)){const be=qe.filter(wp=>[0,1,2,3,4,5].includes(wp));ql=Ro(ql,be)}}if(S(qe=>({...qe,sort:Qu,filters:ql,selectedMetric:gt||qe.selectedMetric})),(Er==="grid"||Er==="adaptive")&&c(Er),gs){const qe=Number(gs);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(ys==="0"||ys==="false")&&b(!1),(vs==="0"||vs==="false")&&_(!1)}catch{}},[]),k.useEffect(()=>{try{localStorage.setItem(Te.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Te.sortDir,w.sort.dir),localStorage.setItem(Te.sortSpec,JSON.stringify(w.sort));const N=yd(w.filters);localStorage.setItem(Te.starFilters,JSON.stringify(N)),localStorage.setItem(Te.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Te.selectedMetric,w.selectedMetric):localStorage.removeItem(Te.selectedMetric),localStorage.setItem(Te.viewMode,d),localStorage.setItem(Te.gridItemSize,String(f)),localStorage.setItem(Te.leftOpen,E?"1":"0"),localStorage.setItem(Te.rightOpen,j?"1":"0")}catch{}},[w,d,f,E,j]),k.useEffect(()=>{const N=D.current;if(!N)return;const T=Z=>Math.min(500,Math.max(80,Z)),A=Z=>{Z.ctrlKey&&(Z.preventDefault(),C(se=>T(se+(Z.deltaY<0?20:-20))))};return N.addEventListener("wheel",A,{passive:!1}),()=>N.removeEventListener("wheel",A)},[]),k.useEffect(()=>{if(!l)return;const N=Re.indexOf(l);if(N===-1)return;const T=[Re[N-2],Re[N-1],Re[N+1],Re[N+2]].filter(A=>!!A);for(const A of T)ce.prefetchFile(A),ce.prefetchThumb(A)},[l,Re]),k.useEffect(()=>{var T;if(!((T=R==null?void 0:R.items)!=null&&T.length))return;const N=R.items.slice(0,5);for(const A of N)ce.prefetchFile(A.path)},[R==null?void 0:R.path,R==null?void 0:R.items]);const vn=k.useCallback(N=>{o(null);const T=Vr(N);t(T),Ay(T)},[]),kr=k.useCallback(async()=>{const N=window.prompt("Save Smart Folder as:","New Smart Folder");if(!N)return;const T=Av(N,W),A={id:T,name:N,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},Z=[...W.filter(se=>se.id!==T),A];q(Z),he(T);try{await ce.saveViews({version:1,views:Z})}catch(se){if(se instanceof At&&se.status===403){const gt=new Blob([JSON.stringify({version:1,views:Z},null,2)],{type:"application/json"});el(gt,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",se)}},[e,w,W]);k.useEffect(()=>{if(!$)return;const N=W.find(Z=>Z.id===$);if(!N){he(null);return}const T=N.pool.path===e,A=JSON.stringify(N.view)===JSON.stringify(w);(!T||!A)&&he(null)},[$,W,e,w]);const Hl=k.useCallback(N=>{o(N),Q.current||(window.history.pushState({viewer:!0},"",window.location.href),Q.current=!0)},[]),Au=k.useCallback(()=>{o(null),Q.current&&(Q.current=!1,window.history.back());const N=le.current;if(N){const T=document.getElementById(`cell-${encodeURIComponent(N)}`);T==null||T.focus()}},[]);k.useEffect(()=>{const N=()=>{l&&(Q.current=!1,o(null))};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[l]),k.useEffect(()=>{const N=L.current;if(!N)return;const T=se=>{se.dataTransfer&&Array.from(se.dataTransfer.types).includes("Files")&&(se.preventDefault(),Pe(!0))},A=se=>{const gt=se.relatedTarget;gt&&N.contains(gt)||Pe(!1)},Z=async se=>{var gs,ys;se.preventDefault(),Pe(!1);const gt=Array.from(((gs=se.dataTransfer)==null?void 0:gs.files)??[]);if(!gt.length)return;if(!((((ys=R==null?void 0:R.dirs)==null?void 0:ys.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const vs of gt)try{await ce.uploadFile(e,vs)}catch(Bu){console.error(`Failed to upload ${vs.name}:`,Bu)}K()};return N.addEventListener("dragover",T),N.addEventListener("dragleave",A),N.addEventListener("drop",Z),()=>{N.removeEventListener("dragover",T),N.removeEventListener("dragleave",A),N.removeEventListener("drop",Z)}},[e,($u=R==null?void 0:R.dirs)==null?void 0:$u.length,K]),k.useEffect(()=>{const N=()=>G(null),T=A=>{A.key==="Escape"&&G(null)};return window.addEventListener("click",N),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",N),window.removeEventListener("keydown",T)}},[]),k.useEffect(()=>{const N=T=>{if(!hp(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?_(A=>!A):b(A=>!A);return}if(!l){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),vn($y(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(Ae.map(A=>A.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const A=document.querySelector(".toolbar-right .input");A==null||A.focus()}}}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,Ae,s,l,vn]);const mp=E?`${oe}px`:"0px",gp=j?`${et}px`:"0px",Uu=l??s[0]??null,Vl=Uu?Re.indexOf(Uu):-1,yp=Vl>0,vp=Vl>=0&&Vl<Re.length-1,Kl=k.useCallback(N=>{if(!Re.length)return;const T=l??s[0];if(!T)return;const A=Re.indexOf(T);if(A===-1)return;const Z=Math.min(Re.length-1,Math.max(0,A+N)),se=Re[Z];!se||se===T||(l&&o(se),i([se]))},[Re,l,s]);return y.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:L,style:{"--left":mp,"--right":gp},children:[y.jsx(Oy,{onSearch:r,viewerActive:!!l,onBack:Au,zoomPercent:l?g:void 0,onZoomPercentChange:N=>p(N),sortSpec:w.sort,metricKeys:te,onSortChange:en,filterCount:Le,onOpenFilters:Qt,views:W,activeViewId:$,onApplyView:N=>{he(N.id),S(N.view),vn(N.pool.path)},onSaveView:kr,starFilters:we,onToggleStar:at,onClearStars:Qe,starCounts:Jt,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:C,leftOpen:E,rightOpen:j,onToggleLeft:()=>b(N=>!N),onToggleRight:()=>_(N=>!N),onPrevImage:()=>Kl(-1),onNextImage:()=>Kl(1),canPrevImage:yp,canNextImage:vp}),E&&y.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-[#141414]",children:[y.jsx("button",{className:`w-7 h-7 rounded-md border border-border text-xs flex items-center justify-center ${O==="folders"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Folders",onClick:()=>F("folders"),children:"F"}),y.jsx("button",{className:`w-7 h-7 rounded-md border border-border text-xs flex items-center justify-center ${O==="metrics"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Metrics",onClick:()=>F("metrics"),children:"M"})]}),y.jsx("div",{className:"ml-10 h-full",children:O==="folders"?y.jsxs("div",{className:"h-full flex flex-col",children:[y.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[y.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-2",children:"Smart Folders"}),W.length?y.jsx("div",{className:"flex flex-col gap-1",children:W.map(N=>{const T=N.id===$;return y.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{he(N.id),S(N.view),vn(N.pool.path),F("metrics")},children:N.name},N.id)})}):y.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved views."})]}),y.jsx(Qy,{current:e,roots:[{label:"Root",path:"/"}],data:R,onOpen:N=>{he(null),vn(N)},onContextMenu:(N,T)=>{N.preventDefault(),G({x:N.clientX,y:N.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):y.jsx(Pv,{items:Ne,filteredItems:Ae,metricKeys:te,selectedMetric:w.selectedMetric,onSelectMetric:N=>S(T=>({...T,selectedMetric:N})),filters:w.filters,onChangeRange:Zt})}),y.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:H})]}),y.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:D,children:[y.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Ke.length>0&&y.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:y.jsx("div",{className:"flex flex-wrap gap-2",children:Ke.map(N=>y.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[y.jsx("span",{children:N.label}),y.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${N.label}`,onClick:N.onRemove,children:""})]},N.id))})}),!1,y.jsx("div",{className:"flex-1 min-h-0",children:y.jsx(av,{items:Ae,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:N=>{try{le.current=N}catch{}Hl(N),i([N])},highlight:J?B:"",suppressSelectionHighlight:!!l,viewMode:d,targetCellSize:f,onContextMenuItem:(N,T)=>{N.preventDefault();const A=s.length?s:[T];G({x:N.clientX,y:N.clientY,kind:"grid",payload:{paths:A}})}})})]}),j&&y.jsx(yv,{path:s[0]??null,selectedPaths:s,items:Ae,onResize:Fe,onStarChanged:(N,T)=>{fe(A=>{const Z={...A};for(const se of N)Z[se]=T;return Z})}}),l&&y.jsx(cv,{path:l,onClose:Au,onZoomChange:N=>x(Math.round(N)),requestedZoomPercent:m,onZoomRequestConsumed:()=>p(null),onNavigate:Kl}),ge&&y.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),I&&y.jsx(Bv,{ctx:I,current:e,items:Ae,refetch:K,setCtx:G})]})}function Av(e,t){const n=Uv(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function Uv(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function $v(e,t){return`${kd(e)}${kd(t)}`}function kd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function el(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Bv({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=By(t),l=(c,f)=>c==="/"?`/${f}`:`${c}/${f}`,o=yi(),[a,u]=tl.useState(!1),[m,p]=tl.useState(null),g=()=>new Date().toISOString().replace(/[:.]/g,"-"),x=c=>{const f=C=>c==="/"?!0:C===c||C.startsWith(`${c}/`);o.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const E=typeof C[1]=="string"?C[1]:"";return f(E)}})},w=c=>{const f=Vr(c);return f===""?"/":f},S=async()=>{const c=w(e.payload.path||"/");u(!0);try{await ce.refreshFolder(c),x(c),(t===c||t.startsWith(c==="/"?"/":`${c}/`))&&await r(),za.evictPrefix(c),jr.evictPrefix(c)}catch(f){console.error("Failed to refresh folder:",f)}finally{u(!1),s(null)}},M=async c=>{const f=[c],C=new Set,E=[];for(;f.length;){const b=f.pop();if(!C.has(b)){C.add(b);try{const j=await ce.getFolder(b);E.push(...j.items);for(const _ of j.dirs)_.kind==="branch"&&f.push(l(b,_.name))}catch(j){console.error(`Failed to fetch folder ${b}:`,j)}}}return E},h=c=>async()=>{p(c);const f=e.payload.path||t;try{const C=await M(f),E=To(C),b=c==="csv"?Sd(E):xd(E),j=c==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",_=f==="/"?"root":(f.replace(/^\/+/,"")||"root").replace(/\//g,"_");el(new Blob([b],{type:j}),`metadata_${_}_${g()}.${c}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{p(null),s(null)}},d=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:S},{label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m||a,onClick:h("csv")},{label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m||a,onClick:h("json")}]:(()=>{const c=e.payload.paths??[],f=[];return f.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of c)try{await ce.moveFile(C,"/_trash_")}catch(E){console.error(`Failed to trash ${C}:`,E)}r(),s(null)}}}),i&&(f.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${c.length} file(s) permanently? This cannot be undone.`)){try{await ce.deleteFiles(c)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),f.push({label:"Recover",onClick:async()=>{for(const C of c)try{const b=(await ce.getSidecar(C)).original_position,j=b&&b.split("/").slice(0,-1).join("/")||"/";await ce.moveFile(C,j)}catch(E){console.error(`Failed to recover ${C}:`,E)}r(),s(null)}})),c.length&&(f.push({label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m,onClick:async()=>{p("csv");try{const C=new Set(c),E=n.filter(_=>C.has(_.path)),b=To(E),j=Sd(b);el(new Blob([j],{type:"text/csv;charset=utf-8"}),`metadata_selection_${g()}.csv`)}finally{p(null),s(null)}}}),f.push({label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m,onClick:async()=>{p("json");try{const C=new Set(c),E=n.filter(_=>C.has(_.path)),b=To(E),j=xd(b);el(new Blob([j],{type:"application/json;charset=utf-8"}),`metadata_selection_${g()}.json`)}finally{p(null),s(null)}}})),f})();return y.jsx(Iv,{x:e.x,y:e.y,items:d})}const Qv=new yy({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Wv(){return y.jsx(vy,{client:Qv,children:y.jsx(Dv,{})})}Kh(document.getElementById("root")).render(y.jsx(Wv,{}));
