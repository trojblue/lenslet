var Sp=Object.defineProperty;var Qu=e=>{throw TypeError(e)};var kp=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>kp(e,typeof t!="symbol"?t+"":t,n),Gl=(e,t,n)=>t.has(e)||Qu("Cannot "+n);var y=(e,t,n)=>(Gl(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Qu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(Gl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X=(e,t,n)=>(Gl(e,t,"access private method"),n);var yi=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ep(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},Ll={},zd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Cp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Lp=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Pp=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),Hu=Symbol.iterator;function bp(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var Id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dd=Object.assign,Ad={};function fs(e,t,n){this.props=e,this.context=t,this.refs=Ad,this.updater=n||Id}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ud(){}Ud.prototype=fs.prototype;function Aa(e,t,n){this.props=e,this.context=t,this.refs=Ad,this.updater=n||Id}var Ua=Aa.prototype=new Ud;Ua.constructor=Aa;Dd(Ua,fs.prototype);Ua.isPureReactComponent=!0;var Vu=Array.isArray,$d=Object.prototype.hasOwnProperty,$a={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)$d.call(t,r)&&!Bd.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:fi,type:e,key:i,ref:l,props:s,_owner:$a.current}}function Fp(e,t){return{$$typeof:fi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===fi}function zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ku=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zp(""+e.key):t.toString(36)}function Ui(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case fi:case Cp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Yl(l,0):r,Vu(s)?(n="",e!=null&&(n=e.replace(Ku,"$&/")+"/"),Ui(s,t,n,"",function(u){return u})):s!=null&&(Ba(s)&&(s=Fp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ku,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Vu(e))for(var o=0;o<e.length;o++){i=e[o];var a=r+Yl(i,o);l+=Ui(i,t,n,a,s)}else if(a=bp(e),typeof a=="function")for(e=a.call(e),o=0;!(i=e.next()).done;)i=i.value,a=r+Yl(i,o++),l+=Ui(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function wi(e,t,n){if(e==null)return e;var r=[],s=0;return Ui(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},$i={transition:null},Dp={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:$i,ReactCurrentOwner:$a};function Qd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:wi,forEach:function(e,t,n){wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=fs;te.Fragment=jp;te.Profiler=Mp;te.PureComponent=Aa;te.StrictMode=Np;te.Suspense=Op;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dp;te.act=Qd;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dd({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)$d.call(t,a)&&!Bd.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:fi,type:e.type,key:s,ref:i,props:r,_owner:l}};te.createContext=function(e){return e={$$typeof:Lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rp,_context:e},e.Consumer=e};te.createElement=Wd;te.createFactory=function(e){var t=Wd.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Tp,render:e}};te.isValidElement=Ba;te.lazy=function(e){return{$$typeof:_p,_payload:{_status:-1,_result:e},_init:Ip}};te.memo=function(e,t){return{$$typeof:Pp,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=$i.transition;$i.transition={};try{e()}finally{$i.transition=t}};te.unstable_act=Qd;te.useCallback=function(e,t){return it.current.useCallback(e,t)};te.useContext=function(e){return it.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return it.current.useDeferredValue(e)};te.useEffect=function(e,t){return it.current.useEffect(e,t)};te.useId=function(){return it.current.useId()};te.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return it.current.useMemo(e,t)};te.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};te.useRef=function(e){return it.current.useRef(e)};te.useState=function(e){return it.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return it.current.useTransition()};te.version="18.3.1";zd.exports=te;var S=zd.exports;const tl=Ep(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=S,Up=Symbol.for("react.element"),$p=Symbol.for("react.fragment"),Bp=Object.prototype.hasOwnProperty,Wp=Ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Bp.call(t,r)&&!Qp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Up,type:e,key:i,ref:l,props:s,_owner:Wp.current}}Ll.Fragment=$p;Ll.jsx=Hd;Ll.jsxs=Hd;Fd.exports=Ll;var m=Fd.exports,Vd={exports:{}},xt={},Kd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,D){var Q=F.length;F.push(D);e:for(;0<Q;){var H=Q-1>>>1,Z=F[H];if(0<s(Z,D))F[H]=D,F[Q]=Z,Q=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var D=F[0],Q=F.pop();if(Q!==D){F[0]=Q;e:for(var H=0,Z=F.length,Ue=Z>>>1;H<Ue;){var Fe=2*(H+1)-1,Xt=F[Fe],He=Fe+1,Ve=F[He];if(0>s(Xt,Q))He<Z&&0>s(Ve,Xt)?(F[H]=Ve,F[He]=Q,H=He):(F[H]=Xt,F[Fe]=Q,H=Fe);else if(He<Z&&0>s(Ve,Q))F[H]=Ve,F[He]=Q,H=He;else break e}}return D}function s(F,D){var Q=F.sortIndex-D.sortIndex;return Q!==0?Q:F.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],u=[],g=1,h=null,v=3,w=!1,x=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(F){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=F)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function f(F){if(k=!1,c(F),!x)if(n(a)!==null)x=!0,Ne(C);else{var D=n(u);D!==null&&me(f,D.startTime-F)}}function C(F,D){x=!1,k&&(k=!1,p(M),M=-1),w=!0;var Q=v;try{for(c(D),h=n(a);h!==null&&(!(h.expirationTime>D)||F&&!b());){var H=h.callback;if(typeof H=="function"){h.callback=null,v=h.priorityLevel;var Z=H(h.expirationTime<=D);D=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(a)&&r(a),c(D)}else r(a);h=n(a)}if(h!==null)var Ue=!0;else{var Fe=n(u);Fe!==null&&me(f,Fe.startTime-D),Ue=!1}return Ue}finally{h=null,v=Q,w=!1}}var E=!1,j=null,M=-1,T=5,R=-1;function b(){return!(e.unstable_now()-R<T)}function B(){if(j!==null){var F=e.unstable_now();R=F;var D=!0;try{D=j(!0,F)}finally{D?q():(E=!1,j=null)}}else E=!1}var q;if(typeof d=="function")q=function(){d(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,de=W.port2;W.port1.onmessage=B,q=function(){de.postMessage(null)}}else q=function(){L(B,0)};function Ne(F){j=F,E||(E=!0,q())}function me(F,D){M=L(function(){F(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,Ne(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var Q=v;v=D;try{return F()}finally{v=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,D){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=v;v=F;try{return D()}finally{v=Q}},e.unstable_scheduleCallback=function(F,D,Q){var H=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?H+Q:H):Q=H,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,F={id:g++,callback:D,priorityLevel:F,startTime:Q,expirationTime:Z,sortIndex:-1},Q>H?(F.sortIndex=Q,t(u,F),n(a)===null&&F===n(u)&&(k?(p(M),M=-1):k=!0,me(f,Q-H))):(F.sortIndex=Z,t(a,F),x||w||(x=!0,Ne(C))),F},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(F){var D=v;return function(){var Q=v;v=D;try{return F.apply(this,arguments)}finally{v=Q}}}})(qd);Kd.exports=qd;var Hp=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=S,wt=Hp;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gd=new Set,Ws={};function xr(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Ws[e]=t,e=0;e<t.length;e++)Gd.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Kp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qu={},Gu={};function qp(e){return Oo.call(Gu,e)?!0:Oo.call(qu,e)?!1:Kp.test(e)?Gu[e]=!0:(qu[e]=!0,!1)}function Gp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yp(e,t,n,r){if(t===null||typeof t>"u"||Gp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wa=/[\-:]([a-z])/g;function Qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wa,Qa);Qe[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wa,Qa);Qe[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wa,Qa);Qe[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ha(e,t,n,r){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yp(t,n,s,r)&&(n=null),r||s===null?qp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vn=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),Yd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),qa=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Jd=Symbol.for("react.offscreen"),Yu=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Xl;function Rs(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Jl=!1;function Zl(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var a=`
`+s[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function Xp(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Rr:return"Portal";case Po:return"Profiler";case Va:return"StrictMode";case _o:return"Suspense";case bo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xd:return(e.displayName||"Context")+".Consumer";case Yd:return(e._context.displayName||"Context")+".Provider";case Ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qa:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function Jp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zp(e){var t=Zd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=Zp(e))}function ef(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tf(e,t){t=t.checked,t!=null&&Ha(e,"checked",t,!1)}function Io(e,t){tf(e,t);var n=Qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Do(e,t.type,n):t.hasOwnProperty("defaultValue")&&Do(e,t.type,Qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ju(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Do(e,t,n){(t!=="number"||nl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Ls(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qn(n)}}function nf(e,t){var n=Qn(t.value),r=Qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,sf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},em=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(e){em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_s[t]=_s[e]})});function lf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_s.hasOwnProperty(e)&&_s[e]?(""+t).trim():t+"px"}function of(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var tm=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(e,t){if(t){if(tm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,$r=null,Br=null;function tc(e){if(e=mi(e)){if(typeof Qo!="function")throw Error(_(280));var t=e.stateNode;t&&(t=bl(t),Qo(e.stateNode,e.type,t))}}function af(e){$r?Br?Br.push(e):Br=[e]:$r=e}function uf(){if($r){var e=$r,t=Br;if(Br=$r=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function cf(e,t){return e(t)}function df(){}var eo=!1;function ff(e,t,n){if(eo)return e(t,n);eo=!0;try{return cf(e,t,n)}finally{eo=!1,($r!==null||Br!==null)&&(df(),uf())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Ho=!1;if(hn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Ho=!1}function nm(e,t,n,r,s,i,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(g){this.onError(g)}}var bs=!1,rl=null,sl=!1,Vo=null,rm={onError:function(e){bs=!0,rl=e}};function sm(e,t,n,r,s,i,l,o,a){bs=!1,rl=null,nm.apply(rm,arguments)}function im(e,t,n,r,s,i,l,o,a){if(sm.apply(this,arguments),bs){if(bs){var u=rl;bs=!1,rl=null}else throw Error(_(198));sl||(sl=!0,Vo=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nc(e){if(Sr(e)!==e)throw Error(_(188))}function lm(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nc(s),e;if(i===r)return nc(s),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function pf(e){return e=lm(e),e!==null?mf(e):null}function mf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mf(e);if(t!==null)return t;e=e.sibling}return null}var gf=wt.unstable_scheduleCallback,rc=wt.unstable_cancelCallback,om=wt.unstable_shouldYield,am=wt.unstable_requestPaint,Le=wt.unstable_now,um=wt.unstable_getCurrentPriorityLevel,Ya=wt.unstable_ImmediatePriority,vf=wt.unstable_UserBlockingPriority,il=wt.unstable_NormalPriority,cm=wt.unstable_LowPriority,yf=wt.unstable_IdlePriority,Tl=null,Gt=null;function dm(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:pm,fm=Math.log,hm=Math.LN2;function pm(e){return e>>>=0,e===0?32:31-(fm(e)/hm|0)|0}var Ei=64,Ci=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Ts(o):(i&=l,i!==0&&(r=Ts(i)))}else l=n&~s,l!==0?r=Ts(l):i!==0&&(r=Ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),s=1<<n,r|=e[n],t&=~s;return r}function mm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-At(i),o=1<<l,a=s[l];a===-1?(!(o&n)||o&r)&&(s[l]=mm(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}}function Ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wf(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function vm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ce=0;function xf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sf,Ja,kf,Ef,Cf,qo=!1,ji=[],Fn=null,zn=null,In=null,Vs=new Map,Ks=new Map,kn=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mi(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wm(e,t,n,r,s){switch(t){case"focusin":return Fn=Ss(Fn,e,t,n,r,s),!0;case"dragenter":return zn=Ss(zn,e,t,n,r,s),!0;case"mouseover":return In=Ss(In,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,Ss(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ks.set(i,Ss(Ks.get(i)||null,e,t,n,r,s)),!0}return!1}function jf(e){var t=Jn(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=hf(n),t!==null){e.blockedOn=t,Cf(e.priority,function(){kf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wo=r,n.target.dispatchEvent(r),Wo=null}else return t=mi(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function ic(e,t,n){Bi(e)&&n.delete(t)}function xm(){qo=!1,Fn!==null&&Bi(Fn)&&(Fn=null),zn!==null&&Bi(zn)&&(zn=null),In!==null&&Bi(In)&&(In=null),Vs.forEach(ic),Ks.forEach(ic)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,xm)))}function qs(e){function t(s){return ks(s,e)}if(0<ji.length){ks(ji[0],e);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&ks(Fn,e),zn!==null&&ks(zn,e),In!==null&&ks(In,e),Vs.forEach(t),Ks.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)jf(n),n.blockedOn===null&&kn.shift()}var Wr=vn.ReactCurrentBatchConfig,ol=!0;function Sm(e,t,n,r){var s=ce,i=Wr.transition;Wr.transition=null;try{ce=1,Za(e,t,n,r)}finally{ce=s,Wr.transition=i}}function km(e,t,n,r){var s=ce,i=Wr.transition;Wr.transition=null;try{ce=4,Za(e,t,n,r)}finally{ce=s,Wr.transition=i}}function Za(e,t,n,r){if(ol){var s=Go(e,t,n,r);if(s===null)fo(e,t,r,al,n),sc(e,r);else if(wm(s,e,t,n,r))r.stopPropagation();else if(sc(e,r),t&4&&-1<ym.indexOf(e)){for(;s!==null;){var i=mi(s);if(i!==null&&Sf(i),i=Go(e,t,n,r),i===null&&fo(e,t,r,al,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fo(e,t,r,null,n)}}var al=null;function Go(e,t,n,r){if(al=null,e=Ga(r),e=Jn(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return al=e,null}function Nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(um()){case Ya:return 1;case vf:return 4;case il:case cm:return 16;case yf:return 536870912;default:return 16}default:return 16}}var _n=null,eu=null,Wi=null;function Mf(){if(Wi)return Wi;var e,t=eu,n=t.length,r,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Wi=s.slice(e,1<r?1-r:void 0)}function Qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function lc(){return!1}function St(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:lc,this.isPropagationStopped=lc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=St(hs),pi=xe({},hs,{view:0,detail:0}),Em=St(pi),no,ro,Es,Ol=xe({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(no=e.screenX-Es.screenX,ro=e.screenY-Es.screenY):ro=no=0,Es=e),no)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),oc=St(Ol),Cm=xe({},Ol,{dataTransfer:0}),jm=St(Cm),Nm=xe({},pi,{relatedTarget:0}),so=St(Nm),Mm=xe({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=St(Mm),Lm=xe({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tm=St(Lm),Om=xe({},hs,{data:0}),ac=St(Om),Pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bm[e])?!!t[e]:!1}function nu(){return Fm}var zm=xe({},pi,{key:function(e){if(e.key){var t=Pm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=St(zm),Dm=xe({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=St(Dm),Am=xe({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Um=St(Am),$m=xe({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bm=St($m),Wm=xe({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=St(Wm),Hm=[9,13,27,32],ru=hn&&"CompositionEvent"in window,Fs=null;hn&&"documentMode"in document&&(Fs=document.documentMode);var Vm=hn&&"TextEvent"in window&&!Fs,Rf=hn&&(!ru||Fs&&8<Fs&&11>=Fs),cc=" ",dc=!1;function Lf(e,t){switch(e){case"keyup":return Hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Km(e,t){switch(e){case"compositionend":return Tf(t);case"keypress":return t.which!==32?null:(dc=!0,cc);case"textInput":return e=t.data,e===cc&&dc?null:e;default:return null}}function qm(e,t){if(Tr)return e==="compositionend"||!ru&&Lf(e,t)?(e=Mf(),Wi=eu=_n=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rf&&t.locale!=="ko"?null:t.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gm[e.type]:t==="textarea"}function Of(e,t,n,r){af(r),t=ul(t,"onChange"),0<t.length&&(n=new tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zs=null,Gs=null;function Ym(e){Bf(e,0)}function Pl(e){var t=_r(e);if(ef(t))return e}function Xm(e,t){if(e==="change")return t}var Pf=!1;if(hn){var io;if(hn){var lo="oninput"in document;if(!lo){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),lo=typeof hc.oninput=="function"}io=lo}else io=!1;Pf=io&&(!document.documentMode||9<document.documentMode)}function pc(){zs&&(zs.detachEvent("onpropertychange",_f),Gs=zs=null)}function _f(e){if(e.propertyName==="value"&&Pl(Gs)){var t=[];Of(t,Gs,e,Ga(e)),ff(Ym,t)}}function Jm(e,t,n){e==="focusin"?(pc(),zs=t,Gs=n,zs.attachEvent("onpropertychange",_f)):e==="focusout"&&pc()}function Zm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Gs)}function eg(e,t){if(e==="click")return Pl(t)}function tg(e,t){if(e==="input"||e==="change")return Pl(t)}function ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:ng;function Ys(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ff(){for(var e=window,t=nl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nl(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rg(e){var t=Ff(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bf(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=gc(n,i);var l=gc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sg=hn&&"documentMode"in document&&11>=document.documentMode,Or=null,Yo=null,Is=null,Xo=!1;function vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||Or==null||Or!==nl(r)||(r=Or,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Ys(Is,r)||(Is=r,r=ul(Yo,"onSelect"),0<r.length&&(t=new tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},oo={},zf={};hn&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function _l(e){if(oo[e])return oo[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zf)return oo[e]=t[n];return e}var If=_l("animationend"),Df=_l("animationiteration"),Af=_l("animationstart"),Uf=_l("transitionend"),$f=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){$f.set(e,t),xr(t,[e])}for(var ao=0;ao<yc.length;ao++){var uo=yc[ao],ig=uo.toLowerCase(),lg=uo[0].toUpperCase()+uo.slice(1);Vn(ig,"on"+lg)}Vn(If,"onAnimationEnd");Vn(Df,"onAnimationIteration");Vn(Af,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Uf,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,im(r,t,void 0,e),e.currentTarget=null}function Bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;wc(s,o,u),i=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;wc(s,o,u),i=a}}}if(sl)throw e=Vo,sl=!1,Vo=null,e}function he(e,t){var n=t[na];n===void 0&&(n=t[na]=new Set);var r=e+"__bubble";n.has(r)||(Wf(t,e,2,!1),n.add(r))}function co(e,t,n){var r=0;t&&(r|=4),Wf(n,e,r,t)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Ri]){e[Ri]=!0,Gd.forEach(function(n){n!=="selectionchange"&&(og.has(n)||co(n,!1,e),co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ri]||(t[Ri]=!0,co("selectionchange",!1,t))}}function Wf(e,t,n,r){switch(Nf(t)){case 1:var s=Sm;break;case 4:s=km;break;default:s=Za}n=s.bind(null,t,n,e),s=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function fo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Jn(o),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}o=o.parentNode}}r=r.return}ff(function(){var u=i,g=Ga(n),h=[];e:{var v=$f.get(e);if(v!==void 0){var w=tu,x=e;switch(e){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":w=Im;break;case"focusin":x="focus",w=so;break;case"focusout":x="blur",w=so;break;case"beforeblur":case"afterblur":w=so;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Um;break;case If:case Df:case Af:w=Rm;break;case Uf:w=Bm;break;case"scroll":w=Em;break;case"wheel":w=Qm;break;case"copy":case"cut":case"paste":w=Tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=uc}var k=(t&4)!==0,L=!k&&e==="scroll",p=k?v!==null?v+"Capture":null:v;k=[];for(var d=u,c;d!==null;){c=d;var f=c.stateNode;if(c.tag===5&&f!==null&&(c=f,p!==null&&(f=Hs(d,p),f!=null&&k.push(Js(d,f,c)))),L)break;d=d.return}0<k.length&&(v=new w(v,x,null,n,g),h.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==Wo&&(x=n.relatedTarget||n.fromElement)&&(Jn(x)||x[pn]))break e;if((w||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=u,x=x?Jn(x):null,x!==null&&(L=Sr(x),x!==L||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=u),w!==x)){if(k=oc,f="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=uc,f="onPointerLeave",p="onPointerEnter",d="pointer"),L=w==null?v:_r(w),c=x==null?v:_r(x),v=new k(f,d+"leave",w,n,g),v.target=L,v.relatedTarget=c,f=null,Jn(g)===u&&(k=new k(p,d+"enter",x,n,g),k.target=c,k.relatedTarget=L,f=k),L=f,w&&x)t:{for(k=w,p=x,d=0,c=k;c;c=jr(c))d++;for(c=0,f=p;f;f=jr(f))c++;for(;0<d-c;)k=jr(k),d--;for(;0<c-d;)p=jr(p),c--;for(;d--;){if(k===p||p!==null&&k===p.alternate)break t;k=jr(k),p=jr(p)}k=null}else k=null;w!==null&&xc(h,v,w,k,!1),x!==null&&L!==null&&xc(h,L,x,k,!0)}}e:{if(v=u?_r(u):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var C=Xm;else if(fc(v))if(Pf)C=tg;else{C=Zm;var E=Jm}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=eg);if(C&&(C=C(e,u))){Of(h,C,n,g);break e}E&&E(e,v,u),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Do(v,"number",v.value)}switch(E=u?_r(u):window,e){case"focusin":(fc(E)||E.contentEditable==="true")&&(Or=E,Yo=u,Is=null);break;case"focusout":Is=Yo=Or=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,vc(h,n,g);break;case"selectionchange":if(sg)break;case"keydown":case"keyup":vc(h,n,g)}var j;if(ru)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Tr?Lf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Rf&&n.locale!=="ko"&&(Tr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Tr&&(j=Mf()):(_n=g,eu="value"in _n?_n.value:_n.textContent,Tr=!0)),E=ul(u,M),0<E.length&&(M=new ac(M,e,null,n,g),h.push({event:M,listeners:E}),j?M.data=j:(j=Tf(n),j!==null&&(M.data=j)))),(j=Vm?Km(e,n):qm(e,n))&&(u=ul(u,"onBeforeInput"),0<u.length&&(g=new ac("onBeforeInput","beforeinput",null,n,g),h.push({event:g,listeners:u}),g.data=j))}Bf(h,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hs(e,n),i!=null&&r.unshift(Js(e,i,s)),i=Hs(e,t),i!=null&&r.push(Js(e,i,s))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&u!==null&&(o=u,s?(a=Hs(n,i),a!=null&&l.unshift(Js(n,a,o))):s||(a=Hs(n,i),a!=null&&l.push(Js(n,a,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ag=/\r\n?/g,ug=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(ag,`
`).replace(ug,"")}function Li(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(_(425))}function cl(){}var Jo=null,Zo=null;function ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,dg=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(fg)}:ta;function fg(e){setTimeout(function(){throw e})}function ho(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ec(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),qt="__reactFiber$"+ps,Zs="__reactProps$"+ps,pn="__reactContainer$"+ps,na="__reactEvents$"+ps,hg="__reactListeners$"+ps,pg="__reactHandles$"+ps;function Jn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ec(e);e!==null;){if(n=e[qt])return n;e=Ec(e)}return t}e=n,n=e.parentNode}return null}function mi(e){return e=e[qt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function bl(e){return e[Zs]||null}var ra=[],br=-1;function Kn(e){return{current:e}}function pe(e){0>br||(e.current=ra[br],ra[br]=null,br--)}function fe(e,t){br++,ra[br]=e.current,e.current=t}var Hn={},Ze=Kn(Hn),ft=Kn(!1),hr=Hn;function ls(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function dl(){pe(ft),pe(Ze)}function Cc(e,t,n){if(Ze.current!==Hn)throw Error(_(168));fe(Ze,t),fe(ft,n)}function Qf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,Jp(e)||"Unknown",s));return xe({},n,r)}function fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,hr=Ze.current,fe(Ze,e),fe(ft,ft.current),!0}function jc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Qf(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,pe(ft),pe(Ze),fe(Ze,e)):pe(ft),fe(ft,n)}var rn=null,Fl=!1,po=!1;function Hf(e){rn===null?rn=[e]:rn.push(e)}function mg(e){Fl=!0,Hf(e)}function qn(){if(!po&&rn!==null){po=!0;var e=0,t=ce;try{var n=rn;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Fl=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),gf(Ya,qn),s}finally{ce=t,po=!1}}return null}var Fr=[],zr=0,hl=null,pl=0,jt=[],Nt=0,pr=null,un=1,cn="";function Yn(e,t){Fr[zr++]=pl,Fr[zr++]=hl,hl=e,pl=t}function Vf(e,t,n){jt[Nt++]=un,jt[Nt++]=cn,jt[Nt++]=pr,pr=e;var r=un;e=cn;var s=32-At(r)-1;r&=~(1<<s),n+=1;var i=32-At(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,un=1<<32-At(t)+s|n<<s|r,cn=i+e}else un=1<<i|n<<s|r,cn=e}function iu(e){e.return!==null&&(Yn(e,1),Vf(e,1,0))}function lu(e){for(;e===hl;)hl=Fr[--zr],Fr[zr]=null,pl=Fr[--zr],Fr[zr]=null;for(;e===pr;)pr=jt[--Nt],jt[Nt]=null,cn=jt[--Nt],jt[Nt]=null,un=jt[--Nt],jt[Nt]=null}var yt=null,vt=null,ve=!1,It=null;function Kf(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(ve){var t=vt;if(t){var n=t;if(!Nc(e,t)){if(sa(e))throw Error(_(418));t=Dn(n.nextSibling);var r=yt;t&&Nc(e,t)?Kf(r,n):(e.flags=e.flags&-4097|2,ve=!1,yt=e)}}else{if(sa(e))throw Error(_(418));e.flags=e.flags&-4097|2,ve=!1,yt=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Ti(e){if(e!==yt)return!1;if(!ve)return Mc(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ea(e.type,e.memoizedProps)),t&&(t=vt)){if(sa(e))throw qf(),Error(_(418));for(;t;)Kf(e,t),t=Dn(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?Dn(e.stateNode.nextSibling):null;return!0}function qf(){for(var e=vt;e;)e=Dn(e.nextSibling)}function os(){vt=yt=null,ve=!1}function ou(e){It===null?It=[e]:It.push(e)}var gg=vn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function Gf(e){function t(p,d){if(e){var c=p.deletions;c===null?(p.deletions=[d],p.flags|=16):c.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function s(p,d){return p=Bn(p,d),p.index=0,p.sibling=null,p}function i(p,d,c){return p.index=c,e?(c=p.alternate,c!==null?(c=c.index,c<d?(p.flags|=2,d):c):(p.flags|=2,d)):(p.flags|=1048576,d)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,d,c,f){return d===null||d.tag!==6?(d=So(c,p.mode,f),d.return=p,d):(d=s(d,c),d.return=p,d)}function a(p,d,c,f){var C=c.type;return C===Lr?g(p,d,c.props.children,f,c.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&Rc(C)===d.type)?(f=s(d,c.props),f.ref=Cs(p,d,c),f.return=p,f):(f=Xi(c.type,c.key,c.props,null,p.mode,f),f.ref=Cs(p,d,c),f.return=p,f)}function u(p,d,c,f){return d===null||d.tag!==4||d.stateNode.containerInfo!==c.containerInfo||d.stateNode.implementation!==c.implementation?(d=ko(c,p.mode,f),d.return=p,d):(d=s(d,c.children||[]),d.return=p,d)}function g(p,d,c,f,C){return d===null||d.tag!==7?(d=fr(c,p.mode,f,C),d.return=p,d):(d=s(d,c),d.return=p,d)}function h(p,d,c){if(typeof d=="string"&&d!==""||typeof d=="number")return d=So(""+d,p.mode,c),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xi:return c=Xi(d.type,d.key,d.props,null,p.mode,c),c.ref=Cs(p,null,d),c.return=p,c;case Rr:return d=ko(d,p.mode,c),d.return=p,d;case xn:var f=d._init;return h(p,f(d._payload),c)}if(Ls(d)||ws(d))return d=fr(d,p.mode,c,null),d.return=p,d;Oi(p,d)}return null}function v(p,d,c,f){var C=d!==null?d.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return C!==null?null:o(p,d,""+c,f);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:return c.key===C?a(p,d,c,f):null;case Rr:return c.key===C?u(p,d,c,f):null;case xn:return C=c._init,v(p,d,C(c._payload),f)}if(Ls(c)||ws(c))return C!==null?null:g(p,d,c,f,null);Oi(p,c)}return null}function w(p,d,c,f,C){if(typeof f=="string"&&f!==""||typeof f=="number")return p=p.get(c)||null,o(d,p,""+f,C);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xi:return p=p.get(f.key===null?c:f.key)||null,a(d,p,f,C);case Rr:return p=p.get(f.key===null?c:f.key)||null,u(d,p,f,C);case xn:var E=f._init;return w(p,d,c,E(f._payload),C)}if(Ls(f)||ws(f))return p=p.get(c)||null,g(d,p,f,C,null);Oi(d,f)}return null}function x(p,d,c,f){for(var C=null,E=null,j=d,M=d=0,T=null;j!==null&&M<c.length;M++){j.index>M?(T=j,j=null):T=j.sibling;var R=v(p,j,c[M],f);if(R===null){j===null&&(j=T);break}e&&j&&R.alternate===null&&t(p,j),d=i(R,d,M),E===null?C=R:E.sibling=R,E=R,j=T}if(M===c.length)return n(p,j),ve&&Yn(p,M),C;if(j===null){for(;M<c.length;M++)j=h(p,c[M],f),j!==null&&(d=i(j,d,M),E===null?C=j:E.sibling=j,E=j);return ve&&Yn(p,M),C}for(j=r(p,j);M<c.length;M++)T=w(j,p,M,c[M],f),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?M:T.key),d=i(T,d,M),E===null?C=T:E.sibling=T,E=T);return e&&j.forEach(function(b){return t(p,b)}),ve&&Yn(p,M),C}function k(p,d,c,f){var C=ws(c);if(typeof C!="function")throw Error(_(150));if(c=C.call(c),c==null)throw Error(_(151));for(var E=C=null,j=d,M=d=0,T=null,R=c.next();j!==null&&!R.done;M++,R=c.next()){j.index>M?(T=j,j=null):T=j.sibling;var b=v(p,j,R.value,f);if(b===null){j===null&&(j=T);break}e&&j&&b.alternate===null&&t(p,j),d=i(b,d,M),E===null?C=b:E.sibling=b,E=b,j=T}if(R.done)return n(p,j),ve&&Yn(p,M),C;if(j===null){for(;!R.done;M++,R=c.next())R=h(p,R.value,f),R!==null&&(d=i(R,d,M),E===null?C=R:E.sibling=R,E=R);return ve&&Yn(p,M),C}for(j=r(p,j);!R.done;M++,R=c.next())R=w(j,p,M,R.value,f),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?M:R.key),d=i(R,d,M),E===null?C=R:E.sibling=R,E=R);return e&&j.forEach(function(B){return t(p,B)}),ve&&Yn(p,M),C}function L(p,d,c,f){if(typeof c=="object"&&c!==null&&c.type===Lr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:e:{for(var C=c.key,E=d;E!==null;){if(E.key===C){if(C=c.type,C===Lr){if(E.tag===7){n(p,E.sibling),d=s(E,c.props.children),d.return=p,p=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&Rc(C)===E.type){n(p,E.sibling),d=s(E,c.props),d.ref=Cs(p,E,c),d.return=p,p=d;break e}n(p,E);break}else t(p,E);E=E.sibling}c.type===Lr?(d=fr(c.props.children,p.mode,f,c.key),d.return=p,p=d):(f=Xi(c.type,c.key,c.props,null,p.mode,f),f.ref=Cs(p,d,c),f.return=p,p=f)}return l(p);case Rr:e:{for(E=c.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){n(p,d.sibling),d=s(d,c.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ko(c,p.mode,f),d.return=p,p=d}return l(p);case xn:return E=c._init,L(p,d,E(c._payload),f)}if(Ls(c))return x(p,d,c,f);if(ws(c))return k(p,d,c,f);Oi(p,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,d!==null&&d.tag===6?(n(p,d.sibling),d=s(d,c),d.return=p,p=d):(n(p,d),d=So(c,p.mode,f),d.return=p,p=d),l(p)):n(p,d)}return L}var as=Gf(!0),Yf=Gf(!1),ml=Kn(null),gl=null,Ir=null,au=null;function uu(){au=Ir=gl=null}function cu(e){var t=ml.current;pe(ml),e._currentValue=t}function la(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qr(e,t){gl=e,au=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(gl===null)throw Error(_(308));Ir=e,gl.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Zn=null;function du(e){Zn===null?Zn=[e]:Zn.push(e)}function Xf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,du(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,du(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function Hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}function Lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var s=e.updateQueue;Sn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==l&&(o===null?g.firstBaseUpdate=u:o.next=u,g.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;l=0,g=u=a=null,o=i;do{var v=o.lane,w=o.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,k=o;switch(v=t,w=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){h=x.call(w,h,v);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,v=typeof x=="function"?x.call(w,h,v):x,v==null)break e;h=xe({},h,v);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[o]:v.push(o))}else w={eventTime:w,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(u=g=w,a=h):g=g.next=w,l|=v;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;v=o,o=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(g===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=l,e.lanes=l,e.memoizedState=h}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var gi={},Yt=Kn(gi),ei=Kn(gi),ti=Kn(gi);function er(e){if(e===gi)throw Error(_(174));return e}function hu(e,t){switch(fe(ti,t),fe(ei,e),fe(Yt,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uo(t,e)}pe(Yt),fe(Yt,t)}function us(){pe(Yt),pe(ei),pe(ti)}function Zf(e){er(ti.current);var t=er(Yt.current),n=Uo(t,e.type);t!==n&&(fe(ei,e),fe(Yt,n))}function pu(e){ei.current===e&&(pe(Yt),pe(ei))}var ye=Kn(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mo=[];function mu(){for(var e=0;e<mo.length;e++)mo[e]._workInProgressVersionPrimary=null;mo.length=0}var Vi=vn.ReactCurrentDispatcher,go=vn.ReactCurrentBatchConfig,mr=0,we=null,Pe=null,De=null,wl=!1,Ds=!1,ni=0,vg=0;function Ge(){throw Error(_(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function vu(e,t,n,r,s,i){if(mr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?Sg:kg,e=n(r,s),Ds){i=0;do{if(Ds=!1,ni=0,25<=i)throw Error(_(301));i+=1,De=Pe=null,t.updateQueue=null,Vi.current=Eg,e=n(r,s)}while(Ds)}if(Vi.current=xl,t=Pe!==null&&Pe.next!==null,mr=0,De=Pe=we=null,wl=!1,t)throw Error(_(300));return e}function yu(){var e=ni!==0;return ni=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?we.memoizedState=De=e:De=De.next=e,De}function Tt(){if(Pe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=De===null?we.memoizedState:De.next;if(t!==null)De=t,Pe=e;else{if(e===null)throw Error(_(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},De===null?we.memoizedState=De=e:De=De.next=e}return De}function ri(e,t){return typeof t=="function"?t(e):t}function vo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,a=null,u=i;do{var g=u.lane;if((mr&g)===g)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=h,l=r):a=a.next=h,we.lanes|=g,gr|=g}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=o,$t(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);$t(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function eh(){}function th(e,t){var n=we,r=Tt(),s=t(),i=!$t(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,wu(sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,si(9,rh.bind(null,n,r,s,t),void 0,null),Ae===null)throw Error(_(349));mr&30||nh(n,t,s)}return s}function nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rh(e,t,n,r){t.value=n,t.getSnapshot=r,ih(t)&&lh(e)}function sh(e,t,n){return n(function(){ih(t)&&lh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function lh(e){var t=mn(e,1);t!==null&&Ut(t,e,1,-1)}function Oc(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=xg.bind(null,we,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oh(){return Tt().memoizedState}function Ki(e,t,n,r){var s=Qt();we.flags|=e,s.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var l=Pe.memoizedState;if(i=l.destroy,r!==null&&gu(r,l.deps)){s.memoizedState=si(t,n,i,r);return}}we.flags|=e,s.memoizedState=si(1|t,n,i,r)}function Pc(e,t){return Ki(8390656,8,e,t)}function wu(e,t){return zl(2048,8,e,t)}function ah(e,t){return zl(4,2,e,t)}function uh(e,t){return zl(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dh(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,ch.bind(null,t,e),n)}function xu(){}function fh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ph(e,t,n){return mr&21?($t(n,t)||(n=wf(),we.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function yg(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=go.transition;go.transition={};try{e(!1),t()}finally{ce=n,go.transition=r}}function mh(){return Tt().memoizedState}function wg(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gh(e))vh(t,n);else if(n=Xf(e,t,n,r),n!==null){var s=st();Ut(n,e,r,s),yh(n,t,r)}}function xg(e,t,n){var r=$n(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(e))vh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,$t(o,l)){var a=t.interleaved;a===null?(s.next=s,du(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Xf(e,t,s,r),n!==null&&(s=st(),Ut(n,e,r,s),yh(n,t,r))}}function gh(e){var t=e.alternate;return e===we||t!==null&&t===we}function vh(e,t){Ds=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}var xl={readContext:Lt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Sg={readContext:Lt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4194308,4,ch.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wg.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Oc,useDebugValue:xu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Oc(!1),t=e[0];return e=yg.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Qt();if(ve){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Ae===null)throw Error(_(349));mr&30||nh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Pc(sh.bind(null,r,i,e),[e]),r.flags|=2048,si(9,rh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ae.identifierPrefix;if(ve){var n=cn,r=un;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kg={readContext:Lt,useCallback:fh,useContext:Lt,useEffect:wu,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:vo,useRef:oh,useState:function(){return vo(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Tt();return ph(t,Pe.memoizedState,e)},useTransition:function(){var e=vo(ri)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},Eg={readContext:Lt,useCallback:fh,useContext:Lt,useEffect:wu,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:yo,useRef:oh,useState:function(){return yo(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Tt();return Pe===null?t.memoizedState=e:ph(t,Pe.memoizedState,e)},useTransition:function(){var e=yo(ri)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=$n(e),i=dn(r,s);i.payload=t,n!=null&&(i.callback=n),t=An(e,i,s),t!==null&&(Ut(t,e,s,r),Hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=$n(e),i=dn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=An(e,i,s),t!==null&&(Ut(t,e,s,r),Hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=$n(e),s=dn(n,r);s.tag=2,t!=null&&(s.callback=t),t=An(e,s,r),t!==null&&(Ut(t,e,r,n),Hi(t,e,r))}};function _c(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,i):!0}function wh(e,t,n){var r=!1,s=Hn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ht(t)?hr:Ze.current,r=t.contextTypes,i=(r=r!=null)?ls(e,s):Hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ht(t)?hr:Ze.current,s.context=ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Il.enqueueReplaceState(s,s.state,null),vl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=Xp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cg=typeof WeakMap=="function"?WeakMap:Map;function xh(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,wa=r),ua(e,t)},n}function Sh(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ua(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Dg.bind(null,e,t,n),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var jg=vn.ReactCurrentOwner,dt=!1;function nt(e,t,n,r){t.child=e===null?Yf(t,null,n,r):as(t,e.child,n,r)}function Dc(e,t,n,r,s){n=n.render;var i=t.ref;return Qr(t,s),r=vu(e,t,n,r,i,s),n=yu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(ve&&n&&iu(t),t.flags|=1,nt(e,t,r,s),t.child)}function Ac(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ru(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kh(e,t,i,r,s)):(e=Xi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(l,r)&&e.ref===t.ref)return gn(e,t,s)}return t.flags|=1,e=Bn(i,r),e.ref=t.ref,e.return=t,t.child=e}function kh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ys(i,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,gn(e,t,s)}return ca(e,t,n,r,s)}function Eh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ar,gt),gt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Ar,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Ar,gt),gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,fe(Ar,gt),gt|=r;return nt(e,t,s,n),t.child}function Ch(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,n,r,s){var i=ht(n)?hr:Ze.current;return i=ls(t,i),Qr(t,s),n=vu(e,t,n,r,i,s),r=yu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(ve&&r&&iu(t),t.flags|=1,nt(e,t,n,s),t.child)}function Uc(e,t,n,r,s){if(ht(n)){var i=!0;fl(t)}else i=!1;if(Qr(t,s),t.stateNode===null)qi(e,t),wh(t,n,r),aa(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=ht(n)?hr:Ze.current,u=ls(t,u));var g=n.getDerivedStateFromProps,h=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||a!==u)&&bc(t,l,r,u),Sn=!1;var v=t.memoizedState;l.state=v,vl(t,r,l,s),a=t.memoizedState,o!==r||v!==a||ft.current||Sn?(typeof g=="function"&&(oa(t,n,g,r),a=t.memoizedState),(o=Sn||_c(t,n,o,r,v,a,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Jf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_t(t.type,o),l.props=u,h=t.pendingProps,v=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=ht(n)?hr:Ze.current,a=ls(t,a));var w=n.getDerivedStateFromProps;(g=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||v!==a)&&bc(t,l,r,a),Sn=!1,v=t.memoizedState,l.state=v,vl(t,r,l,s);var x=t.memoizedState;o!==h||v!==x||ft.current||Sn?(typeof w=="function"&&(oa(t,n,w,r),x=t.memoizedState),(u=Sn||_c(t,n,u,r,v,x,a)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return da(e,t,n,r,i,s)}function da(e,t,n,r,s,i){Ch(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&jc(t,n,!1),gn(e,t,i);r=t.stateNode,jg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=as(t,e.child,null,i),t.child=as(t,null,o,i)):nt(e,t,o,i),t.memoizedState=r.state,s&&jc(t,n,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),hu(e,t.containerInfo)}function $c(e,t,n,r,s){return os(),ou(s),t.flags|=256,nt(e,t,n,r),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nh(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(ye,s&1),e===null)return ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ul(l,r,0,null),e=fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ha(n),t.memoizedState=fa,e):Su(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ng(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Bn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Bn(o,i):(i=fr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?ha(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=fa,r}return i=e.child,e=i.sibling,r=Bn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pi(e,t,n,r){return r!==null&&ou(r),as(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ng(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=wo(Error(_(422))),Pi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&as(t,e.child,null,l),t.child.memoizedState=ha(l),t.memoizedState=fa,i);if(!(t.mode&1))return Pi(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(_(419)),r=wo(i,r,void 0),Pi(e,t,l,r)}if(o=(l&e.childLanes)!==0,dt||o){if(r=Ae,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(e,s),Ut(r,e,s,-1))}return Mu(),r=wo(Error(_(421))),Pi(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ag.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=Dn(s.nextSibling),yt=t,ve=!0,It=null,e!==null&&(jt[Nt++]=un,jt[Nt++]=cn,jt[Nt++]=pr,un=e.id,cn=e.overflow,pr=t),t=Su(t,r.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),la(e.return,t,n)}function xo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Mh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(nt(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xo(t,!0,n,null,i);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mg(e,t,n){switch(t.tag){case 3:jh(t),os();break;case 5:Zf(t);break;case 1:ht(t.type)&&fl(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;fe(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Nh(e,t,n):(fe(ye,ye.current&1),e=gn(e,t,n),e!==null?e.sibling:null);fe(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,n)}return gn(e,t,n)}var Rh,pa,Lh,Th;Rh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};Lh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,er(Yt.current);var i=null;switch(n){case"input":s=zo(e,s),r=zo(e,r),i=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),i=[];break;case"textarea":s=Ao(e,s),r=Ao(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cl)}$o(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",e),i||o===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Th=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rg(e,t,n){var r=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ht(t.type)&&dl(),Ye(t),null;case 3:return r=t.stateNode,us(),pe(ft),pe(Ze),mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(ka(It),It=null))),pa(e,t),Ye(t),null;case 5:pu(t);var s=er(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Lh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Ye(t),null}if(e=er(Yt.current),Ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[Zs]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<Os.length;s++)he(Os[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Xu(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":Zu(r,i),he("invalid",r)}$o(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Li(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Li(r.textContent,o,e),s=["children",""+o]):Ws.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&he("scroll",r)}switch(n){case"input":Si(r),Ju(r,i,!0);break;case"textarea":Si(r),ec(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[qt]=t,e[Zs]=r,Rh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bo(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<Os.length;s++)he(Os[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Xu(e,r),s=zo(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),he("invalid",e);break;case"textarea":Zu(e,r),s=Ao(e,r),he("invalid",e);break;default:s=r}$o(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="style"?of(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qs(e,a):typeof a=="number"&&Qs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ws.hasOwnProperty(i)?a!=null&&i==="onScroll"&&he("scroll",e):a!=null&&Ha(e,i,a,l))}switch(n){case"input":Si(e),Ju(e,r,!1);break;case"textarea":Si(e),ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Th(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=er(ti.current),er(Yt.current),Ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Li(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ye(t),null;case 13:if(pe(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&vt!==null&&t.mode&1&&!(t.flags&128))qf(),os(),t.flags|=98560,i=!1;else if(i=Ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[qt]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else It!==null&&(ka(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?be===0&&(be=3):Mu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return us(),pa(e,t),e===null&&Xs(t.stateNode.containerInfo),Ye(t),null;case 10:return cu(t.type._context),Ye(t),null;case 17:return ht(t.type)&&dl(),Ye(t),null;case 19:if(pe(ye),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)js(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=yl(e),l!==null){for(t.flags|=128,js(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>ds&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=yl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ve)return Ye(t),null}else 2*Le()-i.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=ye.current,fe(ye,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Lg(e,t){switch(lu(t),t.tag){case 1:return ht(t.type)&&dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),pe(ft),pe(Ze),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pu(t),null;case 13:if(pe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ye),null;case 4:return us(),null;case 10:return cu(t.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var _i=!1,Je=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,U=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function ma(e,t,n){try{n()}catch(r){je(e,t,r)}}var Wc=!1;function Og(e,t){if(Jo=ol,e=Ff(),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,g=0,h=e,v=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(o=l+s),h!==i||r!==0&&h.nodeType!==3||(a=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(w=h.firstChild)!==null;)v=h,h=w;for(;;){if(h===e)break t;if(v===n&&++u===s&&(o=l),v===i&&++g===r&&(a=l),(w=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=w}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:e,selectionRange:n},ol=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,L=x.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:_t(t.type,k),L);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(f){je(t,t.return,f)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=Wc,Wc=!1,x}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ma(t,n,i)}s=s.next}while(s!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Zs],delete t[na],delete t[hg],delete t[pg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(r!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}var Be=null,zt=!1;function yn(e,t,n){for(n=n.child;n!==null;)_h(e,t,n),n=n.sibling}function _h(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:Je||Dr(n,t);case 6:var r=Be,s=zt;Be=null,yn(e,t,n),Be=r,zt=s,Be!==null&&(zt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(zt?(e=Be,n=n.stateNode,e.nodeType===8?ho(e.parentNode,n):e.nodeType===1&&ho(e,n),qs(e)):ho(Be,n.stateNode));break;case 4:r=Be,s=zt,Be=n.stateNode.containerInfo,zt=!0,yn(e,t,n),Be=r,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ma(n,t,l),s=s.next}while(s!==r)}yn(e,t,n);break;case 1:if(!Je&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){je(n,t,o)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,yn(e,t,n),Je=r):yn(e,t,n);break;default:yn(e,t,n)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tg),t.forEach(function(r){var s=Ug.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,zt=!1;break e;case 3:Be=o.stateNode.containerInfo,zt=!0;break e;case 4:Be=o.stateNode.containerInfo,zt=!0;break e}o=o.return}if(Be===null)throw Error(_(160));_h(i,l,s),Be=null,zt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}function bh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Wt(e),r&4){try{As(3,e,e.return),Dl(3,e)}catch(k){je(e,e.return,k)}try{As(5,e,e.return)}catch(k){je(e,e.return,k)}}break;case 1:Pt(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Pt(t,e),Wt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{Qs(s,"")}catch(k){je(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&tf(s,i),Bo(o,l);var u=Bo(o,i);for(l=0;l<a.length;l+=2){var g=a[l],h=a[l+1];g==="style"?of(s,h):g==="dangerouslySetInnerHTML"?sf(s,h):g==="children"?Qs(s,h):Ha(s,g,h,u)}switch(o){case"input":Io(s,i);break;case"textarea":nf(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Ur(s,!!i.multiple,w,!1):v!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zs]=i}catch(k){je(e,e.return,k)}}break;case 6:if(Pt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){je(e,e.return,k)}}break;case 3:if(Pt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(k){je(e,e.return,k)}break;case 4:Pt(t,e),Wt(e);break;case 13:Pt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=Le())),r&4&&Hc(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||g,Pt(t,e),Je=u):Pt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(U=e,g=e.child;g!==null;){for(h=U=g;U!==null;){switch(v=U,w=v.child,v.tag){case 0:case 11:case 14:case 15:As(4,v,v.return);break;case 1:Dr(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(k){je(r,n,k)}}break;case 5:Dr(v,v.return);break;case 22:if(v.memoizedState!==null){Kc(h);continue}}w!==null?(w.return=v,U=w):Kc(h)}g=g.sibling}e:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,a=h.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=lf("display",l))}catch(k){je(e,e.return,k)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){je(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(t,e),Wt(e),r&4&&Hc(e);break;case 21:break;default:Pt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ph(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qs(s,""),r.flags&=-33);var i=Qc(e);ya(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Qc(e);va(e,o,l);break;default:throw Error(_(161))}}catch(a){je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pg(e,t,n){U=e,Fh(e)}function Fh(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||_i;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||Je;o=_i;var u=Je;if(_i=l,(Je=a)&&!u)for(U=s;U!==null;)l=U,a=l.child,l.tag===22&&l.memoizedState!==null?qc(s):a!==null?(a.return=l,U=a):qc(s);for(;i!==null;)U=i,Fh(i),i=i.sibling;U=s,_i=o,Je=u}Vc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Je||t.flags&512&&ga(t)}catch(v){je(t,t.return,v)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Kc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function qc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(a){je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){je(t,s,a)}}var i=t.return;try{ga(t)}catch(a){je(t,i,a)}break;case 5:var l=t.return;try{ga(t)}catch(a){je(t,l,a)}}}catch(a){je(t,t.return,a)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var _g=Math.ceil,Sl=vn.ReactCurrentDispatcher,ku=vn.ReactCurrentOwner,Rt=vn.ReactCurrentBatchConfig,le=0,Ae=null,Oe=null,We=0,gt=0,Ar=Kn(0),be=0,ii=null,gr=0,Al=0,Eu=0,Us=null,ct=null,Cu=0,ds=1/0,nn=null,kl=!1,wa=null,Un=null,bi=!1,bn=null,El=0,$s=0,xa=null,Gi=-1,Yi=0;function st(){return le&6?Le():Gi!==-1?Gi:Gi=Le()}function $n(e){return e.mode&1?le&2&&We!==0?We&-We:gg.transition!==null?(Yi===0&&(Yi=wf()),Yi):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Nf(e.type)),e):1}function Ut(e,t,n,r){if(50<$s)throw $s=0,xa=null,Error(_(185));hi(e,n,r),(!(le&2)||e!==Ae)&&(e===Ae&&(!(le&2)&&(Al|=n),be===4&&En(e,We)),pt(e,r),n===1&&le===0&&!(t.mode&1)&&(ds=Le()+500,Fl&&qn()))}function pt(e,t){var n=e.callbackNode;gm(e,t);var r=ll(e,e===Ae?We:0);if(r===0)n!==null&&rc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rc(n),t===1)e.tag===0?mg(Gc.bind(null,e)):Hf(Gc.bind(null,e)),dg(function(){!(le&6)&&qn()}),n=null;else{switch(xf(r)){case 1:n=Ya;break;case 4:n=vf;break;case 16:n=il;break;case 536870912:n=yf;break;default:n=il}n=Wh(n,zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zh(e,t){if(Gi=-1,Yi=0,le&6)throw Error(_(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=ll(e,e===Ae?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var s=le;le|=2;var i=Dh();(Ae!==e||We!==t)&&(nn=null,ds=Le()+500,dr(e,t));do try{zg();break}catch(o){Ih(e,o)}while(!0);uu(),Sl.current=i,le=s,Oe!==null?t=0:(Ae=null,We=0,t=be)}if(t!==0){if(t===2&&(s=Ko(e),s!==0&&(r=s,t=Sa(e,s))),t===1)throw n=ii,dr(e,0),En(e,r),pt(e,Le()),n;if(t===6)En(e,r);else{if(s=e.current.alternate,!(r&30)&&!bg(s)&&(t=Cl(e,r),t===2&&(i=Ko(e),i!==0&&(r=i,t=Sa(e,i))),t===1))throw n=ii,dr(e,0),En(e,r),pt(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Xn(e,ct,nn);break;case 3:if(En(e,r),(r&130023424)===r&&(t=Cu+500-Le(),10<t)){if(ll(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ta(Xn.bind(null,e,ct,nn),t);break}Xn(e,ct,nn);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-At(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_g(r/1960))-r,10<r){e.timeoutHandle=ta(Xn.bind(null,e,ct,nn),r);break}Xn(e,ct,nn);break;case 5:Xn(e,ct,nn);break;default:throw Error(_(329))}}}return pt(e,Le()),e.callbackNode===n?zh.bind(null,e):null}function Sa(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=ct,ct=n,t!==null&&ka(t)),e}function ka(e){ct===null?ct=e:ct.push.apply(ct,e)}function bg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~Eu,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(le&6)throw Error(_(327));Hr();var t=ll(e,0);if(!(t&1))return pt(e,Le()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=Ko(e);r!==0&&(t=r,n=Sa(e,r))}if(n===1)throw n=ii,dr(e,0),En(e,t),pt(e,Le()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,ct,nn),pt(e,Le()),null}function ju(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(ds=Le()+500,Fl&&qn())}}function vr(e){bn!==null&&bn.tag===0&&!(le&6)&&Hr();var t=le;le|=1;var n=Rt.transition,r=ce;try{if(Rt.transition=null,ce=1,e)return e()}finally{ce=r,Rt.transition=n,le=t,!(le&6)&&qn()}}function Nu(){gt=Ar.current,pe(Ar)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cg(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:us(),pe(ft),pe(Ze),mu();break;case 5:pu(r);break;case 4:us();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:cu(r.type._context);break;case 22:case 23:Nu()}n=n.return}if(Ae=e,Oe=e=Bn(e.current,null),We=gt=t,be=0,ii=null,Eu=Al=gr=0,ct=Us=null,Zn!==null){for(t=0;t<Zn.length;t++)if(n=Zn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Zn=null}return e}function Ih(e,t){do{var n=Oe;try{if(uu(),Vi.current=xl,wl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wl=!1}if(mr=0,De=Pe=we=null,Ds=!1,ni=0,ku.current=null,n===null||n.return===null){be=1,ii=t,Oe=null;break}e:{var i=e,l=n.return,o=n,a=t;if(t=We,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,g=o,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=zc(l);if(w!==null){w.flags&=-257,Ic(w,l,o,i,t),w.mode&1&&Fc(i,u,t),t=w,a=u;var x=t.updateQueue;if(x===null){var k=new Set;k.add(a),t.updateQueue=k}else x.add(a);break e}else{if(!(t&1)){Fc(i,u,t),Mu();break e}a=Error(_(426))}}else if(ve&&o.mode&1){var L=zc(l);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Ic(L,l,o,i,t),ou(cs(a,o));break e}}i=a=cs(a,o),be!==4&&(be=2),Us===null?Us=[i]:Us.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=xh(i,a,t);Lc(i,p);break e;case 1:o=a;var d=i.type,c=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Un===null||!Un.has(c)))){i.flags|=65536,t&=-t,i.lanes|=t;var f=Sh(i,o,t);Lc(i,f);break e}}i=i.return}while(i!==null)}Uh(n)}catch(C){t=C,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Dh(){var e=Sl.current;return Sl.current=xl,e===null?xl:e}function Mu(){(be===0||be===3||be===2)&&(be=4),Ae===null||!(gr&268435455)&&!(Al&268435455)||En(Ae,We)}function Cl(e,t){var n=le;le|=2;var r=Dh();(Ae!==e||We!==t)&&(nn=null,dr(e,t));do try{Fg();break}catch(s){Ih(e,s)}while(!0);if(uu(),le=n,Sl.current=r,Oe!==null)throw Error(_(261));return Ae=null,We=0,be}function Fg(){for(;Oe!==null;)Ah(Oe)}function zg(){for(;Oe!==null&&!om();)Ah(Oe)}function Ah(e){var t=Bh(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Uh(e):Oe=t,ku.current=null}function Uh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lg(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Oe=null;return}}else if(n=Rg(n,t,gt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);be===0&&(be=5)}function Xn(e,t,n){var r=ce,s=Rt.transition;try{Rt.transition=null,ce=1,Ig(e,t,n,r)}finally{Rt.transition=s,ce=r}return null}function Ig(e,t,n,r){do Hr();while(bn!==null);if(le&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(vm(e,i),e===Ae&&(Oe=Ae=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bi||(bi=!0,Wh(il,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var l=ce;ce=1;var o=le;le|=4,ku.current=null,Og(e,n),bh(n,e),rg(Zo),ol=!!Jo,Zo=Jo=null,e.current=n,Pg(n),am(),le=o,ce=l,Rt.transition=i}else e.current=n;if(bi&&(bi=!1,bn=e,El=s),i=e.pendingLanes,i===0&&(Un=null),dm(n.stateNode),pt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kl)throw kl=!1,e=wa,wa=null,e;return El&1&&e.tag!==0&&Hr(),i=e.pendingLanes,i&1?e===xa?$s++:($s=0,xa=e):$s=0,qn(),null}function Hr(){if(bn!==null){var e=xf(El),t=Rt.transition,n=ce;try{if(Rt.transition=null,ce=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,El=0,le&6)throw Error(_(331));var s=le;for(le|=4,U=e.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var o=i.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for(U=u;U!==null;){var g=U;switch(g.tag){case 0:case 11:case 15:As(8,g,i)}var h=g.child;if(h!==null)h.return=g,U=h;else for(;U!==null;){g=U;var v=g.sibling,w=g.return;if(Oh(g),g===u){U=null;break}if(v!==null){v.return=w,U=v;break}U=w}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var L=k.sibling;k.sibling=null,k=L}while(k!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var d=e.current;for(U=d;U!==null;){l=U;var c=l.child;if(l.subtreeFlags&2064&&c!==null)c.return=l,U=c;else e:for(l=d;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dl(9,o)}}catch(C){je(o,o.return,C)}if(o===l){U=null;break e}var f=o.sibling;if(f!==null){f.return=o.return,U=f;break e}U=o.return}}if(le=s,qn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Tl,e)}catch{}r=!0}return r}finally{ce=n,Rt.transition=t}}return!1}function Yc(e,t,n){t=cs(n,t),t=xh(e,t,1),e=An(e,t,1),t=st(),e!==null&&(hi(e,1,t),pt(e,t))}function je(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=cs(n,e),e=Sh(t,e,1),t=An(t,e,1),e=st(),t!==null&&(hi(t,1,e),pt(t,e));break}}t=t.return}}function Dg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(We&n)===n&&(be===4||be===3&&(We&130023424)===We&&500>Le()-Cu?dr(e,0):Eu|=n),pt(e,t)}function $h(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=st();e=mn(e,t),e!==null&&(hi(e,t,n),pt(e,n))}function Ag(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$h(e,n)}function Ug(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),$h(e,n)}var Bh;Bh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,Mg(e,t,n);dt=!!(e.flags&131072)}else dt=!1,ve&&t.flags&1048576&&Vf(t,pl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var s=ls(t,Ze.current);Qr(t,n),s=vu(null,t,r,e,s,n);var i=yu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(i=!0,fl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fu(t),s.updater=Il,t.stateNode=s,s._reactInternals=t,aa(t,r,e,n),t=da(null,t,r,!0,i,n)):(t.tag=0,ve&&i&&iu(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Bg(r),e=_t(r,e),s){case 0:t=ca(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=Ac(null,t,r,_t(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),ca(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Uc(e,t,r,s,n);case 3:e:{if(jh(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Jf(e,t),vl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cs(Error(_(423)),t),t=$c(e,t,r,n,s);break e}else if(r!==s){s=cs(Error(_(424)),t),t=$c(e,t,r,n,s);break e}else for(vt=Dn(t.stateNode.containerInfo.firstChild),yt=t,ve=!0,It=null,n=Yf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===s){t=gn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Zf(t),e===null&&ia(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,ea(r,s)?l=null:i!==null&&ea(r,i)&&(t.flags|=32),Ch(e,t),nt(e,t,l,n),t.child;case 6:return e===null&&ia(t),null;case 13:return Nh(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Dc(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,fe(ml,r._currentValue),r._currentValue=l,i!==null)if($t(i.value,l)){if(i.children===s.children&&!ft.current){t=gn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=dn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),la(i.return,n,t),o.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(_(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),la(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qr(t,n),s=Lt(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),Ac(e,t,r,s,n);case 15:return kh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),qi(e,t),t.tag=1,ht(r)?(e=!0,fl(t)):e=!1,Qr(t,n),wh(t,r,s),aa(t,r,s,n),da(null,t,r,!0,e,n);case 19:return Mh(e,t,n);case 22:return Eh(e,t,n)}throw Error(_(156,t.tag))};function Wh(e,t){return gf(e,t)}function $g(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new $g(e,t,n,r)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bg(e){if(typeof e=="function")return Ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ka)return 11;if(e===qa)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xi(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Ru(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Lr:return fr(n.children,s,i,t);case Va:l=8,s|=8;break;case Po:return e=Mt(12,n,t,s|2),e.elementType=Po,e.lanes=i,e;case _o:return e=Mt(13,n,t,s),e.elementType=_o,e.lanes=i,e;case bo:return e=Mt(19,n,t,s),e.elementType=bo,e.lanes=i,e;case Jd:return Ul(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yd:l=10;break e;case Xd:l=9;break e;case Ka:l=11;break e;case qa:l=14;break e;case xn:l=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Mt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Jd,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,s,i,l,o,a){return e=new Wg(e,t,n,o,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(i),e}function Qg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qh(e){if(!e)return Hn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(ht(n))return Qf(e,n,t)}return t}function Hh(e,t,n,r,s,i,l,o,a){return e=Lu(n,r,!0,e,s,i,l,o,a),e.context=Qh(null),n=e.current,r=st(),s=$n(n),i=dn(r,s),i.callback=t??null,An(n,i,s),e.current.lanes=s,hi(e,s,r),pt(e,r),e}function $l(e,t,n,r){var s=t.current,i=st(),l=$n(s);return n=Qh(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(s,t,l),e!==null&&(Ut(e,s,l,i),Hi(e,s,l)),l}function jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Hg(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Bl.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));$l(e,t,null,null)};Bl.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){$l(null,e,null,null)}),t[pn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ef();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&jf(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Vg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=jl(l);i.call(u)}}var l=Hh(t,r,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=l,e[pn]=l.current,Xs(e.nodeType===8?e.parentNode:e),vr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=jl(a);o.call(u)}}var a=Lu(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=a,e[pn]=a.current,Xs(e.nodeType===8?e.parentNode:e),vr(function(){$l(t,a,n,r)}),a}function Ql(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var a=jl(l);o.call(a)}}$l(t,l,e,s)}else l=Vg(n,t,e,s,r);return jl(l)}Sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ts(t.pendingLanes);n!==0&&(Xa(t,n|1),pt(t,Le()),!(le&6)&&(ds=Le()+500,qn()))}break;case 13:vr(function(){var r=mn(e,1);if(r!==null){var s=st();Ut(r,e,1,s)}}),Tu(e,1)}};Ja=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=st();Ut(t,e,134217728,n)}Tu(e,134217728)}};kf=function(e){if(e.tag===13){var t=$n(e),n=mn(e,t);if(n!==null){var r=st();Ut(n,e,t,r)}Tu(e,t)}};Ef=function(){return ce};Cf=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Qo=function(e,t,n){switch(t){case"input":if(Io(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bl(r);if(!s)throw Error(_(90));ef(r),Io(r,s)}}}break;case"textarea":nf(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};cf=ju;df=vr;var Kg={usingClientEntryPoint:!1,Events:[mi,_r,bl,af,uf,ju]},Ns={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qg={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Tl=Fi.inject(qg),Gt=Fi}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(_(200));return Qg(e,t,null,n)};xt.createRoot=function(e,t){if(!Pu(e))throw Error(_(299));var n=!1,r="",s=Vh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lu(e,1,!1,null,null,n,!1,r,s),e[pn]=t.current,Xs(e.nodeType===8?e.parentNode:e),new Ou(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=pf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return vr(e)};xt.hydrate=function(e,t,n){if(!Wl(t))throw Error(_(200));return Ql(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Vh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Hh(t,null,e,1,n??null,s,!1,i,l),e[pn]=t.current,Xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bl(t)};xt.render=function(e,t,n){if(!Wl(t))throw Error(_(200));return Ql(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(_(40));return e._reactRootContainer?(vr(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};xt.unstable_batchedUpdates=ju;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Ql(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kh)}catch(e){console.error(e)}}Kh(),Vd.exports=xt;var _u=Vd.exports,qh,Zc=_u;qh=Zc.createRoot,Zc.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Cn,Da,Cd,Yg=(Cd=class{constructor(){V(this,Cn,Gg);V(this,Da,!1)}setTimeoutProvider(e){z(this,Cn,e)}setTimeout(e,t){return y(this,Cn).setTimeout(e,t)}clearTimeout(e){y(this,Cn).clearTimeout(e)}setInterval(e,t){return y(this,Cn).setInterval(e,t)}clearInterval(e){y(this,Cn).clearInterval(e)}},Cn=new WeakMap,Da=new WeakMap,Cd),tr=new Yg;function Xg(e){setTimeout(e,0)}var yr=typeof window>"u"||"Deno"in globalThis;function rt(){}function Jg(e,t){return typeof e=="function"?e(t):e}function Ea(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wn(e,t){return typeof e=="function"?e(t):e}function Ct(e,t){return typeof e=="function"?e(t):e}function ed(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==bu(l,t.options))return!1}else if(!li(t.queryKey,l))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function td(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(wr(t.options.mutationKey)!==wr(i))return!1}else if(!li(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function bu(e,t){return((t==null?void 0:t.queryKeyHashFn)||wr)(e)}function wr(e){return JSON.stringify(e,(t,n)=>Ca(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function li(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>li(e[n],t[n])):!1}var Zg=Object.prototype.hasOwnProperty;function Yh(e,t){if(e===t)return e;const n=nd(e)&&nd(t);if(!n&&!(Ca(e)&&Ca(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,o=n?new Array(l):{};let a=0;for(let u=0;u<l;u++){const g=n?u:i[u],h=e[g],v=t[g];if(h===v){o[g]=h,(n?u<s:Zg.call(e,g))&&a++;continue}if(h===null||v===null||typeof h!="object"||typeof v!="object"){o[g]=v;continue}const w=Yh(h,v);o[g]=w,w===h&&a++}return s===l&&a===s?e:o}function Nl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ca(e){if(!rd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rd(e){return Object.prototype.toString.call(e)==="[object Object]"}function ev(e){return new Promise(t=>{tr.setTimeout(t,e)})}function ja(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Yh(e,t):t}function tv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fu=Symbol();function Xh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Jh(e,t){return typeof e=="function"?e(...t):!!e}function rv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var nr,jn,Kr,jd,sv=(jd=class extends ms{constructor(){super();V(this,nr);V(this,jn);V(this,Kr);z(this,Kr,t=>{if(!yr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,jn)||this.setEventListener(y(this,Kr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,jn))==null||t.call(this),z(this,jn,void 0))}setEventListener(t){var n;z(this,Kr,t),(n=y(this,jn))==null||n.call(this),z(this,jn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,nr)!==t&&(z(this,nr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,nr)=="boolean"?y(this,nr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nr=new WeakMap,jn=new WeakMap,Kr=new WeakMap,jd),zu=new sv;function Na(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var iv=Xg;function lv(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=iv;const i=o=>{t?e.push(o):s(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(a=>{n(a)})})})};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||l()}return a},batchCalls:o=>(...a)=>{i(()=>{o(...a)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var _e=lv(),qr,Nn,Gr,Nd,ov=(Nd=class extends ms{constructor(){super();V(this,qr,!0);V(this,Nn);V(this,Gr);z(this,Gr,t=>{if(!yr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Nn)||this.setEventListener(y(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Nn))==null||t.call(this),z(this,Nn,void 0))}setEventListener(t){var n;z(this,Gr,t),(n=y(this,Nn))==null||n.call(this),z(this,Nn,t(this.setOnline.bind(this)))}setOnline(t){y(this,qr)!==t&&(z(this,qr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,qr)}},qr=new WeakMap,Nn=new WeakMap,Gr=new WeakMap,Nd),Ml=new ov;function av(e){return Math.min(1e3*2**e,3e4)}function Zh(e){return(e??"online")==="online"?Ml.isOnline():!0}var Ma=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ep(e){let t=!1,n=0,r;const s=Na(),i=()=>s.status!=="pending",l=k=>{var L;if(!i()){const p=new Ma(k);v(p),(L=e.onCancel)==null||L.call(e,p)}},o=()=>{t=!0},a=()=>{t=!1},u=()=>zu.isFocused()&&(e.networkMode==="always"||Ml.isOnline())&&e.canRun(),g=()=>Zh(e.networkMode)&&e.canRun(),h=k=>{i()||(r==null||r(),s.resolve(k))},v=k=>{i()||(r==null||r(),s.reject(k))},w=()=>new Promise(k=>{var L;r=p=>{(i()||u())&&k(p)},(L=e.onPause)==null||L.call(e)}).then(()=>{var k;r=void 0,i()||(k=e.onContinue)==null||k.call(e)}),x=()=>{if(i())return;let k;const L=n===0?e.initialPromise:void 0;try{k=L??e.fn()}catch(p){k=Promise.reject(p)}Promise.resolve(k).then(h).catch(p=>{var E;if(i())return;const d=e.retry??(yr?0:3),c=e.retryDelay??av,f=typeof c=="function"?c(n,p):c,C=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,p);if(t||!C){v(p);return}n++,(E=e.onFail)==null||E.call(e,n,p),ev(f).then(()=>u()?void 0:w()).then(()=>{t?v(p):x()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:a,canStart:g,start:()=>(g()?x():w().then(x),s)}}var rr,Md,tp=(Md=class{constructor(){V(this,rr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ea(this.gcTime)&&z(this,rr,tr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yr?1/0:5*60*1e3))}clearGcTimeout(){y(this,rr)&&(tr.clearTimeout(y(this,rr)),z(this,rr,void 0))}},rr=new WeakMap,Md),sr,Yr,Et,ir,Ie,oi,lr,bt,tn,Rd,uv=(Rd=class extends tp{constructor(t){super();V(this,bt);V(this,sr);V(this,Yr);V(this,Et);V(this,ir);V(this,Ie);V(this,oi);V(this,lr);z(this,lr,!1),z(this,oi,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,ir,t.client),z(this,Et,y(this,ir).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,sr,id(this.options)),this.state=t.state??y(this,sr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,Ie))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,oi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=id(this.options);n.data!==void 0&&(this.setState(sd(n.data,n.dataUpdatedAt)),z(this,sr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Et).remove(this)}setData(t,n){const r=ja(this.state.data,t,this.options);return X(this,bt,tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){X(this,bt,tn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,Ie))==null?void 0:r.promise;return(s=y(this,Ie))==null||s.cancel(t),n?n.then(rt).catch(rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,sr))}isActive(){return this.observers.some(t=>Ct(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Gh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Ie))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Ie))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Et).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,Ie)&&(y(this,lr)?y(this,Ie).cancel({revert:!0}):y(this,Ie).cancelRetry()),this.scheduleGc()),y(this,Et).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,bt,tn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,g,h,v,w,x,k,L,p,d,c;if(this.state.fetchStatus!=="idle"&&((a=y(this,Ie))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,Ie))return y(this,Ie).continueRetry(),y(this,Ie).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(C=>C.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(z(this,lr,!0),r.signal)})},i=()=>{const f=Xh(this.options,n),E=(()=>{const j={client:y(this,ir),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return z(this,lr,!1),this.options.persister?this.options.persister(f,E,this):f(E)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,ir),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),z(this,Yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=o.fetchOptions)==null?void 0:g.meta))&&X(this,bt,tn).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),z(this,Ie,ep({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:f=>{f instanceof Ma&&f.revert&&this.setState({...y(this,Yr),fetchStatus:"idle"}),r.abort()},onFail:(f,C)=>{X(this,bt,tn).call(this,{type:"failed",failureCount:f,error:C})},onPause:()=>{X(this,bt,tn).call(this,{type:"pause"})},onContinue:()=>{X(this,bt,tn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const f=await y(this,Ie).start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),(w=(v=y(this,Et).config).onSuccess)==null||w.call(v,f,this),(k=(x=y(this,Et).config).onSettled)==null||k.call(x,f,this.state.error,this),f}catch(f){if(f instanceof Ma){if(f.silent)return y(this,Ie).promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw X(this,bt,tn).call(this,{type:"error",error:f}),(p=(L=y(this,Et).config).onError)==null||p.call(L,f,this),(c=(d=y(this,Et).config).onSettled)==null||c.call(d,this.state.data,f,this),f}finally{this.scheduleGc()}}},sr=new WeakMap,Yr=new WeakMap,Et=new WeakMap,ir=new WeakMap,Ie=new WeakMap,oi=new WeakMap,lr=new WeakMap,bt=new WeakSet,tn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...np(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...sd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,Yr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Et).notify({query:this,type:"updated",action:t})})},Rd);function np(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function id(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var at,re,ai,et,or,Xr,sn,Mn,ui,Jr,Zr,ar,ur,Rn,es,ae,Ps,Ra,La,Ta,Oa,Pa,_a,ba,rp,Ld,cv=(Ld=class extends ms{constructor(t,n){super();V(this,ae);V(this,at);V(this,re);V(this,ai);V(this,et);V(this,or);V(this,Xr);V(this,sn);V(this,Mn);V(this,ui);V(this,Jr);V(this,Zr);V(this,ar);V(this,ur);V(this,Rn);V(this,es,new Set);this.options=n,z(this,at,t),z(this,Mn,null),z(this,sn,Na()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,re).addObserver(this),ld(y(this,re),this.options)?X(this,ae,Ps).call(this):this.updateResult(),X(this,ae,Oa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fa(y(this,re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fa(y(this,re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ae,Pa).call(this),X(this,ae,_a).call(this),y(this,re).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,re);if(this.options=y(this,at).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ct(this.options.enabled,y(this,re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ae,ba).call(this),y(this,re).setOptions(this.options),n._defaulted&&!Nl(this.options,n)&&y(this,at).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,re),observer:this});const s=this.hasListeners();s&&od(y(this,re),r,this.options,n)&&X(this,ae,Ps).call(this),this.updateResult(),s&&(y(this,re)!==r||Ct(this.options.enabled,y(this,re))!==Ct(n.enabled,y(this,re))||Wn(this.options.staleTime,y(this,re))!==Wn(n.staleTime,y(this,re)))&&X(this,ae,Ra).call(this);const i=X(this,ae,La).call(this);s&&(y(this,re)!==r||Ct(this.options.enabled,y(this,re))!==Ct(n.enabled,y(this,re))||i!==y(this,Rn))&&X(this,ae,Ta).call(this,i)}getOptimisticResult(t){const n=y(this,at).getQueryCache().build(y(this,at),t),r=this.createResult(n,t);return fv(this,r)&&(z(this,et,r),z(this,Xr,this.options),z(this,or,y(this,re).state)),r}getCurrentResult(){return y(this,et)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,sn).status==="pending"&&y(this,sn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){y(this,es).add(t)}getCurrentQuery(){return y(this,re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,at).defaultQueryOptions(t),r=y(this,at).getQueryCache().build(y(this,at),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return X(this,ae,Ps).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,et)))}createResult(t,n){var T;const r=y(this,re),s=this.options,i=y(this,et),l=y(this,or),o=y(this,Xr),u=t!==r?t.state:y(this,ai),{state:g}=t;let h={...g},v=!1,w;if(n._optimisticResults){const R=this.hasListeners(),b=!R&&ld(t,n),B=R&&od(t,r,n,s);(b||B)&&(h={...h,...np(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:k,status:L}=h;w=h.data;let p=!1;if(n.placeholderData!==void 0&&w===void 0&&L==="pending"){let R;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,p=!0):R=typeof n.placeholderData=="function"?n.placeholderData((T=y(this,Zr))==null?void 0:T.state.data,y(this,Zr)):n.placeholderData,R!==void 0&&(L="success",w=ja(i==null?void 0:i.data,R,n),v=!0)}if(n.select&&w!==void 0&&!p)if(i&&w===(l==null?void 0:l.data)&&n.select===y(this,ui))w=y(this,Jr);else try{z(this,ui,n.select),w=n.select(w),w=ja(i==null?void 0:i.data,w,n),z(this,Jr,w),z(this,Mn,null)}catch(R){z(this,Mn,R)}y(this,Mn)&&(x=y(this,Mn),w=y(this,Jr),k=Date.now(),L="error");const d=h.fetchStatus==="fetching",c=L==="pending",f=L==="error",C=c&&d,E=w!==void 0,M={status:L,fetchStatus:h.fetchStatus,isPending:c,isSuccess:L==="success",isError:f,isInitialLoading:C,isLoading:C,data:w,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:k,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!c,isLoadingError:f&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:f&&E,isStale:Iu(t,n),refetch:this.refetch,promise:y(this,sn),isEnabled:Ct(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=q=>{M.status==="error"?q.reject(M.error):M.data!==void 0&&q.resolve(M.data)},b=()=>{const q=z(this,sn,M.promise=Na());R(q)},B=y(this,sn);switch(B.status){case"pending":t.queryHash===r.queryHash&&R(B);break;case"fulfilled":(M.status==="error"||M.data!==B.value)&&b();break;case"rejected":(M.status!=="error"||M.error!==B.reason)&&b();break}}return M}updateResult(){const t=y(this,et),n=this.createResult(y(this,re),this.options);if(z(this,or,y(this,re).state),z(this,Xr,this.options),y(this,or).data!==void 0&&z(this,Zr,y(this,re)),Nl(n,t))return;z(this,et,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,es).size)return!0;const l=new Set(i??y(this,es));return this.options.throwOnError&&l.add("error"),Object.keys(y(this,et)).some(o=>{const a=o;return y(this,et)[a]!==t[a]&&l.has(a)})};X(this,ae,rp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ae,Oa).call(this)}},at=new WeakMap,re=new WeakMap,ai=new WeakMap,et=new WeakMap,or=new WeakMap,Xr=new WeakMap,sn=new WeakMap,Mn=new WeakMap,ui=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,ar=new WeakMap,ur=new WeakMap,Rn=new WeakMap,es=new WeakMap,ae=new WeakSet,Ps=function(t){X(this,ae,ba).call(this);let n=y(this,re).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rt)),n},Ra=function(){X(this,ae,Pa).call(this);const t=Wn(this.options.staleTime,y(this,re));if(yr||y(this,et).isStale||!Ea(t))return;const r=Gh(y(this,et).dataUpdatedAt,t)+1;z(this,ar,tr.setTimeout(()=>{y(this,et).isStale||this.updateResult()},r))},La=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,re)):this.options.refetchInterval)??!1},Ta=function(t){X(this,ae,_a).call(this),z(this,Rn,t),!(yr||Ct(this.options.enabled,y(this,re))===!1||!Ea(y(this,Rn))||y(this,Rn)===0)&&z(this,ur,tr.setInterval(()=>{(this.options.refetchIntervalInBackground||zu.isFocused())&&X(this,ae,Ps).call(this)},y(this,Rn)))},Oa=function(){X(this,ae,Ra).call(this),X(this,ae,Ta).call(this,X(this,ae,La).call(this))},Pa=function(){y(this,ar)&&(tr.clearTimeout(y(this,ar)),z(this,ar,void 0))},_a=function(){y(this,ur)&&(tr.clearInterval(y(this,ur)),z(this,ur,void 0))},ba=function(){const t=y(this,at).getQueryCache().build(y(this,at),this.options);if(t===y(this,re))return;const n=y(this,re);z(this,re,t),z(this,ai,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},rp=function(t){_e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,et))}),y(this,at).getQueryCache().notify({query:y(this,re),type:"observerResultsUpdated"})})},Ld);function dv(e,t){return Ct(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ld(e,t){return dv(e,t)||e.state.data!==void 0&&Fa(e,t,t.refetchOnMount)}function Fa(e,t,n){if(Ct(t.enabled,e)!==!1&&Wn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Iu(e,t)}return!1}function od(e,t,n,r){return(e!==t||Ct(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Iu(e,n)}function Iu(e,t){return Ct(t.enabled,e)!==!1&&e.isStaleByTime(Wn(t.staleTime,e))}function fv(e,t){return!Nl(e.getCurrentResult(),t)}function ad(e){return{onFetch:(t,n)=>{var g,h,v,w,x;const r=t.options,s=(v=(h=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:h.fetchMore)==null?void 0:v.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},a=0;const u=async()=>{let k=!1;const L=c=>{rv(c,()=>t.signal,()=>k=!0)},p=Xh(t.options,t.fetchOptions),d=async(c,f,C)=>{if(k)return Promise.reject();if(f==null&&c.pages.length)return Promise.resolve(c);const j=(()=>{const b={client:t.client,queryKey:t.queryKey,pageParam:f,direction:C?"backward":"forward",meta:t.options.meta};return L(b),b})(),M=await p(j),{maxPages:T}=t.options,R=C?nv:tv;return{pages:R(c.pages,M,T),pageParams:R(c.pageParams,f,T)}};if(s&&i.length){const c=s==="backward",f=c?hv:ud,C={pages:i,pageParams:l},E=f(r,C);o=await d(C,E,c)}else{const c=e??i.length;do{const f=a===0?l[0]??r.initialPageParam:ud(r,o);if(a>0&&f==null)break;o=await d(o,f),a++}while(a<c)}return o};t.options.persister?t.fetchFn=()=>{var k,L;return(L=(k=t.options).persister)==null?void 0:L.call(k,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ud(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hv(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ci,Ht,tt,cr,Vt,wn,Td,pv=(Td=class extends tp{constructor(t){super();V(this,Vt);V(this,ci);V(this,Ht);V(this,tt);V(this,cr);z(this,ci,t.client),this.mutationId=t.mutationId,z(this,tt,t.mutationCache),z(this,Ht,[]),this.state=t.state||sp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Ht).includes(t)||(y(this,Ht).push(t),this.clearGcTimeout(),y(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,Ht,y(this,Ht).filter(n=>n!==t)),this.scheduleGc(),y(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Ht).length||(this.state.status==="pending"?this.scheduleGc():y(this,tt).remove(this))}continue(){var t;return((t=y(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,a,u,g,h,v,w,x,k,L,p,d,c,f,C,E,j,M,T;const n=()=>{X(this,Vt,wn).call(this,{type:"continue"})},r={client:y(this,ci),meta:this.options.meta,mutationKey:this.options.mutationKey};z(this,cr,ep({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,b)=>{X(this,Vt,wn).call(this,{type:"failed",failureCount:R,error:b})},onPause:()=>{X(this,Vt,wn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,tt).canRun(this)}));const s=this.state.status==="pending",i=!y(this,cr).canStart();try{if(s)n();else{X(this,Vt,wn).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=y(this,tt).config).onMutate)==null?void 0:o.call(l,t,this,r));const b=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));b!==this.state.context&&X(this,Vt,wn).call(this,{type:"pending",context:b,variables:t,isPaused:i})}const R=await y(this,cr).start();return await((h=(g=y(this,tt).config).onSuccess)==null?void 0:h.call(g,R,t,this.state.context,this,r)),await((w=(v=this.options).onSuccess)==null?void 0:w.call(v,R,t,this.state.context,r)),await((k=(x=y(this,tt).config).onSettled)==null?void 0:k.call(x,R,null,this.state.variables,this.state.context,this,r)),await((p=(L=this.options).onSettled)==null?void 0:p.call(L,R,null,t,this.state.context,r)),X(this,Vt,wn).call(this,{type:"success",data:R}),R}catch(R){try{await((c=(d=y(this,tt).config).onError)==null?void 0:c.call(d,R,t,this.state.context,this,r))}catch(b){Promise.reject(b)}try{await((C=(f=this.options).onError)==null?void 0:C.call(f,R,t,this.state.context,r))}catch(b){Promise.reject(b)}try{await((j=(E=y(this,tt).config).onSettled)==null?void 0:j.call(E,void 0,R,this.state.variables,this.state.context,this,r))}catch(b){Promise.reject(b)}try{await((T=(M=this.options).onSettled)==null?void 0:T.call(M,void 0,R,t,this.state.context,r))}catch(b){Promise.reject(b)}throw X(this,Vt,wn).call(this,{type:"error",error:R}),R}finally{y(this,tt).runNext(this)}}},ci=new WeakMap,Ht=new WeakMap,tt=new WeakMap,cr=new WeakMap,Vt=new WeakSet,wn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_e.batch(()=>{y(this,Ht).forEach(r=>{r.onMutationUpdate(t)}),y(this,tt).notify({mutation:this,type:"updated",action:t})})},Td);function sp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,Ft,di,Od,mv=(Od=class extends ms{constructor(t={}){super();V(this,ln);V(this,Ft);V(this,di);this.config=t,z(this,ln,new Set),z(this,Ft,new Map),z(this,di,0)}build(t,n,r){const s=new pv({client:t,mutationCache:this,mutationId:++yi(this,di)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,ln).add(t);const n=zi(t);if(typeof n=="string"){const r=y(this,Ft).get(n);r?r.push(t):y(this,Ft).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,ln).delete(t)){const n=zi(t);if(typeof n=="string"){const r=y(this,Ft).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,Ft).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=zi(t);if(typeof n=="string"){const r=y(this,Ft).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=zi(t);if(typeof n=="string"){const s=(r=y(this,Ft).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_e.batch(()=>{y(this,ln).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,ln).clear(),y(this,Ft).clear()})}getAll(){return Array.from(y(this,ln))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>td(n,r))}findAll(t={}){return this.getAll().filter(n=>td(t,n))}notify(t){_e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _e.batch(()=>Promise.all(t.map(n=>n.continue().catch(rt))))}},ln=new WeakMap,Ft=new WeakMap,di=new WeakMap,Od);function zi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var on,Ln,ut,an,fn,Ji,za,Pd,gv=(Pd=class extends ms{constructor(n,r){super();V(this,fn);V(this,on);V(this,Ln);V(this,ut);V(this,an);z(this,on,n),this.setOptions(r),this.bindMethods(),X(this,fn,Ji).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,on).defaultMutationOptions(n),Nl(this.options,r)||y(this,on).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,ut),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():((s=y(this,ut))==null?void 0:s.state.status)==="pending"&&y(this,ut).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,ut))==null||n.removeObserver(this)}onMutationUpdate(n){X(this,fn,Ji).call(this),X(this,fn,za).call(this,n)}getCurrentResult(){return y(this,Ln)}reset(){var n;(n=y(this,ut))==null||n.removeObserver(this),z(this,ut,void 0),X(this,fn,Ji).call(this),X(this,fn,za).call(this)}mutate(n,r){var s;return z(this,an,r),(s=y(this,ut))==null||s.removeObserver(this),z(this,ut,y(this,on).getMutationCache().build(y(this,on),this.options)),y(this,ut).addObserver(this),y(this,ut).execute(n)}},on=new WeakMap,Ln=new WeakMap,ut=new WeakMap,an=new WeakMap,fn=new WeakSet,Ji=function(){var r;const n=((r=y(this,ut))==null?void 0:r.state)??sp();z(this,Ln,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},za=function(n){_e.batch(()=>{var r,s,i,l,o,a,u,g;if(y(this,an)&&this.hasListeners()){const h=y(this,Ln).variables,v=y(this,Ln).context,w={client:y(this,on),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=y(this,an)).onSuccess)==null||s.call(r,n.data,h,v,w)}catch(x){Promise.reject(x)}try{(l=(i=y(this,an)).onSettled)==null||l.call(i,n.data,null,h,v,w)}catch(x){Promise.reject(x)}}else if((n==null?void 0:n.type)==="error"){try{(a=(o=y(this,an)).onError)==null||a.call(o,n.error,h,v,w)}catch(x){Promise.reject(x)}try{(g=(u=y(this,an)).onSettled)==null||g.call(u,void 0,n.error,h,v,w)}catch(x){Promise.reject(x)}}}this.listeners.forEach(h=>{h(y(this,Ln))})})},Pd),Kt,_d,vv=(_d=class extends ms{constructor(t={}){super();V(this,Kt);this.config=t,z(this,Kt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??bu(s,n);let l=this.get(i);return l||(l=new uv({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){y(this,Kt).has(t.queryHash)||(y(this,Kt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,Kt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,Kt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,Kt).get(t)}getAll(){return[...y(this,Kt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ed(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ed(t,r)):n}notify(t){_e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kt=new WeakMap,_d),Ce,Tn,On,ts,ns,Pn,rs,ss,bd,yv=(bd=class{constructor(e={}){V(this,Ce);V(this,Tn);V(this,On);V(this,ts);V(this,ns);V(this,Pn);V(this,rs);V(this,ss);z(this,Ce,e.queryCache||new vv),z(this,Tn,e.mutationCache||new mv),z(this,On,e.defaultOptions||{}),z(this,ts,new Map),z(this,ns,new Map),z(this,Pn,0)}mount(){yi(this,Pn)._++,y(this,Pn)===1&&(z(this,rs,zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Ce).onFocus())})),z(this,ss,Ml.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Ce).onOnline())})))}unmount(){var e,t;yi(this,Pn)._--,y(this,Pn)===0&&((e=y(this,rs))==null||e.call(this),z(this,rs,void 0),(t=y(this,ss))==null||t.call(this),z(this,ss,void 0))}isFetching(e){return y(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Tn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Wn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,l=Jg(t,i);if(l!==void 0)return y(this,Ce).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return _e.batch(()=>y(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,Ce);_e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,Ce);return _e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_e.batch(()=>y(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rt).catch(rt)}invalidateQueries(e,t={}){return _e.batch(()=>(y(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_e.batch(()=>y(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,Ce).build(this,t);return n.isStaleByTime(Wn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rt).catch(rt)}fetchInfiniteQuery(e){return e.behavior=ad(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rt).catch(rt)}ensureInfiniteQueryData(e){return e.behavior=ad(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ml.isOnline()?y(this,Tn).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Ce)}getMutationCache(){return y(this,Tn)}getDefaultOptions(){return y(this,On)}setDefaultOptions(e){z(this,On,e)}setQueryDefaults(e,t){y(this,ts).set(wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,ts).values()],n={};return t.forEach(r=>{li(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,ns).set(wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ns).values()],n={};return t.forEach(r=>{li(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,On).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,On).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,Ce).clear(),y(this,Tn).clear()}},Ce=new WeakMap,Tn=new WeakMap,On=new WeakMap,ts=new WeakMap,ns=new WeakMap,Pn=new WeakMap,rs=new WeakMap,ss=new WeakMap,bd),ip=S.createContext(void 0),vi=e=>{const t=S.useContext(ip);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wv=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(ip.Provider,{value:e,children:t})),lp=S.createContext(!1),xv=()=>S.useContext(lp);lp.Provider;function Sv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var kv=S.createContext(Sv()),Ev=()=>S.useContext(kv),Cv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jv=e=>{S.useEffect(()=>{e.clearReset()},[e])},Nv=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Jh(n,[e.error,r])),Mv=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Rv=(e,t)=>e.isLoading&&e.isFetching&&!t,Lv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Tv(e,t,n){var h,v,w,x,k;const r=xv(),s=Ev(),i=vi(),l=i.defaultQueryOptions(e);(v=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||v.call(h,l),l._optimisticResults=r?"isRestoring":"optimistic",Mv(l),Cv(l,s),jv(s);const o=!i.getQueryCache().get(l.queryHash),[a]=S.useState(()=>new t(i,l)),u=a.getOptimisticResult(l),g=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(L=>{const p=g?a.subscribe(_e.batchCalls(L)):rt;return a.updateResult(),p},[a,g]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),S.useEffect(()=>{a.setOptions(l)},[l,a]),Lv(l,u))throw cd(l,a,s);if(Nv({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((x=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||x.call(w,l,u),l.experimental_prefetchInRender&&!yr&&Rv(u,r)){const L=o?cd(l,a,s):(k=i.getQueryCache().get(l.queryHash))==null?void 0:k.promise;L==null||L.catch(rt).finally(()=>{a.updateResult()})}return l.notifyOnChangeProps?u:a.trackResult(u)}function Du(e,t){return Tv(e,cv)}function Ov(e,t){const n=vi(),[r]=S.useState(()=>new gv(n,e));S.useEffect(()=>{r.setOptions(e)},[r,e]);const s=S.useSyncExternalStore(S.useCallback(l=>r.subscribe(_e.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=S.useCallback((l,o)=>{r.mutate(l,o).catch(rt)},[r]);if(s.error&&Jh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function dd(e){return e.length>0&&"options"in e[0]}function Pv({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:l="",align:o="left",width:a="auto",showChevron:u=!0,title:g,disabled:h=!1,"aria-label":v}){var M;const[w,x]=S.useState(!1),k=S.useRef(null),L=S.useRef(null),d=S.useCallback(()=>{const T=R=>{const b=R.find(B=>B.value===e);return b?b.label:null};if(dd(n))for(const R of n){const b=T(R.options);if(b)return b}else{const R=T(n);if(R)return R}return r},[e,n,r])();S.useEffect(()=>{if(!w)return;const T=b=>{k.current&&!k.current.contains(b.target)&&x(!1)},R=b=>{var B;b.key==="Escape"&&(x(!1),(B=L.current)==null||B.focus())};return window.addEventListener("click",T),window.addEventListener("keydown",R),()=>{window.removeEventListener("click",T),window.removeEventListener("keydown",R)}},[w]);const c=T=>{var R;t(T),x(!1),(R=L.current)==null||R.focus()},f=T=>T.map(R=>m.jsxs("button",{className:"dropdown-item","data-active":R.value===e,disabled:R.disabled,onClick:()=>!R.disabled&&c(R.value),role:"menuitem",children:[R.icon&&m.jsx("span",{className:"shrink-0",children:R.icon}),m.jsx("span",{className:"flex-1 truncate",children:R.label}),R.value===e&&m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]},R.value)),C=((M=L.current)==null?void 0:M.offsetWidth)??0,E=a==="trigger"?C:a==="auto"?void 0:a,j={...E?{width:E,minWidth:E}:{},...o==="right"?{right:0}:{left:0}};return m.jsxs("div",{ref:k,className:"relative",children:[s?m.jsx("div",{onClick:()=>!h&&x(T=>!T),children:s}):m.jsxs("button",{ref:L,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>x(T=>!T),disabled:h,title:g,"aria-label":v,"aria-haspopup":"listbox","aria-expanded":w,children:[m.jsx("span",{className:"truncate",children:d}),u&&m.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${w?"rotate-180":""}`,children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),w&&m.jsx("div",{className:`dropdown-panel ${l}`,style:j,role:"listbox","aria-label":v,children:dd(n)?n.map((T,R)=>m.jsxs("div",{children:[T.label&&m.jsx("div",{className:"dropdown-label",children:T.label}),f(T.options),R<n.length-1&&m.jsx("div",{className:"dropdown-divider"})]},T.label||R)):f(n)})]})}function _v({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:l,onSortChange:o,filterCount:a,onOpenFilters:u,starFilters:g,onToggleStar:h,onClearStars:v,starCounts:w,viewMode:x,onViewMode:k,gridItemSize:L,onGridItemSize:p,leftOpen:d,rightOpen:c,onToggleLeft:f,onToggleRight:C,onPrevImage:E,onNextImage:j,canPrevImage:M,canNextImage:T}){const[R,b]=S.useState(!1),B=S.useRef(null);S.useEffect(()=>{if(!R)return;const H=Z=>{B.current&&!B.current.contains(Z.target)&&b(!1)};return window.addEventListener("click",H),()=>window.removeEventListener("click",H)},[R]);const q=i??{kind:"builtin",key:"added",dir:"desc"},W=q.dir,de=q.kind==="builtin"&&q.key==="random",Ne=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...l&&l.length>0?l.map(H=>({value:`metric:${H}`,label:H})):[]]}],me=q.kind==="metric"?`metric:${q.key}`:`builtin:${q.key}`,F=H=>{if(H.startsWith("layout:")){const Z=H==="layout:masonry"?"adaptive":"grid";k==null||k(Z)}else o==null||o(bv(H,q))},D=(g||[]).length,Q=(a||0)+(D>0?1:0);return m.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[t&&m.jsxs("button",{className:"btn",onClick:n,children:[m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]}),!t&&m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx(Pv,{value:me,onChange:F,options:Ne,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),m.jsx("button",{className:"btn btn-icon",onClick:()=>{o&&o(de?q:{...q,dir:W==="desc"?"asc":"desc"})},title:de?"Shuffle":`Sort ${W==="desc"?"descending":"ascending"}`,"aria-label":de?"Shuffle":"Toggle sort direction",children:de?m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),m.jsx("path",{d:"M21 3v5h-5"})]}):W==="desc"?m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 5v14"}),m.jsx("path",{d:"M19 12l-7 7-7-7"})]}):m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 19V5"}),m.jsx("path",{d:"M5 12l7-7 7 7"})]})}),m.jsx("div",{className:"w-px h-5 bg-border"}),m.jsxs("div",{ref:B,className:"relative",children:[m.jsxs("button",{className:`btn ${Q>0?"btn-active":""}`,onClick:()=>b(H=>!H),"aria-haspopup":"dialog","aria-expanded":R,title:"Filters",children:[m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),m.jsx("span",{children:"Filters"}),Q>0&&m.jsx("span",{className:"px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:Q})]}),R&&m.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[m.jsx("div",{className:"dropdown-label",children:"Rating"}),m.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(H=>{const Z=(g||[]).includes(H),Ue=(w==null?void 0:w[String(H)])??0;return m.jsxs("button",{onClick:()=>h==null?void 0:h(H),className:`dropdown-item justify-between ${Z?"bg-accent-muted":""}`,children:[m.jsxs("span",{className:Z?"text-star-active":"text-text",children:["".repeat(H),"".repeat(5-H)]}),m.jsx("span",{className:"text-xs text-muted",children:Ue})]},H)}),m.jsxs("button",{onClick:()=>h==null?void 0:h(0),className:`dropdown-item justify-between ${(g||[]).includes(0)?"bg-accent-muted":""}`,children:[m.jsx("span",{className:"text-text",children:"Unrated"}),m.jsx("span",{className:"text-xs text-muted",children:(w==null?void 0:w["0"])??0})]})]}),m.jsx("div",{className:"dropdown-divider"}),m.jsx("div",{className:"dropdown-label",children:"Metrics"}),m.jsxs("button",{className:"dropdown-item",onClick:()=>{b(!1),u==null||u()},children:[m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 19V9"}),m.jsx("path",{d:"M10 19V5"}),m.jsx("path",{d:"M16 19v-7"}),m.jsx("path",{d:"M3 19h18"})]}),m.jsx("span",{children:"Open Metrics Panel"}),(a||0)>0&&m.jsxs("span",{className:"ml-auto text-xs text-muted",children:[a," active"]})]}),m.jsx("div",{className:"dropdown-divider"}),m.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{v==null||v()},disabled:Q===0,children:"Clear all filters"})]})]}),D>0&&m.jsxs("div",{className:"filter-chip",children:[m.jsx("span",{className:"text-star-active",children:""}),m.jsx("span",{children:(()=>{const H=g||[],Z=H.filter(Ue=>Ue>0).sort((Ue,Fe)=>Fe-Ue);return Z.length?Z.join(","):H.includes(0)?"None":""})()}),m.jsx("button",{className:"filter-chip-remove",onClick:v,"aria-label":"Clear rating filter",children:""})]})]})]}),m.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:H=>s==null?void 0:s(Number(H.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),m.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):p&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-muted",children:"Size"}),m.jsx("input",{type:"range",min:80,max:500,step:10,value:L??220,onChange:H=>p(Number(H.target.value)),className:"w-32 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&m.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[m.jsx("button",{className:`btn btn-icon ${M?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>M&&(E==null?void 0:E()),"aria-label":"Previous image","aria-disabled":!M,children:m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M15 18l-6-6 6-6"})})}),m.jsx("button",{className:`btn btn-icon ${T?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>T&&(j==null?void 0:j()),"aria-label":"Next image","aria-disabled":!T,children:m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{className:`btn btn-icon ${d?"":"opacity-50"}`,title:d?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:f,"aria-pressed":d,"aria-label":"Toggle left panel",children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),m.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),m.jsx("button",{className:`btn btn-icon ${c?"":"opacity-50"}`,title:c?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:C,"aria-pressed":c,"aria-label":"Toggle right panel",children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),m.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),m.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:H=>e(H.target.value),className:"h-8 w-[200px] focus:w-[260px] transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted"})]})]})}function bv(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const op=3e4;class Dt extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function kt(e,t={}){const{timeoutMs:n=op,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Dt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Dt(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof Dt?a(u):u.name==="AbortError"?a(new Dt("Request aborted",void 0,e,!0,!1)):a(new Dt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Ii(e,t={}){const{timeoutMs:n=op,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Dt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Dt(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof Dt?a(u):u.name==="AbortError"?a(new Dt("Request aborted",void 0,e,!0,!1)):a(new Dt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class ap{constructor(t){Cr(this,"store",new Map);Cr(this,"inflight",new Map);Cr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),l=typeof i=="object"&&"promise"in i,o=l?i.promise:i,a=l?i.abort:void 0,u=o.then(g=>(this.set(t,g),g)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,l=s?r.abort:void 0,o=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:o,abort:l})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Mr=new ap(60*1024*1024),Ia=new ap(20*1024*1024),Eo={};function Fv(){const e=Eo==null?void 0:Eo.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const l=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:l?"":i.origin}const Xe=Fv();const zv=40*1024*1024,ue={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),kt(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),kt(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return kt(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>kt(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Ia.getOrFetch(e,()=>Ii(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Ia.prefetch(e,()=>Ii(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Mr.getOrFetch(e,()=>Ii(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Mr.has(e)||Mr.isInflight(e)))try{const t=await Ii(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=zv&&Mr.set(e,t)}catch{}},cancelPrefetch:e=>{Mr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),kt(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),kt(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>kt(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),kt(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>kt(`${Xe}/views`).promise,saveViews:e=>kt(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Iv=e=>["folder",e];function up(e){return Du({queryKey:Iv(e),queryFn:()=>ue.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Co(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Dv(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const l=Math.ceil((i-1)/2),o=Math.floor((i-1)/2);return s.slice(0,l)+""+s.slice(-o)+r}function jo(e){try{return JSON.parse(e)}catch{return}}const Av=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Vr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Av.test(s)?s:"/"}catch{return"/"}}function fd(){return(window.location.hash||"").replace(/^#/,"")}function Uv(e){const t=Vr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function $v(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Bv(e){const n=Vr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function Wv(e){return e.endsWith("/_trash_")}function Qv({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:l,showResizeHandle:o=!0}){const[a,u]=S.useState(new Set(["/"]));S.useEffect(()=>{const h=e.split("/").filter(Boolean),v=["/"];let w="";for(const x of h)w=w?`${w}/${x}`:`/${x}`,v.push(w);u(x=>{const k=new Set(x);for(const L of v)k.add(L);return k})},[e]);const g=l??"h-full overflow-auto bg-panel scrollbar-thin";return m.jsxs("div",{className:g,children:[m.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(h=>m.jsx(cp,{path:h.path,label:h.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},h.path))}),o&&m.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function cp({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o,initial:a}){var p,d,c;const u=s.has(e),{data:g}=up(e),h=a&&e===a.path?a:g,v=r===e,w=(((p=h==null?void 0:h.dirs)==null?void 0:p.length)??0)===0,x=w?((d=h==null?void 0:h.items)==null?void 0:d.length)??0:0,k=vi(),L=f=>{f.stopPropagation(),i(C=>{const E=new Set(C);return E.has(e)?E.delete(e):E.add(e),E})};return m.jsxs("div",{children:[m.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${v?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":w?void 0:u,"aria-selected":v,tabIndex:v?0:-1,style:{paddingLeft:8+n*14},onClick:()=>l(e),onContextMenu:f=>{f.preventDefault(),f.stopPropagation(),o&&o(f,e)},onKeyDown:f=>{var C;if(f.key==="Enter")f.preventDefault(),l(e);else if(f.key==="ArrowRight")!w&&!u&&(f.preventDefault(),i(E=>{const j=new Set(E);return j.add(e),j}));else if(f.key==="ArrowLeft")!w&&u&&(f.preventDefault(),i(E=>{const j=new Set(E);return j.delete(e),j}));else if(f.key==="ArrowDown"||f.key==="ArrowUp"||f.key==="Home"||f.key==="End"){f.preventDefault();const E=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),j=E.findIndex(T=>T===f.currentTarget);if(j===-1)return;let M=j;f.key==="ArrowDown"?M=Math.min(E.length-1,j+1):f.key==="ArrowUp"?M=Math.max(0,j-1):f.key==="Home"?M=0:f.key==="End"&&(M=E.length-1),(C=E[M])==null||C.focus()}},onDragOver:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&(f.preventDefault(),w&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(j=>{j!==f.currentTarget&&j.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target")))},onDragEnter:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&w&&(f.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(j=>{j!==f.currentTarget&&j.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target"))},onDragLeave:f=>{const C=f.currentTarget,E=document.elementFromPoint(f.clientX,f.clientY);E&&C.contains(E)||C.classList.remove("drop-target")},onDrop:async f=>{const C=f.dataTransfer;if(!C)return;f.preventDefault(),f.currentTarget.classList.remove("drop-target");const E=C.getData("application/x-lenslet-paths"),M=(E?JSON.parse(E):[]).filter(Boolean);if(!M.length)return;let T=M[0].split("/").slice(0,-1).join("/")||"/";T.startsWith("/")||(T=`/${T}`);let R=e;R.startsWith("/")||(R=`/${R}`);try{for(const b of M)await ue.moveFile(b,R);k.invalidateQueries({queryKey:["folder",T]}),k.invalidateQueries({queryKey:["folder",R]}),k.setQueryData(["folder",T],b=>!b||!Array.isArray(b.items)?b:{...b,items:b.items.filter(B=>!M.includes(B.path))})}catch{}},children:[m.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:L,children:u?"":""}),m.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Dv(t,28)}),w&&m.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:x})]}),u&&((c=h==null?void 0:h.dirs)==null?void 0:c.map(f=>m.jsx(cp,{path:$v(e,f.name),label:f.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o},f.name)))]})}class Hv{constructor(t=400){Cr(this,"cache",new Map);Cr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const No=new Hv(400);function Vv({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:l,isScrolling:o,priority:a}){const u=S.useRef(null),[g,h]=S.useState(()=>No.get(e)??null),[v,w]=S.useState(!1),[x,k]=S.useState(()=>!!g);return S.useEffect(()=>{const L=u.current;if(!L)return;const p=new IntersectionObserver(d=>{for(const c of d)c.target===L&&w(c.isIntersecting||c.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return p.observe(L),()=>{p.unobserve(L),p.disconnect()}},[l]),S.useEffect(()=>{if(g||!(v&&!o||a))return;let L=!0;return ue.getThumb(e).then(p=>{if(!L)return;const d=URL.createObjectURL(p);No.set(e,d),h(d)}).catch(()=>{}),()=>{L=!1}},[e,g,v,o,a]),S.useEffect(()=>{var p;if(!g){k(!1);return}const L=(p=u.current)==null?void 0:p.querySelector("img");L&&L.complete&&L.naturalWidth>0?k(!0):k(!1)},[g]),S.useEffect(()=>{h(No.get(e)??null)},[e]),m.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:g?m.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${x?"opacity-100":""}`,src:g,alt:t,loading:"lazy",decoding:"async",onLoad:()=>k(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Nr(e,t,n){let r=n.initialDeps??[],s,i=!0;function l(){var o,a,u;let g;n.key&&((o=n.debug)!=null&&o.call(n))&&(g=Date.now());const h=e();if(!(h.length!==r.length||h.some((x,k)=>r[k]!==x)))return s;r=h;let w;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(w=Date.now()),s=t(...h),n.key&&((u=n.debug)!=null&&u.call(n))){const x=Math.round((Date.now()-g)*100)/100,k=Math.round((Date.now()-w)*100)/100,L=k/16,p=(d,c)=>{for(d=String(d);d.length<c;)d=" "+d;return d};console.info(`%c ${p(k,5)} /${p(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*L,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return l.updateDeps=o=>{r=o},l}function hd(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Kv=(e,t)=>Math.abs(e-t)<1.01,qv=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},pd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Gv=e=>e,Yv=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Xv=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=l=>{const{width:o,height:a}=l;t({width:Math.round(o),height:Math.round(a)})};if(s(pd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const o=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(pd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},md={passive:!0},gd=typeof window>"u"?!0:"onscrollend"in window,Jv=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&gd?()=>{}:qv(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=g=>()=>{const{horizontal:h,isRtl:v}=e.options;s=h?n.scrollLeft*(v&&-1||1):n.scrollTop,i(),t(s,g)},o=l(!0),a=l(!1);a(),n.addEventListener("scroll",o,md);const u=e.options.useScrollendEvent&&gd;return u&&n.addEventListener("scrollend",a,md),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",a)}},Zv=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},ey=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const l=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class ty{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Gv,rangeExtractor:Yv,onChange:()=>{},measureElement:Zv,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Nr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let l=r-1;l>=0;l--){const o=n[l];if(s.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=Nr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,l,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Nr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,u),h=new Array(o).fill(void 0);for(let v=0;v<u;v++){const w=g[v];w&&(h[w.lane]=v)}for(let v=u;v<n;v++){const w=i(v),x=this.laneAssignments.get(v);let k,L;if(x!==void 0&&this.options.lanes>1){k=x;const f=h[k],C=f!==void 0?g[f]:void 0;L=C?C.end+this.options.gap:r+s}else{const f=this.options.lanes===1?g[v-1]:this.getFurthestMeasurement(g,v);L=f?f.end+this.options.gap:r+s,k=f?f.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,k)}const p=a.get(w),d=typeof p=="number"?p:this.options.estimateSize(v),c=L+d;g[v]={index:v,start:L,size:d,end:c,key:w,lane:k},h[k]=v}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Nr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?ny({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Nr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Nr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,l=n.length;i<l;i++){const o=n[i],a=r[o];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return hd(r[dp(0,r.length-1,s=>hd(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(s.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const l=10,o=u=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,u);if(!g){console.warn("Failed to get offset for index:",n);return}const[h,v]=g;this._scrollToOffset(h,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const w=this.getScrollOffset(),x=this.getOffsetForIndex(n,v);if(!x){console.warn("Failed to get offset for index:",n);return}Kv(x[0],w)||a(v)})},a=u=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(o=>o===null);){const o=r[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}s=Math.max(...i.filter(o=>o!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const dp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function ny({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let l=dp(0,s,i,n),o=l;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const a=Array(r).fill(0);for(;o<s&&a.some(g=>g<n+t);){const g=e[o];a[g.lane]=g.end,o++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(g=>g>=n);){const g=e[l];u[g.lane]=g.start,l--}l=Math.max(0,l-l%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const vd=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ry(e){const t=S.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var l;i?_u.flushSync(t):t(),(l=e.onChange)==null||l.call(e,s,i)}},[r]=S.useState(()=>new ty(n));return r.setOptions(n),vd(()=>r._didMount(),[]),vd(()=>r._willUpdate()),r}function sy(e){return ry({observeElementRect:Xv,observeElementOffset:Jv,scrollToFn:ey,...e})}const iy=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),l=(e-t*(i-1))/i,o=l*r.h/r.w,a=o+s+t;return{columns:i,cellW:l,mediaH:o,rowH:a}};function ly({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let l=[],o=0;for(let a=0;a<e.length;a++){const u=e[a];let g=1.333;u.w>0&&u.h>0&&(g=u.w/u.h),l.push({item:u,aspect:g,originalIndex:a}),o+=g;const h=(l.length-1)*r;if(o*n+h>=t){const w=(t-h)/o,x=l.map(k=>({item:k.item,displayW:k.aspect*w,displayH:w,originalIndex:k.originalIndex}));i.push({index:i.length,height:w+s+r,imageH:w,items:x}),l=[],o=0}}if(l.length>0){const a=n,u=l.map(g=>({item:g.item,displayW:g.aspect*a,displayH:a,originalIndex:g.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function oy(e,t,n){const[r,s]=S.useState(0);S.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const h=getComputedStyle(a),v=a.clientWidth-parseFloat(h.paddingLeft)-parseFloat(h.paddingRight);s(v)},g=new ResizeObserver(u);return g.observe(a),u(),()=>g.disconnect()},[]);const i=S.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:ly({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:g,rowH:h}=iy({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),v=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:g,rowH:h,rowCount:v}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),l=sy({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),o=l.getVirtualItems();return S.useEffect(()=>{l.measure()},[i]),{width:r,layout:i,rowVirtualizer:l,virtualRows:o}}function ay(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(o=>o.path===n):0,i=Math.max(1,t);let l=s;if(r.key==="ArrowRight"||r.key==="d")l=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")l=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")l=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")l=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return l}function uy({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:l,suppressSelectionHighlight:o=!1,viewMode:a="grid",targetCellSize:u=220}){const[g,h]=S.useState(null),[v,w]=S.useState(null),[x,k]=S.useState(null),[L,p]=S.useState(!1),[d,c]=S.useState(null),[f,C]=S.useState(null),E=S.useRef(null),j=S.useRef(null),M=S.useRef(null),T=12,R=u,b={w:4,h:3},B=44,{width:q,layout:W,rowVirtualizer:de,virtualRows:Ne}=oy(j,e,{gap:T,targetCell:R,aspect:b,captionH:B,viewMode:a}),me=S.useMemo(()=>{const O=new Map;for(let K=0;K<e.length;K++)O.set(e[K].path,K);return O},[e]),F=S.useMemo(()=>{if(W.mode!=="adaptive")return null;const O=new Map;return W.rows.forEach((K,Y)=>{let se=0;K.items.forEach((J,oe)=>{const $=se+J.displayW/2;O.set(J.item.path,{row:Y,center:$,order:oe}),se+=J.displayW+T})}),O},[W]);S.useEffect(()=>{if(!t.length)return;const O=t[0];d!==O&&c(O)},[t,d]);const D=S.useMemo(()=>{if(W.mode!=="adaptive")return null;let O=0;return W.rows.map(K=>{const Y=O;return O+=K.height,{start:Y,height:K.height}})},[W]),Q=S.useRef(null),H=(O,K)=>{try{if(Q.current!=null){try{cancelAnimationFrame(Q.current)}catch{}Q.current=null}const Y=O.scrollTop,se=K-Y;if(Math.abs(se)<1){O.scrollTop=K;return}const J=140,oe=performance.now(),$=ge=>1-Math.pow(1-ge,3),Se=ge=>{const ke=Math.min(1,(ge-oe)/J),ze=$(ke);O.scrollTop=Y+se*ze,ke<1?Q.current=requestAnimationFrame(Se):Q.current=null};Q.current=requestAnimationFrame(Se)}catch{O.scrollTop=K}},[Z,Ue]=S.useState(!1);S.useEffect(()=>{const O=j.current;if(!O)return;let K=0;const Y=()=>{Ue(!0),window.clearTimeout(K),K=window.setTimeout(()=>Ue(!1),120)};return O.addEventListener("scroll",Y,{passive:!0}),()=>O.removeEventListener("scroll",Y)},[]);const Fe=W.mode==="grid"?W.columns:Math.max(1,Math.floor(q/(R+T))),Xt=(O,K)=>{if(W.mode!=="adaptive")return null;const Y=W.rows[O];if(!Y)return null;let se=0,J=null;for(const oe of Y.items){const $=se+oe.displayW/2,Se=Math.abs($-K);(!J||Se<J.dist)&&(J={path:oe.item.path,dist:Se}),se+=oe.displayW+T}return J?J.path:null},He=(O,K)=>{var ze,Me,Jt,ne;if(!e.length)return null;const Y=O??e[0].path;if(W.mode!=="adaptive"){const Te=ay(e,Fe,Y,K);return Te==="open"||Te==null?Te:((ze=e[Te])==null?void 0:ze.path)??null}const se=F==null?void 0:F.get(Y);if(!se)return Y;const J=me.get(Y)??0,oe=K.key;if(oe==="Enter")return"open";if(oe==="ArrowRight"||oe==="d")return((Me=e[Math.min(e.length-1,J+1)])==null?void 0:Me.path)??Y;if(oe==="ArrowLeft"||oe==="a")return((Jt=e[Math.max(0,J-1)])==null?void 0:Jt.path)??Y;const $=oe==="ArrowDown"||oe==="s"?1:oe==="ArrowUp"||oe==="w"?-1:0;if($===0)return null;const Se=se.row+$;if(Se<0||Se>=(((ne=W.rows)==null?void 0:ne.length)??0))return Y;const ge=se.center;return Xt(Se,ge)??Y};S.useEffect(()=>{const O=j.current;if(!O)return;const K=Y=>{var ze,Me,Jt,ne;const se=He(f,Y);if(se==null)return;if(Y.preventDefault(),se==="open"){f&&s(f);return}const J=e.find(Te=>Te.path===se);if(!J)return;C(J.path),c(J.path),r([J.path]);try{M.current=J.path}catch{}const oe=W.mode==="grid"?Math.floor((me.get(J.path)??0)/Math.max(1,W.columns)):((ze=F==null?void 0:F.get(J.path))==null?void 0:ze.row)??0,$=O.scrollTop,Se=$+O.clientHeight,ge=W.mode==="adaptive"?((Me=D==null?void 0:D[oe])==null?void 0:Me.start)??0:oe*W.rowH,ke=W.mode==="adaptive"?ge+(((Jt=D==null?void 0:D[oe])==null?void 0:Jt.height)??0):ge+W.rowH;(ge<$||ke>Se)&&H(O,ge);try{(ne=document.getElementById(`cell-${encodeURIComponent(J.path)}`))==null||ne.focus()}catch{}};return O.addEventListener("keydown",K),()=>{O.removeEventListener("keydown",K)}},[e,f,Fe,s,W,F,D,me]),S.useLayoutEffect(()=>{var oe;const O=j.current;if(!O||!n||!t||t.length===0)return;const K=t[0],Y=me.get(K);if(Y==null||Y<0)return;let se=0;if(W.mode==="grid")se=Math.floor(Y/Math.max(1,W.columns));else{let $=0,Se=W.rows.length-1;for(;$<=Se;){const ge=$+Se>>1,ke=W.rows[ge];if(Y>=ke.items[0].originalIndex&&Y<=ke.items[ke.items.length-1].originalIndex){se=ge;break}Y<ke.items[0].originalIndex?Se=ge-1:$=ge+1}}const J=W.mode==="adaptive"?((oe=D==null?void 0:D[se])==null?void 0:oe.start)??0:se*W.rowH;try{O.scrollTop=J}catch{}},[n,W,D]);const Ve=new Set(t),I=!!(g&&v&&L);S.useEffect(()=>{var O;(O=j.current)==null||O.focus()},[]),S.useEffect(()=>{var O;if(o){try{(O=j.current)==null||O.blur()}catch{}try{C(null)}catch{}}},[o]);const G=f?`cell-${encodeURIComponent(f)}`:void 0;return m.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${I?"cursor-zoom-in":""}`,ref:j,tabIndex:0,"aria-activedescendant":G,onMouseDown:()=>{var O;return(O=j.current)==null?void 0:O.focus()},style:{"--gap":`${T}px`},children:m.jsxs("div",{className:"relative w-full",style:{height:de.getTotalSize()},children:[Ne.map(O=>{var oe;let K=[],Y={},se="";if(W.mode==="adaptive"){const $=W.rows[O.index];if(!$)return null;K=$.items,Y={height:$.height,transform:`translate3d(0, ${O.start}px, 0)`,display:"flex",gap:T,paddingBottom:T},se="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const $=O.index*W.columns;K=e.slice($,$+W.columns).map(ge=>({item:ge,displayW:W.cellW,displayH:W.mediaH})),Y={transform:`translate3d(0, ${O.start}px, 0)`,gridTemplateColumns:`repeat(${W.columns}, minmax(0, 1fr))`,gap:T,paddingBottom:T},se="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const J=O.index===((oe=Ne[0])==null?void 0:oe.index);try{if(!Z)for(const{item:$}of K)try{ue.prefetchThumb($.path)}catch{}}catch{}return m.jsx("div",{className:se,role:"row",style:Y,children:K.map(({item:$,displayW:Se,displayH:ge})=>{const ke=!o&&(d===$.path||Ve.has($.path)),ze=W.mode==="adaptive"?{width:Se}:{},Me=W.mode==="adaptive"?{height:ge}:{},Jt=W.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return m.jsxs("div",{id:`cell-${encodeURIComponent($.path)}`,className:`relative min-w-0 ${ke?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":ke,tabIndex:f===$.path?0:-1,onFocus:()=>C($.path),draggable:!0,style:ze,onDragStart:ne=>{var Te;try{const $e=Ve.has($.path)&&t.length>0?t:[$.path];(Te=ne.dataTransfer)==null||Te.setData("application/x-lenslet-paths",JSON.stringify($e)),ne.dataTransfer&&(ne.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const Ke=ne.currentTarget.querySelector(".cell-content img"),ot=document.createElement("div");ot.className="drag-ghost";const Bt=document.createElement("img");Bt.draggable=!1,Bt.alt="drag",Ke&&Ke.src&&(Bt.src=Ke.src),ot.appendChild(Bt),document.body.appendChild(ot);const en=ot.getBoundingClientRect().width||150;ne.dataTransfer.setDragImage(ot,Math.round(en/2),0);const Ot=()=>{try{ot.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Ot),window.removeEventListener("pointerup",Ot),document.removeEventListener("visibilitychange",Ot)};window.addEventListener("dragend",Ot),window.addEventListener("pointerup",Ot),document.addEventListener("visibilitychange",Ot)}catch{}},onDragEnd:()=>{},onContextMenu:ne=>{ne.preventDefault(),ne.stopPropagation(),i&&i(ne,$.path)},children:[m.jsxs("div",{className:Jt,style:Me,onMouseEnter:()=>{try{ue.prefetchFile($.path)}catch{}},onDoubleClick:()=>s($.path),onMouseLeave:()=>{if(x&&(window.clearTimeout(x),k(null)),h(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}w(null),p(!1)},children:[m.jsx("div",{className:"cell-content absolute inset-0",children:m.jsx(Vv,{path:$.path,name:$.name,selected:ke,displayW:Se,displayH:ge,ioRoot:j.current,isScrolling:Z,priority:J,onClick:ne=>{var Zt;c($.path),C($.path);const Te=!!ne.shiftKey,$e=!!(ne.ctrlKey||ne.metaKey);if(Te){const Ke=M.current??d??t[0]??$.path,ot=me.get(Ke)??e.findIndex(en=>en.path===Ke),Bt=me.get($.path)??e.findIndex(en=>en.path===$.path);if(ot!==-1&&Bt!==-1){const en=Math.min(ot,Bt),Ot=Math.max(ot,Bt),Gn=e.slice(en,Ot+1).map(kr=>kr.path);if($e){const kr=new Set(t);for(const Hl of Gn)kr.add(Hl);r(Array.from(kr))}else r(Gn)}else r([$.path])}else if($e){const Ke=new Set(t);Ke.has($.path)?Ke.delete($.path):Ke.add($.path),r(Array.from(Ke));try{M.current=$.path}catch{}}else{r([$.path]);try{M.current=$.path}catch{}}try{Z||(ue.prefetchFile($.path),ue.prefetchThumb($.path))}catch{}try{(Zt=document.getElementById(`cell-${encodeURIComponent($.path)}`))==null||Zt.focus()}catch{}}})}),m.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(Z)return;x&&window.clearTimeout(x),h($.path),p(!1);const ne=window.setTimeout(async()=>{try{const Te=await ue.getFile($.path),$e=URL.createObjectURL(Te);if(E.current)try{URL.revokeObjectURL(E.current)}catch{}E.current=$e,w($e),p(!0)}catch{}},350);k(ne)},onMouseLeave:()=>{if(x&&window.clearTimeout(x),k(null),p(!1),h(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}w(null)},children:m.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:m.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[m.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),m.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),m.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[m.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:$.name,children:(()=>{const ne=(l||"").trim();if(!ne)return $.name;const Te=$.name,$e=Te.toLowerCase().indexOf(ne.toLowerCase());if($e===-1)return $.name;const Zt=Te.slice(0,$e),Ke=Te.slice($e,$e+ne.length),ot=Te.slice($e+ne.length);return m.jsxs(m.Fragment,{children:[Zt,m.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:Ke}),ot]})})()}),m.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[$.w,"  ",$.h]})]})]},$.path)})},O.key)}),g&&v&&L&&_u.createPortal(m.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:m.jsx("img",{src:v,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${Fe}`)})}function cy(){const[e,t]=S.useState(1),[n,r]=S.useState(0),[s,i]=S.useState(0),[l,o]=S.useState(1),[a,u]=S.useState(!1),[g,h]=S.useState(!1),[v,w]=S.useState(!1),x=S.useRef(null),k=S.useRef(null),L=()=>{const c=x.current,f=k.current;if(!c||!f||!f.naturalWidth||!f.naturalHeight)return;const C=c.getBoundingClientRect(),E=C.width/f.naturalWidth,j=C.height/f.naturalHeight,M=Math.min(1,Math.min(E,j));o(M);const T=f.naturalWidth*M,R=f.naturalHeight*M;r((C.width-T)/2),i((C.height-R)/2)};return S.useEffect(()=>{const c=x.current;if(!c)return;const f=new ResizeObserver(()=>{try{requestAnimationFrame(()=>L())}catch{L()}});return f.observe(c),()=>f.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:l,setBase:o,ready:a,setReady:u,dragging:g,setDragging:h,visible:v,setVisible:w,containerRef:x,imgRef:k,fitAndCenter:L,handleWheel:c=>{c.preventDefault();const f=c.deltaY>0?-1:1,C=1.2,E=.05,j=8,M=x.current;if(!M)return;const T=M.getBoundingClientRect(),R=c.clientX-T.left,b=c.clientY-T.top;t(B=>{const q=Math.min(j,Math.max(E,B*Math.pow(C,f))),W=q/B;return r(de=>R-W*(R-de)),i(de=>b-W*(b-de)),Number(q.toFixed(4))})},handleMouseDown:c=>{const f=x.current,C=k.current;if(!f||!C||c.target!==C)return;const j=f.getBoundingClientRect();if(c.clientX<j.left||c.clientX>j.right||c.clientY<j.top||c.clientY>j.bottom)return;c.preventDefault(),c.stopPropagation(),h(!0);const M=c.clientX,T=c.clientY,R=n,b=s,B=W=>{r(R+(W.clientX-M)),i(b+(W.clientY-T))},q=()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",q),h(!1)};window.addEventListener("mousemove",B),window.addEventListener("mouseup",q)}}}function dy({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[l,o]=S.useState(null),[a,u]=S.useState(null),{scale:g,setScale:h,tx:v,setTx:w,ty:x,setTy:k,base:L,ready:p,setReady:d,dragging:c,visible:f,setVisible:C,containerRef:E,imgRef:j,fitAndCenter:M,handleWheel:T,handleMouseDown:R}=cy();return S.useEffect(()=>{let b=!0;return ue.getFile(e).then(B=>{b&&o(URL.createObjectURL(B))}).catch(()=>{}),ue.getThumb(e).then(B=>{b&&u(URL.createObjectURL(B))}).catch(()=>{}),requestAnimationFrame(()=>{var B;C(!0),(B=E.current)==null||B.focus()}),()=>{b=!1}},[e]),S.useEffect(()=>{const b=B=>{B.key==="Escape"?(C(!1),setTimeout(t,110)):(B.key==="ArrowRight"||B.key==="d")&&n?n(1):(B.key==="ArrowLeft"||B.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t,n]),S.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),S.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),S.useEffect(()=>{d(!1)},[l]),S.useEffect(()=>{r&&r(L*g*100)},[L,g,r]),S.useEffect(()=>{if(s==null)return;const b=E.current;if(!b){i&&i();return}const B=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,L))),q=b.getBoundingClientRect(),W=q.width/2,de=q.height/2;h(Ne=>{const me=B/Ne;return w(F=>W-me*(W-F)),k(F=>de-me*(de-F)),Number(B.toFixed(4))}),i&&i()},[s,L,i]),m.jsxs("div",{ref:E,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${c?"cursor-grabbing select-none":""} ${f?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:T,onMouseDown:R,onKeyDown:b=>{b.key==="Tab"&&b.preventDefault()},children:[m.jsx("button",{"aria-label":"Close",onClick:b=>{b.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"btn absolute top-3 right-3 z-10",children:" Close"}),a&&m.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:b=>b.preventDefault(),style:{transform:`translate(${v}px, ${x}px) scale(${L})`,transformOrigin:"0 0",opacity:p?0:.5,filter:"blur(0.25px)"}}),l&&m.jsx("img",{ref:j,src:l,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:b=>{b.preventDefault()},onLoad:b=>{M(),h(1);try{requestAnimationFrame(()=>d(!0))}catch{d(!0)}},onClick:b=>b.stopPropagation(),style:{transform:`translate(${v}px, ${x}px) scale(${L*g})`,transformOrigin:"0 0",opacity:p?.99:0,WebkitUserDrag:"none"}})]})}const fp=e=>["item",e],fy={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function hy(e){return Du({queryKey:fp(e),queryFn:()=>ue.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function py(e){const t=vi();return Ov({mutationFn:n=>ue.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(fp(e),n)}})}const my=6;async function Di(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const o=r++,a=e[o];try{await hp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},l=Array.from({length:Math.min(my,e.length)},()=>i());if(await Promise.all(l),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Ms=new Map,Mo=new Map;async function hp(e,t,n){const r=n??new Date().toISOString(),s=Ms.get(e)||{};Ms.set(e,{...s,...t});const i=Mo.get(e);if(i)return i;const l=(async()=>{try{for(;Ms.has(e);){const o=Ms.get(e);if(Ms.delete(e),!o)break;let a;try{a=await ue.getSidecar(e)}catch{a={...fy,updated_at:r}}const u={...a,...o,v:1,updated_at:r,updated_by:"web"};let g=0;const h=3;for(;g<h;)try{await ue.putSidecar(e,u);break}catch(v){if(g++,g>=h)throw v;await new Promise(w=>setTimeout(w,200*Math.pow(2,g)))}}}finally{Mo.delete(e)}})();return Mo.set(e,l),l}function pp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Zi(e){if(Array.isArray(e))return e.map(Zi);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Zi(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Zi(r)}catch{return e}}return e}function Ro(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function gy(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function vy(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,l=s[0];n+=Ro(e.slice(r,i));let o="#cdd3dd";l.startsWith('"')&&l.trimEnd().endsWith(":")?o="#a7c4ff":l.startsWith('"')?o="#9ad4b5":/true|false|null/.test(l)?o="#c4b4f5":o="#d7c08c",n+=`<span style="color:${o}">${Ro(l)}</span>`,r=i+l.length}return n+=Ro(e.slice(r)),n}function yy({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:l,isLoading:o}=hy(e??""),a=py(e??""),[u,g]=S.useState(""),[h,v]=S.useState(""),[w,x]=S.useState(null),[k,L]=S.useState(""),[p,d]=S.useState(null),[c,f]=S.useState("idle"),[C,E]=S.useState(!1),[j,M]=S.useState(null),[T,R]=S.useState({}),B=S.useMemo(()=>{const I=n.find(G=>G.path===e);return I&&I.star!==void 0?I.star:null},[n,e])??(l==null?void 0:l.star)??null,q=t.length>1,W=S.useMemo(()=>{const I=new Set(t);return n.filter(G=>I.has(G.path))},[n,t]),de=S.useMemo(()=>W.reduce((I,G)=>I+(G.size||0),0),[W]);S.useEffect(()=>{l&&(g((l.tags||[]).join(", ")),v(l.notes||"")),L(""),d(null),f("idle"),E(!1)},[l==null?void 0:l.updated_at,e]);const Ne=S.useCallback(()=>l??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[l]);S.useEffect(()=>{if(!e)return;const I=G=>{if(pp(G.target))return;const O=G.key;if(!/^[0-5]$/.test(O))return;G.preventDefault();const K=O==="0"?null:Number(O);if(q&&t.length)Di(t,{star:K}),s==null||s(t,K);else{const Y=Ne();a.mutate({...Y,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[e,q,t,Ne,a,s]),S.useEffect(()=>{if(!e){w&&URL.revokeObjectURL(w),x(null);return}let I=!0;return ue.getThumb(e).then(G=>{if(!I)return;const O=URL.createObjectURL(G);x(K=>(K&&URL.revokeObjectURL(K),O))}).catch(()=>{}),()=>{I=!1}},[e]),S.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[w]);const me=e?e.split("/").pop()||e:"",F=S.useMemo(()=>{var G;if(me.includes("."))return me.slice(me.lastIndexOf(".")+1).toUpperCase();const I=n.find(O=>O.path===e);return(G=I==null?void 0:I.type)!=null&&G.includes("/")?I.type.split("/")[1].toUpperCase():""},[me,n,e]),D=S.useMemo(()=>n.find(I=>I.path===e),[n,e]),Q=S.useCallback(async()=>{if(e){f("loading"),d(null);try{const I=await ue.getMetadata(e),G=Zi(I.meta),O=JSON.stringify(G,null,2);L(O),f("loaded")}catch(I){const G=I instanceof Error?I.message:"Failed to load metadata";L(G),d(G),f("error")}}},[e]),H=S.useCallback(()=>{var I;k&&((I=navigator.clipboard)==null||I.writeText(k).then(()=>{E(!0),setTimeout(()=>E(!1),1200)}).catch(G=>{const O=G instanceof Error?G.message:"Copy failed";d(O)}))},[k]),Z=S.useMemo(()=>k?vy(k):"",[k]),Ue=c==="loading"?"Loading metadata":k||"PNG metadata not loaded yet.",Fe=c==="loaded"&&!!k,Xt=Fe?"h-48":"h-24",He=S.useCallback((I,G)=>{var O;G&&((O=navigator.clipboard)==null||O.writeText(G).then(()=>{M(I),setTimeout(()=>M(K=>K===I?null:K),1e3)}).catch(()=>{}))},[]),Ve=S.useCallback((I,G)=>{if(G&&!T[I]){const O=G.offsetHeight;O&&R(K=>K[I]?K:{...K,[I]:O})}},[T]);return i?m.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&m.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:m.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[w&&m.jsx("img",{src:w,alt:"thumb",className:"block w-full h-full object-contain"}),!!F&&m.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:F})]})}),m.jsx("div",{className:"p-3 border-b border-border",children:q?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),m.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),m.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Co(de)]})]}):m.jsx(m.Fragment,{children:m.jsx("div",{className:"font-mono text-text break-all",title:me,children:me})})}),m.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[m.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:h,onChange:I=>v(I.target.value),onBlur:()=>{if(q&&t.length)Di(t,{notes:h});else{const I=Ne();a.mutate({...I,notes:h,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Notes for selected items":"Notes"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),m.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:u,onChange:I=>g(I.target.value),onBlur:()=>{const I=u.split(",").map(G=>G.trim()).filter(Boolean);if(q&&t.length)Di(t,{tags:I});else{const G=Ne();a.mutate({...G,tags:I,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&m.jsxs("div",{className:"p-3 border-b border-border",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[m.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),m.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[k&&m.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:H,disabled:!k,title:"Copy metadata",children:C?"Copied":"Copy"}),m.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Q,disabled:!e||c==="loading",children:c==="loading"?"Loading":"Show meta"})]})]}),m.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Xt} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:Fe?m.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Z}}):Ue}),p&&m.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:p})]}),m.jsxs("div",{className:"p-3 border-b border-border",children:[m.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),m.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[m.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),m.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(I=>{const G=(B??0)>=I;return m.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${G?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const O=B===I&&!q?null:I;q&&t.length?(s==null||s(t,O),Di(t,{star:O})):e&&(s==null||s([e],O),hp(e,{star:O}))},title:`${I} star${I>1?"s":""} (key ${I})`,"aria-label":`${I} star${I>1?"s":""}`,"aria-pressed":B===I,children:G?"":""},I)})})]}),!q&&D&&m.jsxs("div",{className:"text-[12px] space-y-1",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>He("dimensions",`${D.w}${D.h}`),children:"Dimensions"}),m.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:I=>Ve("dimensions",I),style:T.dimensions?{minHeight:T.dimensions}:void 0,children:j==="dimensions"?"Copied":`${D.w}${D.h}`})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>He("size",Co(D.size)),children:"Size"}),m.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:I=>Ve("size",I),style:T.size?{minHeight:T.size}:void 0,children:j==="size"?"Copied":Co(D.size)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>He("type",D.type),children:"Type"}),m.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:I=>Ve("type",I),style:T.type?{minHeight:T.type}:void 0,children:j==="type"?"Copied":D.type})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>e&&He("source",e),children:"Source"}),m.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:I=>Ve("source",I),style:T.source?{minHeight:T.source}:void 0,children:j==="source"?"Copied":e})]}),(()=>{const I=D.metrics||null;if(!I)return null;const G=Object.entries(I).filter(([,se])=>se!=null);if(!G.length)return null;const O=G.sort(([se],[J])=>se.localeCompare(J)),K=O.slice(0,12),Y=O.length-K.length;return m.jsxs("div",{className:"mt-3",children:[m.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),m.jsxs("div",{className:"space-y-1",children:[K.map(([se,J])=>m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted w-24 shrink-0",children:se}),m.jsx("span",{className:"font-mono text-text text-right",children:gy(J)})]},se)),Y>0&&m.jsxs("div",{className:"text-[11px] text-muted",children:["+",Y," more"]})]})]})})()]})]}),m.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):m.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:m.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const wy=(e,t)=>["search",e,t];function xy(e,t){return Du({enabled:!!e.trim(),queryKey:wy(e,t),queryFn:()=>ue.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}function Sy(e,t){return!t||!t.and.length?e:e.filter(n=>ky(n,t.and))}function ky(e,t){for(const n of t)if(!Ey(e,n))return!1;return!0}function Ey(e,t){var n;if("stars"in t){const r=t.stars;if(!r||!r.length)return!0;const s=e.star??0;return r.includes(s)}if("metricRange"in t){const{key:r,min:s,max:i}=t.metricRange,l=(n=e.metrics)==null?void 0:n[r];return!(l==null||l<s||l>i)}return!0}function yd(e){const t=e.and.find(n=>"stars"in n);return(t==null?void 0:t.stars)??[]}function Lo(e,t){const n=e.and.filter(r=>!("stars"in r));return t.length?{and:[{stars:t},...n]}:{and:n}}function Cy(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function jy(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function Ny(e){return e.and.length}const Rl=(e,t)=>e.name.localeCompare(t.name),My=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?Rl(e,t):n-r},Ry=e=>(t,n)=>{var o,a;const r=(o=t.metrics)==null?void 0:o[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,l=s==null;return i&&l?Rl(t,n):i?1:l?-1:r===s?Rl(t,n):r-s};function Ly(e,t){return Sy(e,t)}function Ty(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function Oy(e,t){const n=Ty(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function Py(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return Oy(e,i)}const r=t.kind==="metric"?Ry(t.key):t.key==="name"?Rl:My,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Bs=40;function _y({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:l}){const o=r&&n.includes(r)?r:n[0],a=S.useMemo(()=>o?wd(e,o,Bs):null,[e,o]),u=S.useMemo(()=>o&&a?wd(t,o,Bs,a):null,[t,o,a]),g=o?Cy(i,o):null,[h,v]=S.useState(null),[w,x]=S.useState(!1),k=S.useRef(null),L=h??g,p=a?{min:a.min,max:a.max}:null,d=(E,j)=>{var b;if(!p||!o)return;const M=(b=k.current)==null?void 0:b.getBoundingClientRect();if(!M)return;const T=mp((E.clientX-M.left)/M.width),R=p.min+(p.max-p.min)*T;v(B=>{const q=(B==null?void 0:B.min)??R,de=Fy(q,R);return j&&l(o,de),de})},c=E=>{var j;!p||!o||(E.preventDefault(),x(!0),v(null),(j=k.current)==null||j.setPointerCapture(E.pointerId),d(E,!1))},f=E=>{w&&d(E,!1)},C=E=>{var j;w&&(x(!1),(j=k.current)==null||j.releasePointerCapture(E.pointerId),d(E,!0),setTimeout(()=>v(null),0))};return n.length?m.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),m.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,onChange:E=>s(E.target.value),children:n.map(E=>m.jsx("option",{value:E,children:E},E))})]}),a?m.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[m.jsxs("span",{children:["Population: ",a.count]}),m.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),m.jsxs("svg",{ref:k,viewBox:`0 0 ${Bs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:c,onPointerMove:f,onPointerUp:C,children:[xd(a.bins,"#2e3a4b"),u&&xd(u.bins,"#3a8fff"),L&&p&&by(L,p)]}),m.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[m.jsx("span",{children:Ai(p==null?void 0:p.min)}),L?m.jsxs("span",{className:"text-text",children:[Ai(L.min),"  ",Ai(L.max)]}):m.jsx("span",{children:"Drag to filter"}),m.jsx("span",{children:Ai(p==null?void 0:p.max)})]}),m.jsx("div",{className:"flex items-center gap-2 mt-2",children:m.jsx("button",{className:"btn btn-sm",onClick:()=>o&&l(o,null),children:"Clear"})})]}):m.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):m.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})}function wd(e,t,n,r){var u;const s=[];for(const g of e){const h=(u=g.metrics)==null?void 0:u[t];h==null||Number.isNaN(h)||s.push(h)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let l=r?r.max:Math.max(...s);i===l&&(l=i+1);const o=new Array(n).fill(0),a=n/(l-i);for(const g of s){const h=Math.max(0,Math.min(n-1,Math.floor((g-i)*a)));o[h]+=1}return{bins:o,min:i,max:l,count:s.length}}function xd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return m.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function by(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Bs*mp(Math.min(n,r)),i=Bs*Math.abs(r-n);return m.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function Fy(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function mp(e){return e<0?0:e>1?1:e}function Ai(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function zy(e){const[t,n]=S.useState(250),[r,s]=S.useState(240),i=S.useRef(t),l=S.useRef(r);return S.useEffect(()=>{i.current=t},[t]),S.useEffect(()=>{l.current=r},[r]),S.useEffect(()=>{try{const u=window.localStorage,g=Number(u.getItem("leftW"));Number.isFinite(g)&&g>0&&n(g);const h=Number(u.getItem("rightW"));Number.isFinite(h)&&h>0&&s(h)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const g=e.current;if(!g)return;const h=g.getBoundingClientRect(),v=x=>{const k=x.clientX-h.left,L=200,p=Math.max(L,h.width-l.current-200),d=Math.min(Math.max(k,L),p);n(d)},w=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",w)},onResizeRight:u=>{u.preventDefault();const g=e.current;if(!g)return;const h=g.getBoundingClientRect(),v=x=>{const k=x.clientX-h.left,L=h.width-k,p=240,d=Math.max(p,h.width-i.current-200),c=Math.min(Math.max(L,p),d);s(c)},w=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w);try{window.localStorage.setItem("rightW",String(l.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",w)}}}function Iy({x:e,y:t,items:n}){return m.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>m.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&m.jsx("span",{className:"shrink-0",children:r.icon}),m.jsx("span",{children:r.label})]},s))})}function Sd(e){return JSON.stringify(e,null,2)}function kd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),l=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,l].map(o=>t(String(o))).join(",")});return[n,...r].join(`
`)}function To(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function Dy(e,t=250){const[n,r]=tl.useState(e);return tl.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Re={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function Ay(){var $u;const[e,t]=S.useState("/"),[n,r]=S.useState(""),[s,i]=S.useState([]),[l,o]=S.useState(null),[a,u]=S.useState(0),[g,h]=S.useState(null),[v,w]=S.useState(100),[x,k]=S.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[L,p]=S.useState(()=>Date.now()),[d,c]=S.useState("adaptive"),[f,C]=S.useState(220),[E,j]=S.useState(!0),[M,T]=S.useState(!0),[R,b]=S.useState("folders"),[B,q]=S.useState([]),[W,de]=S.useState(null),[Ne,me]=S.useState({}),F=S.useRef(null),D=S.useRef(null),Q=S.useRef(!1),H=S.useRef(null),{leftW:Z,rightW:Ue,onResizeLeft:Fe,onResizeRight:Xt}=zy(F),[He,Ve]=S.useState(!1),[I,G]=S.useState(null);S.useEffect(()=>{const N=Vr(fd());t(N);const P=()=>{const A=Vr(fd());o(null),t(ee=>ee===A?ee:(u(ie=>ie+1),A))};return window.addEventListener("hashchange",P),()=>window.removeEventListener("hashchange",P)},[]);const{data:O,refetch:K,isLoading:Y,isError:se}=up(e),J=n.trim().length>0,oe=Dy(n,250),$=S.useMemo(()=>oe.trim().replace(/\s+/g," "),[oe]),Se=xy(J?$:"",e),ge=S.useMemo(()=>yd(x.filters),[x.filters]),ke=S.useMemo(()=>{var P;return(J?((P=Se.data)==null?void 0:P.items)??[]:(O==null?void 0:O.items)??[]).map(A=>({...A,star:Ne[A.path]!==void 0?Ne[A.path]:A.star}))},[J,Se.data,O,Ne]),ze=S.useMemo(()=>{const N=Ly(ke,x.filters);return Py(N,x.sort,L)},[ke,x.filters,x.sort,L]),Me=S.useMemo(()=>ze.map(N=>N.path),[ze]),Jt=S.useMemo(()=>{const N=ke,P={0:0,1:0,2:0,3:0,4:0,5:0};for(const A of N){const ee=Ne[A.path]??A.star??0;P[String(ee)]=(P[String(ee)]||0)+1}return P},[ke,Ne]),ne=S.useMemo(()=>{const N=new Set;let P=0;for(const A of ke){const ee=A.metrics;if(ee)for(const ie of Object.keys(ee))N.add(ie);if(P+=1,P>=250&&N.size>0)break}return Array.from(N).sort()},[ke]);S.useEffect(()=>{ne.length&&k(N=>{const P=N.selectedMetric&&ne.includes(N.selectedMetric)?N.selectedMetric:ne[0];return P===N.selectedMetric?N:{...N,selectedMetric:P}})},[ne]),S.useEffect(()=>{x.sort.kind==="metric"&&(ne.includes(x.sort.key)||k(N=>({...N,sort:{kind:"builtin",key:"added",dir:N.sort.dir}})))},[ne,x.sort]);const Te=S.useMemo(()=>Ny(x.filters),[x.filters]),$e=S.useCallback(()=>{k(N=>({...N,filters:Lo(N.filters,[])}))},[]),Zt=S.useCallback((N,P)=>{k(A=>({...A,filters:jy(A.filters,N,P)}))},[]),Ke=S.useMemo(()=>{const N=[];for(const P of x.filters.and)if("stars"in P){const A=P.stars||[];if(!A.length)continue;const ee=A.filter(mt=>mt>0).sort((mt,Er)=>Er-mt),ie=ee.length?ee.join(","):A.includes(0)?"None":"";N.push({id:"stars",label:`Rating: ${ie}`,onRemove:()=>$e()})}else if("metricRange"in P){const{key:A,min:ee,max:ie}=P.metricRange;N.push({id:`metric:${A}`,label:`${A}: ${By(ee,ie)}`,onRemove:()=>Zt(A,null)})}return N},[x.filters,$e,Zt]),ot=S.useCallback(N=>{const P=new Set(ge);P.has(N)?P.delete(N):P.add(N),k(A=>({...A,filters:Lo(A.filters,Array.from(P))}))},[ge]),Bt=S.useCallback(()=>{j(!0),b("metrics")},[]),en=S.useCallback(N=>{k(P=>({...P,sort:N})),N.kind==="builtin"&&N.key==="random"&&p(Date.now())},[]),Ot=S.useCallback(N=>{if(N==="/"||N==="")return"Lenslet | Root";const P=N.split("/").filter(Boolean);if(!P.length)return"Lenslet";const A=P.slice(-2).join("/");return`Lenslet | ${P.length>2?`.../${A}`:`/${A}`}`},[]);S.useEffect(()=>{document.title=Ot(e)},[e,Ot]),S.useEffect(()=>{let N=!0;return ue.getViews().then(P=>{N&&q(P.views||[])}).catch(()=>{N&&q([])}),()=>{N=!1}},[]),S.useEffect(()=>{J&&(i([]),o(null))},[J]),S.useEffect(()=>{try{const N=localStorage.getItem(Re.sortKey),P=localStorage.getItem(Re.sortDir),A=localStorage.getItem(Re.sortSpec),ee=localStorage.getItem(Re.starFilters),ie=localStorage.getItem(Re.filterAst),mt=localStorage.getItem(Re.selectedMetric),Er=localStorage.getItem(Re.viewMode),gs=localStorage.getItem(Re.gridItemSize),vs=localStorage.getItem(Re.leftOpen),ys=localStorage.getItem(Re.rightOpen),Wu=(qe=>{if(!qe)return null;const Ee=jo(qe);return!Ee||typeof Ee!="object"?null:Ee.kind==="builtin"&&(Ee.key==="name"||Ee.key==="added"||Ee.key==="random")&&(Ee.dir==="asc"||Ee.dir==="desc")||Ee.kind==="metric"&&typeof Ee.key=="string"&&Ee.key.length>0&&(Ee.dir==="asc"||Ee.dir==="desc")?Ee:null})(A)??{kind:"builtin",key:N==="name"||N==="added"||N==="random"?N:"added",dir:P==="asc"||P==="desc"?P:"desc"};Wu.key==="random"&&p(Date.now());let ql=(qe=>{if(!qe)return null;const Ee=jo(qe);return!Ee||typeof Ee!="object"||!Array.isArray(Ee.and)?null:Ee})(ie)??{and:[]};if(ee){const qe=jo(ee);if(Array.isArray(qe)){const Ee=qe.filter(xp=>[0,1,2,3,4,5].includes(xp));ql=Lo(ql,Ee)}}if(k(qe=>({...qe,sort:Wu,filters:ql,selectedMetric:mt||qe.selectedMetric})),(Er==="grid"||Er==="adaptive")&&c(Er),gs){const qe=Number(gs);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(vs==="0"||vs==="false")&&j(!1),(ys==="0"||ys==="false")&&T(!1)}catch{}},[]),S.useEffect(()=>{try{localStorage.setItem(Re.sortKey,x.sort.kind==="builtin"?x.sort.key:"added"),localStorage.setItem(Re.sortDir,x.sort.dir),localStorage.setItem(Re.sortSpec,JSON.stringify(x.sort));const N=yd(x.filters);localStorage.setItem(Re.starFilters,JSON.stringify(N)),localStorage.setItem(Re.filterAst,JSON.stringify(x.filters)),x.selectedMetric?localStorage.setItem(Re.selectedMetric,x.selectedMetric):localStorage.removeItem(Re.selectedMetric),localStorage.setItem(Re.viewMode,d),localStorage.setItem(Re.gridItemSize,String(f)),localStorage.setItem(Re.leftOpen,E?"1":"0"),localStorage.setItem(Re.rightOpen,M?"1":"0")}catch{}},[x,d,f,E,M]),S.useEffect(()=>{const N=D.current;if(!N)return;const P=ee=>Math.min(500,Math.max(80,ee)),A=ee=>{ee.ctrlKey&&(ee.preventDefault(),C(ie=>P(ie+(ee.deltaY<0?20:-20))))};return N.addEventListener("wheel",A,{passive:!1}),()=>N.removeEventListener("wheel",A)},[]),S.useEffect(()=>{if(!l)return;const N=Me.indexOf(l);if(N===-1)return;const P=[Me[N-2],Me[N-1],Me[N+1],Me[N+2]].filter(A=>!!A);for(const A of P)ue.prefetchFile(A),ue.prefetchThumb(A)},[l,Me]),S.useEffect(()=>{var P;if(!((P=O==null?void 0:O.items)!=null&&P.length))return;const N=O.items.slice(0,5);for(const A of N)ue.prefetchFile(A.path)},[O==null?void 0:O.path,O==null?void 0:O.items]);const Gn=S.useCallback(N=>{o(null);const P=Vr(N);t(P),Uv(P)},[]),kr=S.useCallback(async()=>{const N=window.prompt("Save Smart Folder as:","New Smart Folder");if(!N)return;const P=Uy(N,B),A={id:P,name:N,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(x))},ee=[...B.filter(ie=>ie.id!==P),A];q(ee),de(P);try{await ue.saveViews({version:1,views:ee})}catch(ie){if(ie instanceof Dt&&ie.status===403){const mt=new Blob([JSON.stringify({version:1,views:ee},null,2)],{type:"application/json"});el(mt,`lenslet-smart-folder-${P}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",ie)}},[e,x,B]);S.useEffect(()=>{if(!W)return;const N=B.find(ee=>ee.id===W);if(!N){de(null);return}const P=N.pool.path===e,A=JSON.stringify(N.view)===JSON.stringify(x);(!P||!A)&&de(null)},[W,B,e,x]);const Hl=S.useCallback(N=>{o(N),Q.current||(window.history.pushState({viewer:!0},"",window.location.href),Q.current=!0)},[]),Au=S.useCallback(()=>{o(null),Q.current&&(Q.current=!1,window.history.back());const N=H.current;if(N){const P=document.getElementById(`cell-${encodeURIComponent(N)}`);P==null||P.focus()}},[]);S.useEffect(()=>{const N=()=>{l&&(Q.current=!1,o(null))};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[l]),S.useEffect(()=>{const N=F.current;if(!N)return;const P=ie=>{ie.dataTransfer&&Array.from(ie.dataTransfer.types).includes("Files")&&(ie.preventDefault(),Ve(!0))},A=ie=>{const mt=ie.relatedTarget;mt&&N.contains(mt)||Ve(!1)},ee=async ie=>{var gs,vs;ie.preventDefault(),Ve(!1);const mt=Array.from(((gs=ie.dataTransfer)==null?void 0:gs.files)??[]);if(!mt.length)return;if(!((((vs=O==null?void 0:O.dirs)==null?void 0:vs.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ys of mt)try{await ue.uploadFile(e,ys)}catch(Bu){console.error(`Failed to upload ${ys.name}:`,Bu)}K()};return N.addEventListener("dragover",P),N.addEventListener("dragleave",A),N.addEventListener("drop",ee),()=>{N.removeEventListener("dragover",P),N.removeEventListener("dragleave",A),N.removeEventListener("drop",ee)}},[e,($u=O==null?void 0:O.dirs)==null?void 0:$u.length,K]),S.useEffect(()=>{const N=()=>G(null),P=A=>{A.key==="Escape"&&G(null)};return window.addEventListener("click",N),window.addEventListener("keydown",P),()=>{window.removeEventListener("click",N),window.removeEventListener("keydown",P)}},[]),S.useEffect(()=>{const N=P=>{if(!pp(P.target)){if((P.ctrlKey||P.metaKey)&&P.key.toLowerCase()==="b"){P.preventDefault(),P.altKey?T(A=>!A):j(A=>!A);return}if(!l){if(P.key==="Backspace"||P.key==="Delete")P.preventDefault(),Gn(Bv(e));else if((P.ctrlKey||P.metaKey)&&P.key.toLowerCase()==="a")P.preventDefault(),i(ze.map(A=>A.path));else if(P.key==="Escape")s.length&&(P.preventDefault(),i([]));else if(P.key==="/"){P.preventDefault();const A=document.querySelector(".toolbar-right .input");A==null||A.focus()}}}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,ze,s,l,Gn]);const gp=E?`${Z}px`:"0px",vp=M?`${Ue}px`:"0px",Uu=l??s[0]??null,Vl=Uu?Me.indexOf(Uu):-1,yp=Vl>0,wp=Vl>=0&&Vl<Me.length-1,Kl=S.useCallback(N=>{if(!Me.length)return;const P=l??s[0];if(!P)return;const A=Me.indexOf(P);if(A===-1)return;const ee=Math.min(Me.length-1,Math.max(0,A+N)),ie=Me[ee];!ie||ie===P||(l&&o(ie),i([ie]))},[Me,l,s]);return m.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:F,style:{"--left":gp,"--right":vp},children:[m.jsx(_v,{onSearch:r,viewerActive:!!l,onBack:Au,zoomPercent:l?v:void 0,onZoomPercentChange:N=>h(N),sortSpec:x.sort,metricKeys:ne,onSortChange:en,filterCount:Te,onOpenFilters:Bt,starFilters:ge,onToggleStar:ot,onClearStars:$e,starCounts:Jt,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:C,leftOpen:E,rightOpen:M,onToggleLeft:()=>j(N=>!N),onToggleRight:()=>T(N=>!N),onPrevImage:()=>Kl(-1),onNextImage:()=>Kl(1),canPrevImage:yp,canNextImage:wp}),E&&m.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[m.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${R==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":R==="folders",onClick:()=>b("folders"),children:m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:m.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),m.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${R==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":R==="metrics",onClick:()=>b("metrics"),children:m.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[m.jsx("path",{d:"M4 19V9"}),m.jsx("path",{d:"M10 19V5"}),m.jsx("path",{d:"M16 19v-7"}),m.jsx("path",{d:"M3 19h18"})]})})]}),m.jsx("div",{className:"ml-10 h-full",children:R==="folders"?m.jsxs("div",{className:"h-full flex flex-col",children:[m.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),m.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:kr,title:"Save current view as Smart Folder",children:"+ New"})]}),B.length?m.jsx("div",{className:"flex flex-col gap-1",children:B.map(N=>{const P=N.id===W;return m.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${P?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{de(N.id),k(N.view),Gn(N.pool.path),b("metrics")},children:N.name},N.id)})}):m.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),m.jsx(Qv,{current:e,roots:[{label:"Root",path:"/"}],data:O,onOpen:N=>{de(null),Gn(N)},onContextMenu:(N,P)=>{N.preventDefault(),G({x:N.clientX,y:N.clientY,kind:"tree",payload:{path:P}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):m.jsx(_y,{items:ke,filteredItems:ze,metricKeys:ne,selectedMetric:x.selectedMetric,onSelectMetric:N=>k(P=>({...P,selectedMetric:N})),filters:x.filters,onChangeRange:Zt})}),m.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:Fe})]}),m.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:D,children:[m.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Ke.length>0&&m.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:Ke.map(N=>m.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[m.jsx("span",{children:N.label}),m.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${N.label}`,onClick:N.onRemove,children:""})]},N.id))})}),!1,m.jsx("div",{className:"flex-1 min-h-0",children:m.jsx(uy,{items:ze,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:N=>{try{H.current=N}catch{}Hl(N),i([N])},highlight:J?$:"",suppressSelectionHighlight:!!l,viewMode:d,targetCellSize:f,onContextMenuItem:(N,P)=>{N.preventDefault();const A=s.length?s:[P];G({x:N.clientX,y:N.clientY,kind:"grid",payload:{paths:A}})}})})]}),M&&m.jsx(yy,{path:s[0]??null,selectedPaths:s,items:ze,onResize:Xt,onStarChanged:(N,P)=>{me(A=>{const ee={...A};for(const ie of N)ee[ie]=P;return ee})}}),l&&m.jsx(dy,{path:l,onClose:Au,onZoomChange:N=>w(Math.round(N)),requestedZoomPercent:g,onZoomRequestConsumed:()=>h(null),onNavigate:Kl}),He&&m.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),I&&m.jsx(Wy,{ctx:I,current:e,items:ze,refetch:K,setCtx:G})]})}function Uy(e,t){const n=$y(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function $y(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function By(e,t){return`${Ed(e)}${Ed(t)}`}function Ed(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function el(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Wy({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=Wv(t),l=(c,f)=>c==="/"?`/${f}`:`${c}/${f}`,o=vi(),[a,u]=tl.useState(!1),[g,h]=tl.useState(null),v=()=>new Date().toISOString().replace(/[:.]/g,"-"),w=c=>{const f=C=>c==="/"?!0:C===c||C.startsWith(`${c}/`);o.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const E=typeof C[1]=="string"?C[1]:"";return f(E)}})},x=c=>{const f=Vr(c);return f===""?"/":f},k=async()=>{const c=x(e.payload.path||"/");u(!0);try{await ue.refreshFolder(c),w(c),(t===c||t.startsWith(c==="/"?"/":`${c}/`))&&await r(),Ia.evictPrefix(c),Mr.evictPrefix(c)}catch(f){console.error("Failed to refresh folder:",f)}finally{u(!1),s(null)}},L=async c=>{const f=[c],C=new Set,E=[];for(;f.length;){const j=f.pop();if(!C.has(j)){C.add(j);try{const M=await ue.getFolder(j);E.push(...M.items);for(const T of M.dirs)T.kind==="branch"&&f.push(l(j,T.name))}catch(M){console.error(`Failed to fetch folder ${j}:`,M)}}}return E},p=c=>async()=>{h(c);const f=e.payload.path||t;try{const C=await L(f),E=To(C),j=c==="csv"?kd(E):Sd(E),M=c==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",T=f==="/"?"root":(f.replace(/^\/+/,"")||"root").replace(/\//g,"_");el(new Blob([j],{type:M}),`metadata_${T}_${v()}.${c}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{h(null),s(null)}},d=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:k},{label:g==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!g||a,onClick:p("csv")},{label:g==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!g||a,onClick:p("json")}]:(()=>{const c=e.payload.paths??[],f=[];return f.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of c)try{await ue.moveFile(C,"/_trash_")}catch(E){console.error(`Failed to trash ${C}:`,E)}r(),s(null)}}}),i&&(f.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${c.length} file(s) permanently? This cannot be undone.`)){try{await ue.deleteFiles(c)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),f.push({label:"Recover",onClick:async()=>{for(const C of c)try{const j=(await ue.getSidecar(C)).original_position,M=j&&j.split("/").slice(0,-1).join("/")||"/";await ue.moveFile(C,M)}catch(E){console.error(`Failed to recover ${C}:`,E)}r(),s(null)}})),c.length&&(f.push({label:g==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!g,onClick:async()=>{h("csv");try{const C=new Set(c),E=n.filter(T=>C.has(T.path)),j=To(E),M=kd(j);el(new Blob([M],{type:"text/csv;charset=utf-8"}),`metadata_selection_${v()}.csv`)}finally{h(null),s(null)}}}),f.push({label:g==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!g,onClick:async()=>{h("json");try{const C=new Set(c),E=n.filter(T=>C.has(T.path)),j=To(E),M=Sd(j);el(new Blob([M],{type:"application/json;charset=utf-8"}),`metadata_selection_${v()}.json`)}finally{h(null),s(null)}}})),f})();return m.jsx(Iy,{x:e.x,y:e.y,items:d})}const Qy=new yv({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Hy(){return m.jsx(wv,{client:Qy,children:m.jsx(Ay,{})})}qh(document.getElementById("root")).render(m.jsx(Hy,{}));
