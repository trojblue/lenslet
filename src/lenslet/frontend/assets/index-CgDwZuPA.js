var im=Object.defineProperty;var uc=e=>{throw TypeError(e)};var lm=(e,t,n)=>t in e?im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Er=(e,t,n)=>lm(e,typeof t!="symbol"?t+"":t,n),io=(e,t,n)=>t.has(e)||uc("Cannot "+n);var y=(e,t,n)=>(io(e,t,"read from private field"),n?n.call(e):t.get(e)),H=(e,t,n)=>t.has(e)?uc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_=(e,t,n,r)=>(io(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Y=(e,t,n)=>(io(e,t,"access private method"),n);var Ei=(e,t,n,r)=>({set _(s){_(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cf={exports:{}},Dl={},df={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=Symbol.for("react.element"),am=Symbol.for("react.portal"),um=Symbol.for("react.fragment"),cm=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),gm=Symbol.for("react.memo"),vm=Symbol.for("react.lazy"),cc=Symbol.iterator;function ym(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,pf={};function ps(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||ff}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=ps.prototype;function nu(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||ff}var ru=nu.prototype=new mf;ru.constructor=nu;hf(ru,ps.prototype);ru.isPureReactComponent=!0;var dc=Array.isArray,gf=Object.prototype.hasOwnProperty,su={current:null},vf={key:!0,ref:!0,__self:!0,__source:!0};function yf(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)gf.call(t,r)&&!vf.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:mi,type:e,key:i,ref:l,props:s,_owner:su.current}}function xm(e,t){return{$$typeof:mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===mi}function wm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wm(""+e.key):t.toString(36)}function Gi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case mi:case am:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+lo(l,0):r,dc(s)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),Gi(s,t,n,"",function(u){return u})):s!=null&&(iu(s)&&(s=xm(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(fc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",dc(e))for(var o=0;o<e.length;o++){i=e[o];var a=r+lo(i,o);l+=Gi(i,t,n,a,s)}else if(a=ym(e),typeof a=="function")for(e=a.call(e),o=0;!(i=e.next()).done;)i=i.value,a=r+lo(i,o++),l+=Gi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ni(e,t,n){if(e==null)return e;var r=[],s=0;return Gi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},qi={transition:null},km={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:qi,ReactCurrentOwner:su};function xf(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=ps;J.Fragment=um;J.Profiler=dm;J.PureComponent=nu;J.StrictMode=cm;J.Suspense=mm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;J.act=xf;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hf({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=su.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)gf.call(t,a)&&!vf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:mi,type:e.type,key:s,ref:i,props:r,_owner:l}};J.createContext=function(e){return e={$$typeof:hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fm,_context:e},e.Consumer=e};J.createElement=yf;J.createFactory=function(e){var t=yf.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:pm,render:e}};J.isValidElement=iu;J.lazy=function(e){return{$$typeof:vm,_payload:{_status:-1,_result:e},_init:Sm}};J.memo=function(e,t){return{$$typeof:gm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=qi.transition;qi.transition={};try{e()}finally{qi.transition=t}};J.unstable_act=xf;J.useCallback=function(e,t){return st.current.useCallback(e,t)};J.useContext=function(e){return st.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return st.current.useDeferredValue(e)};J.useEffect=function(e,t){return st.current.useEffect(e,t)};J.useId=function(){return st.current.useId()};J.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return st.current.useMemo(e,t)};J.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};J.useRef=function(e){return st.current.useRef(e)};J.useState=function(e){return st.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return st.current.useTransition()};J.version="18.3.1";df.exports=J;var k=df.exports;const cl=om(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=k,Em=Symbol.for("react.element"),Nm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,jm=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)bm.call(t,r)&&!Mm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Em,type:e,key:i,ref:l,props:s,_owner:jm.current}}Dl.Fragment=Nm;Dl.jsx=wf;Dl.jsxs=wf;cf.exports=Dl;var p=cf.exports,Sf={exports:{}},xt={},kf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,D){var V=F.length;F.push(D);e:for(;0<V;){var ue=V-1>>>1,ce=F[ue];if(0<s(ce,D))F[ue]=D,F[V]=ce,V=ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var D=F[0],V=F.pop();if(V!==D){F[0]=V;e:for(var ue=0,ce=F.length,Lt=ce>>>1;ue<Lt;){var Ue=2*(ue+1)-1,Jt=F[Ue],Be=Ue+1,We=F[Be];if(0>s(Jt,V))Be<ce&&0>s(We,Jt)?(F[ue]=We,F[Be]=V,ue=Be):(F[ue]=Jt,F[Ue]=V,ue=Ue);else if(Be<ce&&0>s(We,V))F[ue]=We,F[Be]=V,ue=Be;else break e}}return D}function s(F,D){var V=F.sortIndex-D.sortIndex;return V!==0?V:F.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],u=[],d=1,c=null,f=3,x=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=F)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function g(F){if(S=!1,h(F),!w)if(n(a)!==null)w=!0,Pe(C);else{var D=n(u);D!==null&&he(g,D.startTime-F)}}function C(F,D){w=!1,S&&(S=!1,v(N),N=-1),x=!0;var V=f;try{for(h(D),c=n(a);c!==null&&(!(c.expirationTime>D)||F&&!P());){var ue=c.callback;if(typeof ue=="function"){c.callback=null,f=c.priorityLevel;var ce=ue(c.expirationTime<=D);D=e.unstable_now(),typeof ce=="function"?c.callback=ce:c===n(a)&&r(a),h(D)}else r(a);c=n(a)}if(c!==null)var Lt=!0;else{var Ue=n(u);Ue!==null&&he(g,Ue.startTime-D),Lt=!1}return Lt}finally{c=null,f=V,x=!1}}var E=!1,b=null,N=-1,L=5,R=-1;function P(){return!(e.unstable_now()-R<L)}function U(){if(b!==null){var F=e.unstable_now();R=F;var D=!0;try{D=b(!0,F)}finally{D?Q():(E=!1,b=null)}}else E=!1}var Q;if(typeof m=="function")Q=function(){m(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,je=B.port2;B.port1.onmessage=U,Q=function(){je.postMessage(null)}}else Q=function(){M(U,0)};function Pe(F){b=F,E||(E=!0,Q())}function he(F,D){N=M(function(){F(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,Pe(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var V=f;f=D;try{return F()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,D){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=f;f=F;try{return D()}finally{f=V}},e.unstable_scheduleCallback=function(F,D,V){var ue=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ue+V:ue):V=ue,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=V+ce,F={id:d++,callback:D,priorityLevel:F,startTime:V,expirationTime:ce,sortIndex:-1},V>ue?(F.sortIndex=V,t(u,F),n(a)===null&&F===n(u)&&(S?(v(N),N=-1):S=!0,he(g,V-ue))):(F.sortIndex=ce,t(a,F),w||x||(w=!0,Pe(C))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var D=f;return function(){var V=f;f=D;try{return F.apply(this,arguments)}finally{f=V}}}})(Cf);kf.exports=Cf;var Rm=kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=k,yt=Rm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ef=new Set,Vs={};function Sr(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(Vs[e]=t,e=0;e<t.length;e++)Ef.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=Object.prototype.hasOwnProperty,Im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hc={},pc={};function Om(e){return Wo.call(pc,e)?!0:Wo.call(hc,e)?!1:Im.test(e)?pc[e]=!0:(hc[e]=!0,!1)}function Tm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pm(e,t,n,r){if(t===null||typeof t>"u"||Tm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var lu=/[\-:]([a-z])/g;function ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lu,ou);$e[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lu,ou);$e[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lu,ou);$e[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pm(t,n,s,r)&&(n=null),r||s===null?Om(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),Ho=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),jf=Symbol.for("react.offscreen"),mc=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,oo;function Ls(e){if(oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oo=t&&t[1]||""}return`
`+oo+e}var ao=!1;function uo(e,t){if(!e||ao)return"";ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var a=`
`+s[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ls(e):""}function Fm(e){switch(e.tag){case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return e=uo(e.type,!1),e;case 11:return e=uo(e.type.render,!1),e;case 1:return e=uo(e.type,!0),e;default:return""}}function Ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Rr:return"Portal";case Qo:return"Profiler";case uu:return"StrictMode";case Ho:return"Suspense";case Vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bf:return(e.displayName||"Context")+".Consumer";case Nf:return(e._context.displayName||"Context")+".Provider";case cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:Ko(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Ko(e(t))}catch{}}return null}function _m(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(t);case 8:return t===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e){var t=Mf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=zm(e))}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Go(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lf(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function qo(e,t){Lf(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yo(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yo(e,t,n){(t!=="number"||dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Is(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function If(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mi,Tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){Dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function Pf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function Ff(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Am=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,t){if(t){if(Am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var na=null,Br=null,Wr=null;function wc(e){if(e=yi(e)){if(typeof na!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Wl(t),na(e.stateNode,e.type,t))}}function _f(e){Br?Wr?Wr.push(e):Wr=[e]:Br=e}function zf(){if(Br){var e=Br,t=Wr;if(Wr=Br=null,wc(e),t)for(e=0;e<t.length;e++)wc(t[e])}}function Df(e,t){return e(t)}function Af(){}var co=!1;function $f(e,t,n){if(co)return e(t,n);co=!0;try{return Df(e,t,n)}finally{co=!1,(Br!==null||Wr!==null)&&(Af(),zf())}}function Gs(e,t){var n=e.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var ra=!1;if(fn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{ra=!1}function $m(e,t,n,r,s,i,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _s=!1,fl=null,hl=!1,sa=null,Um={onError:function(e){_s=!0,fl=e}};function Bm(e,t,n,r,s,i,l,o,a){_s=!1,fl=null,$m.apply(Um,arguments)}function Wm(e,t,n,r,s,i,l,o,a){if(Bm.apply(this,arguments),_s){if(_s){var u=fl;_s=!1,fl=null}else throw Error(O(198));hl||(hl=!0,sa=u)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Uf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(kr(e)!==e)throw Error(O(188))}function Qm(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sc(s),e;if(i===r)return Sc(s),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Bf(e){return e=Qm(e),e!==null?Wf(e):null}function Wf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wf(e);if(t!==null)return t;e=e.sibling}return null}var Qf=yt.unstable_scheduleCallback,kc=yt.unstable_cancelCallback,Hm=yt.unstable_shouldYield,Vm=yt.unstable_requestPaint,be=yt.unstable_now,Km=yt.unstable_getCurrentPriorityLevel,hu=yt.unstable_ImmediatePriority,Hf=yt.unstable_UserBlockingPriority,pl=yt.unstable_NormalPriority,Gm=yt.unstable_LowPriority,Vf=yt.unstable_IdlePriority,Al=null,Yt=null;function qm(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Jm,Ym=Math.log,Xm=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Ym(e)/Xm|0)|0}var Ri=64,Li=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Os(o):(i&=l,i!==0&&(r=Os(i)))}else l=n&~s,l!==0?r=Os(l):i!==0&&(r=Os(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),s=1<<n,r|=e[n],t&=~s;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-At(i),o=1<<l,a=s[l];a===-1?(!(o&n)||o&r)&&(s[l]=Zm(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}}function ia(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kf(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function fo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function tg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qf,mu,Yf,Xf,Jf,la=!1,Ii=[],Pn=null,Fn=null,_n=null,qs=new Map,Ys=new Map,Sn=[],ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function Cs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yi(t),t!==null&&mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rg(e,t,n,r,s){switch(t){case"focusin":return Pn=Cs(Pn,e,t,n,r,s),!0;case"dragenter":return Fn=Cs(Fn,e,t,n,r,s),!0;case"mouseover":return _n=Cs(_n,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return qs.set(i,Cs(qs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ys.set(i,Cs(Ys.get(i)||null,e,t,n,r,s)),!0}return!1}function Zf(e){var t=Zn(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Uf(n),t!==null){e.blockedOn=t,Jf(e.priority,function(){Yf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return t=yi(n),t!==null&&mu(t),e.blockedOn=n,!1;t.shift()}return!0}function Ec(e,t,n){Yi(e)&&n.delete(t)}function sg(){la=!1,Pn!==null&&Yi(Pn)&&(Pn=null),Fn!==null&&Yi(Fn)&&(Fn=null),_n!==null&&Yi(_n)&&(_n=null),qs.forEach(Ec),Ys.forEach(Ec)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,la||(la=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,sg)))}function Xs(e){function t(s){return Es(s,e)}if(0<Ii.length){Es(Ii[0],e);for(var n=1;n<Ii.length;n++){var r=Ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&Es(Pn,e),Fn!==null&&Es(Fn,e),_n!==null&&Es(_n,e),qs.forEach(t),Ys.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Zf(n),n.blockedOn===null&&Sn.shift()}var Qr=gn.ReactCurrentBatchConfig,gl=!0;function ig(e,t,n,r){var s=ae,i=Qr.transition;Qr.transition=null;try{ae=1,gu(e,t,n,r)}finally{ae=s,Qr.transition=i}}function lg(e,t,n,r){var s=ae,i=Qr.transition;Qr.transition=null;try{ae=4,gu(e,t,n,r)}finally{ae=s,Qr.transition=i}}function gu(e,t,n,r){if(gl){var s=oa(e,t,n,r);if(s===null)ko(e,t,r,vl,n),Cc(e,r);else if(rg(s,e,t,n,r))r.stopPropagation();else if(Cc(e,r),t&4&&-1<ng.indexOf(e)){for(;s!==null;){var i=yi(s);if(i!==null&&qf(i),i=oa(e,t,n,r),i===null&&ko(e,t,r,vl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ko(e,t,r,null,n)}}var vl=null;function oa(e,t,n,r){if(vl=null,e=fu(r),e=Zn(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Uf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vl=e,null}function eh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Km()){case hu:return 1;case Hf:return 4;case pl:case Gm:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var On=null,vu=null,Xi=null;function th(){if(Xi)return Xi;var e,t=vu,n=t.length,r,s="value"in On?On.value:On.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Nc(){return!1}function wt(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:Nc,this.isPropagationStopped=Nc,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=wt(ms),vi=Se({},ms,{view:0,detail:0}),og=wt(vi),ho,po,Ns,$l=Se({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(ho=e.screenX-Ns.screenX,po=e.screenY-Ns.screenY):po=ho=0,Ns=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:po}}),bc=wt($l),ag=Se({},$l,{dataTransfer:0}),ug=wt(ag),cg=Se({},vi,{relatedTarget:0}),mo=wt(cg),dg=Se({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=wt(dg),hg=Se({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pg=wt(hg),mg=Se({},ms,{data:0}),jc=wt(mg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yg[e])?!!t[e]:!1}function xu(){return xg}var wg=Se({},vi,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=wt(wg),kg=Se({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=wt(kg),Cg=Se({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),Eg=wt(Cg),Ng=Se({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),bg=wt(Ng),jg=Se({},$l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mg=wt(jg),Rg=[9,13,27,32],wu=fn&&"CompositionEvent"in window,zs=null;fn&&"documentMode"in document&&(zs=document.documentMode);var Lg=fn&&"TextEvent"in window&&!zs,nh=fn&&(!wu||zs&&8<zs&&11>=zs),Rc=" ",Lc=!1;function rh(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Ig(e,t){switch(e){case"compositionend":return sh(t);case"keypress":return t.which!==32?null:(Lc=!0,Rc);case"textInput":return e=t.data,e===Rc&&Lc?null:e;default:return null}}function Og(e,t){if(Ir)return e==="compositionend"||!wu&&rh(e,t)?(e=th(),Xi=vu=On=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nh&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function ih(e,t,n,r){_f(r),t=yl(t,"onChange"),0<t.length&&(n=new yu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ds=null,Js=null;function Pg(e){gh(e,0)}function Ul(e){var t=Pr(e);if(Rf(t))return e}function Fg(e,t){if(e==="change")return t}var lh=!1;if(fn){var go;if(fn){var vo="oninput"in document;if(!vo){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),vo=typeof Oc.oninput=="function"}go=vo}else go=!1;lh=go&&(!document.documentMode||9<document.documentMode)}function Tc(){Ds&&(Ds.detachEvent("onpropertychange",oh),Js=Ds=null)}function oh(e){if(e.propertyName==="value"&&Ul(Js)){var t=[];ih(t,Js,e,fu(e)),$f(Pg,t)}}function _g(e,t,n){e==="focusin"?(Tc(),Ds=t,Js=n,Ds.attachEvent("onpropertychange",oh)):e==="focusout"&&Tc()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Js)}function Dg(e,t){if(e==="click")return Ul(t)}function Ag(e,t){if(e==="input"||e==="change")return Ul(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:$g;function Zs(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wo.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pc(n)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uh(){for(var e=window,t=dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ug(e){var t=uh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ah(n.ownerDocument.documentElement,n)){if(r!==null&&Su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Fc(n,i);var l=Fc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bg=fn&&"documentMode"in document&&11>=document.documentMode,Or=null,aa=null,As=null,ua=!1;function _c(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ua||Or==null||Or!==dl(r)||(r=Or,"selectionStart"in r&&Su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Zs(As,r)||(As=r,r=yl(aa,"onSelect"),0<r.length&&(t=new yu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function Ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},yo={},ch={};fn&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Bl(e){if(yo[e])return yo[e];if(!Tr[e])return e;var t=Tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ch)return yo[e]=t[n];return e}var dh=Bl("animationend"),fh=Bl("animationiteration"),hh=Bl("animationstart"),ph=Bl("transitionend"),mh=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){mh.set(e,t),Sr(t,[e])}for(var xo=0;xo<zc.length;xo++){var wo=zc[xo],Wg=wo.toLowerCase(),Qg=wo[0].toUpperCase()+wo.slice(1);Hn(Wg,"on"+Qg)}Hn(dh,"onAnimationEnd");Hn(fh,"onAnimationIteration");Hn(hh,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(ph,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Dc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wm(r,t,void 0,e),e.currentTarget=null}function gh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;Dc(s,o,u),i=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;Dc(s,o,u),i=a}}}if(hl)throw e=sa,hl=!1,sa=null,e}function pe(e,t){var n=t[pa];n===void 0&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(vh(t,e,2,!1),n.add(r))}function So(e,t,n){var r=0;t&&(r|=4),vh(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function ei(e){if(!e[Pi]){e[Pi]=!0,Ef.forEach(function(n){n!=="selectionchange"&&(Hg.has(n)||So(n,!1,e),So(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,So("selectionchange",!1,t))}}function vh(e,t,n,r){switch(eh(t)){case 1:var s=ig;break;case 4:s=lg;break;default:s=gu}n=s.bind(null,t,n,e),s=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ko(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Zn(o),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}o=o.parentNode}}r=r.return}$f(function(){var u=i,d=fu(n),c=[];e:{var f=mh.get(e);if(f!==void 0){var x=yu,w=e;switch(e){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":x=Sg;break;case"focusin":w="focus",x=mo;break;case"focusout":w="blur",x=mo;break;case"beforeblur":case"afterblur":x=mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Eg;break;case dh:case fh:case hh:x=fg;break;case ph:x=bg;break;case"scroll":x=og;break;case"wheel":x=Mg;break;case"copy":case"cut":case"paste":x=pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Mc}var S=(t&4)!==0,M=!S&&e==="scroll",v=S?f!==null?f+"Capture":null:f;S=[];for(var m=u,h;m!==null;){h=m;var g=h.stateNode;if(h.tag===5&&g!==null&&(h=g,v!==null&&(g=Gs(m,v),g!=null&&S.push(ti(m,g,h)))),M)break;m=m.return}0<S.length&&(f=new x(f,w,null,n,d),c.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==ta&&(w=n.relatedTarget||n.fromElement)&&(Zn(w)||w[hn]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?Zn(w):null,w!==null&&(M=kr(w),w!==M||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(S=bc,g="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(S=Mc,g="onPointerLeave",v="onPointerEnter",m="pointer"),M=x==null?f:Pr(x),h=w==null?f:Pr(w),f=new S(g,m+"leave",x,n,d),f.target=M,f.relatedTarget=h,g=null,Zn(d)===u&&(S=new S(v,m+"enter",w,n,d),S.target=h,S.relatedTarget=M,g=S),M=g,x&&w)t:{for(S=x,v=w,m=0,h=S;h;h=Nr(h))m++;for(h=0,g=v;g;g=Nr(g))h++;for(;0<m-h;)S=Nr(S),m--;for(;0<h-m;)v=Nr(v),h--;for(;m--;){if(S===v||v!==null&&S===v.alternate)break t;S=Nr(S),v=Nr(v)}S=null}else S=null;x!==null&&Ac(c,f,x,S,!1),w!==null&&M!==null&&Ac(c,M,w,S,!0)}}e:{if(f=u?Pr(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var C=Fg;else if(Ic(f))if(lh)C=Ag;else{C=zg;var E=_g}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Dg);if(C&&(C=C(e,u))){ih(c,C,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Yo(f,"number",f.value)}switch(E=u?Pr(u):window,e){case"focusin":(Ic(E)||E.contentEditable==="true")&&(Or=E,aa=u,As=null);break;case"focusout":As=aa=Or=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,_c(c,n,d);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":_c(c,n,d)}var b;if(wu)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ir?rh(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(nh&&n.locale!=="ko"&&(Ir||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ir&&(b=th()):(On=d,vu="value"in On?On.value:On.textContent,Ir=!0)),E=yl(u,N),0<E.length&&(N=new jc(N,e,null,n,d),c.push({event:N,listeners:E}),b?N.data=b:(b=sh(n),b!==null&&(N.data=b)))),(b=Lg?Ig(e,n):Og(e,n))&&(u=yl(u,"onBeforeInput"),0<u.length&&(d=new jc("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=b))}gh(c,t)})}function ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gs(e,n),i!=null&&r.unshift(ti(e,i,s)),i=Gs(e,t),i!=null&&r.push(ti(e,i,s))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&u!==null&&(o=u,s?(a=Gs(n,i),a!=null&&l.unshift(ti(n,a,o))):s||(a=Gs(n,i),a!=null&&l.push(ti(n,a,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Vg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function $c(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(Kg,"")}function Fi(e,t,n){if(t=$c(t),$c(e)!==t&&n)throw Error(O(425))}function xl(){}var ca=null,da=null;function fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Gg=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,qg=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch(Yg)}:ha;function Yg(e){setTimeout(function(){throw e})}function Co(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xs(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),qt="__reactFiber$"+gs,ni="__reactProps$"+gs,hn="__reactContainer$"+gs,pa="__reactEvents$"+gs,Xg="__reactListeners$"+gs,Jg="__reactHandles$"+gs;function Zn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bc(e);e!==null;){if(n=e[qt])return n;e=Bc(e)}return t}e=n,n=e.parentNode}return null}function yi(e){return e=e[qt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Wl(e){return e[ni]||null}var ma=[],Fr=-1;function Vn(e){return{current:e}}function me(e){0>Fr||(e.current=ma[Fr],ma[Fr]=null,Fr--)}function fe(e,t){Fr++,ma[Fr]=e.current,e.current=t}var Qn={},Xe=Vn(Qn),dt=Vn(!1),pr=Qn;function os(e,t){var n=e.type.contextTypes;if(!n)return Qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function wl(){me(dt),me(Xe)}function Wc(e,t,n){if(Xe.current!==Qn)throw Error(O(168));fe(Xe,t),fe(dt,n)}function yh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,_m(e)||"Unknown",s));return Se({},n,r)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,pr=Xe.current,fe(Xe,e),fe(dt,dt.current),!0}function Qc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=yh(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,me(dt),me(Xe),fe(Xe,e)):me(dt),fe(dt,n)}var nn=null,Ql=!1,Eo=!1;function xh(e){nn===null?nn=[e]:nn.push(e)}function Zg(e){Ql=!0,xh(e)}function Kn(){if(!Eo&&nn!==null){Eo=!0;var e=0,t=ae;try{var n=nn;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,Ql=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),Qf(hu,Kn),s}finally{ae=t,Eo=!1}}return null}var _r=[],zr=0,kl=null,Cl=0,Et=[],Nt=0,mr=null,an=1,un="";function Xn(e,t){_r[zr++]=Cl,_r[zr++]=kl,kl=e,Cl=t}function wh(e,t,n){Et[Nt++]=an,Et[Nt++]=un,Et[Nt++]=mr,mr=e;var r=an;e=un;var s=32-At(r)-1;r&=~(1<<s),n+=1;var i=32-At(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,an=1<<32-At(t)+s|n<<s|r,un=i+e}else an=1<<i|n<<s|r,un=e}function ku(e){e.return!==null&&(Xn(e,1),wh(e,1,0))}function Cu(e){for(;e===kl;)kl=_r[--zr],_r[zr]=null,Cl=_r[--zr],_r[zr]=null;for(;e===mr;)mr=Et[--Nt],Et[Nt]=null,un=Et[--Nt],Et[Nt]=null,an=Et[--Nt],Et[Nt]=null}var vt=null,gt=null,ge=!1,zt=null;function Sh(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:an,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function ga(e){return(e.mode&1)!==0&&(e.flags&128)===0}function va(e){if(ge){var t=gt;if(t){var n=t;if(!Hc(e,t)){if(ga(e))throw Error(O(418));t=zn(n.nextSibling);var r=vt;t&&Hc(e,t)?Sh(r,n):(e.flags=e.flags&-4097|2,ge=!1,vt=e)}}else{if(ga(e))throw Error(O(418));e.flags=e.flags&-4097|2,ge=!1,vt=e}}}function Vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function _i(e){if(e!==vt)return!1;if(!ge)return Vc(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fa(e.type,e.memoizedProps)),t&&(t=gt)){if(ga(e))throw kh(),Error(O(418));for(;t;)Sh(e,t),t=zn(t.nextSibling)}if(Vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?zn(e.stateNode.nextSibling):null;return!0}function kh(){for(var e=gt;e;)e=zn(e.nextSibling)}function as(){gt=vt=null,ge=!1}function Eu(e){zt===null?zt=[e]:zt.push(e)}var ev=gn.ReactCurrentBatchConfig;function bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function Ch(e){function t(v,m){if(e){var h=v.deletions;h===null?(v.deletions=[m],v.flags|=16):h.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Un(v,m),v.index=0,v.sibling=null,v}function i(v,m,h){return v.index=h,e?(h=v.alternate,h!==null?(h=h.index,h<m?(v.flags|=2,m):h):(v.flags|=2,m)):(v.flags|=1048576,m)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,h,g){return m===null||m.tag!==6?(m=Io(h,v.mode,g),m.return=v,m):(m=s(m,h),m.return=v,m)}function a(v,m,h,g){var C=h.type;return C===Lr?d(v,m,h.props.children,g,h.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&Kc(C)===m.type)?(g=s(m,h.props),g.ref=bs(v,m,h),g.return=v,g):(g=il(h.type,h.key,h.props,null,v.mode,g),g.ref=bs(v,m,h),g.return=v,g)}function u(v,m,h,g){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=Oo(h,v.mode,g),m.return=v,m):(m=s(m,h.children||[]),m.return=v,m)}function d(v,m,h,g,C){return m===null||m.tag!==7?(m=hr(h,v.mode,g,C),m.return=v,m):(m=s(m,h),m.return=v,m)}function c(v,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Io(""+m,v.mode,h),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bi:return h=il(m.type,m.key,m.props,null,v.mode,h),h.ref=bs(v,null,m),h.return=v,h;case Rr:return m=Oo(m,v.mode,h),m.return=v,m;case xn:var g=m._init;return c(v,g(m._payload),h)}if(Is(m)||Ss(m))return m=hr(m,v.mode,h,null),m.return=v,m;zi(v,m)}return null}function f(v,m,h,g){var C=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:o(v,m,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case bi:return h.key===C?a(v,m,h,g):null;case Rr:return h.key===C?u(v,m,h,g):null;case xn:return C=h._init,f(v,m,C(h._payload),g)}if(Is(h)||Ss(h))return C!==null?null:d(v,m,h,g,null);zi(v,h)}return null}function x(v,m,h,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return v=v.get(h)||null,o(m,v,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bi:return v=v.get(g.key===null?h:g.key)||null,a(m,v,g,C);case Rr:return v=v.get(g.key===null?h:g.key)||null,u(m,v,g,C);case xn:var E=g._init;return x(v,m,h,E(g._payload),C)}if(Is(g)||Ss(g))return v=v.get(h)||null,d(m,v,g,C,null);zi(m,g)}return null}function w(v,m,h,g){for(var C=null,E=null,b=m,N=m=0,L=null;b!==null&&N<h.length;N++){b.index>N?(L=b,b=null):L=b.sibling;var R=f(v,b,h[N],g);if(R===null){b===null&&(b=L);break}e&&b&&R.alternate===null&&t(v,b),m=i(R,m,N),E===null?C=R:E.sibling=R,E=R,b=L}if(N===h.length)return n(v,b),ge&&Xn(v,N),C;if(b===null){for(;N<h.length;N++)b=c(v,h[N],g),b!==null&&(m=i(b,m,N),E===null?C=b:E.sibling=b,E=b);return ge&&Xn(v,N),C}for(b=r(v,b);N<h.length;N++)L=x(b,v,N,h[N],g),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?N:L.key),m=i(L,m,N),E===null?C=L:E.sibling=L,E=L);return e&&b.forEach(function(P){return t(v,P)}),ge&&Xn(v,N),C}function S(v,m,h,g){var C=Ss(h);if(typeof C!="function")throw Error(O(150));if(h=C.call(h),h==null)throw Error(O(151));for(var E=C=null,b=m,N=m=0,L=null,R=h.next();b!==null&&!R.done;N++,R=h.next()){b.index>N?(L=b,b=null):L=b.sibling;var P=f(v,b,R.value,g);if(P===null){b===null&&(b=L);break}e&&b&&P.alternate===null&&t(v,b),m=i(P,m,N),E===null?C=P:E.sibling=P,E=P,b=L}if(R.done)return n(v,b),ge&&Xn(v,N),C;if(b===null){for(;!R.done;N++,R=h.next())R=c(v,R.value,g),R!==null&&(m=i(R,m,N),E===null?C=R:E.sibling=R,E=R);return ge&&Xn(v,N),C}for(b=r(v,b);!R.done;N++,R=h.next())R=x(b,v,N,R.value,g),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?N:R.key),m=i(R,m,N),E===null?C=R:E.sibling=R,E=R);return e&&b.forEach(function(U){return t(v,U)}),ge&&Xn(v,N),C}function M(v,m,h,g){if(typeof h=="object"&&h!==null&&h.type===Lr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case bi:e:{for(var C=h.key,E=m;E!==null;){if(E.key===C){if(C=h.type,C===Lr){if(E.tag===7){n(v,E.sibling),m=s(E,h.props.children),m.return=v,v=m;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&Kc(C)===E.type){n(v,E.sibling),m=s(E,h.props),m.ref=bs(v,E,h),m.return=v,v=m;break e}n(v,E);break}else t(v,E);E=E.sibling}h.type===Lr?(m=hr(h.props.children,v.mode,g,h.key),m.return=v,v=m):(g=il(h.type,h.key,h.props,null,v.mode,g),g.ref=bs(v,m,h),g.return=v,v=g)}return l(v);case Rr:e:{for(E=h.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(v,m.sibling),m=s(m,h.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Oo(h,v.mode,g),m.return=v,v=m}return l(v);case xn:return E=h._init,M(v,m,E(h._payload),g)}if(Is(h))return w(v,m,h,g);if(Ss(h))return S(v,m,h,g);zi(v,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,h),m.return=v,v=m):(n(v,m),m=Io(h,v.mode,g),m.return=v,v=m),l(v)):n(v,m)}return M}var us=Ch(!0),Eh=Ch(!1),El=Vn(null),Nl=null,Dr=null,Nu=null;function bu(){Nu=Dr=Nl=null}function ju(e){var t=El.current;me(El),e._currentValue=t}function ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){Nl=e,Nu=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(Nu!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(Nl===null)throw Error(O(308));Dr=e,Nl.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var er=null;function Mu(e){er===null?er=[e]:er.push(e)}function Nh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pn(e,n)}return s=r.interleaved,s===null?(t.next=t,Mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,pn(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}function Gc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bl(e,t,n,r){var s=e.updateQueue;wn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;l=0,d=u=a=null,o=i;do{var f=o.lane,x=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,S=o;switch(f=t,x=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){c=w.call(x,c,f);break e}c=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,f=typeof w=="function"?w.call(x,c,f):w,f==null)break e;c=Se({},c,f);break e;case 2:wn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,a=c):d=d.next=x,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vr|=l,e.lanes=l,e.memoizedState=c}}function qc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var xi={},Xt=Vn(xi),ri=Vn(xi),si=Vn(xi);function tr(e){if(e===xi)throw Error(O(174));return e}function Lu(e,t){switch(fe(si,t),fe(ri,e),fe(Xt,xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jo(t,e)}me(Xt),fe(Xt,t)}function cs(){me(Xt),me(ri),me(si)}function jh(e){tr(si.current);var t=tr(Xt.current),n=Jo(t,e.type);t!==n&&(fe(ri,e),fe(Xt,n))}function Iu(e){ri.current===e&&(me(Xt),me(ri))}var xe=Vn(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var No=[];function Ou(){for(var e=0;e<No.length;e++)No[e]._workInProgressVersionPrimary=null;No.length=0}var el=gn.ReactCurrentDispatcher,bo=gn.ReactCurrentBatchConfig,gr=0,we=null,Ie=null,_e=null,Ml=!1,$s=!1,ii=0,tv=0;function Ke(){throw Error(O(321))}function Tu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Pu(e,t,n,r,s,i){if(gr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?iv:lv,e=n(r,s),$s){i=0;do{if($s=!1,ii=0,25<=i)throw Error(O(301));i+=1,_e=Ie=null,t.updateQueue=null,el.current=ov,e=n(r,s)}while($s)}if(el.current=Rl,t=Ie!==null&&Ie.next!==null,gr=0,_e=Ie=we=null,Ml=!1,t)throw Error(O(300));return e}function Fu(){var e=ii!==0;return ii=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?we.memoizedState=_e=e:_e=_e.next=e,_e}function Rt(){if(Ie===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=_e===null?we.memoizedState:_e.next;if(t!==null)_e=t,Ie=e;else{if(e===null)throw Error(O(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},_e===null?we.memoizedState=_e=e:_e=_e.next=e}return _e}function li(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=Rt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,a=null,u=i;do{var d=u.lane;if((gr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=c,l=r):a=a.next=c,we.lanes|=d,vr|=d}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=o,Ut(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,vr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mo(e){var t=Rt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ut(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mh(){}function Rh(e,t){var n=we,r=Rt(),s=t(),i=!Ut(r.memoizedState,s);if(i&&(r.memoizedState=s,ct=!0),r=r.queue,_u(Oh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,oi(9,Ih.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(O(349));gr&30||Lh(n,t,s)}return s}function Lh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ih(e,t,n,r){t.value=n,t.getSnapshot=r,Th(t)&&Ph(e)}function Oh(e,t,n){return n(function(){Th(t)&&Ph(e)})}function Th(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Ph(e){var t=pn(e,1);t!==null&&$t(t,e,1,-1)}function Yc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=sv.bind(null,we,e),[t.memoizedState,e]}function oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fh(){return Rt().memoizedState}function tl(e,t,n,r){var s=Ht();we.flags|=e,s.memoizedState=oi(1|t,n,void 0,r===void 0?null:r)}function Hl(e,t,n,r){var s=Rt();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var l=Ie.memoizedState;if(i=l.destroy,r!==null&&Tu(r,l.deps)){s.memoizedState=oi(t,n,i,r);return}}we.flags|=e,s.memoizedState=oi(1|t,n,i,r)}function Xc(e,t){return tl(8390656,8,e,t)}function _u(e,t){return Hl(2048,8,e,t)}function _h(e,t){return Hl(4,2,e,t)}function zh(e,t){return Hl(4,4,e,t)}function Dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ah(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,Dh.bind(null,t,e),n)}function zu(){}function $h(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uh(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bh(e,t,n){return gr&21?(Ut(n,t)||(n=Kf(),we.lanes|=n,vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function nv(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=bo.transition;bo.transition={};try{e(!1),t()}finally{ae=n,bo.transition=r}}function Wh(){return Rt().memoizedState}function rv(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qh(e))Hh(t,n);else if(n=Nh(e,t,n,r),n!==null){var s=rt();$t(n,e,r,s),Vh(n,t,r)}}function sv(e,t,n){var r=$n(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qh(e))Hh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Ut(o,l)){var a=t.interleaved;a===null?(s.next=s,Mu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Nh(e,t,s,r),n!==null&&(s=rt(),$t(n,e,r,s),Vh(n,t,r))}}function Qh(e){var t=e.alternate;return e===we||t!==null&&t===we}function Hh(e,t){$s=Ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}var Rl={readContext:Mt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},iv={readContext:Mt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tl(4194308,4,Dh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rv.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:zu,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=nv.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Ht();if(ge){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),ze===null)throw Error(O(349));gr&30||Lh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xc(Oh.bind(null,r,i,e),[e]),r.flags|=2048,oi(9,Ih.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=ze.identifierPrefix;if(ge){var n=un,r=an;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lv={readContext:Mt,useCallback:$h,useContext:Mt,useEffect:_u,useImperativeHandle:Ah,useInsertionEffect:_h,useLayoutEffect:zh,useMemo:Uh,useReducer:jo,useRef:Fh,useState:function(){return jo(li)},useDebugValue:zu,useDeferredValue:function(e){var t=Rt();return Bh(t,Ie.memoizedState,e)},useTransition:function(){var e=jo(li)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Mh,useSyncExternalStore:Rh,useId:Wh,unstable_isNewReconciler:!1},ov={readContext:Mt,useCallback:$h,useContext:Mt,useEffect:_u,useImperativeHandle:Ah,useInsertionEffect:_h,useLayoutEffect:zh,useMemo:Uh,useReducer:Mo,useRef:Fh,useState:function(){return Mo(li)},useDebugValue:zu,useDeferredValue:function(e){var t=Rt();return Ie===null?t.memoizedState=e:Bh(t,Ie.memoizedState,e)},useTransition:function(){var e=Mo(li)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Mh,useSyncExternalStore:Rh,useId:Wh,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),s=$n(e),i=cn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,s),t!==null&&($t(t,e,s,r),Zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),s=$n(e),i=cn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,s),t!==null&&($t(t,e,s,r),Zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=$n(e),s=cn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Dn(e,s,r),t!==null&&($t(t,e,r,n),Zi(t,e,r))}};function Jc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,r)||!Zs(s,i):!0}function Kh(e,t,n){var r=!1,s=Qn,i=t.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(s=ft(t)?pr:Xe.current,r=t.contextTypes,i=(r=r!=null)?os(e,s):Qn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ru(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Mt(i):(i=ft(t)?pr:Xe.current,s.context=os(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vl.enqueueReplaceState(s,s.state,null),bl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var n="",r=t;do n+=Fm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ro(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var av=typeof WeakMap=="function"?WeakMap:Map;function Gh(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Il||(Il=!0,Ia=r),Sa(e,t)},n}function qh(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sa(e,t),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ed(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new av;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kv.bind(null,e,t,n),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var uv=gn.ReactCurrentOwner,ct=!1;function tt(e,t,n,r){t.child=e===null?Eh(t,null,n,r):us(t,e.child,n,r)}function rd(e,t,n,r,s){n=n.render;var i=t.ref;return Hr(t,s),r=Pu(e,t,n,r,i,s),n=Fu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(ge&&n&&ku(t),t.flags|=1,tt(e,t,r,s),t.child)}function sd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Hu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Yh(e,t,i,r,s)):(e=il(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(l,r)&&e.ref===t.ref)return mn(e,t,s)}return t.flags|=1,e=Un(i,r),e.ref=t.ref,e.return=t,t.child=e}function Yh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zs(i,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,mn(e,t,s)}return ka(e,t,n,r,s)}function Xh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe($r,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe($r,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe($r,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,fe($r,mt),mt|=r;return tt(e,t,s,n),t.child}function Jh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,s){var i=ft(n)?pr:Xe.current;return i=os(t,i),Hr(t,s),n=Pu(e,t,n,r,i,s),r=Fu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(ge&&r&&ku(t),t.flags|=1,tt(e,t,n,s),t.child)}function id(e,t,n,r,s){if(ft(n)){var i=!0;Sl(t)}else i=!1;if(Hr(t,s),t.stateNode===null)nl(e,t),Kh(t,n,r),wa(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=ft(n)?pr:Xe.current,u=os(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||a!==u)&&Zc(t,l,r,u),wn=!1;var f=t.memoizedState;l.state=f,bl(t,r,l,s),a=t.memoizedState,o!==r||f!==a||dt.current||wn?(typeof d=="function"&&(xa(t,n,d,r),a=t.memoizedState),(o=wn||Jc(t,n,o,r,f,a,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,bh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Tt(t.type,o),l.props=u,c=t.pendingProps,f=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Mt(a):(a=ft(n)?pr:Xe.current,a=os(t,a));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||f!==a)&&Zc(t,l,r,a),wn=!1,f=t.memoizedState,l.state=f,bl(t,r,l,s);var w=t.memoizedState;o!==c||f!==w||dt.current||wn?(typeof x=="function"&&(xa(t,n,x,r),w=t.memoizedState),(u=wn||Jc(t,n,u,r,f,w,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,i,s)}function Ca(e,t,n,r,s,i){Jh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Qc(t,n,!1),mn(e,t,i);r=t.stateNode,uv.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=us(t,e.child,null,i),t.child=us(t,null,o,i)):tt(e,t,o,i),t.memoizedState=r.state,s&&Qc(t,n,!0),t.child}function Zh(e){var t=e.stateNode;t.pendingContext?Wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wc(e,t.context,!1),Lu(e,t.containerInfo)}function ld(e,t,n,r,s){return as(),Eu(s),t.flags|=256,tt(e,t,n,r),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function ep(e,t,n){var r=t.pendingProps,s=xe.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(xe,s&1),e===null)return va(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ql(l,r,0,null),e=hr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Na(n),t.memoizedState=Ea,e):Du(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return cv(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Un(s,a),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Un(o,i):(i=hr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Na(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ea,r}return i=e.child,e=i.sibling,r=Un(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Du(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Di(e,t,n,r){return r!==null&&Eu(r),us(t,e.child,null,n),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cv(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Ro(Error(O(422))),Di(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ql({mode:"visible",children:r.children},s,0,null),i=hr(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&us(t,e.child,null,l),t.child.memoizedState=Na(l),t.memoizedState=Ea,i);if(!(t.mode&1))return Di(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(O(419)),r=Ro(i,r,void 0),Di(e,t,l,r)}if(o=(l&e.childLanes)!==0,ct||o){if(r=ze,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pn(e,s),$t(r,e,s,-1))}return Qu(),r=Ro(Error(O(421))),Di(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Cv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gt=zn(s.nextSibling),vt=t,ge=!0,zt=null,e!==null&&(Et[Nt++]=an,Et[Nt++]=un,Et[Nt++]=mr,an=e.id,un=e.overflow,mr=t),t=Du(t,r.children),t.flags|=4096,t)}function od(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ya(e.return,t,n)}function Lo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&od(e,n,t);else if(e.tag===19)od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Lo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Lo(t,!0,n,null,i);break;case"together":Lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dv(e,t,n){switch(t.tag){case 3:Zh(t),as();break;case 5:jh(t);break;case 1:ft(t.type)&&Sl(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;fe(El,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?ep(e,t,n):(fe(xe,xe.current&1),e=mn(e,t,n),e!==null?e.sibling:null);fe(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Xh(e,t,n)}return mn(e,t,n)}var np,ba,rp,sp;np=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ba=function(){};rp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,tr(Xt.current);var i=null;switch(n){case"input":s=Go(e,s),r=Go(e,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=Xo(e,s),r=Xo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xl)}Zo(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&pe("scroll",e),i||o===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fv(e,t,n){var r=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ft(t.type)&&wl(),Ge(t),null;case 3:return r=t.stateNode,cs(),me(dt),me(Xe),Ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Pa(zt),zt=null))),ba(e,t),Ge(t),null;case 5:Iu(t);var s=tr(si.current);if(n=t.type,e!==null&&t.stateNode!=null)rp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ge(t),null}if(e=tr(Xt.current),_i(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[ni]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)pe(Ts[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":gc(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":yc(r,i),pe("invalid",r)}Zo(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,o,e),s=["children",""+o]):Vs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&pe("scroll",r)}switch(n){case"input":ji(r),vc(r,i,!0);break;case"textarea":ji(r),xc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Of(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[qt]=t,e[ni]=r,np(e,t,!1,!1),t.stateNode=e;e:{switch(l=ea(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)pe(Ts[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":gc(e,r),s=Go(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),pe("invalid",e);break;case"textarea":yc(e,r),s=Xo(e,r),pe("invalid",e);break;default:s=r}Zo(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="style"?Ff(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ks(e,a):typeof a=="number"&&Ks(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&pe("scroll",e):a!=null&&au(e,i,a,l))}switch(n){case"input":ji(e),vc(e,r,!1);break;case"textarea":ji(e),xc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=tr(si.current),tr(Xt.current),_i(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ge(t),null;case 13:if(me(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&gt!==null&&t.mode&1&&!(t.flags&128))kh(),as(),t.flags|=98560,i=!1;else if(i=_i(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[qt]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else zt!==null&&(Pa(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Te===0&&(Te=3):Qu())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return cs(),ba(e,t),e===null&&ei(t.stateNode.containerInfo),Ge(t),null;case 10:return ju(t.type._context),Ge(t),null;case 17:return ft(t.type)&&wl(),Ge(t),null;case 19:if(me(xe),i=t.memoizedState,i===null)return Ge(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)js(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=jl(e),l!==null){for(t.flags|=128,js(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>fs&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=jl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ge)return Ge(t),null}else 2*be()-i.renderingStartTime>fs&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,n=xe.current,fe(xe,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return Wu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function hv(e,t){switch(Cu(t),t.tag){case 1:return ft(t.type)&&wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cs(),me(dt),me(Xe),Ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iu(t),null;case 13:if(me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(xe),null;case 4:return cs(),null;case 10:return ju(t.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Ai=!1,Ye=!1,pv=typeof WeakSet=="function"?WeakSet:Set,A=null;function Ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function ja(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var ad=!1;function mv(e,t){if(ca=gl,e=uh(),Su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var x;c!==n||s!==0&&c.nodeType!==3||(o=l+s),c!==i||r!==0&&c.nodeType!==3||(a=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(x=c.firstChild)!==null;)f=c,c=x;for(;;){if(c===e)break t;if(f===n&&++u===s&&(o=l),f===i&&++d===r&&(a=l),(x=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=x}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},gl=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,M=w.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?S:Tt(t.type,S),M);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(g){Ee(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return w=ad,ad=!1,w}function Us(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ja(t,n,i)}s=s.next}while(s!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ma(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[ni],delete t[pa],delete t[Xg],delete t[Jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lp(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(r!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}var De=null,_t=!1;function vn(e,t,n){for(n=n.child;n!==null;)op(e,t,n),n=n.sibling}function op(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:Ye||Ar(n,t);case 6:var r=De,s=_t;De=null,vn(e,t,n),De=r,_t=s,De!==null&&(_t?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(_t?(e=De,n=n.stateNode,e.nodeType===8?Co(e.parentNode,n):e.nodeType===1&&Co(e,n),Xs(e)):Co(De,n.stateNode));break;case 4:r=De,s=_t,De=n.stateNode.containerInfo,_t=!0,vn(e,t,n),De=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ja(n,t,l),s=s.next}while(s!==r)}vn(e,t,n);break;case 1:if(!Ye&&(Ar(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ee(n,t,o)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,vn(e,t,n),Ye=r):vn(e,t,n);break;default:vn(e,t,n)}}function cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pv),t.forEach(function(r){var s=Ev.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,_t=!1;break e;case 3:De=o.stateNode.containerInfo,_t=!0;break e;case 4:De=o.stateNode.containerInfo,_t=!0;break e}o=o.return}if(De===null)throw Error(O(160));op(i,l,s),De=null,_t=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}function ap(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Qt(e),r&4){try{Us(3,e,e.return),Kl(3,e)}catch(S){Ee(e,e.return,S)}try{Us(5,e,e.return)}catch(S){Ee(e,e.return,S)}}break;case 1:Ot(t,e),Qt(e),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(Ot(t,e),Qt(e),r&512&&n!==null&&Ar(n,n.return),e.flags&32){var s=e.stateNode;try{Ks(s,"")}catch(S){Ee(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Lf(s,i),ea(o,l);var u=ea(o,i);for(l=0;l<a.length;l+=2){var d=a[l],c=a[l+1];d==="style"?Ff(s,c):d==="dangerouslySetInnerHTML"?Tf(s,c):d==="children"?Ks(s,c):au(s,d,c,u)}switch(o){case"input":qo(s,i);break;case"textarea":If(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ur(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(S){Ee(e,e.return,S)}}break;case 6:if(Ot(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){Ee(e,e.return,S)}}break;case 3:if(Ot(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(S){Ee(e,e.return,S)}break;case 4:Ot(t,e),Qt(e);break;case 13:Ot(t,e),Qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uu=be())),r&4&&cd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||d,Ot(t,e),Ye=u):Ot(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(c=A=d;A!==null;){switch(f=A,x=f.child,f.tag){case 0:case 11:case 14:case 15:Us(4,f,f.return);break;case 1:Ar(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){Ee(r,n,S)}}break;case 5:Ar(f,f.return);break;case 22:if(f.memoizedState!==null){fd(c);continue}}x!==null?(x.return=f,A=x):fd(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=Pf("display",l))}catch(S){Ee(e,e.return,S)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(S){Ee(e,e.return,S)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ot(t,e),Qt(e),r&4&&cd(e);break;case 21:break;default:Ot(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lp(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ks(s,""),r.flags&=-33);var i=ud(e);La(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=ud(e);Ra(e,o,l);break;default:throw Error(O(161))}}catch(a){Ee(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gv(e,t,n){A=e,up(e)}function up(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Ai;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||Ye;o=Ai;var u=Ye;if(Ai=l,(Ye=a)&&!u)for(A=s;A!==null;)l=A,a=l.child,l.tag===22&&l.memoizedState!==null?hd(s):a!==null?(a.return=l,A=a):hd(s);for(;i!==null;)A=i,up(i),i=i.sibling;A=s,Ai=o,Ye=u}dd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):dd(e)}}function dd(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Xs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ye||t.flags&512&&Ma(t)}catch(f){Ee(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function fd(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function hd(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(a){Ee(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Ee(t,s,a)}}var i=t.return;try{Ma(t)}catch(a){Ee(t,i,a)}break;case 5:var l=t.return;try{Ma(t)}catch(a){Ee(t,l,a)}}}catch(a){Ee(t,t.return,a)}if(t===e){A=null;break}var o=t.sibling;if(o!==null){o.return=t.return,A=o;break}A=t.return}}var vv=Math.ceil,Ll=gn.ReactCurrentDispatcher,Au=gn.ReactCurrentOwner,jt=gn.ReactCurrentBatchConfig,ne=0,ze=null,Re=null,Ae=0,mt=0,$r=Vn(0),Te=0,ai=null,vr=0,Gl=0,$u=0,Bs=null,ut=null,Uu=0,fs=1/0,tn=null,Il=!1,Ia=null,An=null,$i=!1,Tn=null,Ol=0,Ws=0,Oa=null,rl=-1,sl=0;function rt(){return ne&6?be():rl!==-1?rl:rl=be()}function $n(e){return e.mode&1?ne&2&&Ae!==0?Ae&-Ae:ev.transition!==null?(sl===0&&(sl=Kf()),sl):(e=ae,e!==0||(e=window.event,e=e===void 0?16:eh(e.type)),e):1}function $t(e,t,n,r){if(50<Ws)throw Ws=0,Oa=null,Error(O(185));gi(e,n,r),(!(ne&2)||e!==ze)&&(e===ze&&(!(ne&2)&&(Gl|=n),Te===4&&kn(e,Ae)),ht(e,r),n===1&&ne===0&&!(t.mode&1)&&(fs=be()+500,Ql&&Kn()))}function ht(e,t){var n=e.callbackNode;eg(e,t);var r=ml(e,e===ze?Ae:0);if(r===0)n!==null&&kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kc(n),t===1)e.tag===0?Zg(pd.bind(null,e)):xh(pd.bind(null,e)),qg(function(){!(ne&6)&&Kn()}),n=null;else{switch(Gf(r)){case 1:n=hu;break;case 4:n=Hf;break;case 16:n=pl;break;case 536870912:n=Vf;break;default:n=pl}n=vp(n,cp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cp(e,t){if(rl=-1,sl=0,ne&6)throw Error(O(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=ml(e,e===ze?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tl(e,r);else{t=r;var s=ne;ne|=2;var i=fp();(ze!==e||Ae!==t)&&(tn=null,fs=be()+500,fr(e,t));do try{wv();break}catch(o){dp(e,o)}while(!0);bu(),Ll.current=i,ne=s,Re!==null?t=0:(ze=null,Ae=0,t=Te)}if(t!==0){if(t===2&&(s=ia(e),s!==0&&(r=s,t=Ta(e,s))),t===1)throw n=ai,fr(e,0),kn(e,r),ht(e,be()),n;if(t===6)kn(e,r);else{if(s=e.current.alternate,!(r&30)&&!yv(s)&&(t=Tl(e,r),t===2&&(i=ia(e),i!==0&&(r=i,t=Ta(e,i))),t===1))throw n=ai,fr(e,0),kn(e,r),ht(e,be()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Jn(e,ut,tn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=Uu+500-be(),10<t)){if(ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ha(Jn.bind(null,e,ut,tn),t);break}Jn(e,ut,tn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-At(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vv(r/1960))-r,10<r){e.timeoutHandle=ha(Jn.bind(null,e,ut,tn),r);break}Jn(e,ut,tn);break;case 5:Jn(e,ut,tn);break;default:throw Error(O(329))}}}return ht(e,be()),e.callbackNode===n?cp.bind(null,e):null}function Ta(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Tl(e,t),e!==2&&(t=ut,ut=n,t!==null&&Pa(t)),e}function Pa(e){ut===null?ut=e:ut.push.apply(ut,e)}function yv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~$u,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function pd(e){if(ne&6)throw Error(O(327));Vr();var t=ml(e,0);if(!(t&1))return ht(e,be()),null;var n=Tl(e,t);if(e.tag!==0&&n===2){var r=ia(e);r!==0&&(t=r,n=Ta(e,r))}if(n===1)throw n=ai,fr(e,0),kn(e,t),ht(e,be()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,ut,tn),ht(e,be()),null}function Bu(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(fs=be()+500,Ql&&Kn())}}function yr(e){Tn!==null&&Tn.tag===0&&!(ne&6)&&Vr();var t=ne;ne|=1;var n=jt.transition,r=ae;try{if(jt.transition=null,ae=1,e)return e()}finally{ae=r,jt.transition=n,ne=t,!(ne&6)&&Kn()}}function Wu(){mt=$r.current,me($r)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gg(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wl();break;case 3:cs(),me(dt),me(Xe),Ou();break;case 5:Iu(r);break;case 4:cs();break;case 13:me(xe);break;case 19:me(xe);break;case 10:ju(r.type._context);break;case 22:case 23:Wu()}n=n.return}if(ze=e,Re=e=Un(e.current,null),Ae=mt=t,Te=0,ai=null,$u=Gl=vr=0,ut=Bs=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}er=null}return e}function dp(e,t){do{var n=Re;try{if(bu(),el.current=Rl,Ml){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ml=!1}if(gr=0,_e=Ie=we=null,$s=!1,ii=0,Au.current=null,n===null||n.return===null){Te=1,ai=t,Re=null;break}e:{var i=e,l=n.return,o=n,a=t;if(t=Ae,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=o,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=td(l);if(x!==null){x.flags&=-257,nd(x,l,o,i,t),x.mode&1&&ed(i,u,t),t=x,a=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(a),t.updateQueue=S}else w.add(a);break e}else{if(!(t&1)){ed(i,u,t),Qu();break e}a=Error(O(426))}}else if(ge&&o.mode&1){var M=td(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),nd(M,l,o,i,t),Eu(ds(a,o));break e}}i=a=ds(a,o),Te!==4&&(Te=2),Bs===null?Bs=[i]:Bs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Gh(i,a,t);Gc(i,v);break e;case 1:o=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(An===null||!An.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=qh(i,o,t);Gc(i,g);break e}}i=i.return}while(i!==null)}pp(n)}catch(C){t=C,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function fp(){var e=Ll.current;return Ll.current=Rl,e===null?Rl:e}function Qu(){(Te===0||Te===3||Te===2)&&(Te=4),ze===null||!(vr&268435455)&&!(Gl&268435455)||kn(ze,Ae)}function Tl(e,t){var n=ne;ne|=2;var r=fp();(ze!==e||Ae!==t)&&(tn=null,fr(e,t));do try{xv();break}catch(s){dp(e,s)}while(!0);if(bu(),ne=n,Ll.current=r,Re!==null)throw Error(O(261));return ze=null,Ae=0,Te}function xv(){for(;Re!==null;)hp(Re)}function wv(){for(;Re!==null&&!Hm();)hp(Re)}function hp(e){var t=gp(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?pp(e):Re=t,Au.current=null}function pp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hv(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Re=null;return}}else if(n=fv(n,t,mt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Te===0&&(Te=5)}function Jn(e,t,n){var r=ae,s=jt.transition;try{jt.transition=null,ae=1,Sv(e,t,n,r)}finally{jt.transition=s,ae=r}return null}function Sv(e,t,n,r){do Vr();while(Tn!==null);if(ne&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tg(e,i),e===ze&&(Re=ze=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,vp(pl,function(){return Vr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var l=ae;ae=1;var o=ne;ne|=4,Au.current=null,mv(e,n),ap(n,e),Ug(da),gl=!!ca,da=ca=null,e.current=n,gv(n),Vm(),ne=o,ae=l,jt.transition=i}else e.current=n;if($i&&($i=!1,Tn=e,Ol=s),i=e.pendingLanes,i===0&&(An=null),qm(n.stateNode),ht(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Il)throw Il=!1,e=Ia,Ia=null,e;return Ol&1&&e.tag!==0&&Vr(),i=e.pendingLanes,i&1?e===Oa?Ws++:(Ws=0,Oa=e):Ws=0,Kn(),null}function Vr(){if(Tn!==null){var e=Gf(Ol),t=jt.transition,n=ae;try{if(jt.transition=null,ae=16>e?16:e,Tn===null)var r=!1;else{if(e=Tn,Tn=null,Ol=0,ne&6)throw Error(O(331));var s=ne;for(ne|=4,A=e.current;A!==null;){var i=A,l=i.child;if(A.flags&16){var o=i.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Us(8,d,i)}var c=d.child;if(c!==null)c.return=d,A=c;else for(;A!==null;){d=A;var f=d.sibling,x=d.return;if(ip(d),d===u){A=null;break}if(f!==null){f.return=x,A=f;break}A=x}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}A=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,A=l;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Us(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,A=v;break e}A=i.return}}var m=e.current;for(A=m;A!==null;){l=A;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,A=h;else e:for(l=m;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kl(9,o)}}catch(C){Ee(o,o.return,C)}if(o===l){A=null;break e}var g=o.sibling;if(g!==null){g.return=o.return,A=g;break e}A=o.return}}if(ne=s,Kn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Al,e)}catch{}r=!0}return r}finally{ae=n,jt.transition=t}}return!1}function md(e,t,n){t=ds(n,t),t=Gh(e,t,1),e=Dn(e,t,1),t=rt(),e!==null&&(gi(e,1,t),ht(e,t))}function Ee(e,t,n){if(e.tag===3)md(e,e,n);else for(;t!==null;){if(t.tag===3){md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){e=ds(n,e),e=qh(t,e,1),t=Dn(t,e,1),e=rt(),t!==null&&(gi(t,1,e),ht(t,e));break}}t=t.return}}function kv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ae&n)===n&&(Te===4||Te===3&&(Ae&130023424)===Ae&&500>be()-Uu?fr(e,0):$u|=n),ht(e,t)}function mp(e,t){t===0&&(e.mode&1?(t=Li,Li<<=1,!(Li&130023424)&&(Li=4194304)):t=1);var n=rt();e=pn(e,t),e!==null&&(gi(e,t,n),ht(e,n))}function Cv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mp(e,n)}function Ev(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),mp(e,n)}var gp;gp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,dv(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ge&&t.flags&1048576&&wh(t,Cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nl(e,t),e=t.pendingProps;var s=os(t,Xe.current);Hr(t,n),s=Pu(null,t,r,e,s,n);var i=Fu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,Sl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ru(t),s.updater=Vl,t.stateNode=s,s._reactInternals=t,wa(t,r,e,n),t=Ca(null,t,r,!0,i,n)):(t.tag=0,ge&&i&&ku(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bv(r),e=Tt(r,e),s){case 0:t=ka(null,t,r,e,n);break e;case 1:t=id(null,t,r,e,n);break e;case 11:t=rd(null,t,r,e,n);break e;case 14:t=sd(null,t,r,Tt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),ka(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),id(e,t,r,s,n);case 3:e:{if(Zh(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,s=i.element,bh(e,t),bl(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ds(Error(O(423)),t),t=ld(e,t,r,n,s);break e}else if(r!==s){s=ds(Error(O(424)),t),t=ld(e,t,r,n,s);break e}else for(gt=zn(t.stateNode.containerInfo.firstChild),vt=t,ge=!0,zt=null,n=Eh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===s){t=mn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return jh(t),e===null&&va(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,fa(r,s)?l=null:i!==null&&fa(r,i)&&(t.flags|=32),Jh(e,t),tt(e,t,l,n),t.child;case 6:return e===null&&va(t),null;case 13:return ep(e,t,n);case 4:return Lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=us(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),rd(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,fe(El,r._currentValue),r._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===s.children&&!dt.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=cn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ya(i.return,n,t),o.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(O(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),ya(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Hr(t,n),s=Mt(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),sd(e,t,r,s,n);case 15:return Yh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),nl(e,t),t.tag=1,ft(r)?(e=!0,Sl(t)):e=!1,Hr(t,n),Kh(t,r,s),wa(t,r,s,n),Ca(null,t,r,!0,e,n);case 19:return tp(e,t,n);case 22:return Xh(e,t,n)}throw Error(O(156,t.tag))};function vp(e,t){return Qf(e,t)}function Nv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new Nv(e,t,n,r)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bv(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cu)return 11;if(e===du)return 14}return 2}function Un(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function il(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Hu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Lr:return hr(n.children,s,i,t);case uu:l=8,s|=8;break;case Qo:return e=bt(12,n,t,s|2),e.elementType=Qo,e.lanes=i,e;case Ho:return e=bt(13,n,t,s),e.elementType=Ho,e.lanes=i,e;case Vo:return e=bt(19,n,t,s),e.elementType=Vo,e.lanes=i,e;case jf:return ql(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nf:l=10;break e;case bf:l=9;break e;case cu:l=11;break e;case du:l=14;break e;case xn:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=bt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hr(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function ql(e,t,n,r){return e=bt(22,e,r,t),e.elementType=jf,e.lanes=n,e.stateNode={isHidden:!1},e}function Io(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function Oo(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,s,i,l,o,a){return e=new jv(e,t,n,o,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(i),e}function Mv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yp(e){if(!e)return Qn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(ft(n))return yh(e,n,t)}return t}function xp(e,t,n,r,s,i,l,o,a){return e=Vu(n,r,!0,e,s,i,l,o,a),e.context=yp(null),n=e.current,r=rt(),s=$n(n),i=cn(r,s),i.callback=t??null,Dn(n,i,s),e.current.lanes=s,gi(e,s,r),ht(e,r),e}function Yl(e,t,n,r){var s=t.current,i=rt(),l=$n(s);return n=yp(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(s,t,l),e!==null&&($t(e,s,l,i),Zi(e,s,l)),l}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ku(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function Rv(){return null}var wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}Xl.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Yl(e,t,null,null)};Xl.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Yl(null,e,null,null)}),t[hn]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&Zf(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Lv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Pl(l);i.call(u)}}var l=xp(t,r,e,0,null,!1,!1,"",vd);return e._reactRootContainer=l,e[hn]=l.current,ei(e.nodeType===8?e.parentNode:e),yr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Pl(a);o.call(u)}}var a=Vu(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=a,e[hn]=a.current,ei(e.nodeType===8?e.parentNode:e),yr(function(){Yl(t,a,n,r)}),a}function Zl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var a=Pl(l);o.call(a)}}Yl(t,l,e,s)}else l=Lv(n,t,e,s,r);return Pl(l)}qf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Os(t.pendingLanes);n!==0&&(pu(t,n|1),ht(t,be()),!(ne&6)&&(fs=be()+500,Kn()))}break;case 13:yr(function(){var r=pn(e,1);if(r!==null){var s=rt();$t(r,e,1,s)}}),Ku(e,1)}};mu=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=rt();$t(t,e,134217728,n)}Ku(e,134217728)}};Yf=function(e){if(e.tag===13){var t=$n(e),n=pn(e,t);if(n!==null){var r=rt();$t(n,e,t,r)}Ku(e,t)}};Xf=function(){return ae};Jf=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};na=function(e,t,n){switch(t){case"input":if(qo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wl(r);if(!s)throw Error(O(90));Rf(r),qo(r,s)}}}break;case"textarea":If(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};Df=Bu;Af=yr;var Iv={usingClientEntryPoint:!1,Events:[yi,Pr,Wl,_f,zf,Bu]},Ms={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ov={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Al=Ui.inject(Ov),Yt=Ui}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(t))throw Error(O(200));return Mv(e,t,null,n)};xt.createRoot=function(e,t){if(!qu(e))throw Error(O(299));var n=!1,r="",s=wp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vu(e,1,!1,null,null,n,!1,r,s),e[hn]=t.current,ei(e.nodeType===8?e.parentNode:e),new Gu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Bf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return yr(e)};xt.hydrate=function(e,t,n){if(!Jl(t))throw Error(O(200));return Zl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=wp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=xp(t,null,e,1,n??null,s,!1,i,l),e[hn]=t.current,ei(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xl(t)};xt.render=function(e,t,n){if(!Jl(t))throw Error(O(200));return Zl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(O(40));return e._reactRootContainer?(yr(function(){Zl(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};xt.unstable_batchedUpdates=Bu;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Zl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sp)}catch(e){console.error(e)}}Sp(),Sf.exports=xt;var Yu=Sf.exports,kp,yd=Yu;kp=yd.createRoot,yd.hydrateRoot;var vs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Cn,tu,Jd,Pv=(Jd=class{constructor(){H(this,Cn,Tv);H(this,tu,!1)}setTimeoutProvider(e){_(this,Cn,e)}setTimeout(e,t){return y(this,Cn).setTimeout(e,t)}clearTimeout(e){y(this,Cn).clearTimeout(e)}setInterval(e,t){return y(this,Cn).setInterval(e,t)}clearInterval(e){y(this,Cn).clearInterval(e)}},Cn=new WeakMap,tu=new WeakMap,Jd),nr=new Pv;function Fv(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function nt(){}function _v(e,t){return typeof e=="function"?e(t):e}function Fa(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bn(e,t){return typeof e=="function"?e(t):e}function Ct(e,t){return typeof e=="function"?e(t):e}function xd(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==Xu(l,t.options))return!1}else if(!ui(t.queryKey,l))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function wd(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(wr(t.options.mutationKey)!==wr(i))return!1}else if(!ui(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Xu(e,t){return((t==null?void 0:t.queryKeyHashFn)||wr)(e)}function wr(e){return JSON.stringify(e,(t,n)=>_a(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ui(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ui(e[n],t[n])):!1}var zv=Object.prototype.hasOwnProperty;function Ep(e,t){if(e===t)return e;const n=Sd(e)&&Sd(t);if(!n&&!(_a(e)&&_a(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,o=n?new Array(l):{};let a=0;for(let u=0;u<l;u++){const d=n?u:i[u],c=e[d],f=t[d];if(c===f){o[d]=c,(n?u<s:zv.call(e,d))&&a++;continue}if(c===null||f===null||typeof c!="object"||typeof f!="object"){o[d]=f;continue}const x=Ep(c,f);o[d]=x,x===c&&a++}return s===l&&a===s?e:o}function Fl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Sd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _a(e){if(!kd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dv(e){return new Promise(t=>{nr.setTimeout(t,e)})}function za(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ep(e,t):t}function Av(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $v(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ju=Symbol();function Np(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ju?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bp(e,t){return typeof e=="function"?e(...t):!!e}function Uv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var rr,En,Gr,Zd,Bv=(Zd=class extends vs{constructor(){super();H(this,rr);H(this,En);H(this,Gr);_(this,Gr,t=>{if(!xr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,En)||this.setEventListener(y(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,En))==null||t.call(this),_(this,En,void 0))}setEventListener(t){var n;_(this,Gr,t),(n=y(this,En))==null||n.call(this),_(this,En,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,rr)!==t&&(_(this,rr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,rr)=="boolean"?y(this,rr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rr=new WeakMap,En=new WeakMap,Gr=new WeakMap,Zd),Zu=new Bv;function Da(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Wv=Fv;function Qv(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=Wv;const i=o=>{t?e.push(o):s(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(a=>{n(a)})})})};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||l()}return a},batchCalls:o=>(...a)=>{i(()=>{o(...a)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Oe=Qv(),qr,Nn,Yr,ef,Hv=(ef=class extends vs{constructor(){super();H(this,qr,!0);H(this,Nn);H(this,Yr);_(this,Yr,t=>{if(!xr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Nn)||this.setEventListener(y(this,Yr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Nn))==null||t.call(this),_(this,Nn,void 0))}setEventListener(t){var n;_(this,Yr,t),(n=y(this,Nn))==null||n.call(this),_(this,Nn,t(this.setOnline.bind(this)))}setOnline(t){y(this,qr)!==t&&(_(this,qr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,qr)}},qr=new WeakMap,Nn=new WeakMap,Yr=new WeakMap,ef),_l=new Hv;function Vv(e){return Math.min(1e3*2**e,3e4)}function jp(e){return(e??"online")==="online"?_l.isOnline():!0}var Aa=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mp(e){let t=!1,n=0,r;const s=Da(),i=()=>s.status!=="pending",l=S=>{var M;if(!i()){const v=new Aa(S);f(v),(M=e.onCancel)==null||M.call(e,v)}},o=()=>{t=!0},a=()=>{t=!1},u=()=>Zu.isFocused()&&(e.networkMode==="always"||_l.isOnline())&&e.canRun(),d=()=>jp(e.networkMode)&&e.canRun(),c=S=>{i()||(r==null||r(),s.resolve(S))},f=S=>{i()||(r==null||r(),s.reject(S))},x=()=>new Promise(S=>{var M;r=v=>{(i()||u())&&S(v)},(M=e.onPause)==null||M.call(e)}).then(()=>{var S;r=void 0,i()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(i())return;let S;const M=n===0?e.initialPromise:void 0;try{S=M??e.fn()}catch(v){S=Promise.reject(v)}Promise.resolve(S).then(c).catch(v=>{var E;if(i())return;const m=e.retry??(xr?0:3),h=e.retryDelay??Vv,g=typeof h=="function"?h(n,v):h,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(t||!C){f(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),Dv(g).then(()=>u()?void 0:x()).then(()=>{t?f(v):w()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:a,canStart:d,start:()=>(d()?w():x().then(w),s)}}var sr,tf,Rp=(tf=class{constructor(){H(this,sr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fa(this.gcTime)&&_(this,sr,nr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:5*60*1e3))}clearGcTimeout(){y(this,sr)&&(nr.clearTimeout(y(this,sr)),_(this,sr,void 0))}},sr=new WeakMap,tf),ir,Xr,kt,lr,Fe,ci,or,Pt,en,nf,Kv=(nf=class extends Rp{constructor(t){super();H(this,Pt);H(this,ir);H(this,Xr);H(this,kt);H(this,lr);H(this,Fe);H(this,ci);H(this,or);_(this,or,!1),_(this,ci,t.defaultOptions),this.setOptions(t.options),this.observers=[],_(this,lr,t.client),_(this,kt,y(this,lr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_(this,ir,Ed(this.options)),this.state=t.state??y(this,ir),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,Fe))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,ci),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ed(this.options);n.data!==void 0&&(this.setState(Cd(n.data,n.dataUpdatedAt)),_(this,ir,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,kt).remove(this)}setData(t,n){const r=za(this.state.data,t,this.options);return Y(this,Pt,en).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Y(this,Pt,en).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,Fe))==null?void 0:r.promise;return(s=y(this,Fe))==null||s.cancel(t),n?n.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,ir))}isActive(){return this.observers.some(t=>Ct(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ju||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Cp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Fe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Fe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,kt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,Fe)&&(y(this,or)?y(this,Fe).cancel({revert:!0}):y(this,Fe).cancelRetry()),this.scheduleGc()),y(this,kt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,Pt,en).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,c,f,x,w,S,M,v,m,h;if(this.state.fetchStatus!=="idle"&&((a=y(this,Fe))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,Fe))return y(this,Fe).continueRetry(),y(this,Fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(C=>C.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(_(this,or,!0),r.signal)})},i=()=>{const g=Np(this.options,n),E=(()=>{const b={client:y(this,lr),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return _(this,or,!1),this.options.persister?this.options.persister(g,E,this):g(E)},o=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,lr),state:this.state,fetchFn:i};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(o,this),_(this,Xr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Y(this,Pt,en).call(this,{type:"fetch",meta:(c=o.fetchOptions)==null?void 0:c.meta}),_(this,Fe,Mp({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:g=>{g instanceof Aa&&g.revert&&this.setState({...y(this,Xr),fetchStatus:"idle"}),r.abort()},onFail:(g,C)=>{Y(this,Pt,en).call(this,{type:"failed",failureCount:g,error:C})},onPause:()=>{Y(this,Pt,en).call(this,{type:"pause"})},onContinue:()=>{Y(this,Pt,en).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const g=await y(this,Fe).start();if(g===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(g),(x=(f=y(this,kt).config).onSuccess)==null||x.call(f,g,this),(S=(w=y(this,kt).config).onSettled)==null||S.call(w,g,this.state.error,this),g}catch(g){if(g instanceof Aa){if(g.silent)return y(this,Fe).promise;if(g.revert){if(this.state.data===void 0)throw g;return this.state.data}}throw Y(this,Pt,en).call(this,{type:"error",error:g}),(v=(M=y(this,kt).config).onError)==null||v.call(M,g,this),(h=(m=y(this,kt).config).onSettled)==null||h.call(m,this.state.data,g,this),g}finally{this.scheduleGc()}}},ir=new WeakMap,Xr=new WeakMap,kt=new WeakMap,lr=new WeakMap,Fe=new WeakMap,ci=new WeakMap,or=new WeakMap,Pt=new WeakSet,en=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Lp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Cd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _(this,Xr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Oe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,kt).notify({query:this,type:"updated",action:t})})},nf);function Lp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ed(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ot,ee,di,Ze,ar,Jr,rn,bn,fi,Zr,es,ur,cr,jn,ts,le,Ps,$a,Ua,Ba,Wa,Qa,Ha,Va,Ip,rf,Gv=(rf=class extends vs{constructor(t,n){super();H(this,le);H(this,ot);H(this,ee);H(this,di);H(this,Ze);H(this,ar);H(this,Jr);H(this,rn);H(this,bn);H(this,fi);H(this,Zr);H(this,es);H(this,ur);H(this,cr);H(this,jn);H(this,ts,new Set);this.options=n,_(this,ot,t),_(this,bn,null),_(this,rn,Da()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,ee).addObserver(this),Nd(y(this,ee),this.options)?Y(this,le,Ps).call(this):this.updateResult(),Y(this,le,Wa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ka(y(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ka(y(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,le,Qa).call(this),Y(this,le,Ha).call(this),y(this,ee).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,ee);if(this.options=y(this,ot).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ct(this.options.enabled,y(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,le,Va).call(this),y(this,ee).setOptions(this.options),n._defaulted&&!Fl(this.options,n)&&y(this,ot).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,ee),observer:this});const s=this.hasListeners();s&&bd(y(this,ee),r,this.options,n)&&Y(this,le,Ps).call(this),this.updateResult(),s&&(y(this,ee)!==r||Ct(this.options.enabled,y(this,ee))!==Ct(n.enabled,y(this,ee))||Bn(this.options.staleTime,y(this,ee))!==Bn(n.staleTime,y(this,ee)))&&Y(this,le,$a).call(this);const i=Y(this,le,Ua).call(this);s&&(y(this,ee)!==r||Ct(this.options.enabled,y(this,ee))!==Ct(n.enabled,y(this,ee))||i!==y(this,jn))&&Y(this,le,Ba).call(this,i)}getOptimisticResult(t){const n=y(this,ot).getQueryCache().build(y(this,ot),t),r=this.createResult(n,t);return Yv(this,r)&&(_(this,Ze,r),_(this,Jr,this.options),_(this,ar,y(this,ee).state)),r}getCurrentResult(){return y(this,Ze)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,rn).status==="pending"&&y(this,rn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){y(this,ts).add(t)}getCurrentQuery(){return y(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,ot).defaultQueryOptions(t),r=y(this,ot).getQueryCache().build(y(this,ot),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Y(this,le,Ps).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,Ze)))}createResult(t,n){var L;const r=y(this,ee),s=this.options,i=y(this,Ze),l=y(this,ar),o=y(this,Jr),u=t!==r?t.state:y(this,di),{state:d}=t;let c={...d},f=!1,x;if(n._optimisticResults){const R=this.hasListeners(),P=!R&&Nd(t,n),U=R&&bd(t,r,n,s);(P||U)&&(c={...c,...Lp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:M}=c;x=c.data;let v=!1;if(n.placeholderData!==void 0&&x===void 0&&M==="pending"){let R;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,v=!0):R=typeof n.placeholderData=="function"?n.placeholderData((L=y(this,es))==null?void 0:L.state.data,y(this,es)):n.placeholderData,R!==void 0&&(M="success",x=za(i==null?void 0:i.data,R,n),f=!0)}if(n.select&&x!==void 0&&!v)if(i&&x===(l==null?void 0:l.data)&&n.select===y(this,fi))x=y(this,Zr);else try{_(this,fi,n.select),x=n.select(x),x=za(i==null?void 0:i.data,x,n),_(this,Zr,x),_(this,bn,null)}catch(R){_(this,bn,R)}y(this,bn)&&(w=y(this,bn),x=y(this,Zr),S=Date.now(),M="error");const m=c.fetchStatus==="fetching",h=M==="pending",g=M==="error",C=h&&m,E=x!==void 0,N={status:M,fetchStatus:c.fetchStatus,isPending:h,isSuccess:M==="success",isError:g,isInitialLoading:C,isLoading:C,data:x,dataUpdatedAt:c.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!h,isLoadingError:g&&!E,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:g&&E,isStale:ec(t,n),refetch:this.refetch,promise:y(this,rn),isEnabled:Ct(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=Q=>{N.status==="error"?Q.reject(N.error):N.data!==void 0&&Q.resolve(N.data)},P=()=>{const Q=_(this,rn,N.promise=Da());R(Q)},U=y(this,rn);switch(U.status){case"pending":t.queryHash===r.queryHash&&R(U);break;case"fulfilled":(N.status==="error"||N.data!==U.value)&&P();break;case"rejected":(N.status!=="error"||N.error!==U.reason)&&P();break}}return N}updateResult(){const t=y(this,Ze),n=this.createResult(y(this,ee),this.options);if(_(this,ar,y(this,ee).state),_(this,Jr,this.options),y(this,ar).data!==void 0&&_(this,es,y(this,ee)),Fl(n,t))return;_(this,Ze,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,ts).size)return!0;const l=new Set(i??y(this,ts));return this.options.throwOnError&&l.add("error"),Object.keys(y(this,Ze)).some(o=>{const a=o;return y(this,Ze)[a]!==t[a]&&l.has(a)})};Y(this,le,Ip).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,le,Wa).call(this)}},ot=new WeakMap,ee=new WeakMap,di=new WeakMap,Ze=new WeakMap,ar=new WeakMap,Jr=new WeakMap,rn=new WeakMap,bn=new WeakMap,fi=new WeakMap,Zr=new WeakMap,es=new WeakMap,ur=new WeakMap,cr=new WeakMap,jn=new WeakMap,ts=new WeakMap,le=new WeakSet,Ps=function(t){Y(this,le,Va).call(this);let n=y(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nt)),n},$a=function(){Y(this,le,Qa).call(this);const t=Bn(this.options.staleTime,y(this,ee));if(xr||y(this,Ze).isStale||!Fa(t))return;const r=Cp(y(this,Ze).dataUpdatedAt,t)+1;_(this,ur,nr.setTimeout(()=>{y(this,Ze).isStale||this.updateResult()},r))},Ua=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,ee)):this.options.refetchInterval)??!1},Ba=function(t){Y(this,le,Ha).call(this),_(this,jn,t),!(xr||Ct(this.options.enabled,y(this,ee))===!1||!Fa(y(this,jn))||y(this,jn)===0)&&_(this,cr,nr.setInterval(()=>{(this.options.refetchIntervalInBackground||Zu.isFocused())&&Y(this,le,Ps).call(this)},y(this,jn)))},Wa=function(){Y(this,le,$a).call(this),Y(this,le,Ba).call(this,Y(this,le,Ua).call(this))},Qa=function(){y(this,ur)&&(nr.clearTimeout(y(this,ur)),_(this,ur,void 0))},Ha=function(){y(this,cr)&&(nr.clearInterval(y(this,cr)),_(this,cr,void 0))},Va=function(){const t=y(this,ot).getQueryCache().build(y(this,ot),this.options);if(t===y(this,ee))return;const n=y(this,ee);_(this,ee,t),_(this,di,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ip=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,Ze))}),y(this,ot).getQueryCache().notify({query:y(this,ee),type:"observerResultsUpdated"})})},rf);function qv(e,t){return Ct(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nd(e,t){return qv(e,t)||e.state.data!==void 0&&Ka(e,t,t.refetchOnMount)}function Ka(e,t,n){if(Ct(t.enabled,e)!==!1&&Bn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ec(e,t)}return!1}function bd(e,t,n,r){return(e!==t||Ct(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ec(e,n)}function ec(e,t){return Ct(t.enabled,e)!==!1&&e.isStaleByTime(Bn(t.staleTime,e))}function Yv(e,t){return!Fl(e.getCurrentResult(),t)}function jd(e){return{onFetch:(t,n)=>{var d,c,f,x,w;const r=t.options,s=(f=(c=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:f.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},a=0;const u=async()=>{let S=!1;const M=h=>{Uv(h,()=>t.signal,()=>S=!0)},v=Np(t.options,t.fetchOptions),m=async(h,g,C)=>{if(S)return Promise.reject();if(g==null&&h.pages.length)return Promise.resolve(h);const b=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:g,direction:C?"backward":"forward",meta:t.options.meta};return M(P),P})(),N=await v(b),{maxPages:L}=t.options,R=C?$v:Av;return{pages:R(h.pages,N,L),pageParams:R(h.pageParams,g,L)}};if(s&&i.length){const h=s==="backward",g=h?Xv:Md,C={pages:i,pageParams:l},E=g(r,C);o=await m(C,E,h)}else{const h=e??i.length;do{const g=a===0?l[0]??r.initialPageParam:Md(r,o);if(a>0&&g==null)break;o=await m(o,g),a++}while(a<h)}return o};t.options.persister?t.fetchFn=()=>{var S,M;return(M=(S=t.options).persister)==null?void 0:M.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Md(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Xv(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var hi,Vt,et,dr,Kt,yn,sf,Jv=(sf=class extends Rp{constructor(t){super();H(this,Kt);H(this,hi);H(this,Vt);H(this,et);H(this,dr);_(this,hi,t.client),this.mutationId=t.mutationId,_(this,et,t.mutationCache),_(this,Vt,[]),this.state=t.state||Op(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Vt).includes(t)||(y(this,Vt).push(t),this.clearGcTimeout(),y(this,et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_(this,Vt,y(this,Vt).filter(n=>n!==t)),this.scheduleGc(),y(this,et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Vt).length||(this.state.status==="pending"?this.scheduleGc():y(this,et).remove(this))}continue(){var t;return((t=y(this,dr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,a,u,d,c,f,x,w,S,M,v,m,h,g,C,E,b,N,L;const n=()=>{Y(this,Kt,yn).call(this,{type:"continue"})},r={client:y(this,hi),meta:this.options.meta,mutationKey:this.options.mutationKey};_(this,dr,Mp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{Y(this,Kt,yn).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{Y(this,Kt,yn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,et).canRun(this)}));const s=this.state.status==="pending",i=!y(this,dr).canStart();try{if(s)n();else{Y(this,Kt,yn).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=y(this,et).config).onMutate)==null?void 0:o.call(l,t,this,r));const P=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));P!==this.state.context&&Y(this,Kt,yn).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const R=await y(this,dr).start();return await((c=(d=y(this,et).config).onSuccess)==null?void 0:c.call(d,R,t,this.state.context,this,r)),await((x=(f=this.options).onSuccess)==null?void 0:x.call(f,R,t,this.state.context,r)),await((S=(w=y(this,et).config).onSettled)==null?void 0:S.call(w,R,null,this.state.variables,this.state.context,this,r)),await((v=(M=this.options).onSettled)==null?void 0:v.call(M,R,null,t,this.state.context,r)),Y(this,Kt,yn).call(this,{type:"success",data:R}),R}catch(R){try{await((h=(m=y(this,et).config).onError)==null?void 0:h.call(m,R,t,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((C=(g=this.options).onError)==null?void 0:C.call(g,R,t,this.state.context,r))}catch(P){Promise.reject(P)}try{await((b=(E=y(this,et).config).onSettled)==null?void 0:b.call(E,void 0,R,this.state.variables,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((L=(N=this.options).onSettled)==null?void 0:L.call(N,void 0,R,t,this.state.context,r))}catch(P){Promise.reject(P)}throw Y(this,Kt,yn).call(this,{type:"error",error:R}),R}finally{y(this,et).runNext(this)}}},hi=new WeakMap,Vt=new WeakMap,et=new WeakMap,dr=new WeakMap,Kt=new WeakSet,yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Oe.batch(()=>{y(this,Vt).forEach(r=>{r.onMutationUpdate(t)}),y(this,et).notify({mutation:this,type:"updated",action:t})})},sf);function Op(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,Ft,pi,lf,Zv=(lf=class extends vs{constructor(t={}){super();H(this,sn);H(this,Ft);H(this,pi);this.config=t,_(this,sn,new Set),_(this,Ft,new Map),_(this,pi,0)}build(t,n,r){const s=new Jv({client:t,mutationCache:this,mutationId:++Ei(this,pi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,sn).add(t);const n=Bi(t);if(typeof n=="string"){const r=y(this,Ft).get(n);r?r.push(t):y(this,Ft).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,sn).delete(t)){const n=Bi(t);if(typeof n=="string"){const r=y(this,Ft).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,Ft).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Bi(t);if(typeof n=="string"){const r=y(this,Ft).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Bi(t);if(typeof n=="string"){const s=(r=y(this,Ft).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{y(this,sn).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,sn).clear(),y(this,Ft).clear()})}getAll(){return Array.from(y(this,sn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wd(n,r))}findAll(t={}){return this.getAll().filter(n=>wd(t,n))}notify(t){Oe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Oe.batch(()=>Promise.all(t.map(n=>n.continue().catch(nt))))}},sn=new WeakMap,Ft=new WeakMap,pi=new WeakMap,lf);function Bi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ln,Mn,at,on,dn,ll,Ga,of,ey=(of=class extends vs{constructor(n,r){super();H(this,dn);H(this,ln);H(this,Mn);H(this,at);H(this,on);_(this,ln,n),this.setOptions(r),this.bindMethods(),Y(this,dn,ll).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,ln).defaultMutationOptions(n),Fl(this.options,r)||y(this,ln).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,at),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():((s=y(this,at))==null?void 0:s.state.status)==="pending"&&y(this,at).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,at))==null||n.removeObserver(this)}onMutationUpdate(n){Y(this,dn,ll).call(this),Y(this,dn,Ga).call(this,n)}getCurrentResult(){return y(this,Mn)}reset(){var n;(n=y(this,at))==null||n.removeObserver(this),_(this,at,void 0),Y(this,dn,ll).call(this),Y(this,dn,Ga).call(this)}mutate(n,r){var s;return _(this,on,r),(s=y(this,at))==null||s.removeObserver(this),_(this,at,y(this,ln).getMutationCache().build(y(this,ln),this.options)),y(this,at).addObserver(this),y(this,at).execute(n)}},ln=new WeakMap,Mn=new WeakMap,at=new WeakMap,on=new WeakMap,dn=new WeakSet,ll=function(){var r;const n=((r=y(this,at))==null?void 0:r.state)??Op();_(this,Mn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ga=function(n){Oe.batch(()=>{var r,s,i,l,o,a,u,d;if(y(this,on)&&this.hasListeners()){const c=y(this,Mn).variables,f=y(this,Mn).context,x={client:y(this,ln),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=y(this,on)).onSuccess)==null||s.call(r,n.data,c,f,x)}catch(w){Promise.reject(w)}try{(l=(i=y(this,on)).onSettled)==null||l.call(i,n.data,null,c,f,x)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(o=y(this,on)).onError)==null||a.call(o,n.error,c,f,x)}catch(w){Promise.reject(w)}try{(d=(u=y(this,on)).onSettled)==null||d.call(u,void 0,n.error,c,f,x)}catch(w){Promise.reject(w)}}}this.listeners.forEach(c=>{c(y(this,Mn))})})},of),Gt,af,ty=(af=class extends vs{constructor(t={}){super();H(this,Gt);this.config=t,_(this,Gt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Xu(s,n);let l=this.get(i);return l||(l=new Kv({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){y(this,Gt).has(t.queryHash)||(y(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,Gt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,Gt).get(t)}getAll(){return[...y(this,Gt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>xd(t,r)):n}notify(t){Oe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,af),Ce,Rn,Ln,ns,rs,In,ss,is,uf,ny=(uf=class{constructor(e={}){H(this,Ce);H(this,Rn);H(this,Ln);H(this,ns);H(this,rs);H(this,In);H(this,ss);H(this,is);_(this,Ce,e.queryCache||new ty),_(this,Rn,e.mutationCache||new Zv),_(this,Ln,e.defaultOptions||{}),_(this,ns,new Map),_(this,rs,new Map),_(this,In,0)}mount(){Ei(this,In)._++,y(this,In)===1&&(_(this,ss,Zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Ce).onFocus())})),_(this,is,_l.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Ce).onOnline())})))}unmount(){var e,t;Ei(this,In)._--,y(this,In)===0&&((e=y(this,ss))==null||e.call(this),_(this,ss,void 0),(t=y(this,is))==null||t.call(this),_(this,is,void 0))}isFetching(e){return y(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Rn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Bn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,l=_v(t,i);if(l!==void 0)return y(this,Ce).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Oe.batch(()=>y(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,Ce);Oe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,Ce);return Oe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Oe.batch(()=>y(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return Oe.batch(()=>(y(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Oe.batch(()=>y(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,Ce).build(this,t);return n.isStaleByTime(Bn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=jd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=jd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _l.isOnline()?y(this,Rn).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Ce)}getMutationCache(){return y(this,Rn)}getDefaultOptions(){return y(this,Ln)}setDefaultOptions(e){_(this,Ln,e)}setQueryDefaults(e,t){y(this,ns).set(wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,ns).values()],n={};return t.forEach(r=>{ui(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,rs).set(wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,rs).values()],n={};return t.forEach(r=>{ui(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,Ln).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ju&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,Ln).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,Ce).clear(),y(this,Rn).clear()}},Ce=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,ns=new WeakMap,rs=new WeakMap,In=new WeakMap,ss=new WeakMap,is=new WeakMap,uf),Tp=k.createContext(void 0),wi=e=>{const t=k.useContext(Tp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ry=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(Tp.Provider,{value:e,children:t})),Pp=k.createContext(!1),sy=()=>k.useContext(Pp);Pp.Provider;function iy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ly=k.createContext(iy()),oy=()=>k.useContext(ly),ay=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},uy=e=>{k.useEffect(()=>{e.clearReset()},[e])},cy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||bp(n,[e.error,r])),dy=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fy=(e,t)=>e.isLoading&&e.isFetching&&!t,hy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function py(e,t,n){var c,f,x,w,S;const r=sy(),s=oy(),i=wi(),l=i.defaultQueryOptions(e);(f=(c=i.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,l),l._optimisticResults=r?"isRestoring":"optimistic",dy(l),ay(l,s),uy(s);const o=!i.getQueryCache().get(l.queryHash),[a]=k.useState(()=>new t(i,l)),u=a.getOptimisticResult(l),d=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(M=>{const v=d?a.subscribe(Oe.batchCalls(M)):nt;return a.updateResult(),v},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setOptions(l)},[l,a]),hy(l,u))throw Rd(l,a,s);if(cy({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((w=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||w.call(x,l,u),l.experimental_prefetchInRender&&!xr&&fy(u,r)){const M=o?Rd(l,a,s):(S=i.getQueryCache().get(l.queryHash))==null?void 0:S.promise;M==null||M.catch(nt).finally(()=>{a.updateResult()})}return l.notifyOnChangeProps?u:a.trackResult(u)}function tc(e,t){return py(e,Gv)}function my(e,t){const n=wi(),[r]=k.useState(()=>new ey(n,e));k.useEffect(()=>{r.setOptions(e)},[r,e]);const s=k.useSyncExternalStore(k.useCallback(l=>r.subscribe(Oe.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((l,o)=>{r.mutate(l,o).catch(nt)},[r]);if(s.error&&bp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Ld(e){return e.length>0&&"options"in e[0]}function gy({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:l="",align:o="left",width:a="auto",showChevron:u=!0,title:d,disabled:c=!1,"aria-label":f}){var N;const[x,w]=k.useState(!1),S=k.useRef(null),M=k.useRef(null),m=k.useCallback(()=>{const L=R=>{const P=R.find(U=>U.value===e);return P?P.label:null};if(Ld(n))for(const R of n){const P=L(R.options);if(P)return P}else{const R=L(n);if(R)return R}return r},[e,n,r])();k.useEffect(()=>{if(!x)return;const L=P=>{S.current&&!S.current.contains(P.target)&&w(!1)},R=P=>{var U;P.key==="Escape"&&(w(!1),(U=M.current)==null||U.focus())};return window.addEventListener("click",L),window.addEventListener("keydown",R),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",R)}},[x]);const h=L=>{var R;t(L),w(!1),(R=M.current)==null||R.focus()},g=L=>L.map(R=>p.jsxs("button",{className:"dropdown-item","data-active":R.value===e,disabled:R.disabled,onClick:()=>!R.disabled&&h(R.value),role:"menuitem",children:[R.icon&&p.jsx("span",{className:"shrink-0",children:R.icon}),p.jsx("span",{className:"flex-1 truncate",children:R.label}),R.value===e&&p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})]},R.value)),C=((N=M.current)==null?void 0:N.offsetWidth)??0,E=a==="trigger"?C:a==="auto"?void 0:a,b={...E?{width:E,minWidth:E}:{},...o==="right"?{right:0}:{left:0}};return p.jsxs("div",{ref:S,className:"relative",children:[s?p.jsx("div",{onClick:()=>!c&&w(L=>!L),children:s}):p.jsxs("button",{ref:M,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(L=>!L),disabled:c,title:d,"aria-label":f,"aria-haspopup":"listbox","aria-expanded":x,children:[p.jsx("span",{className:"truncate",children:m}),u&&p.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${x?"rotate-180":""}`,children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),x&&p.jsx("div",{className:`dropdown-panel ${l}`,style:b,role:"listbox","aria-label":f,children:Ld(n)?n.map((L,R)=>p.jsxs("div",{children:[L.label&&p.jsx("div",{className:"dropdown-label",children:L.label}),g(L.options),R<n.length-1&&p.jsx("div",{className:"dropdown-divider"})]},L.label||R)):g(n)})]})}function vy({trigger:e,children:t,open:n,onOpenChange:r,panelClassName:s="",align:i="left",width:l}){const[o,a]=k.useState(!1),u=k.useRef(null),d=n!==void 0,c=d?n:o,f=d?r??(()=>{}):a;k.useEffect(()=>{if(!c)return;const w=M=>{u.current&&!u.current.contains(M.target)&&f(!1)},S=M=>{M.key==="Escape"&&f(!1)};return window.addEventListener("click",w),window.addEventListener("keydown",S),()=>{window.removeEventListener("click",w),window.removeEventListener("keydown",S)}},[c,f]);const x={...l?{width:l,minWidth:l}:{},...i==="right"?{right:0}:{left:0}};return p.jsxs("div",{ref:u,className:"relative",children:[p.jsx("div",{onClick:()=>f(!c),children:e}),c&&p.jsx("div",{className:`dropdown-panel ${s}`,style:x,children:t})]})}function yy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:l,onSortChange:o,filterCount:a,onOpenFilters:u,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:x,leftOpen:w,rightOpen:S,onToggleLeft:M,onToggleRight:v,onPrevImage:m,onNextImage:h,canPrevImage:g,canNextImage:C}){const E=i??{kind:"builtin",key:"added",dir:"desc"},b=E.dir,N=E.kind==="builtin"&&E.key==="random",L=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...l&&l.length>0?l.map(Q=>({value:`metric:${Q}`,label:Q})):[]]}],R=E.kind==="metric"?`metric:${E.key}`:`builtin:${E.key}`,P=Q=>{if(Q.startsWith("layout:")){const B=Q==="layout:masonry"?"adaptive":"grid";c==null||c(B)}else o==null||o(xy(Q,E))},U=typeof a=="number"?a:0;return p.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[t&&p.jsxs("button",{className:"btn",onClick:n,children:[p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]}),!t&&p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx(gy,{value:R,onChange:P,options:L,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),p.jsx("button",{className:"btn btn-icon",onClick:()=>{o&&o(N?E:{...E,dir:b==="desc"?"asc":"desc"})},title:N?"Shuffle":`Sort ${b==="desc"?"descending":"ascending"}`,"aria-label":N?"Shuffle":"Toggle sort direction",children:N?p.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),p.jsx("path",{d:"M21 3v5h-5"})]}):b==="desc"?p.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 5v14"}),p.jsx("path",{d:"M19 12l-7 7-7-7"})]}):p.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 19V5"}),p.jsx("path",{d:"M5 12l7-7 7 7"})]})}),p.jsx("div",{className:"w-px h-5 bg-border"}),p.jsxs("button",{className:`btn ${U>0?"btn-active":""}`,onClick:()=>u==null?void 0:u(),title:"Filters","aria-label":"Open filters",children:[p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),p.jsx("span",{children:"Filters"}),U>0&&p.jsx("span",{className:"px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:U})]})]})]}),p.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:Q=>s==null?void 0:s(Number(Q.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),p.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):x&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-muted",children:"Size"}),p.jsx("input",{type:"range",min:80,max:500,step:10,value:f??220,onChange:Q=>x(Number(Q.target.value)),className:"w-32 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),p.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&p.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[p.jsx("button",{className:`btn btn-icon ${g?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>g&&(m==null?void 0:m()),"aria-label":"Previous image","aria-disabled":!g,children:p.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M15 18l-6-6 6-6"})})}),p.jsx("button",{className:`btn btn-icon ${C?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>C&&(h==null?void 0:h()),"aria-label":"Next image","aria-disabled":!C,children:p.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{className:`btn btn-icon ${w?"":"opacity-50"}`,title:w?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:M,"aria-pressed":w,"aria-label":"Toggle left panel",children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),p.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),p.jsx("button",{className:`btn btn-icon ${S?"":"opacity-50"}`,title:S?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:v,"aria-pressed":S,"aria-label":"Toggle right panel",children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),p.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),p.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:Q=>e(Q.target.value),className:"h-8 w-[200px] focus:w-[260px] transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted"})]})]})}function xy(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const Fp=3e4;class Dt extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function St(e,t={}){const{timeoutMs:n=Fp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Dt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Dt(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof Dt?a(u):u.name==="AbortError"?a(new Dt("Request aborted",void 0,e,!0,!1)):a(new Dt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Wi(e,t={}){const{timeoutMs:n=Fp,...r}=t,s=new AbortController;let i;return{promise:new Promise((o,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new Dt(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new Dt(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(o).catch(u=>{i&&clearTimeout(i),u instanceof Dt?a(u):u.name==="AbortError"?a(new Dt("Request aborted",void 0,e,!0,!1)):a(new Dt(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class _p{constructor(t){Er(this,"store",new Map);Er(this,"inflight",new Map);Er(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),l=typeof i=="object"&&"promise"in i,o=l?i.promise:i,a=l?i.abort:void 0,u=o.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,l=s?r.abort:void 0,o=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:o,abort:l})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Mr=new _p(60*1024*1024),qa=new _p(20*1024*1024),To={};function wy(){const e=To==null?void 0:To.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const l=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:l?"":i.origin}const qe=wy();const Sy=40*1024*1024,oe={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),St(`${qe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),St(`${qe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return St(`${qe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>St(`${qe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>St(`${qe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>St(`${qe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>qa.getOrFetch(e,()=>Wi(`${qe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{qa.prefetch(e,()=>Wi(`${qe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Mr.getOrFetch(e,()=>Wi(`${qe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Mr.has(e)||Mr.isInflight(e)))try{const t=await Wi(`${qe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Sy&&Mr.set(e,t)}catch{}},cancelPrefetch:e=>{Mr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),St(`${qe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),St(`${qe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>St(`${qe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),St(`${qe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>St(`${qe}/views`).promise,saveViews:e=>St(`${qe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},ky=e=>["folder",e];function zp(e){return tc({queryKey:ky(e),queryFn:()=>oe.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Po(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Cy(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const l=Math.ceil((i-1)/2),o=Math.floor((i-1)/2);return s.slice(0,l)+""+s.slice(-o)+r}function Fo(e){try{return JSON.parse(e)}catch{return}}const Ey=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Kr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Ey.test(s)?s:"/"}catch{return"/"}}function Id(){return(window.location.hash||"").replace(/^#/,"")}function Ny(e){const t=Kr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function by(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function jy(e){const n=Kr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function My(e){return e.endsWith("/_trash_")}function Ry({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:l,showResizeHandle:o=!0}){const[a,u]=k.useState(new Set(["/"]));k.useEffect(()=>{const c=e.split("/").filter(Boolean),f=["/"];let x="";for(const w of c)x=x?`${x}/${w}`:`/${w}`,f.push(x);u(w=>{const S=new Set(w);for(const M of f)S.add(M);return S})},[e]);const d=l??"h-full overflow-auto bg-panel scrollbar-thin";return p.jsxs("div",{className:d,children:[p.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(c=>p.jsx(Dp,{path:c.path,label:c.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},c.path))}),o&&p.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function Dp({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o,initial:a}){var v,m,h;const u=s.has(e),{data:d}=zp(e),c=a&&e===a.path?a:d,f=r===e,x=(((v=c==null?void 0:c.dirs)==null?void 0:v.length)??0)===0,w=x?((m=c==null?void 0:c.items)==null?void 0:m.length)??0:0,S=wi(),M=g=>{g.stopPropagation(),i(C=>{const E=new Set(C);return E.has(e)?E.delete(e):E.add(e),E})};return p.jsxs("div",{children:[p.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${f?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":x?void 0:u,"aria-selected":f,tabIndex:f?0:-1,style:{paddingLeft:8+n*14},onClick:()=>l(e),onContextMenu:g=>{g.preventDefault(),g.stopPropagation(),o&&o(g,e)},onKeyDown:g=>{var C;if(g.key==="Enter")g.preventDefault(),l(e);else if(g.key==="ArrowRight")!x&&!u&&(g.preventDefault(),i(E=>{const b=new Set(E);return b.add(e),b}));else if(g.key==="ArrowLeft")!x&&u&&(g.preventDefault(),i(E=>{const b=new Set(E);return b.delete(e),b}));else if(g.key==="ArrowDown"||g.key==="ArrowUp"||g.key==="Home"||g.key==="End"){g.preventDefault();const E=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),b=E.findIndex(L=>L===g.currentTarget);if(b===-1)return;let N=b;g.key==="ArrowDown"?N=Math.min(E.length-1,b+1):g.key==="ArrowUp"?N=Math.max(0,b-1):g.key==="Home"?N=0:g.key==="End"&&(N=E.length-1),(C=E[N])==null||C.focus()}},onDragOver:g=>{var E;Array.from(((E=g.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&(g.preventDefault(),x&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==g.currentTarget&&b.classList.remove("drop-target")}),g.currentTarget.classList.add("drop-target")))},onDragEnter:g=>{var E;Array.from(((E=g.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&x&&(g.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==g.currentTarget&&b.classList.remove("drop-target")}),g.currentTarget.classList.add("drop-target"))},onDragLeave:g=>{const C=g.currentTarget,E=document.elementFromPoint(g.clientX,g.clientY);E&&C.contains(E)||C.classList.remove("drop-target")},onDrop:async g=>{const C=g.dataTransfer;if(!C)return;g.preventDefault(),g.currentTarget.classList.remove("drop-target");const E=C.getData("application/x-lenslet-paths"),N=(E?JSON.parse(E):[]).filter(Boolean);if(!N.length)return;let L=N[0].split("/").slice(0,-1).join("/")||"/";L.startsWith("/")||(L=`/${L}`);let R=e;R.startsWith("/")||(R=`/${R}`);try{for(const P of N)await oe.moveFile(P,R);S.invalidateQueries({queryKey:["folder",L]}),S.invalidateQueries({queryKey:["folder",R]}),S.setQueryData(["folder",L],P=>!P||!Array.isArray(P.items)?P:{...P,items:P.items.filter(U=>!N.includes(U.path))})}catch{}},children:[p.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:M,children:u?"":""}),p.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Cy(t,28)}),x&&p.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((h=c==null?void 0:c.dirs)==null?void 0:h.map(g=>p.jsx(Dp,{path:by(e,g.name),label:g.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:l,onContextMenu:o},g.name)))]})}class Ly{constructor(t=400){Er(this,"cache",new Map);Er(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const _o=new Ly(400);function Iy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:l,isScrolling:o,priority:a}){const u=k.useRef(null),[d,c]=k.useState(()=>_o.get(e)??null),[f,x]=k.useState(!1),[w,S]=k.useState(()=>!!d);return k.useEffect(()=>{const M=u.current;if(!M)return;const v=new IntersectionObserver(m=>{for(const h of m)h.target===M&&x(h.isIntersecting||h.intersectionRatio>0)},{root:l??null,rootMargin:"200px 0px",threshold:.01});return v.observe(M),()=>{v.unobserve(M),v.disconnect()}},[l]),k.useEffect(()=>{if(d||!(f&&!o||a))return;let M=!0;return oe.getThumb(e).then(v=>{if(!M)return;const m=URL.createObjectURL(v);_o.set(e,m),c(m)}).catch(()=>{}),()=>{M=!1}},[e,d,f,o,a]),k.useEffect(()=>{var v;if(!d){S(!1);return}const M=(v=u.current)==null?void 0:v.querySelector("img");M&&M.complete&&M.naturalWidth>0?S(!0):S(!1)},[d]),k.useEffect(()=>{c(_o.get(e)??null)},[e]),p.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?p.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>S(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function br(e,t,n){let r=n.initialDeps??[],s,i=!0;function l(){var o,a,u;let d;n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now());const c=e();if(!(c.length!==r.length||c.some((w,S)=>r[S]!==w)))return s;r=c;let x;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(x=Date.now()),s=t(...c),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,S=Math.round((Date.now()-x)*100)/100,M=S/16,v=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c ${v(S,5)} /${v(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return l.updateDeps=o=>{r=o},l}function Od(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Oy=(e,t)=>Math.abs(e-t)<1.01,Ty=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Td=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Py=e=>e,Fy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},_y=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=l=>{const{width:o,height:a}=l;t({width:Math.round(o),height:Math.round(a)})};if(s(Td(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const o=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Td(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Pd={passive:!0},Fd=typeof window>"u"?!0:"onscrollend"in window,zy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&Fd?()=>{}:Ty(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:c,isRtl:f}=e.options;s=c?n.scrollLeft*(f&&-1||1):n.scrollTop,i(),t(s,d)},o=l(!0),a=l(!1);a(),n.addEventListener("scroll",o,Pd);const u=e.options.useScrollendEvent&&Fd;return u&&n.addEventListener("scrollend",a,Pd),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",a)}},Dy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Ay=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const l=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class $y{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Py,rangeExtractor:Fy,onChange:()=>{},measureElement:Dy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=br(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let l=r-1;l>=0;l--){const o=n[l];if(s.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=br(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,l,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=br(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:l,lanes:o},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),c=new Array(o).fill(void 0);for(let f=0;f<u;f++){const x=d[f];x&&(c[x.lane]=f)}for(let f=u;f<n;f++){const x=i(f),w=this.laneAssignments.get(f);let S,M;if(w!==void 0&&this.options.lanes>1){S=w;const g=c[S],C=g!==void 0?d[g]:void 0;M=C?C.end+this.options.gap:r+s}else{const g=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f);M=g?g.end+this.options.gap:r+s,S=g?g.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,S)}const v=a.get(x),m=typeof v=="number"?v:this.options.estimateSize(f),h=M+m;d[f]={index:f,start:M,size:m,end:h,key:x,lane:S},c[S]=f}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=br(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?Uy({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=br(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=br(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,l=n.length;i<l;i++){const o=n[i],a=r[o];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Od(r[Ap(0,r.length-1,s=>Od(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(s.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const l=10,o=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[c,f]=d;this._scrollToOffset(c,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),w=this.getOffsetForIndex(n,f);if(!w){console.warn("Failed to get offset for index:",n);return}Oy(w[0],x)||a(f)})},a=u=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(o=>o===null);){const o=r[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}s=Math.max(...i.filter(o=>o!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Ap=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Uy({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let l=Ap(0,s,i,n),o=l;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const a=Array(r).fill(0);for(;o<s&&a.some(d=>d<n+t);){const d=e[o];a[d.lane]=d.end,o++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(d=>d>=n);){const d=e[l];u[d.lane]=d.start,l--}l=Math.max(0,l-l%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:l,endIndex:o}}const _d=typeof document<"u"?k.useLayoutEffect:k.useEffect;function By(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var l;i?Yu.flushSync(t):t(),(l=e.onChange)==null||l.call(e,s,i)}},[r]=k.useState(()=>new $y(n));return r.setOptions(n),_d(()=>r._didMount(),[]),_d(()=>r._willUpdate()),r}function Wy(e){return By({observeElementRect:_y,observeElementOffset:zy,scrollToFn:Ay,...e})}const Qy=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),l=(e-t*(i-1))/i,o=l*r.h/r.w,a=o+s+t;return{columns:i,cellW:l,mediaH:o,rowH:a}};function Hy({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let l=[],o=0;for(let a=0;a<e.length;a++){const u=e[a];let d=1.333;u.w>0&&u.h>0&&(d=u.w/u.h),l.push({item:u,aspect:d,originalIndex:a}),o+=d;const c=(l.length-1)*r;if(o*n+c>=t){const x=(t-c)/o,w=l.map(S=>({item:S.item,displayW:S.aspect*x,displayH:x,originalIndex:S.originalIndex}));i.push({index:i.length,height:x+s+r,imageH:x,items:w}),l=[],o=0}}if(l.length>0){const a=n,u=l.map(d=>({item:d.item,displayW:d.aspect*a,displayH:a,originalIndex:d.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function Vy(e,t,n){const[r,s]=k.useState(0);k.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const c=getComputedStyle(a),f=a.clientWidth-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight);s(f)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=k.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:Hy({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:d,rowH:c}=Qy({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),f=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:d,rowH:c,rowCount:f}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),l=Wy({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),o=l.getVirtualItems();return k.useEffect(()=>{l.measure()},[i]),{width:r,layout:i,rowVirtualizer:l,virtualRows:o}}function Ky(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(o=>o.path===n):0,i=Math.max(1,t);let l=s;if(r.key==="ArrowRight"||r.key==="d")l=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")l=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")l=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")l=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return l}function Gy({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:l,suppressSelectionHighlight:o=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,c]=k.useState(null),[f,x]=k.useState(null),[w,S]=k.useState(null),[M,v]=k.useState(!1),[m,h]=k.useState(null),[g,C]=k.useState(null),E=k.useRef(null),b=k.useRef(null),N=k.useRef(null),L=12,R=u,P={w:4,h:3},U=44,{width:Q,layout:B,rowVirtualizer:je,virtualRows:Pe}=Vy(b,e,{gap:L,targetCell:R,aspect:P,captionH:U,viewMode:a}),he=k.useMemo(()=>{const I=new Map;for(let K=0;K<e.length;K++)I.set(e[K].path,K);return I},[e]),F=k.useMemo(()=>{if(B.mode!=="adaptive")return null;const I=new Map;return B.rows.forEach((K,q)=>{let te=0;K.items.forEach((X,ie)=>{const $=te+X.displayW/2;I.set(X.item.path,{row:q,center:$,order:ie}),te+=X.displayW+L})}),I},[B]);k.useEffect(()=>{if(!t.length)return;const I=t[0];m!==I&&h(I)},[t,m]);const D=k.useMemo(()=>{if(B.mode!=="adaptive")return null;let I=0;return B.rows.map(K=>{const q=I;return I+=K.height,{start:q,height:K.height}})},[B]),V=k.useRef(null),ue=(I,K)=>{try{if(V.current!=null){try{cancelAnimationFrame(V.current)}catch{}V.current=null}const q=I.scrollTop,te=K-q;if(Math.abs(te)<1){I.scrollTop=K;return}const X=140,ie=performance.now(),$=de=>1-Math.pow(1-de,3),ke=de=>{const ve=Math.min(1,(de-ie)/X),ye=$(ve);I.scrollTop=q+te*ye,ve<1?V.current=requestAnimationFrame(ke):V.current=null};V.current=requestAnimationFrame(ke)}catch{I.scrollTop=K}},[ce,Lt]=k.useState(!1);k.useEffect(()=>{const I=b.current;if(!I)return;let K=0;const q=()=>{Lt(!0),window.clearTimeout(K),K=window.setTimeout(()=>Lt(!1),120)};return I.addEventListener("scroll",q,{passive:!0}),()=>I.removeEventListener("scroll",q)},[]);const Ue=B.mode==="grid"?B.columns:Math.max(1,Math.floor(Q/(R+L))),Jt=(I,K)=>{if(B.mode!=="adaptive")return null;const q=B.rows[I];if(!q)return null;let te=0,X=null;for(const ie of q.items){const $=te+ie.displayW/2,ke=Math.abs($-K);(!X||ke<X.dist)&&(X={path:ie.item.path,dist:ke}),te+=ie.displayW+L}return X?X.path:null},Be=(I,K)=>{var ye,Qe,Zt,re;if(!e.length)return null;const q=I??e[0].path;if(B.mode!=="adaptive"){const Me=Ky(e,Ue,q,K);return Me==="open"||Me==null?Me:((ye=e[Me])==null?void 0:ye.path)??null}const te=F==null?void 0:F.get(q);if(!te)return q;const X=he.get(q)??0,ie=K.key;if(ie==="Enter")return"open";if(ie==="ArrowRight"||ie==="d")return((Qe=e[Math.min(e.length-1,X+1)])==null?void 0:Qe.path)??q;if(ie==="ArrowLeft"||ie==="a")return((Zt=e[Math.max(0,X-1)])==null?void 0:Zt.path)??q;const $=ie==="ArrowDown"||ie==="s"?1:ie==="ArrowUp"||ie==="w"?-1:0;if($===0)return null;const ke=te.row+$;if(ke<0||ke>=(((re=B.rows)==null?void 0:re.length)??0))return q;const de=te.center;return Jt(ke,de)??q};k.useEffect(()=>{const I=b.current;if(!I)return;const K=q=>{var ye,Qe,Zt,re;const te=Be(g,q);if(te==null)return;if(q.preventDefault(),te==="open"){g&&s(g);return}const X=e.find(Me=>Me.path===te);if(!X)return;C(X.path),h(X.path),r([X.path]);try{N.current=X.path}catch{}const ie=B.mode==="grid"?Math.floor((he.get(X.path)??0)/Math.max(1,B.columns)):((ye=F==null?void 0:F.get(X.path))==null?void 0:ye.row)??0,$=I.scrollTop,ke=$+I.clientHeight,de=B.mode==="adaptive"?((Qe=D==null?void 0:D[ie])==null?void 0:Qe.start)??0:ie*B.rowH,ve=B.mode==="adaptive"?de+(((Zt=D==null?void 0:D[ie])==null?void 0:Zt.height)??0):de+B.rowH;(de<$||ve>ke)&&ue(I,de);try{(re=document.getElementById(`cell-${encodeURIComponent(X.path)}`))==null||re.focus()}catch{}};return I.addEventListener("keydown",K),()=>{I.removeEventListener("keydown",K)}},[e,g,Ue,s,B,F,D,he]),k.useLayoutEffect(()=>{var ie;const I=b.current;if(!I||!n||!t||t.length===0)return;const K=t[0],q=he.get(K);if(q==null||q<0)return;let te=0;if(B.mode==="grid")te=Math.floor(q/Math.max(1,B.columns));else{let $=0,ke=B.rows.length-1;for(;$<=ke;){const de=$+ke>>1,ve=B.rows[de];if(q>=ve.items[0].originalIndex&&q<=ve.items[ve.items.length-1].originalIndex){te=de;break}q<ve.items[0].originalIndex?ke=de-1:$=de+1}}const X=B.mode==="adaptive"?((ie=D==null?void 0:D[te])==null?void 0:ie.start)??0:te*B.rowH;try{I.scrollTop=X}catch{}},[n,B,D]);const We=new Set(t),z=!!(d&&f&&M);k.useEffect(()=>{var I;(I=b.current)==null||I.focus()},[]),k.useEffect(()=>{var I;if(o){try{(I=b.current)==null||I.blur()}catch{}try{C(null)}catch{}}},[o]);const G=g?`cell-${encodeURIComponent(g)}`:void 0;return p.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${z?"cursor-zoom-in":""}`,ref:b,tabIndex:0,"aria-activedescendant":G,onMouseDown:()=>{var I;return(I=b.current)==null?void 0:I.focus()},style:{"--gap":`${L}px`},children:p.jsxs("div",{className:"relative w-full",style:{height:je.getTotalSize()},children:[Pe.map(I=>{var ie;let K=[],q={},te="";if(B.mode==="adaptive"){const $=B.rows[I.index];if(!$)return null;K=$.items,q={height:$.height,transform:`translate3d(0, ${I.start}px, 0)`,display:"flex",gap:L,paddingBottom:L},te="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const $=I.index*B.columns;K=e.slice($,$+B.columns).map(de=>({item:de,displayW:B.cellW,displayH:B.mediaH})),q={transform:`translate3d(0, ${I.start}px, 0)`,gridTemplateColumns:`repeat(${B.columns}, minmax(0, 1fr))`,gap:L,paddingBottom:L},te="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const X=I.index===((ie=Pe[0])==null?void 0:ie.index);try{if(!ce)for(const{item:$}of K)try{oe.prefetchThumb($.path)}catch{}}catch{}return p.jsx("div",{className:te,role:"row",style:q,children:K.map(({item:$,displayW:ke,displayH:de})=>{const ve=!o&&(m===$.path||We.has($.path)),ye=B.mode==="adaptive"?{width:ke}:{},Qe=B.mode==="adaptive"?{height:de}:{},Zt=B.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return p.jsxs("div",{id:`cell-${encodeURIComponent($.path)}`,className:`relative min-w-0 ${ve?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":ve,tabIndex:g===$.path?0:-1,onFocus:()=>C($.path),draggable:!0,style:ye,onDragStart:re=>{var Me;try{const Je=We.has($.path)&&t.length>0?t:[$.path];(Me=re.dataTransfer)==null||Me.setData("application/x-lenslet-paths",JSON.stringify(Je)),re.dataTransfer&&(re.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const He=re.currentTarget.querySelector(".cell-content img"),lt=document.createElement("div");lt.className="drag-ghost";const Bt=document.createElement("img");Bt.draggable=!1,Bt.alt="drag",He&&He.src&&(Bt.src=He.src),lt.appendChild(Bt),document.body.appendChild(lt);const Wt=lt.getBoundingClientRect().width||150;re.dataTransfer.setDragImage(lt,Math.round(Wt/2),0);const pt=()=>{try{lt.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",pt),window.removeEventListener("pointerup",pt),document.removeEventListener("visibilitychange",pt)};window.addEventListener("dragend",pt),window.addEventListener("pointerup",pt),document.addEventListener("visibilitychange",pt)}catch{}},onDragEnd:()=>{},onContextMenu:re=>{re.preventDefault(),re.stopPropagation(),i&&i(re,$.path)},children:[p.jsxs("div",{className:Zt,style:Qe,onMouseEnter:()=>{try{oe.prefetchFile($.path)}catch{}},onDoubleClick:()=>s($.path),onMouseLeave:()=>{if(w&&(window.clearTimeout(w),S(null)),c(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null),v(!1)},children:[p.jsx("div",{className:"cell-content absolute inset-0",children:p.jsx(Iy,{path:$.path,name:$.name,selected:ve,displayW:ke,displayH:de,ioRoot:b.current,isScrolling:ce,priority:X,onClick:re=>{var Yn;h($.path),C($.path);const Me=!!re.shiftKey,Je=!!(re.ctrlKey||re.metaKey);if(Me){const He=N.current??m??t[0]??$.path,lt=he.get(He)??e.findIndex(Wt=>Wt.path===He),Bt=he.get($.path)??e.findIndex(Wt=>Wt.path===$.path);if(lt!==-1&&Bt!==-1){const Wt=Math.min(lt,Bt),pt=Math.max(lt,Bt),Si=e.slice(Wt,pt+1).map(Cr=>Cr.path);if(Je){const Cr=new Set(t);for(const ki of Si)Cr.add(ki);r(Array.from(Cr))}else r(Si)}else r([$.path])}else if(Je){const He=new Set(t);He.has($.path)?He.delete($.path):He.add($.path),r(Array.from(He));try{N.current=$.path}catch{}}else{r([$.path]);try{N.current=$.path}catch{}}try{ce||(oe.prefetchFile($.path),oe.prefetchThumb($.path))}catch{}try{(Yn=document.getElementById(`cell-${encodeURIComponent($.path)}`))==null||Yn.focus()}catch{}}})}),p.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(ce)return;w&&window.clearTimeout(w),c($.path),v(!1);const re=window.setTimeout(async()=>{try{const Me=await oe.getFile($.path),Je=URL.createObjectURL(Me);if(E.current)try{URL.revokeObjectURL(E.current)}catch{}E.current=Je,x(Je),v(!0)}catch{}},350);S(re)},onMouseLeave:()=>{if(w&&window.clearTimeout(w),S(null),v(!1),c(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null)},children:p.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:p.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[p.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),p.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),p.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[p.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:$.name,children:(()=>{const re=(l||"").trim();if(!re)return $.name;const Me=$.name,Je=Me.toLowerCase().indexOf(re.toLowerCase());if(Je===-1)return $.name;const Yn=Me.slice(0,Je),He=Me.slice(Je,Je+re.length),lt=Me.slice(Je+re.length);return p.jsxs(p.Fragment,{children:[Yn,p.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:He}),lt]})})()}),p.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[$.w,"  ",$.h]})]})]},$.path)})},I.key)}),d&&f&&M&&Yu.createPortal(p.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:p.jsx("img",{src:f,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${Ue}`)})}function qy(){const[e,t]=k.useState(1),[n,r]=k.useState(0),[s,i]=k.useState(0),[l,o]=k.useState(1),[a,u]=k.useState(!1),[d,c]=k.useState(!1),[f,x]=k.useState(!1),w=k.useRef(null),S=k.useRef(null),M=()=>{const h=w.current,g=S.current;if(!h||!g||!g.naturalWidth||!g.naturalHeight)return;const C=h.getBoundingClientRect(),E=C.width/g.naturalWidth,b=C.height/g.naturalHeight,N=Math.min(1,Math.min(E,b));o(N);const L=g.naturalWidth*N,R=g.naturalHeight*N;r((C.width-L)/2),i((C.height-R)/2)};return k.useEffect(()=>{const h=w.current;if(!h)return;const g=new ResizeObserver(()=>{try{requestAnimationFrame(()=>M())}catch{M()}});return g.observe(h),()=>g.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:l,setBase:o,ready:a,setReady:u,dragging:d,setDragging:c,visible:f,setVisible:x,containerRef:w,imgRef:S,fitAndCenter:M,handleWheel:h=>{h.preventDefault();const g=h.deltaY>0?-1:1,C=1.2,E=.05,b=8,N=w.current;if(!N)return;const L=N.getBoundingClientRect(),R=h.clientX-L.left,P=h.clientY-L.top;t(U=>{const Q=Math.min(b,Math.max(E,U*Math.pow(C,g))),B=Q/U;return r(je=>R-B*(R-je)),i(je=>P-B*(P-je)),Number(Q.toFixed(4))})},handleMouseDown:h=>{const g=w.current,C=S.current;if(!g||!C||h.target!==C)return;const b=g.getBoundingClientRect();if(h.clientX<b.left||h.clientX>b.right||h.clientY<b.top||h.clientY>b.bottom)return;h.preventDefault(),h.stopPropagation(),c(!0);const N=h.clientX,L=h.clientY,R=n,P=s,U=B=>{r(R+(B.clientX-N)),i(P+(B.clientY-L))},Q=()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",Q),c(!1)};window.addEventListener("mousemove",U),window.addEventListener("mouseup",Q)}}}function Yy({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[l,o]=k.useState(null),[a,u]=k.useState(null),{scale:d,setScale:c,tx:f,setTx:x,ty:w,setTy:S,base:M,ready:v,setReady:m,dragging:h,visible:g,setVisible:C,containerRef:E,imgRef:b,fitAndCenter:N,handleWheel:L,handleMouseDown:R}=qy();return k.useEffect(()=>{let P=!0;return oe.getFile(e).then(U=>{P&&o(URL.createObjectURL(U))}).catch(()=>{}),oe.getThumb(e).then(U=>{P&&u(URL.createObjectURL(U))}).catch(()=>{}),requestAnimationFrame(()=>{var U;C(!0),(U=E.current)==null||U.focus()}),()=>{P=!1}},[e]),k.useEffect(()=>{const P=U=>{U.key==="Escape"?(C(!1),setTimeout(t,110)):(U.key==="ArrowRight"||U.key==="d")&&n?n(1):(U.key==="ArrowLeft"||U.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[t,n]),k.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),k.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),k.useEffect(()=>{m(!1)},[l]),k.useEffect(()=>{r&&r(M*d*100)},[M,d,r]),k.useEffect(()=>{if(s==null)return;const P=E.current;if(!P){i&&i();return}const U=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,M))),Q=P.getBoundingClientRect(),B=Q.width/2,je=Q.height/2;c(Pe=>{const he=U/Pe;return x(F=>B-he*(B-F)),S(F=>je-he*(je-F)),Number(U.toFixed(4))}),i&&i()},[s,M,i]),p.jsxs("div",{ref:E,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${h?"cursor-grabbing select-none":""} ${g?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:L,onMouseDown:R,onKeyDown:P=>{P.key==="Tab"&&P.preventDefault()},children:[p.jsx("button",{"aria-label":"Close",onClick:P=>{P.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"btn absolute top-3 right-3 z-10",children:" Close"}),a&&p.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:P=>P.preventDefault(),style:{transform:`translate(${f}px, ${w}px) scale(${M})`,transformOrigin:"0 0",opacity:v?0:.5,filter:"blur(0.25px)"}}),l&&p.jsx("img",{ref:b,src:l,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:P=>{P.preventDefault()},onLoad:P=>{N(),c(1);try{requestAnimationFrame(()=>m(!0))}catch{m(!0)}},onClick:P=>P.stopPropagation(),style:{transform:`translate(${f}px, ${w}px) scale(${M*d})`,transformOrigin:"0 0",opacity:v?.99:0,WebkitUserDrag:"none"}})]})}const $p=e=>["item",e],Xy={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function Jy(e){return tc({queryKey:$p(e),queryFn:()=>oe.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function Zy(e){const t=wi();return my({mutationFn:n=>oe.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData($p(e),n)}})}const e0=6;async function Qi(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const o=r++,a=e[o];try{await Up(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},l=Array.from({length:Math.min(e0,e.length)},()=>i());if(await Promise.all(l),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Rs=new Map,zo=new Map;async function Up(e,t,n){const r=n??new Date().toISOString(),s=Rs.get(e)||{};Rs.set(e,{...s,...t});const i=zo.get(e);if(i)return i;const l=(async()=>{try{for(;Rs.has(e);){const o=Rs.get(e);if(Rs.delete(e),!o)break;let a;try{a=await oe.getSidecar(e)}catch{a={...Xy,updated_at:r}}const u={...a,...o,v:1,updated_at:r,updated_by:"web"};let d=0;const c=3;for(;d<c;)try{await oe.putSidecar(e,u);break}catch(f){if(d++,d>=c)throw f;await new Promise(x=>setTimeout(x,200*Math.pow(2,d)))}}}finally{zo.delete(e)}})();return zo.set(e,l),l}function Bp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function ol(e){if(Array.isArray(e))return e.map(ol);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,ol(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return ol(r)}catch{return e}}return e}function Do(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t0(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function n0(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,l=s[0];n+=Do(e.slice(r,i));let o="#cdd3dd";l.startsWith('"')&&l.trimEnd().endsWith(":")?o="#a7c4ff":l.startsWith('"')?o="#9ad4b5":/true|false|null/.test(l)?o="#c4b4f5":o="#d7c08c",n+=`<span style="color:${o}">${Do(l)}</span>`,r=i+l.length}return n+=Do(e.slice(r)),n}function r0({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:l,isLoading:o}=Jy(e??""),a=Zy(e??""),[u,d]=k.useState(""),[c,f]=k.useState(""),[x,w]=k.useState(null),[S,M]=k.useState(""),[v,m]=k.useState(null),[h,g]=k.useState("idle"),[C,E]=k.useState(!1),[b,N]=k.useState(null),[L,R]=k.useState({}),U=k.useMemo(()=>{const z=n.find(G=>G.path===e);return z&&z.star!==void 0?z.star:null},[n,e])??(l==null?void 0:l.star)??null,Q=t.length>1,B=k.useMemo(()=>{const z=new Set(t);return n.filter(G=>z.has(G.path))},[n,t]),je=k.useMemo(()=>B.reduce((z,G)=>z+(G.size||0),0),[B]);k.useEffect(()=>{l&&(d((l.tags||[]).join(", ")),f(l.notes||"")),M(""),m(null),g("idle"),E(!1)},[l==null?void 0:l.updated_at,e]);const Pe=k.useCallback(()=>l??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[l]);k.useEffect(()=>{if(!e)return;const z=G=>{if(Bp(G.target))return;const I=G.key;if(!/^[0-5]$/.test(I))return;G.preventDefault();const K=I==="0"?null:Number(I);if(Q&&t.length)Qi(t,{star:K}),s==null||s(t,K);else{const q=Pe();a.mutate({...q,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,Q,t,Pe,a,s]),k.useEffect(()=>{if(!e){x&&URL.revokeObjectURL(x),w(null);return}let z=!0;return oe.getThumb(e).then(G=>{if(!z)return;const I=URL.createObjectURL(G);w(K=>(K&&URL.revokeObjectURL(K),I))}).catch(()=>{}),()=>{z=!1}},[e]),k.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]);const he=e?e.split("/").pop()||e:"",F=k.useMemo(()=>{var G;if(he.includes("."))return he.slice(he.lastIndexOf(".")+1).toUpperCase();const z=n.find(I=>I.path===e);return(G=z==null?void 0:z.type)!=null&&G.includes("/")?z.type.split("/")[1].toUpperCase():""},[he,n,e]),D=k.useMemo(()=>n.find(z=>z.path===e),[n,e]),V=k.useCallback(async()=>{if(e){g("loading"),m(null);try{const z=await oe.getMetadata(e),G=ol(z.meta),I=JSON.stringify(G,null,2);M(I),g("loaded")}catch(z){const G=z instanceof Error?z.message:"Failed to load metadata";M(G),m(G),g("error")}}},[e]),ue=k.useCallback(()=>{var z;S&&((z=navigator.clipboard)==null||z.writeText(S).then(()=>{E(!0),setTimeout(()=>E(!1),1200)}).catch(G=>{const I=G instanceof Error?G.message:"Copy failed";m(I)}))},[S]),ce=k.useMemo(()=>S?n0(S):"",[S]),Lt=h==="loading"?"Loading metadata":S||"PNG metadata not loaded yet.",Ue=h==="loaded"&&!!S,Jt=Ue?"h-48":"h-24",Be=k.useCallback((z,G)=>{var I;G&&((I=navigator.clipboard)==null||I.writeText(G).then(()=>{N(z),setTimeout(()=>N(K=>K===z?null:K),1e3)}).catch(()=>{}))},[]),We=k.useCallback((z,G)=>{if(G&&!L[z]){const I=G.offsetHeight;I&&R(K=>K[z]?K:{...K,[z]:I})}},[L]);return i?p.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!Q&&p.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:p.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[x&&p.jsx("img",{src:x,alt:"thumb",className:"block w-full h-full object-contain"}),!!F&&p.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:F})]})}),p.jsx("div",{className:"p-3 border-b border-border",children:Q?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),p.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),p.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Po(je)]})]}):p.jsx(p.Fragment,{children:p.jsx("div",{className:"font-mono text-text break-all",title:he,children:he})})}),p.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[p.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:c,onChange:z=>f(z.target.value),onBlur:()=>{if(Q&&t.length)Qi(t,{notes:c});else{const z=Pe();a.mutate({...z,notes:c,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":Q?"Notes for selected items":"Notes"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[11px] text-muted mb-1",children:Q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),p.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:u,onChange:z=>d(z.target.value),onBlur:()=>{const z=u.split(",").map(G=>G.trim()).filter(Boolean);if(Q&&t.length)Qi(t,{tags:z});else{const G=Pe();a.mutate({...G,tags:z,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":Q?"Tags for selected items":"Tags"})]})]}),!Q&&p.jsxs("div",{className:"p-3 border-b border-border",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[p.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),p.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[S&&p.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:ue,disabled:!S,title:"Copy metadata",children:C?"Copied":"Copy"}),p.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:V,disabled:!e||h==="loading",children:h==="loading"?"Loading":"Show meta"})]})]}),p.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Jt} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:Ue?p.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:ce}}):Lt}),v&&p.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:v})]}),p.jsxs("div",{className:"p-3 border-b border-border",children:[p.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),p.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[p.jsx("span",{className:"text-muted w-16 shrink-0",children:Q?"Rating (all)":"Rating"}),p.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(z=>{const G=(U??0)>=z;return p.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${G?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const I=U===z&&!Q?null:z;Q&&t.length?(s==null||s(t,I),Qi(t,{star:I})):e&&(s==null||s([e],I),Up(e,{star:I}))},title:`${z} star${z>1?"s":""} (key ${z})`,"aria-label":`${z} star${z>1?"s":""}`,"aria-pressed":U===z,children:G?"":""},z)})})]}),!Q&&D&&p.jsxs("div",{className:"text-[12px] space-y-1",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Be("dimensions",`${D.w}${D.h}`),children:"Dimensions"}),p.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:z=>We("dimensions",z),style:L.dimensions?{minHeight:L.dimensions}:void 0,children:b==="dimensions"?"Copied":`${D.w}${D.h}`})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Be("size",Po(D.size)),children:"Size"}),p.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:z=>We("size",z),style:L.size?{minHeight:L.size}:void 0,children:b==="size"?"Copied":Po(D.size)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Be("type",D.type),children:"Type"}),p.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:z=>We("type",z),style:L.type?{minHeight:L.type}:void 0,children:b==="type"?"Copied":D.type})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>e&&Be("source",e),children:"Source"}),p.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:z=>We("source",z),style:L.source?{minHeight:L.source}:void 0,children:b==="source"?"Copied":e})]}),(()=>{const z=D.metrics||null;if(!z)return null;const G=Object.entries(z).filter(([,te])=>te!=null);if(!G.length)return null;const I=G.sort(([te],[X])=>te.localeCompare(X)),K=I.slice(0,12),q=I.length-K.length;return p.jsxs("div",{className:"mt-3",children:[p.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),p.jsxs("div",{className:"space-y-1",children:[K.map(([te,X])=>p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted w-24 shrink-0",children:te}),p.jsx("span",{className:"font-mono text-text text-right",children:t0(X)})]},te)),q>0&&p.jsxs("div",{className:"text-[11px] text-muted",children:["+",q," more"]})]})]})})()]})]}),p.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):p.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:p.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const s0=(e,t)=>["search",e,t];function i0(e,t){return tc({enabled:!!e.trim(),queryKey:s0(e,t),queryFn:()=>oe.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const l0=new Set([0,1,2,3,4,5]),o0=new Set(["<","<=",">",">="]),a0=/^\d{4}-\d{2}-\d{2}$/;function u0(e,t){return!t||!Wp(t)?e:e.filter(n=>Ya(n,t))}function Wp(e){if(Gn(e)){const t=qn(e);if(!t.length)return!1;for(const n of t)if(Wp(n))return!0;return!1}return!0}function Ya(e,t){if(Gn(t)){const n=qn(t);return n.length?rc(t)?n.every(r=>Ya(e,r)):n.some(r=>Ya(e,r)):!0}return c0(e,t)}function c0(e,t){var n,r,s,i,l,o,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(l=t.urlContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(o=t.urlNotContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const c=Date.parse(e.addedAt);if(Number.isNaN(c))return!1;const f=$d(u,!1),x=$d(d,!0);return!(f!=null&&c<f||x!=null&&c>x)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const c=e.w;return!Number.isFinite(c)||c<=0?!1:Ud(c,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const c=e.h;return!Number.isFinite(c)||c<=0?!1:Ud(c,u,d)}if("metricRange"in t){const{key:u,min:d,max:c}=t.metricRange,f=(a=e.metrics)==null?void 0:a[u];return!(f==null||f<d||f>c)}return!0}function Xa(e){if(!e||typeof e!="object")return null;if(y0(e)){const t=[];for(const n of e.and){const r=Vp(n);r&&t.push(r)}return{all:t}}return nc(e)?Hp(e,!0):null}function zd(e){const t=new Set;return eo(e,n=>{"stars"in n?n.stars.forEach(r=>t.add(r)):"starsIn"in n&&n.starsIn.values.forEach(r=>t.add(r))}),Array.from(t)}function d0(e,t){return f0(e,t)}function f0(e,t){const n=al(t);let r=Gp(e,s=>"starsIn"in s||"stars"in s);return n.length&&(r=Yp(r,{starsIn:{values:n}})),r}function h0(e,t){const n=x0(e,r=>"metricRange"in r&&r.metricRange.key===t);return n&&"metricRange"in n?n.metricRange??null:null}function p0(e,t,n){let r=Gp(e,s=>"metricRange"in s&&s.metricRange.key===t);return n&&(r=Yp(r,{metricRange:{key:t,min:n.min,max:n.max}})),r}function m0(e){const t=Xa(e);return t?Kp(t):0}function eo(e,t,n=[]){if(Gn(e)){qn(e).forEach((s,i)=>{eo(s,t,[...n,i])});return}t(e,n)}function g0(e,t){const n=Qp(e,t);return!n||!Gn(n)?{all:[]}:n}function Qp(e,t){if(!t.length||!Gn(e))return e;const n=to(e),r=[...qn(e)],s=t[0];if(s<0||s>=r.length)return e;if(t.length===1)r.splice(s,1);else{const i=Qp(r[s],t.slice(1));i?r[s]=i:r.splice(s,1)}return r.length?n==="all"?{all:r}:{any:r}:null}function Hp(e,t){const n=to(e),r=qn(e),s=[];for(const i of r){const l=v0(i,!1);l&&s.push(l)}return!s.length&&!t?null:n==="all"?{all:s}:{any:s}}function v0(e,t){return nc(e)?Hp(e,t):Vp(e)}function Vp(e){var t,n,r,s,i,l,o,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=al(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=al((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=al((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=jr((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=jr((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=jr((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=jr((l=e.commentsNotContains)==null?void 0:l.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=jr((o=e.urlContains)==null?void 0:o.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=jr((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=Dd((u==null?void 0:u.from)??null),c=Dd((u==null?void 0:u.to)??null);return!d&&!c?null:{dateRange:{...d?{from:d}:{},...c?{to:c}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=Ad(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=Ad(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",c=Ja(u.min),f=Ja(u.max);return!d||c==null||f==null||c>f?null:{metricRange:{key:d,min:c,max:f}}}return null}function al(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=typeof n=="number"?n:typeof n=="string"?Number(n):NaN;!Number.isInteger(r)||!l0.has(r)||t.includes(r)||t.push(r)}return t}function jr(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function Dd(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function Ad(e,t){if(typeof e!="string"||!o0.has(e))return null;const n=Ja(t);return n==null?null:{op:e,value:n}}function $d(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&a0.test(n)?r+24*60*60*1e3-1:r}function Ud(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function Ja(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function y0(e){return!!(e&&typeof e=="object"&&"and"in e&&Array.isArray(e.and))}function nc(e){return!!(e&&typeof e=="object"&&("all"in e&&Array.isArray(e.all)||"any"in e&&Array.isArray(e.any)))}function Gn(e){return nc(e)}function rc(e){return"all"in e}function to(e){return rc(e)?"all":"any"}function qn(e){return rc(e)?e.all:e.any}function Kp(e){return Gn(e)?qn(e).reduce((t,n)=>t+Kp(n),0):1}function x0(e,t){let n=null;return eo(e,r=>{!n&&t(r)&&(n=r)}),n}function Gp(e,t){const n=qp(e,t);return!n||!Gn(n)?{all:[]}:n}function qp(e,t){if(!Gn(e))return t(e)?null:e;const n=to(e),r=qn(e),s=[];for(const i of r){const l=qp(i,t);l&&s.push(l)}return s.length?n==="all"?{all:s}:{any:s}:null}function Yp(e,t){const n=to(e),r=[...qn(e),t];return n==="all"?{all:r}:{any:r}}const zl=(e,t)=>e.name.localeCompare(t.name),w0=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?zl(e,t):n-r},S0=e=>(t,n)=>{var o,a;const r=(o=t.metrics)==null?void 0:o[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,l=s==null;return i&&l?zl(t,n):i?1:l?-1:r===s?zl(t,n):r-s};function k0(e,t){return u0(e,t)}function C0(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function E0(e,t){const n=C0(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function N0(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return E0(e,i)}const r=t.kind==="metric"?S0(t.key):t.key==="name"?zl:w0,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}let b0=0;const Xp=e=>`${e}-${++b0}`;function hs(e,t,n){const r=Jp(e,t);return{id:n??Xp("row"),fieldId:e,opId:r.defaultOperator,value:r.createValue(t)}}function Qs(e,t){return{id:t??Xp("group"),mode:e,rows:[]}}function j0(e,t){return Jp(e.fieldId,t).toClause(e)}function Bd(e,t){for(const n of sc(t)){const r=n.fromClause(e);if(r)return r}return null}function Jp(e,t){const n=sc(t).find(r=>r.id===e);if(!n)throw new Error(`Unknown field id: ${e}`);return n}function sc(e){const t=[{id:"<",label:"<"},{id:"<=",label:"<="},{id:">",label:">"},{id:">=",label:">="}];return[{id:"stars",label:"Stars",category:"Attributes",operators:[{id:"in",label:"is any of"},{id:"not_in",label:"is not"}],valueKind:"stars",defaultOperator:"in",createValue:()=>({kind:"stars",values:[]}),toClause:n=>{if(n.value.kind!=="stars")return null;const r=Hi(n.value.values);return r.length?n.opId==="not_in"?{starsNotIn:{values:r}}:{starsIn:{values:r}}:null},fromClause:n=>"stars"in n?{fieldId:"stars",opId:"in",value:{kind:"stars",values:Hi(n.stars)}}:"starsIn"in n?{fieldId:"stars",opId:"in",value:{kind:"stars",values:Hi(n.starsIn.values)}}:"starsNotIn"in n?{fieldId:"stars",opId:"not_in",value:{kind:"stars",values:Hi(n.starsNotIn.values)}}:null},{id:"filename",label:"Filename",category:"Attributes",operators:[{id:"contains",label:"contains"},{id:"not_contains",label:"does not contain"}],valueKind:"text",defaultOperator:"contains",createValue:()=>({kind:"text",value:""}),toClause:n=>{if(n.value.kind!=="text")return null;const r=Ao(n.value.value);return r?n.opId==="not_contains"?{nameNotContains:{value:r}}:{nameContains:{value:r}}:null},fromClause:n=>"nameContains"in n?{fieldId:"filename",opId:"contains",value:{kind:"text",value:n.nameContains.value}}:"nameNotContains"in n?{fieldId:"filename",opId:"not_contains",value:{kind:"text",value:n.nameNotContains.value}}:null},{id:"comments",label:"Comments",category:"Attributes",operators:[{id:"contains",label:"contains"},{id:"not_contains",label:"does not contain"}],valueKind:"text",defaultOperator:"contains",createValue:()=>({kind:"text",value:""}),toClause:n=>{if(n.value.kind!=="text")return null;const r=Ao(n.value.value);return r?n.opId==="not_contains"?{commentsNotContains:{value:r}}:{commentsContains:{value:r}}:null},fromClause:n=>"commentsContains"in n?{fieldId:"comments",opId:"contains",value:{kind:"text",value:n.commentsContains.value}}:"commentsNotContains"in n?{fieldId:"comments",opId:"not_contains",value:{kind:"text",value:n.commentsNotContains.value}}:null},{id:"url",label:"URL",category:"Attributes",operators:[{id:"contains",label:"contains"},{id:"not_contains",label:"does not contain"}],valueKind:"text",defaultOperator:"contains",createValue:()=>({kind:"text",value:""}),toClause:n=>{if(n.value.kind!=="text")return null;const r=Ao(n.value.value);return r?n.opId==="not_contains"?{urlNotContains:{value:r}}:{urlContains:{value:r}}:null},fromClause:n=>"urlContains"in n?{fieldId:"url",opId:"contains",value:{kind:"text",value:n.urlContains.value}}:"urlNotContains"in n?{fieldId:"url",opId:"not_contains",value:{kind:"text",value:n.urlNotContains.value}}:null},{id:"dateAdded",label:"Date added",category:"Date",operators:[{id:"between",label:"between"}],valueKind:"date",defaultOperator:"between",createValue:()=>({kind:"date",from:void 0,to:void 0}),toClause:n=>{if(n.value.kind!=="date")return null;const r=Wd(n.value.from),s=Wd(n.value.to);return!r&&!s?null:{dateRange:{...r?{from:r}:{},...s?{to:s}:{}}}},fromClause:n=>"dateRange"in n?{fieldId:"dateAdded",opId:"between",value:{kind:"date",from:n.dateRange.from,to:n.dateRange.to}}:null},{id:"width",label:"Width",category:"Dimensions",operators:t,valueKind:"compare",defaultOperator:">=",createValue:()=>({kind:"compare",value:void 0}),toClause:n=>{if(n.value.kind!=="compare")return null;const r=Vi(n.value.value);return r==null||!Qd(n.opId)?null:{widthCompare:{op:n.opId,value:r}}},fromClause:n=>"widthCompare"in n?{fieldId:"width",opId:n.widthCompare.op,value:{kind:"compare",value:n.widthCompare.value}}:null},{id:"height",label:"Height",category:"Dimensions",operators:t,valueKind:"compare",defaultOperator:">=",createValue:()=>({kind:"compare",value:void 0}),toClause:n=>{if(n.value.kind!=="compare")return null;const r=Vi(n.value.value);return r==null||!Qd(n.opId)?null:{heightCompare:{op:n.opId,value:r}}},fromClause:n=>"heightCompare"in n?{fieldId:"height",opId:n.heightCompare.op,value:{kind:"compare",value:n.heightCompare.value}}:null},{id:"metric",label:"Metric",category:"Metrics",operators:[{id:"between",label:"between"}],valueKind:"metric",defaultOperator:"between",createValue:()=>({kind:"metric",key:e[0]??"",min:void 0,max:void 0}),toClause:n=>{var l;if(n.value.kind!=="metric")return null;const r=((l=n.value.key)==null?void 0:l.trim())??"",s=Vi(n.value.min),i=Vi(n.value.max);return!r||s==null||i==null||s>i?null:{metricRange:{key:r,min:s,max:i}}},fromClause:n=>"metricRange"in n?{fieldId:"metric",opId:"between",value:{kind:"metric",key:n.metricRange.key,min:n.metricRange.min,max:n.metricRange.max}}:null,isDisabled:n=>n.length===0}]}function Ao(e){return e.trim()}function Wd(e){if(!e)return;const t=e.trim();return t||void 0}function Hi(e){const t=[];for(const n of e)!Number.isInteger(n)||n<0||n>5||t.includes(n)||t.push(n);return t}function Qd(e){return e==="<"||e==="<="||e===">"||e===">="}function Vi(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function Za({fields:e,metricKeys:t,onSelect:n,label:r="Add condition",buttonClassName:s="btn btn-sm"}){const[i,l]=k.useState(!1),[o,a]=k.useState(""),u=k.useMemo(()=>{const c=o.trim().toLowerCase();return c?e.filter(f=>f.label.toLowerCase().includes(c)):e},[e,o]),d=k.useMemo(()=>M0(u),[u]);return p.jsx(vy,{open:i,onOpenChange:c=>{l(c),c||a("")},panelClassName:"w-[260px] p-2",trigger:p.jsxs("button",{type:"button",className:s,children:["+ ",r]}),children:p.jsxs("div",{className:"space-y-2",children:[p.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",placeholder:"Search fields",value:o,onChange:c=>a(c.target.value)}),p.jsx("div",{className:"max-h-[220px] overflow-auto",children:d.length===0?p.jsx("div",{className:"text-xs text-muted px-2 py-2",children:"No matches."}):d.map(c=>p.jsxs("div",{className:"mb-1.5",children:[p.jsx("div",{className:"dropdown-label",children:c.label}),c.fields.map(f=>{var w;const x=((w=f.isDisabled)==null?void 0:w.call(f,t))??!1;return p.jsx("button",{className:`dropdown-item ${x?"opacity-50 cursor-not-allowed":""}`,disabled:x,onClick:()=>{x||(n(f.id),l(!1),a(""))},children:f.label},f.id)})]},c.label))})]})})}function M0(e){const t=new Map;for(const n of e){const r=t.get(n.category)??[];r.push(n),t.set(n.category,r)}return Array.from(t.entries()).map(([n,r])=>({label:n,fields:r}))}const R0=[5,4,3,2,1,0];function L0({row:e,field:t,fields:n,metricKeys:r,onChange:s,onRemove:i}){const l=I0(n),o=d=>{s(hs(d,r,e.id))},a=d=>{s({...e,opId:d})},u=()=>{switch(t.valueKind){case"text":{const d=e.value.kind==="text"?e.value.value:"";return p.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d,placeholder:"Value",onChange:c=>s({...e,value:{kind:"text",value:c.target.value}})})}case"stars":{const d=e.value.kind==="stars"?e.value.values:[],c=f=>{const x=new Set(d);x.has(f)?x.delete(f):x.add(f);const w=Array.from(x).sort((S,M)=>M-S);s({...e,value:{kind:"stars",values:w}})};return p.jsx("div",{className:"flex flex-wrap gap-1",children:R0.map(f=>{const x=d.includes(f);return p.jsx("button",{type:"button",className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${x?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>c(f),"aria-pressed":x,children:f===0?"None":`${f}`},`star-${e.id}-${f}`)})})}case"date":{const d=e.value.kind==="date"?e.value.from??"":"",c=e.value.kind==="date"?e.value.to??"":"";return p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d,onChange:f=>s({...e,value:{kind:"date",from:f.target.value||void 0,to:e.value.kind==="date"?e.value.to:void 0}})}),p.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:c,onChange:f=>s({...e,value:{kind:"date",from:e.value.kind==="date"?e.value.from:void 0,to:f.target.value||void 0}})})]})}case"compare":{const d=e.value.kind==="compare"?e.value.value:void 0;return p.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d??"",min:0,placeholder:"Value",onChange:c=>{const f=c.target.value;if(!f){s({...e,value:{kind:"compare",value:void 0}});return}const x=Number(f);Number.isFinite(x)&&s({...e,value:{kind:"compare",value:x}})}})}case"metric":{const d=e.value.kind==="metric"?e.value:{kind:"metric",key:r[0]??"",min:void 0,max:void 0};return p.jsxs("div",{className:"flex flex-col gap-2",children:[r.length>0?p.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d.key,onChange:c=>s({...e,value:{...d,key:c.target.value}}),children:r.map(c=>p.jsx("option",{value:c,children:c},c))}):p.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d.key,placeholder:"Metric key",onChange:c=>s({...e,value:{...d,key:c.target.value}})}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d.min??"",placeholder:"Min",onChange:c=>{const f=c.target.value,x=f?Number(f):void 0;f&&!Number.isFinite(x)||s({...e,value:{...d,min:x}})}}),p.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:d.max??"",placeholder:"Max",onChange:c=>{const f=c.target.value,x=f?Number(f):void 0;f&&!Number.isFinite(x)||s({...e,value:{...d,max:x}})}})]})]})}default:return null}};return p.jsxs("div",{className:"grid grid-cols-[170px_140px_1fr_auto] gap-2 items-start",children:[p.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:e.fieldId,onChange:d=>o(d.target.value),children:l.map(d=>p.jsx("optgroup",{label:d.label,children:d.fields.map(c=>{var f;return p.jsx("option",{value:c.id,disabled:((f=c.isDisabled)==null?void 0:f.call(c,r))&&c.id!==e.fieldId,children:c.label},c.id)})},d.label))}),p.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:e.opId,onChange:d=>a(d.target.value),disabled:t.operators.length<=1,children:t.operators.map(d=>p.jsx("option",{value:d.id,children:d.label},`${e.id}-${d.id}`))}),p.jsx("div",{className:"min-w-0",children:u()}),p.jsx("button",{type:"button",className:"btn btn-icon h-8 w-8",onClick:i,"aria-label":"Remove condition",title:"Remove",children:""})]})}function I0(e){const t=new Map;for(const n of e){const r=t.get(n.category)??[];r.push(n),t.set(n.category,r)}return Array.from(t.entries()).map(([n,r])=>({label:n,fields:r}))}function O0({group:e,index:t,totalGroups:n,fields:r,metricKeys:s,onChange:i,onRemove:l}){const o=c=>{i({...e,mode:c})},a=c=>{i({...e,rows:[...e.rows,hs(c,s)]})},u=(c,f)=>{i({...e,rows:e.rows.map(x=>x.id===c?f:x)})},d=c=>{i({...e,rows:e.rows.filter(f=>f.id!==c)})};return p.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3 space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"text-xs uppercase tracking-wide text-muted",children:["Group ",t+1,n>1?" (AND)":""]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("select",{className:"h-7 rounded-lg px-2 border border-border bg-surface text-text text-xs",value:e.mode,onChange:c=>o(c.target.value),children:[p.jsx("option",{value:"all",children:"All"}),p.jsx("option",{value:"any",children:"Any"})]}),n>1&&l&&p.jsx("button",{type:"button",className:"btn btn-sm",onClick:l,children:"Remove group"})]})]}),p.jsx("div",{className:"space-y-2",children:e.rows.map(c=>{const f=r.find(x=>x.id===c.fieldId)??r[0];return p.jsx(L0,{row:c,field:f,fields:r,metricKeys:s,onChange:x=>u(c.id,x),onRemove:()=>d(c.id)},c.id)})}),p.jsx(Za,{fields:r,metricKeys:s,onSelect:a,label:"Add condition",buttonClassName:"btn btn-sm"})]})}function T0({filters:e,metricKeys:t,onChange:n,onReset:r,resultCount:s}){var v;const i=k.useMemo(()=>sc(t),[t]),[l,o]=k.useState(()=>Hd(e,t)),a=k.useRef(""),u=k.useMemo(()=>JSON.stringify(e),[e]);k.useEffect(()=>{a.current!==u&&o(Hd(e,t))},[u,t]);const d=m=>{o(m);const h=P0(m),g=JSON.stringify(h);g!==u&&(a.current=g,n(h))},c=l.reduce((m,h)=>m+h.rows.length,0),f=((v=l[0])==null?void 0:v.mode)??"all",x=m=>{if(!l.length){d([Qs(m)]);return}d(l.map(h=>({...h,mode:m})))},w=()=>{d([...l,Qs(f)])},S=m=>{if(!l.length){const C=Qs(f);C.rows.push(hs(m,t)),d([C]);return}const h=[...l],g={...h[h.length-1]};g.rows=[...g.rows,hs(m,t)],h[h.length-1]=g,d(h)},M=()=>{r==null||r(),r||n({all:[]}),o([]),a.current=JSON.stringify({all:[]})};return p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs uppercase tracking-wide text-muted",children:"Match"}),p.jsxs("select",{className:"h-8 rounded-lg px-2 border border-border bg-surface text-text text-xs",value:f,onChange:m=>x(m.target.value),children:[p.jsx("option",{value:"all",children:"All conditions"}),p.jsx("option",{value:"any",children:"Any condition"})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("button",{type:"button",className:"btn btn-sm",onClick:M,disabled:l.length===0,children:"Reset"})})]}),c===0?p.jsxs("div",{className:"rounded-xl border border-dashed border-border bg-panel/50 p-4 text-center space-y-3",children:[p.jsx("div",{className:"text-sm text-muted",children:"No filters yet."}),p.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[p.jsx(Za,{fields:i,metricKeys:t,onSelect:S,label:"Add condition"}),p.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>S("stars"),children:"Stars"}),p.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>S("filename"),children:"Filename"}),p.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>S("dateAdded"),children:"Date"}),p.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>S("metric"),disabled:t.length===0,children:"Metric"})]})]}):p.jsxs("div",{className:"space-y-3",children:[l.map((m,h)=>p.jsx(O0,{group:m,index:h,totalGroups:l.length,fields:i,metricKeys:t,onChange:g=>{const C=l.map(E=>E.id===m.id?g:E);d(C)},onRemove:l.length>1?()=>d(l.filter(g=>g.id!==m.id)):void 0},m.id)),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Za,{fields:i,metricKeys:t,onSelect:S,label:"Add condition"}),p.jsx("button",{type:"button",className:"btn btn-sm",onClick:w,children:"Add group"})]})]}),typeof s=="number"&&p.jsxs("div",{className:"text-xs text-muted",children:["Found ",s," item",s===1?"":"s"]})]})}function Hd(e,t){const n=eu(e)?"all":"any",r=Vd(e);if(!r.length)return[];if(n==="all"&&r.every(o=>$o(o)))return r.map(o=>{const a=o,u=eu(a)?"all":"any",c=Vd(a).filter(f=>!$o(f)).map(f=>Bd(f,t)).filter(f=>!!f).map(f=>({...hs(f.fieldId,t),opId:f.opId,value:f.value}));return{...Qs(u),rows:c}});const l=r.filter(o=>!$o(o)).map(o=>Bd(o,t)).filter(o=>!!o).map(o=>({...hs(o.fieldId,t),opId:o.opId,value:o.value}));return l.length?[{...Qs(n),rows:l}]:[]}function P0(e){if(!e.length)return{all:[]};const t=e.map(n=>{const r=n.rows.map(s=>j0(s,metricKeys)).filter(s=>!!s);return r.length?n.mode==="all"?{all:r}:{any:r}:null}).filter(n=>!!n);return t.length?t.length===1?t[0]:{all:t}:{all:[]}}function $o(e){return typeof e=="object"&&e!=null&&("all"in e||"any"in e)}function eu(e){return"all"in e}function Vd(e){return eu(e)?e.all:e.any}const Hs=40;function F0({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:l,onChangeFilters:o,onClearFilters:a}){const u=r&&n.includes(r)?r:n[0],d=k.useMemo(()=>u?Kd(e,u,Hs):null,[e,u]),c=k.useMemo(()=>u&&d?Kd(t,u,Hs,d):null,[t,u,d]),f=u?h0(i,u):null,[x,w]=k.useState(null),[S,M]=k.useState(!1),v=k.useRef(null),m=x??f,h=d?{min:d.min,max:d.max}:null,g=(N,L)=>{var Q;if(!h||!u)return;const R=(Q=v.current)==null?void 0:Q.getBoundingClientRect();if(!R)return;const P=Zp((N.clientX-R.left)/R.width),U=h.min+(h.max-h.min)*P;w(B=>{const je=(B==null?void 0:B.min)??U,he=z0(je,U);return L&&l(u,he),he})},C=N=>{var L;!h||!u||(N.preventDefault(),M(!0),w(null),(L=v.current)==null||L.setPointerCapture(N.pointerId),g(N,!1))},E=N=>{S&&g(N,!1)},b=N=>{var L;S&&(M(!1),(L=v.current)==null||L.releasePointerCapture(N.pointerId),g(N,!0),setTimeout(()=>w(null),0))};return p.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),p.jsx(T0,{filters:i,metricKeys:n,onChange:o,onReset:a,resultCount:t.length})]}),n.length?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),p.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:u,onChange:N=>s(N.target.value),children:n.map(N=>p.jsx("option",{value:N,children:N},N))})]}),d?p.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[p.jsxs("span",{children:["Population: ",d.count]}),p.jsxs("span",{children:["Filtered: ",(c==null?void 0:c.count)??0]})]}),p.jsxs("svg",{ref:v,viewBox:`0 0 ${Hs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:C,onPointerMove:E,onPointerUp:b,children:[Gd(d.bins,"#2e3a4b"),c&&Gd(c.bins,"#3a8fff"),m&&h&&_0(m,h)]}),p.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[p.jsx("span",{children:Ki(h==null?void 0:h.min)}),m?p.jsxs("span",{className:"text-text",children:[Ki(m.min),"  ",Ki(m.max)]}):p.jsx("span",{children:"Drag to filter"}),p.jsx("span",{children:Ki(h==null?void 0:h.max)})]}),p.jsx("div",{className:"flex items-center gap-2 mt-2",children:p.jsx("button",{className:"btn btn-sm",onClick:()=>u&&l(u,null),children:"Clear"})})]}):p.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):p.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function Kd(e,t,n,r){var u;const s=[];for(const d of e){const c=(u=d.metrics)==null?void 0:u[t];c==null||Number.isNaN(c)||s.push(c)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let l=r?r.max:Math.max(...s);i===l&&(l=i+1);const o=new Array(n).fill(0),a=n/(l-i);for(const d of s){const c=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));o[c]+=1}return{bins:o,min:i,max:l,count:s.length}}function Gd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return p.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function _0(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Hs*Zp(Math.min(n,r)),i=Hs*Math.abs(r-n);return p.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function z0(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function Zp(e){return e<0?0:e>1?1:e}function Ki(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function D0(e){const[t,n]=k.useState(250),[r,s]=k.useState(240),i=k.useRef(t),l=k.useRef(r);return k.useEffect(()=>{i.current=t},[t]),k.useEffect(()=>{l.current=r},[r]),k.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const c=Number(u.getItem("rightW"));Number.isFinite(c)&&c>0&&s(c)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const c=d.getBoundingClientRect(),f=w=>{const S=w.clientX-c.left,M=200,v=Math.max(M,c.width-l.current-200),m=Math.min(Math.max(S,M),v);n(m)},x=()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",f),window.addEventListener("mouseup",x)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const c=d.getBoundingClientRect(),f=w=>{const S=w.clientX-c.left,M=c.width-S,v=240,m=Math.max(v,c.width-i.current-200),h=Math.min(Math.max(M,v),m);s(h)},x=()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("rightW",String(l.current))}catch{}};window.addEventListener("mousemove",f),window.addEventListener("mouseup",x)}}}function A0({x:e,y:t,items:n}){return p.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>p.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&p.jsx("span",{className:"shrink-0",children:r.icon}),p.jsx("span",{children:r.label})]},s))})}function qd(e){return JSON.stringify(e,null,2)}function Yd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),l=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,l].map(o=>t(String(o))).join(",")});return[n,...r].join(`
`)}function Uo(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function $0(e,t=250){const[n,r]=cl.useState(e);return cl.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Ne={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function U0(){var lc;const[e,t]=k.useState("/"),[n,r]=k.useState(""),[s,i]=k.useState([]),[l,o]=k.useState(null),[a,u]=k.useState(0),[d,c]=k.useState(null),[f,x]=k.useState(100),[w,S]=k.useState(()=>({filters:{all:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[M,v]=k.useState(()=>Date.now()),[m,h]=k.useState("adaptive"),[g,C]=k.useState(220),[E,b]=k.useState(!0),[N,L]=k.useState(!0),[R,P]=k.useState("folders"),[U,Q]=k.useState([]),[B,je]=k.useState(null),[Pe,he]=k.useState({}),F=k.useRef(null),D=k.useRef(null),V=k.useRef(!1),ue=k.useRef(null),{leftW:ce,rightW:Lt,onResizeLeft:Ue,onResizeRight:Jt}=D0(F),[Be,We]=k.useState(!1),[z,G]=k.useState(null);k.useEffect(()=>{const j=Kr(Id());t(j);const T=()=>{const W=Kr(Id());o(null),t(Z=>Z===W?Z:(u(se=>se+1),W))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:I,refetch:K,isLoading:q,isError:te}=zp(e),X=n.trim().length>0,ie=$0(n,250),$=k.useMemo(()=>ie.trim().replace(/\s+/g," "),[ie]),ke=i0(X?$:"",e);k.useMemo(()=>zd(w.filters),[w.filters]);const de=k.useMemo(()=>{var T;return(X?((T=ke.data)==null?void 0:T.items)??[]:(I==null?void 0:I.items)??[]).map(W=>({...W,star:Pe[W.path]!==void 0?Pe[W.path]:W.star}))},[X,ke.data,I,Pe]),ve=k.useMemo(()=>{const j=k0(de,w.filters);return N0(j,w.sort,M)},[de,w.filters,w.sort,M]),ye=k.useMemo(()=>ve.map(j=>j.path),[ve]),Qe=k.useMemo(()=>{const j=new Set;let T=0;for(const W of de){const Z=W.metrics;if(Z)for(const se of Object.keys(Z))j.add(se);if(T+=1,T>=250&&j.size>0)break}return Array.from(j).sort()},[de]);k.useEffect(()=>{Qe.length&&S(j=>{const T=j.selectedMetric&&Qe.includes(j.selectedMetric)?j.selectedMetric:Qe[0];return T===j.selectedMetric?j:{...j,selectedMetric:T}})},[Qe]),k.useEffect(()=>{w.sort.kind==="metric"&&(Qe.includes(w.sort.key)||S(j=>({...j,sort:{kind:"builtin",key:"added",dir:j.sort.dir}})))},[Qe,w.sort]);const Zt=k.useMemo(()=>m0(w.filters),[w.filters]),re=k.useCallback(j=>{S(T=>({...T,filters:j(T.filters)}))},[]),Me=k.useCallback(j=>{S(T=>({...T,filters:j}))},[]),Je=k.useCallback(()=>{S(j=>({...j,filters:{all:[]}}))},[]),Yn=k.useCallback((j,T)=>{re(W=>p0(W,j,T))},[re]),He=k.useMemo(()=>{const j=[];return eo(w.filters,(T,W)=>{const Z=Q0(T);if(!Z)return;const se=[...W];j.push({id:`${W.join("-")}-${Z}`,label:Z,onRemove:()=>re(It=>g0(It,se))})}),j},[w.filters,re]),lt=k.useCallback(()=>{b(!0),P("metrics")},[]),Bt=k.useCallback(j=>{S(T=>({...T,sort:j})),j.kind==="builtin"&&j.key==="random"&&v(Date.now())},[]),Wt=k.useCallback(j=>{if(j==="/"||j==="")return"Lenslet | Root";const T=j.split("/").filter(Boolean);if(!T.length)return"Lenslet";const W=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${W}`:`/${W}`}`},[]);k.useEffect(()=>{document.title=Wt(e)},[e,Wt]),k.useEffect(()=>{let j=!0;return oe.getViews().then(T=>{j&&Q(T.views||[])}).catch(()=>{j&&Q([])}),()=>{j=!1}},[]),k.useEffect(()=>{X&&(i([]),o(null))},[X]),k.useEffect(()=>{try{const j=localStorage.getItem(Ne.sortKey),T=localStorage.getItem(Ne.sortDir),W=localStorage.getItem(Ne.sortSpec),Z=localStorage.getItem(Ne.starFilters),se=localStorage.getItem(Ne.filterAst),It=localStorage.getItem(Ne.selectedMetric),Ci=localStorage.getItem(Ne.viewMode),ys=localStorage.getItem(Ne.gridItemSize),xs=localStorage.getItem(Ne.leftOpen),ws=localStorage.getItem(Ne.rightOpen),ac=(Ve=>{if(!Ve)return null;const Le=Fo(Ve);return!Le||typeof Le!="object"?null:Le.kind==="builtin"&&(Le.key==="name"||Le.key==="added"||Le.key==="random")&&(Le.dir==="asc"||Le.dir==="desc")||Le.kind==="metric"&&typeof Le.key=="string"&&Le.key.length>0&&(Le.dir==="asc"||Le.dir==="desc")?Le:null})(W)??{kind:"builtin",key:j==="name"||j==="added"||j==="random"?j:"added",dir:T==="asc"||T==="desc"?T:"desc"};ac.key==="random"&&v(Date.now());let so=(Ve=>{if(!Ve)return null;const Le=Fo(Ve);return Xa(Le)})(se)??{all:[]};if(Z){const Ve=Fo(Z);if(Array.isArray(Ve)){const Le=Ve.filter(sm=>[0,1,2,3,4,5].includes(sm));so=d0(so,Le)}}if(S(Ve=>({...Ve,sort:ac,filters:so,selectedMetric:It||Ve.selectedMetric})),(Ci==="grid"||Ci==="adaptive")&&h(Ci),ys){const Ve=Number(ys);!isNaN(Ve)&&Ve>=80&&Ve<=500&&C(Ve)}(xs==="0"||xs==="false")&&b(!1),(ws==="0"||ws==="false")&&L(!1)}catch{}},[]),k.useEffect(()=>{try{localStorage.setItem(Ne.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Ne.sortDir,w.sort.dir),localStorage.setItem(Ne.sortSpec,JSON.stringify(w.sort));const j=zd(w.filters);localStorage.setItem(Ne.starFilters,JSON.stringify(j)),localStorage.setItem(Ne.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Ne.selectedMetric,w.selectedMetric):localStorage.removeItem(Ne.selectedMetric),localStorage.setItem(Ne.viewMode,m),localStorage.setItem(Ne.gridItemSize,String(g)),localStorage.setItem(Ne.leftOpen,E?"1":"0"),localStorage.setItem(Ne.rightOpen,N?"1":"0")}catch{}},[w,m,g,E,N]),k.useEffect(()=>{const j=D.current;if(!j)return;const T=Z=>Math.min(500,Math.max(80,Z)),W=Z=>{Z.ctrlKey&&(Z.preventDefault(),C(se=>T(se+(Z.deltaY<0?20:-20))))};return j.addEventListener("wheel",W,{passive:!1}),()=>j.removeEventListener("wheel",W)},[]),k.useEffect(()=>{if(!l)return;const j=ye.indexOf(l);if(j===-1)return;const T=[ye[j-2],ye[j-1],ye[j+1],ye[j+2]].filter(W=>!!W);for(const W of T)oe.prefetchFile(W),oe.prefetchThumb(W)},[l,ye]),k.useEffect(()=>{var T;if(!((T=I==null?void 0:I.items)!=null&&T.length))return;const j=I.items.slice(0,5);for(const W of j)oe.prefetchFile(W.path)},[I==null?void 0:I.path,I==null?void 0:I.items]);const pt=k.useCallback(j=>{o(null);const T=Kr(j);t(T),Ny(T)},[]),Si=k.useCallback(async()=>{const j=window.prompt("Save Smart Folder as:","New Smart Folder");if(!j)return;const T=B0(j,U),W={id:T,name:j,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},Z=[...U.filter(se=>se.id!==T),W];Q(Z),je(T);try{await oe.saveViews({version:1,views:Z})}catch(se){if(se instanceof Dt&&se.status===403){const It=new Blob([JSON.stringify({version:1,views:Z},null,2)],{type:"application/json"});ul(It,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",se)}},[e,w,U]);k.useEffect(()=>{if(!B)return;const j=U.find(Z=>Z.id===B);if(!j){je(null);return}const T=j.pool.path===e,W=JSON.stringify(j.view)===JSON.stringify(w);(!T||!W)&&je(null)},[B,U,e,w]);const Cr=k.useCallback(j=>{o(j),V.current||(window.history.pushState({viewer:!0},"",window.location.href),V.current=!0)},[]),ki=k.useCallback(()=>{o(null),V.current&&(V.current=!1,window.history.back());const j=ue.current;if(j){const T=document.getElementById(`cell-${encodeURIComponent(j)}`);T==null||T.focus()}},[]);k.useEffect(()=>{const j=()=>{l&&(V.current=!1,o(null))};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[l]),k.useEffect(()=>{const j=F.current;if(!j)return;const T=se=>{se.dataTransfer&&Array.from(se.dataTransfer.types).includes("Files")&&(se.preventDefault(),We(!0))},W=se=>{const It=se.relatedTarget;It&&j.contains(It)||We(!1)},Z=async se=>{var ys,xs;se.preventDefault(),We(!1);const It=Array.from(((ys=se.dataTransfer)==null?void 0:ys.files)??[]);if(!It.length)return;if(!((((xs=I==null?void 0:I.dirs)==null?void 0:xs.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ws of It)try{await oe.uploadFile(e,ws)}catch(oc){console.error(`Failed to upload ${ws.name}:`,oc)}K()};return j.addEventListener("dragover",T),j.addEventListener("dragleave",W),j.addEventListener("drop",Z),()=>{j.removeEventListener("dragover",T),j.removeEventListener("dragleave",W),j.removeEventListener("drop",Z)}},[e,(lc=I==null?void 0:I.dirs)==null?void 0:lc.length,K]),k.useEffect(()=>{const j=()=>G(null),T=W=>{W.key==="Escape"&&G(null)};return window.addEventListener("click",j),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",j),window.removeEventListener("keydown",T)}},[]),k.useEffect(()=>{const j=T=>{if(!Bp(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?L(W=>!W):b(W=>!W);return}if(!l){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),pt(jy(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(ve.map(W=>W.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const W=document.querySelector(".toolbar-right .input");W==null||W.focus()}}}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,ve,s,l,pt]);const em=E?`${ce}px`:"0px",tm=N?`${Lt}px`:"0px",ic=l??s[0]??null,no=ic?ye.indexOf(ic):-1,nm=no>0,rm=no>=0&&no<ye.length-1,ro=k.useCallback(j=>{if(!ye.length)return;const T=l??s[0];if(!T)return;const W=ye.indexOf(T);if(W===-1)return;const Z=Math.min(ye.length-1,Math.max(0,W+j)),se=ye[Z];!se||se===T||(l&&o(se),i([se]))},[ye,l,s]);return p.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:F,style:{"--left":em,"--right":tm},children:[p.jsx(yy,{onSearch:r,viewerActive:!!l,onBack:ki,zoomPercent:l?f:void 0,onZoomPercentChange:j=>c(j),sortSpec:w.sort,metricKeys:Qe,onSortChange:Bt,filterCount:Zt,onOpenFilters:lt,viewMode:m,onViewMode:h,gridItemSize:g,onGridItemSize:C,leftOpen:E,rightOpen:N,onToggleLeft:()=>b(j=>!j),onToggleRight:()=>L(j=>!j),onPrevImage:()=>ro(-1),onNextImage:()=>ro(1),canPrevImage:nm,canNextImage:rm}),E&&p.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[p.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${R==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":R==="folders",onClick:()=>P("folders"),children:p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:p.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),p.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${R==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":R==="metrics",onClick:()=>P("metrics"),children:p.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[p.jsx("path",{d:"M4 19V9"}),p.jsx("path",{d:"M10 19V5"}),p.jsx("path",{d:"M16 19v-7"}),p.jsx("path",{d:"M3 19h18"})]})})]}),p.jsx("div",{className:"ml-10 h-full",children:R==="folders"?p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),p.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:Si,title:"Save current view as Smart Folder",children:"+ New"})]}),U.length?p.jsx("div",{className:"flex flex-col gap-1",children:U.map(j=>{const T=j.id===B;return p.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var Z;je(j.id);const W=Xa((Z=j.view)==null?void 0:Z.filters)??{all:[]};S({...j.view,filters:W}),pt(j.pool.path),P("metrics")},children:j.name},j.id)})}):p.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),p.jsx(Ry,{current:e,roots:[{label:"Root",path:"/"}],data:I,onOpen:j=>{je(null),pt(j)},onContextMenu:(j,T)=>{j.preventDefault(),G({x:j.clientX,y:j.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):p.jsx(F0,{items:de,filteredItems:ve,metricKeys:Qe,selectedMetric:w.selectedMetric,onSelectMetric:j=>S(T=>({...T,selectedMetric:j})),filters:w.filters,onChangeRange:Yn,onChangeFilters:Me,onClearFilters:Je})}),p.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:Ue})]}),p.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:D,children:[p.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),He.length>0&&p.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:He.map(j=>p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[p.jsx("span",{children:j.label}),p.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${j.label}`,onClick:j.onRemove,children:""})]},j.id))})}),!1,p.jsx("div",{className:"flex-1 min-h-0",children:p.jsx(Gy,{items:ve,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:j=>{try{ue.current=j}catch{}Cr(j),i([j])},highlight:X?$:"",suppressSelectionHighlight:!!l,viewMode:m,targetCellSize:g,onContextMenuItem:(j,T)=>{j.preventDefault();const W=s.length?s:[T];G({x:j.clientX,y:j.clientY,kind:"grid",payload:{paths:W}})}})})]}),N&&p.jsx(r0,{path:s[0]??null,selectedPaths:s,items:ve,onResize:Jt,onStarChanged:(j,T)=>{he(W=>{const Z={...W};for(const se of j)Z[se]=T;return Z})}}),l&&p.jsx(Yy,{path:l,onClose:ki,onZoomChange:j=>x(Math.round(j)),requestedZoomPercent:d,onZoomRequestConsumed:()=>c(null),onNavigate:ro}),Be&&p.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),z&&p.jsx(K0,{ctx:z,current:e,items:ve,refetch:K,setCtx:G})]})}function B0(e,t){const n=W0(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function W0(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Q0(e){var t,n,r,s,i,l;if("stars"in e){const o=e.stars||[];return o.length?`Rating in: ${Bo(o)}`:null}if("starsIn"in e){const o=e.starsIn.values||[];return o.length?`Rating in: ${Bo(o)}`:null}if("starsNotIn"in e){const o=e.starsNotIn.values||[];return o.length?`Rating not in: ${Bo(o)}`:null}if("nameContains"in e){const o=(t=e.nameContains.value)==null?void 0:t.trim();return o?`Filename contains: ${o}`:null}if("nameNotContains"in e){const o=(n=e.nameNotContains.value)==null?void 0:n.trim();return o?`Filename does not contain: ${o}`:null}if("commentsContains"in e){const o=(r=e.commentsContains.value)==null?void 0:r.trim();return o?`Comments contain: ${o}`:null}if("commentsNotContains"in e){const o=(s=e.commentsNotContains.value)==null?void 0:s.trim();return o?`Comments do not contain: ${o}`:null}if("urlContains"in e){const o=(i=e.urlContains.value)==null?void 0:i.trim();return o?`URL contains: ${o}`:null}if("urlNotContains"in e){const o=(l=e.urlNotContains.value)==null?void 0:l.trim();return o?`URL does not contain: ${o}`:null}if("dateRange"in e){const{from:o,to:a}=e.dateRange;return!o&&!a?null:`Date added: ${H0(o,a)}`}if("widthCompare"in e){const{op:o,value:a}=e.widthCompare;return`Width ${o} ${a}`}if("heightCompare"in e){const{op:o,value:a}=e.heightCompare;return`Height ${o} ${a}`}if("metricRange"in e){const{key:o,min:a,max:u}=e.metricRange;return`${o}: ${V0(a,u)}`}return null}function Bo(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function H0(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function V0(e,t){return`${Xd(e)}${Xd(t)}`}function Xd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function ul(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function K0({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=My(t),l=(h,g)=>h==="/"?`/${g}`:`${h}/${g}`,o=wi(),[a,u]=cl.useState(!1),[d,c]=cl.useState(null),f=()=>new Date().toISOString().replace(/[:.]/g,"-"),x=h=>{const g=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);o.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const E=typeof C[1]=="string"?C[1]:"";return g(E)}})},w=h=>{const g=Kr(h);return g===""?"/":g},S=async()=>{const h=w(e.payload.path||"/");u(!0);try{await oe.refreshFolder(h),x(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),qa.evictPrefix(h),Mr.evictPrefix(h)}catch(g){console.error("Failed to refresh folder:",g)}finally{u(!1),s(null)}},M=async h=>{const g=[h],C=new Set,E=[];for(;g.length;){const b=g.pop();if(!C.has(b)){C.add(b);try{const N=await oe.getFolder(b);E.push(...N.items);for(const L of N.dirs)L.kind==="branch"&&g.push(l(b,L.name))}catch(N){console.error(`Failed to fetch folder ${b}:`,N)}}}return E},v=h=>async()=>{c(h);const g=e.payload.path||t;try{const C=await M(g),E=Uo(C),b=h==="csv"?Yd(E):qd(E),N=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",L=g==="/"?"root":(g.replace(/^\/+/,"")||"root").replace(/\//g,"_");ul(new Blob([b],{type:N}),`metadata_${L}_${f()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{c(null),s(null)}},m=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:S},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:v("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:v("json")}]:(()=>{const h=e.payload.paths??[],g=[];return g.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await oe.moveFile(C,"/_trash_")}catch(E){console.error(`Failed to trash ${C}:`,E)}r(),s(null)}}}),i&&(g.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await oe.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),g.push({label:"Recover",onClick:async()=>{for(const C of h)try{const b=(await oe.getSidecar(C)).original_position,N=b&&b.split("/").slice(0,-1).join("/")||"/";await oe.moveFile(C,N)}catch(E){console.error(`Failed to recover ${C}:`,E)}r(),s(null)}})),h.length&&(g.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{c("csv");try{const C=new Set(h),E=n.filter(L=>C.has(L.path)),b=Uo(E),N=Yd(b);ul(new Blob([N],{type:"text/csv;charset=utf-8"}),`metadata_selection_${f()}.csv`)}finally{c(null),s(null)}}}),g.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{c("json");try{const C=new Set(h),E=n.filter(L=>C.has(L.path)),b=Uo(E),N=qd(b);ul(new Blob([N],{type:"application/json;charset=utf-8"}),`metadata_selection_${f()}.json`)}finally{c(null),s(null)}}})),g})();return p.jsx(A0,{x:e.x,y:e.y,items:m})}const G0=new ny({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function q0(){return p.jsx(ry,{client:G0,children:p.jsx(U0,{})})}kp(document.getElementById("root")).render(p.jsx(q0,{}));
