var om=Object.defineProperty;var nc=e=>{throw TypeError(e)};var lm=(e,t,n)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jr=(e,t,n)=>lm(e,typeof t!="symbol"?t+"":t,n),tl=(e,t,n)=>t.has(e)||nc("Cannot "+n);var y=(e,t,n)=>(tl(e,t,"read from private field"),n?n.call(e):t.get(e)),W=(e,t,n)=>t.has(e)?nc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(tl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Z=(e,t,n)=>(tl(e,t,"access private method"),n);var Si=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var of={exports:{}},_o={},lf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),um=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),pm=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),vm=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),rc=Symbol.iterator;function xm(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uf=Object.assign,cf={};function ps(e,t,n){this.props=e,this.context=t,this.refs=cf,this.updater=n||af}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function df(){}df.prototype=ps.prototype;function Ga(e,t,n){this.props=e,this.context=t,this.refs=cf,this.updater=n||af}var Ya=Ga.prototype=new df;Ya.constructor=Ga;uf(Ya,ps.prototype);Ya.isPureReactComponent=!0;var sc=Array.isArray,ff=Object.prototype.hasOwnProperty,Xa={current:null},hf={key:!0,ref:!0,__self:!0,__source:!0};function pf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ff.call(t,r)&&!hf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hi,type:e,key:i,ref:o,props:s,_owner:Xa.current}}function wm(e,t){return{$$typeof:hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ja(e){return typeof e=="object"&&e!==null&&e.$$typeof===hi}function Sm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ic=/\/+/g;function nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sm(""+e.key):t.toString(36)}function Wi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hi:case um:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+nl(o,0):r,sc(s)?(n="",e!=null&&(n=e.replace(ic,"$&/")+"/"),Wi(s,t,n,"",function(u){return u})):s!=null&&(Ja(s)&&(s=wm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ic,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",sc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+nl(i,l);o+=Wi(i,t,n,a,s)}else if(a=xm(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+nl(i,l++),o+=Wi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(e,t,n){if(e==null)return e;var r=[],s=0;return Wi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function km(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Qi={transition:null},Cm={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Xa};function mf(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ki,forEach:function(e,t,n){ki(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ki(e,function(){t++}),t},toArray:function(e){return ki(e,function(t){return t})||[]},only:function(e){if(!Ja(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=ps;re.Fragment=cm;re.Profiler=fm;re.PureComponent=Ga;re.StrictMode=dm;re.Suspense=gm;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm;re.act=mf;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Xa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ff.call(t,a)&&!hf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hi,type:e.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(e){return e={$$typeof:pm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hm,_context:e},e.Consumer=e};re.createElement=pf;re.createFactory=function(e){var t=pf.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:mm,render:e}};re.isValidElement=Ja;re.lazy=function(e){return{$$typeof:ym,_payload:{_status:-1,_result:e},_init:km}};re.memo=function(e,t){return{$$typeof:vm,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};re.unstable_act=mf;re.useCallback=function(e,t){return it.current.useCallback(e,t)};re.useContext=function(e){return it.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return it.current.useDeferredValue(e)};re.useEffect=function(e,t){return it.current.useEffect(e,t)};re.useId=function(){return it.current.useId()};re.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return it.current.useMemo(e,t)};re.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};re.useRef=function(e){return it.current.useRef(e)};re.useState=function(e){return it.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return it.current.useTransition()};re.version="18.3.1";lf.exports=re;var x=lf.exports;const oo=am(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=x,Nm=Symbol.for("react.element"),jm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,Mm=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function gf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)bm.call(t,r)&&!Rm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Nm,type:e,key:i,ref:o,props:s,_owner:Mm.current}}_o.Fragment=jm;_o.jsx=gf;_o.jsxs=gf;of.exports=_o;var c=of.exports,vf={exports:{}},yt={},yf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var B=I.length;I.push(H);e:for(;0<B;){var ae=B-1>>>1,ee=I[ae];if(0<s(ee,H))I[ae]=H,I[B]=ee,B=ae;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],B=I.pop();if(B!==H){I[0]=B;e:for(var ae=0,ee=I.length,Ve=ee>>>1;ae<Ve;){var Ae=2*(ae+1)-1,wt=I[Ae],te=Ae+1,Oe=I[te];if(0>s(wt,B))te<ee&&0>s(Oe,wt)?(I[ae]=Oe,I[te]=B,ae=te):(I[ae]=wt,I[Ae]=B,ae=Ae);else if(te<ee&&0>s(Oe,B))I[ae]=Oe,I[te]=B,ae=te;else break e}}return H}function s(I,H){var B=I.sortIndex-H.sortIndex;return B!==0?B:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,v=3,S=!1,w=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(I){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=I)r(u),H.sortIndex=H.expirationTime,t(a,H);else break;H=n(u)}}function m(I){if(E=!1,h(I),!w)if(n(a)!==null)w=!0,de(C);else{var H=n(u);H!==null&&De(m,H.startTime-I)}}function C(I,H){w=!1,E&&(E=!1,g(M),M=-1),S=!0;var B=v;try{for(h(H),f=n(a);f!==null&&(!(f.expirationTime>H)||I&&!D());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,v=f.priorityLevel;var ee=ae(f.expirationTime<=H);H=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(a)&&r(a),h(H)}else r(a);f=n(a)}if(f!==null)var Ve=!0;else{var Ae=n(u);Ae!==null&&De(m,Ae.startTime-H),Ve=!1}return Ve}finally{f=null,v=B,S=!1}}var j=!1,L=null,M=-1,F=5,k=-1;function D(){return!(e.unstable_now()-k<F)}function V(){if(L!==null){var I=e.unstable_now();k=I;var H=!0;try{H=L(!0,I)}finally{H?J():(j=!1,L=null)}}else j=!1}var J;if(typeof p=="function")J=function(){p(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,se=K.port2;K.port1.onmessage=V,J=function(){se.postMessage(null)}}else J=function(){R(V,0)};function de(I){L=I,j||(j=!0,J())}function De(I,H){M=R(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,de(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var B=v;v=H;try{return I()}finally{v=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=v;v=I;try{return H()}finally{v=B}},e.unstable_scheduleCallback=function(I,H,B){var ae=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ae+B:ae):B=ae,I){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,I={id:d++,callback:H,priorityLevel:I,startTime:B,expirationTime:ee,sortIndex:-1},B>ae?(I.sortIndex=B,t(u,I),n(a)===null&&I===n(u)&&(E?(g(M),M=-1):E=!0,De(m,B-ae))):(I.sortIndex=ee,t(a,I),w||S||(w=!0,de(C))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var H=v;return function(){var B=v;v=H;try{return I.apply(this,arguments)}finally{v=B}}}})(xf);yf.exports=xf;var Lm=yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=x,vt=Lm;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wf=new Set,Qs={};function Cr(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(Qs[e]=t,e=0;e<t.length;e++)wf.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,Om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oc={},lc={};function Pm(e){return zl.call(lc,e)?!0:zl.call(oc,e)?!1:Om.test(e)?lc[e]=!0:(oc[e]=!0,!1)}function Fm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Im(e,t,n,r){if(t===null||typeof t>"u"||Fm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Za=/[\-:]([a-z])/g;function eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Za,eu);He[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Za,eu);He[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Za,eu);He[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function tu(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Im(t,n,s,r)&&(n=null),r||s===null?Pm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ci=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),$l=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Cf=Symbol.for("react.offscreen"),ac=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,rl;function Ms(e){if(rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||""}return`
`+rl+e}var sl=!1;function il(e,t){if(!e||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ms(e):""}function _m(e){switch(e.tag){case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return e=il(e.type,!1),e;case 11:return e=il(e.type.render,!1),e;case 1:return e=il(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Lr:return"Portal";case Dl:return"Profiler";case nu:return"StrictMode";case Al:return"Suspense";case $l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kf:return(e.displayName||"Context")+".Consumer";case Sf:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ef(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dm(e){var t=Ef(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Dm(e))}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ef(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jf(e,t){t=t.checked,t!=null&&tu(e,"checked",t,!1)}function Wl(e,t){jf(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ql(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ql(e,t,n){(t!=="number"||lo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Br(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Rs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function bf(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,Rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(e){Am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ps[t]=Ps[e]})});function Lf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ps.hasOwnProperty(e)&&Ps[e]?(""+t).trim():t+"px"}function Tf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $m=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,Wr=null,Qr=null;function hc(e){if(e=gi(e)){if(typeof Yl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Uo(t),Yl(e.stateNode,e.type,t))}}function Of(e){Wr?Qr?Qr.push(e):Qr=[e]:Wr=e}function Pf(){if(Wr){var e=Wr,t=Qr;if(Qr=Wr=null,hc(e),t)for(e=0;e<t.length;e++)hc(t[e])}}function Ff(e,t){return e(t)}function If(){}var ol=!1;function _f(e,t,n){if(ol)return e(t,n);ol=!0;try{return Ff(e,t,n)}finally{ol=!1,(Wr!==null||Qr!==null)&&(If(),Pf())}}function Vs(e,t){var n=e.stateNode;if(n===null)return null;var r=Uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Xl=!1;if(pn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{Xl=!1}function Um(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fs=!1,ao=null,uo=!1,Jl=null,Bm={onError:function(e){Fs=!0,ao=e}};function Wm(e,t,n,r,s,i,o,l,a){Fs=!1,ao=null,Um.apply(Bm,arguments)}function Qm(e,t,n,r,s,i,o,l,a){if(Wm.apply(this,arguments),Fs){if(Fs){var u=ao;Fs=!1,ao=null}else throw Error(P(198));uo||(uo=!0,Jl=u)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(Er(e)!==e)throw Error(P(188))}function Hm(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pc(s),e;if(i===r)return pc(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Df(e){return e=Hm(e),e!==null?Af(e):null}function Af(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Af(e);if(t!==null)return t;e=e.sibling}return null}var $f=vt.unstable_scheduleCallback,mc=vt.unstable_cancelCallback,Vm=vt.unstable_shouldYield,Km=vt.unstable_requestPaint,Le=vt.unstable_now,qm=vt.unstable_getCurrentPriorityLevel,ou=vt.unstable_ImmediatePriority,Uf=vt.unstable_UserBlockingPriority,co=vt.unstable_NormalPriority,Gm=vt.unstable_LowPriority,Bf=vt.unstable_IdlePriority,zo=null,Xt=null;function Ym(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(zo,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Zm,Xm=Math.log,Jm=Math.LN2;function Zm(e){return e>>>=0,e===0?32:31-(Xm(e)/Jm|0)|0}var ji=64,bi=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ls(l):(i&=o,i!==0&&(r=Ls(i)))}else o=n&~s,o!==0?r=Ls(o):i!==0&&(r=Ls(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function eg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=eg(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wf(){var e=ji;return ji<<=1,!(ji&4194240)&&(ji=64),e}function ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function ng(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function lu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function Qf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hf,au,Vf,Kf,qf,ea=!1,Mi=[],_n=null,zn=null,Dn=null,Ks=new Map,qs=new Map,Cn=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=gi(t),t!==null&&au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sg(e,t,n,r,s){switch(t){case"focusin":return _n=Ss(_n,e,t,n,r,s),!0;case"dragenter":return zn=Ss(zn,e,t,n,r,s),!0;case"mouseover":return Dn=Ss(Dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ks.set(i,Ss(Ks.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qs.set(i,Ss(qs.get(i)||null,e,t,n,r,s)),!0}return!1}function Gf(e){var t=tr(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=zf(n),t!==null){e.blockedOn=t,qf(e.priority,function(){Vf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gl=r,n.target.dispatchEvent(r),Gl=null}else return t=gi(n),t!==null&&au(t),e.blockedOn=n,!1;t.shift()}return!0}function vc(e,t,n){Hi(e)&&n.delete(t)}function ig(){ea=!1,_n!==null&&Hi(_n)&&(_n=null),zn!==null&&Hi(zn)&&(zn=null),Dn!==null&&Hi(Dn)&&(Dn=null),Ks.forEach(vc),qs.forEach(vc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,ea||(ea=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,ig)))}function Gs(e){function t(s){return ks(s,e)}if(0<Mi.length){ks(Mi[0],e);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&ks(_n,e),zn!==null&&ks(zn,e),Dn!==null&&ks(Dn,e),Ks.forEach(t),qs.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Gf(n),n.blockedOn===null&&Cn.shift()}var Hr=yn.ReactCurrentBatchConfig,ho=!0;function og(e,t,n,r){var s=me,i=Hr.transition;Hr.transition=null;try{me=1,uu(e,t,n,r)}finally{me=s,Hr.transition=i}}function lg(e,t,n,r){var s=me,i=Hr.transition;Hr.transition=null;try{me=4,uu(e,t,n,r)}finally{me=s,Hr.transition=i}}function uu(e,t,n,r){if(ho){var s=ta(e,t,n,r);if(s===null)vl(e,t,r,po,n),gc(e,r);else if(sg(s,e,t,n,r))r.stopPropagation();else if(gc(e,r),t&4&&-1<rg.indexOf(e)){for(;s!==null;){var i=gi(s);if(i!==null&&Hf(i),i=ta(e,t,n,r),i===null&&vl(e,t,r,po,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vl(e,t,r,null,n)}}var po=null;function ta(e,t,n,r){if(po=null,e=iu(r),e=tr(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return po=e,null}function Yf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case ou:return 1;case Uf:return 4;case co:case Gm:return 16;case Bf:return 536870912;default:return 16}default:return 16}}var Fn=null,cu=null,Vi=null;function Xf(){if(Vi)return Vi;var e,t=cu,n=t.length,r,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Vi=s.slice(e,1<r?1-r:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function yc(){return!1}function xt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ri:yc,this.isPropagationStopped=yc,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=xt(ms),mi=Ne({},ms,{view:0,detail:0}),ag=xt(mi),al,ul,Cs,Do=Ne({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(al=e.screenX-Cs.screenX,ul=e.screenY-Cs.screenY):ul=al=0,Cs=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),xc=xt(Do),ug=Ne({},Do,{dataTransfer:0}),cg=xt(ug),dg=Ne({},mi,{relatedTarget:0}),cl=xt(dg),fg=Ne({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),hg=xt(fg),pg=Ne({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mg=xt(pg),gg=Ne({},ms,{data:0}),wc=xt(gg),vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xg[e])?!!t[e]:!1}function fu(){return wg}var Sg=Ne({},mi,{key:function(e){if(e.key){var t=vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kg=xt(Sg),Cg=Ne({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=xt(Cg),Eg=Ne({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),Ng=xt(Eg),jg=Ne({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),bg=xt(jg),Mg=Ne({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=xt(Mg),Lg=[9,13,27,32],hu=pn&&"CompositionEvent"in window,Is=null;pn&&"documentMode"in document&&(Is=document.documentMode);var Tg=pn&&"TextEvent"in window&&!Is,Jf=pn&&(!hu||Is&&8<Is&&11>=Is),kc=" ",Cc=!1;function Zf(e,t){switch(e){case"keyup":return Lg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function Og(e,t){switch(e){case"compositionend":return eh(t);case"keypress":return t.which!==32?null:(Cc=!0,kc);case"textInput":return e=t.data,e===kc&&Cc?null:e;default:return null}}function Pg(e,t){if(Or)return e==="compositionend"||!hu&&Zf(e,t)?(e=Xf(),Vi=cu=Fn=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jf&&t.locale!=="ko"?null:t.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fg[e.type]:t==="textarea"}function th(e,t,n,r){Of(r),t=mo(t,"onChange"),0<t.length&&(n=new du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _s=null,Ys=null;function Ig(e){fh(e,0)}function Ao(e){var t=Ir(e);if(Nf(t))return e}function _g(e,t){if(e==="change")return t}var nh=!1;if(pn){var dl;if(pn){var fl="oninput"in document;if(!fl){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),fl=typeof Nc.oninput=="function"}dl=fl}else dl=!1;nh=dl&&(!document.documentMode||9<document.documentMode)}function jc(){_s&&(_s.detachEvent("onpropertychange",rh),Ys=_s=null)}function rh(e){if(e.propertyName==="value"&&Ao(Ys)){var t=[];th(t,Ys,e,iu(e)),_f(Ig,t)}}function zg(e,t,n){e==="focusin"?(jc(),_s=t,Ys=n,_s.attachEvent("onpropertychange",rh)):e==="focusout"&&jc()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Ys)}function Ag(e,t){if(e==="click")return Ao(t)}function $g(e,t){if(e==="input"||e==="change")return Ao(t)}function Ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Ug;function Xs(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zl.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,t){var n=bc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bc(n)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(){for(var e=window,t=lo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lo(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bg(e){var t=ih(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sh(n.ownerDocument.documentElement,n)){if(r!==null&&pu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Mc(n,i);var o=Mc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wg=pn&&"documentMode"in document&&11>=document.documentMode,Pr=null,na=null,zs=null,ra=!1;function Rc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ra||Pr==null||Pr!==lo(r)||(r=Pr,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zs&&Xs(zs,r)||(zs=r,r=mo(na,"onSelect"),0<r.length&&(t=new du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function Li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},hl={},oh={};pn&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function $o(e){if(hl[e])return hl[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oh)return hl[e]=t[n];return e}var lh=$o("animationend"),ah=$o("animationiteration"),uh=$o("animationstart"),ch=$o("transitionend"),dh=new Map,Lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){dh.set(e,t),Cr(t,[e])}for(var pl=0;pl<Lc.length;pl++){var ml=Lc[pl],Qg=ml.toLowerCase(),Hg=ml[0].toUpperCase()+ml.slice(1);Kn(Qg,"on"+Hg)}Kn(lh,"onAnimationEnd");Kn(ah,"onAnimationIteration");Kn(uh,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(ch,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Tc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qm(r,t,void 0,e),e.currentTarget=null}function fh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Tc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Tc(s,l,u),i=a}}}if(uo)throw e=Jl,uo=!1,Jl=null,e}function we(e,t){var n=t[aa];n===void 0&&(n=t[aa]=new Set);var r=e+"__bubble";n.has(r)||(hh(t,e,2,!1),n.add(r))}function gl(e,t,n){var r=0;t&&(r|=4),hh(n,e,r,t)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[Ti]){e[Ti]=!0,wf.forEach(function(n){n!=="selectionchange"&&(Vg.has(n)||gl(n,!1,e),gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ti]||(t[Ti]=!0,gl("selectionchange",!1,t))}}function hh(e,t,n,r){switch(Yf(t)){case 1:var s=og;break;case 4:s=lg;break;default:s=uu}n=s.bind(null,t,n,e),s=void 0,!Xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}_f(function(){var u=i,d=iu(n),f=[];e:{var v=dh.get(e);if(v!==void 0){var S=du,w=e;switch(e){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":S=kg;break;case"focusin":w="focus",S=cl;break;case"focusout":w="blur",S=cl;break;case"beforeblur":case"afterblur":S=cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Ng;break;case lh:case ah:case uh:S=hg;break;case ch:S=bg;break;case"scroll":S=ag;break;case"wheel":S=Rg;break;case"copy":case"cut":case"paste":S=mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Sc}var E=(t&4)!==0,R=!E&&e==="scroll",g=E?v!==null?v+"Capture":null:v;E=[];for(var p=u,h;p!==null;){h=p;var m=h.stateNode;if(h.tag===5&&m!==null&&(h=m,g!==null&&(m=Vs(p,g),m!=null&&E.push(Zs(p,m,h)))),R)break;p=p.return}0<E.length&&(v=new S(v,w,null,n,d),f.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",v&&n!==Gl&&(w=n.relatedTarget||n.fromElement)&&(tr(w)||w[mn]))break e;if((S||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=u,w=w?tr(w):null,w!==null&&(R=Er(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=u),S!==w)){if(E=xc,m="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=Sc,m="onPointerLeave",g="onPointerEnter",p="pointer"),R=S==null?v:Ir(S),h=w==null?v:Ir(w),v=new E(m,p+"leave",S,n,d),v.target=R,v.relatedTarget=h,m=null,tr(d)===u&&(E=new E(g,p+"enter",w,n,d),E.target=h,E.relatedTarget=R,m=E),R=m,S&&w)t:{for(E=S,g=w,p=0,h=E;h;h=br(h))p++;for(h=0,m=g;m;m=br(m))h++;for(;0<p-h;)E=br(E),p--;for(;0<h-p;)g=br(g),h--;for(;p--;){if(E===g||g!==null&&E===g.alternate)break t;E=br(E),g=br(g)}E=null}else E=null;S!==null&&Oc(f,v,S,E,!1),w!==null&&R!==null&&Oc(f,R,w,E,!0)}}e:{if(v=u?Ir(u):window,S=v.nodeName&&v.nodeName.toLowerCase(),S==="select"||S==="input"&&v.type==="file")var C=_g;else if(Ec(v))if(nh)C=$g;else{C=Dg;var j=zg}else(S=v.nodeName)&&S.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=Ag);if(C&&(C=C(e,u))){th(f,C,n,d);break e}j&&j(e,v,u),e==="focusout"&&(j=v._wrapperState)&&j.controlled&&v.type==="number"&&Ql(v,"number",v.value)}switch(j=u?Ir(u):window,e){case"focusin":(Ec(j)||j.contentEditable==="true")&&(Pr=j,na=u,zs=null);break;case"focusout":zs=na=Pr=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,Rc(f,n,d);break;case"selectionchange":if(Wg)break;case"keydown":case"keyup":Rc(f,n,d)}var L;if(hu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Or?Zf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Jf&&n.locale!=="ko"&&(Or||M!=="onCompositionStart"?M==="onCompositionEnd"&&Or&&(L=Xf()):(Fn=d,cu="value"in Fn?Fn.value:Fn.textContent,Or=!0)),j=mo(u,M),0<j.length&&(M=new wc(M,e,null,n,d),f.push({event:M,listeners:j}),L?M.data=L:(L=eh(n),L!==null&&(M.data=L)))),(L=Tg?Og(e,n):Pg(e,n))&&(u=mo(u,"onBeforeInput"),0<u.length&&(d=new wc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=L))}fh(f,t)})}function Zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vs(e,n),i!=null&&r.unshift(Zs(e,i,s)),i=Vs(e,t),i!=null&&r.push(Zs(e,i,s))),e=e.return}return r}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Vs(n,i),a!=null&&o.unshift(Zs(n,a,l))):s||(a=Vs(n,i),a!=null&&o.push(Zs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kg=/\r\n?/g,qg=/\u0000|\uFFFD/g;function Pc(e){return(typeof e=="string"?e:""+e).replace(Kg,`
`).replace(qg,"")}function Oi(e,t,n){if(t=Pc(t),Pc(e)!==t&&n)throw Error(P(425))}function go(){}var sa=null,ia=null;function oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Gg=typeof clearTimeout=="function"?clearTimeout:void 0,Fc=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof Fc<"u"?function(e){return Fc.resolve(null).then(e).catch(Xg)}:la;function Xg(e){setTimeout(function(){throw e})}function yl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Gs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gs(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ic(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+gs,ei="__reactProps$"+gs,mn="__reactContainer$"+gs,aa="__reactEvents$"+gs,Jg="__reactListeners$"+gs,Zg="__reactHandles$"+gs;function tr(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ic(e);e!==null;){if(n=e[Yt])return n;e=Ic(e)}return t}e=n,n=e.parentNode}return null}function gi(e){return e=e[Yt]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Uo(e){return e[ei]||null}var ua=[],_r=-1;function qn(e){return{current:e}}function Se(e){0>_r||(e.current=ua[_r],ua[_r]=null,_r--)}function ye(e,t){_r++,ua[_r]=e.current,e.current=t}var Vn={},Ze=qn(Vn),dt=qn(!1),gr=Vn;function as(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function vo(){Se(dt),Se(Ze)}function _c(e,t,n){if(Ze.current!==Vn)throw Error(P(168));ye(Ze,t),ye(dt,n)}function ph(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,zm(e)||"Unknown",s));return Ne({},n,r)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,gr=Ze.current,ye(Ze,e),ye(dt,dt.current),!0}function zc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=ph(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,Se(dt),Se(Ze),ye(Ze,e)):Se(dt),ye(dt,n)}var sn=null,Bo=!1,xl=!1;function mh(e){sn===null?sn=[e]:sn.push(e)}function ev(e){Bo=!0,mh(e)}function Gn(){if(!xl&&sn!==null){xl=!0;var e=0,t=me;try{var n=sn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Bo=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),$f(ou,Gn),s}finally{me=t,xl=!1}}return null}var zr=[],Dr=0,xo=null,wo=0,Nt=[],jt=0,vr=null,cn=1,dn="";function Zn(e,t){zr[Dr++]=wo,zr[Dr++]=xo,xo=e,wo=t}function gh(e,t,n){Nt[jt++]=cn,Nt[jt++]=dn,Nt[jt++]=vr,vr=e;var r=cn;e=dn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cn=1<<32-$t(t)+s|n<<s|r,dn=i+e}else cn=1<<i|n<<s|r,dn=e}function mu(e){e.return!==null&&(Zn(e,1),gh(e,1,0))}function gu(e){for(;e===xo;)xo=zr[--Dr],zr[Dr]=null,wo=zr[--Dr],zr[Dr]=null;for(;e===vr;)vr=Nt[--jt],Nt[jt]=null,dn=Nt[--jt],Nt[jt]=null,cn=Nt[--jt],Nt[jt]=null}var gt=null,mt=null,ke=!1,Dt=null;function vh(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function da(e){if(ke){var t=mt;if(t){var n=t;if(!Dc(e,t)){if(ca(e))throw Error(P(418));t=An(n.nextSibling);var r=gt;t&&Dc(e,t)?vh(r,n):(e.flags=e.flags&-4097|2,ke=!1,gt=e)}}else{if(ca(e))throw Error(P(418));e.flags=e.flags&-4097|2,ke=!1,gt=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Pi(e){if(e!==gt)return!1;if(!ke)return Ac(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oa(e.type,e.memoizedProps)),t&&(t=mt)){if(ca(e))throw yh(),Error(P(418));for(;t;)vh(e,t),t=An(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?An(e.stateNode.nextSibling):null;return!0}function yh(){for(var e=mt;e;)e=An(e.nextSibling)}function us(){mt=gt=null,ke=!1}function vu(e){Dt===null?Dt=[e]:Dt.push(e)}var tv=yn.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Fi(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $c(e){var t=e._init;return t(e._payload)}function xh(e){function t(g,p){if(e){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Wn(g,p),g.index=0,g.sibling=null,g}function i(g,p,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,h,m){return p===null||p.tag!==6?(p=jl(h,g.mode,m),p.return=g,p):(p=s(p,h),p.return=g,p)}function a(g,p,h,m){var C=h.type;return C===Tr?d(g,p,h.props.children,m,h.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&$c(C)===p.type)?(m=s(p,h.props),m.ref=Es(g,p,h),m.return=g,m):(m=eo(h.type,h.key,h.props,null,g.mode,m),m.ref=Es(g,p,h),m.return=g,m)}function u(g,p,h,m){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=bl(h,g.mode,m),p.return=g,p):(p=s(p,h.children||[]),p.return=g,p)}function d(g,p,h,m,C){return p===null||p.tag!==7?(p=mr(h,g.mode,m,C),p.return=g,p):(p=s(p,h),p.return=g,p)}function f(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jl(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ci:return h=eo(p.type,p.key,p.props,null,g.mode,h),h.ref=Es(g,null,p),h.return=g,h;case Lr:return p=bl(p,g.mode,h),p.return=g,p;case Sn:var m=p._init;return f(g,m(p._payload),h)}if(Rs(p)||xs(p))return p=mr(p,g.mode,h,null),p.return=g,p;Fi(g,p)}return null}function v(g,p,h,m){var C=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(g,p,""+h,m);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ci:return h.key===C?a(g,p,h,m):null;case Lr:return h.key===C?u(g,p,h,m):null;case Sn:return C=h._init,v(g,p,C(h._payload),m)}if(Rs(h)||xs(h))return C!==null?null:d(g,p,h,m,null);Fi(g,h)}return null}function S(g,p,h,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return g=g.get(h)||null,l(p,g,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:return g=g.get(m.key===null?h:m.key)||null,a(p,g,m,C);case Lr:return g=g.get(m.key===null?h:m.key)||null,u(p,g,m,C);case Sn:var j=m._init;return S(g,p,h,j(m._payload),C)}if(Rs(m)||xs(m))return g=g.get(h)||null,d(p,g,m,C,null);Fi(p,m)}return null}function w(g,p,h,m){for(var C=null,j=null,L=p,M=p=0,F=null;L!==null&&M<h.length;M++){L.index>M?(F=L,L=null):F=L.sibling;var k=v(g,L,h[M],m);if(k===null){L===null&&(L=F);break}e&&L&&k.alternate===null&&t(g,L),p=i(k,p,M),j===null?C=k:j.sibling=k,j=k,L=F}if(M===h.length)return n(g,L),ke&&Zn(g,M),C;if(L===null){for(;M<h.length;M++)L=f(g,h[M],m),L!==null&&(p=i(L,p,M),j===null?C=L:j.sibling=L,j=L);return ke&&Zn(g,M),C}for(L=r(g,L);M<h.length;M++)F=S(L,g,M,h[M],m),F!==null&&(e&&F.alternate!==null&&L.delete(F.key===null?M:F.key),p=i(F,p,M),j===null?C=F:j.sibling=F,j=F);return e&&L.forEach(function(D){return t(g,D)}),ke&&Zn(g,M),C}function E(g,p,h,m){var C=xs(h);if(typeof C!="function")throw Error(P(150));if(h=C.call(h),h==null)throw Error(P(151));for(var j=C=null,L=p,M=p=0,F=null,k=h.next();L!==null&&!k.done;M++,k=h.next()){L.index>M?(F=L,L=null):F=L.sibling;var D=v(g,L,k.value,m);if(D===null){L===null&&(L=F);break}e&&L&&D.alternate===null&&t(g,L),p=i(D,p,M),j===null?C=D:j.sibling=D,j=D,L=F}if(k.done)return n(g,L),ke&&Zn(g,M),C;if(L===null){for(;!k.done;M++,k=h.next())k=f(g,k.value,m),k!==null&&(p=i(k,p,M),j===null?C=k:j.sibling=k,j=k);return ke&&Zn(g,M),C}for(L=r(g,L);!k.done;M++,k=h.next())k=S(L,g,M,k.value,m),k!==null&&(e&&k.alternate!==null&&L.delete(k.key===null?M:k.key),p=i(k,p,M),j===null?C=k:j.sibling=k,j=k);return e&&L.forEach(function(V){return t(g,V)}),ke&&Zn(g,M),C}function R(g,p,h,m){if(typeof h=="object"&&h!==null&&h.type===Tr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ci:e:{for(var C=h.key,j=p;j!==null;){if(j.key===C){if(C=h.type,C===Tr){if(j.tag===7){n(g,j.sibling),p=s(j,h.props.children),p.return=g,g=p;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&$c(C)===j.type){n(g,j.sibling),p=s(j,h.props),p.ref=Es(g,j,h),p.return=g,g=p;break e}n(g,j);break}else t(g,j);j=j.sibling}h.type===Tr?(p=mr(h.props.children,g.mode,m,h.key),p.return=g,g=p):(m=eo(h.type,h.key,h.props,null,g.mode,m),m.ref=Es(g,p,h),m.return=g,g=m)}return o(g);case Lr:e:{for(j=h.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=s(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=bl(h,g.mode,m),p.return=g,g=p}return o(g);case Sn:return j=h._init,R(g,p,j(h._payload),m)}if(Rs(h))return w(g,p,h,m);if(xs(h))return E(g,p,h,m);Fi(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,h),p.return=g,g=p):(n(g,p),p=jl(h,g.mode,m),p.return=g,g=p),o(g)):n(g,p)}return R}var cs=xh(!0),wh=xh(!1),So=qn(null),ko=null,Ar=null,yu=null;function xu(){yu=Ar=ko=null}function wu(e){var t=So.current;Se(So),e._currentValue=t}function fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vr(e,t){ko=e,yu=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(ko===null)throw Error(P(308));Ar=e,ko.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var nr=null;function Su(e){nr===null?nr=[e]:nr.push(e)}function Sh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Su(t)):(n.next=s.next,s.next=n),t.interleaved=n,gn(e,r)}function gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gn(e,n)}return s=r.interleaved,s===null?(t.next=t,Su(r)):(t.next=s.next,s.next=t),r.interleaved=t,gn(e,n)}function qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lu(e,n)}}function Uc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Co(e,t,n,r){var s=e.updateQueue;kn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var v=l.lane,S=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,E=l;switch(v=t,S=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){f=w.call(S,f,v);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,v=typeof w=="function"?w.call(S,f,v):w,v==null)break e;f=Ne({},f,v);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else S={eventTime:S,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,a=f):d=d.next=S,o|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xr|=o,e.lanes=o,e.memoizedState=f}}function Bc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var vi={},Jt=qn(vi),ti=qn(vi),ni=qn(vi);function rr(e){if(e===vi)throw Error(P(174));return e}function Cu(e,t){switch(ye(ni,t),ye(ti,e),ye(Jt,vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vl(t,e)}Se(Jt),ye(Jt,t)}function ds(){Se(Jt),Se(ti),Se(ni)}function Ch(e){rr(ni.current);var t=rr(Jt.current),n=Vl(t,e.type);t!==n&&(ye(ti,e),ye(Jt,n))}function Eu(e){ti.current===e&&(Se(Jt),Se(ti))}var Ce=qn(0);function Eo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function Nu(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var Gi=yn.ReactCurrentDispatcher,Sl=yn.ReactCurrentBatchConfig,yr=0,Ee=null,Ie=null,Ue=null,No=!1,Ds=!1,ri=0,nv=0;function Ge(){throw Error(P(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function bu(e,t,n,r,s,i){if(yr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gi.current=e===null||e.memoizedState===null?ov:lv,e=n(r,s),Ds){i=0;do{if(Ds=!1,ri=0,25<=i)throw Error(P(301));i+=1,Ue=Ie=null,t.updateQueue=null,Gi.current=av,e=n(r,s)}while(Ds)}if(Gi.current=jo,t=Ie!==null&&Ie.next!==null,yr=0,Ue=Ie=Ee=null,No=!1,t)throw Error(P(300));return e}function Mu(){var e=ri!==0;return ri=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Tt(){if(Ie===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Ue===null?Ee.memoizedState:Ue.next;if(t!==null)Ue=t,Ie=e;else{if(e===null)throw Error(P(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function si(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((yr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,Ee.lanes|=d,xr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Bt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,xr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Eh(){}function Nh(e,t){var n=Ee,r=Tt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ct=!0),r=r.queue,Ru(Mh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ii(9,bh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(P(349));yr&30||jh(n,t,s)}return s}function jh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bh(e,t,n,r){t.value=n,t.getSnapshot=r,Rh(t)&&Lh(e)}function Mh(e,t,n){return n(function(){Rh(t)&&Lh(e)})}function Rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Lh(e){var t=gn(e,1);t!==null&&Ut(t,e,1,-1)}function Wc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},t.queue=e,e=e.dispatch=iv.bind(null,Ee,e),[t.memoizedState,e]}function ii(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Th(){return Tt().memoizedState}function Yi(e,t,n,r){var s=Vt();Ee.flags|=e,s.memoizedState=ii(1|t,n,void 0,r===void 0?null:r)}function Wo(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var o=Ie.memoizedState;if(i=o.destroy,r!==null&&ju(r,o.deps)){s.memoizedState=ii(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=ii(1|t,n,i,r)}function Qc(e,t){return Yi(8390656,8,e,t)}function Ru(e,t){return Wo(2048,8,e,t)}function Oh(e,t){return Wo(4,2,e,t)}function Ph(e,t){return Wo(4,4,e,t)}function Fh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ih(e,t,n){return n=n!=null?n.concat([e]):null,Wo(4,4,Fh.bind(null,t,e),n)}function Lu(){}function _h(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dh(e,t,n){return yr&21?(Bt(n,t)||(n=Wf(),Ee.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function rv(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Sl.transition;Sl.transition={};try{e(!1),t()}finally{me=n,Sl.transition=r}}function Ah(){return Tt().memoizedState}function sv(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$h(e))Uh(t,n);else if(n=Sh(e,t,n,r),n!==null){var s=st();Ut(n,e,r,s),Bh(n,t,r)}}function iv(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($h(e))Uh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,o)){var a=t.interleaved;a===null?(s.next=s,Su(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Sh(e,t,s,r),n!==null&&(s=st(),Ut(n,e,r,s),Bh(n,t,r))}}function $h(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Uh(e,t){Ds=No=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lu(e,n)}}var jo={readContext:Lt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},ov={readContext:Lt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4194308,4,Fh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yi(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sv.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Wc,useDebugValue:Lu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Wc(!1),t=e[0];return e=rv.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Vt();if(ke){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Be===null)throw Error(P(349));yr&30||jh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Qc(Mh.bind(null,r,i,e),[e]),r.flags|=2048,ii(9,bh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Be.identifierPrefix;if(ke){var n=dn,r=cn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ri++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lv={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:Ru,useImperativeHandle:Ih,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:zh,useReducer:kl,useRef:Th,useState:function(){return kl(si)},useDebugValue:Lu,useDeferredValue:function(e){var t=Tt();return Dh(t,Ie.memoizedState,e)},useTransition:function(){var e=kl(si)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:Nh,useId:Ah,unstable_isNewReconciler:!1},av={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:Ru,useImperativeHandle:Ih,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:zh,useReducer:Cl,useRef:Th,useState:function(){return Cl(si)},useDebugValue:Lu,useDeferredValue:function(e){var t=Tt();return Ie===null?t.memoizedState=e:Dh(t,Ie.memoizedState,e)},useTransition:function(){var e=Cl(si)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:Nh,useId:Ah,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qo={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=Bn(e),i=fn(r,s);i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,s),t!==null&&(Ut(t,e,s,r),qi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=Bn(e),i=fn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,s),t!==null&&(Ut(t,e,s,r),qi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Bn(e),s=fn(n,r);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,r),t!==null&&(Ut(t,e,r,n),qi(t,e,r))}};function Hc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xs(n,r)||!Xs(s,i):!0}function Wh(e,t,n){var r=!1,s=Vn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ft(t)?gr:Ze.current,r=t.contextTypes,i=(r=r!=null)?as(e,s):Vn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qo.enqueueReplaceState(t,t.state,null)}function pa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ku(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ft(t)?gr:Ze.current,s.context=as(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ha(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qo.enqueueReplaceState(s,s.state,null),Co(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do n+=_m(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function El(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uv=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mo||(Mo=!0,Na=r),ma(e,t)},n}function Hh(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ma(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ma(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Kc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cv.bind(null,e,t,n),t.then(e,e))}function qc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var cv=yn.ReactCurrentOwner,ct=!1;function nt(e,t,n,r){t.child=e===null?wh(t,null,n,r):cs(t,e.child,n,r)}function Yc(e,t,n,r,s){n=n.render;var i=t.ref;return Vr(t,s),r=bu(e,t,n,r,i,s),n=Mu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(ke&&n&&mu(t),t.flags|=1,nt(e,t,r,s),t.child)}function Xc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Du(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Vh(e,t,i,r,s)):(e=eo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xs,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Wn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Xs(i,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,vn(e,t,s)}return ga(e,t,n,r,s)}function Kh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ur,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Ur,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ur,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(Ur,pt),pt|=r;return nt(e,t,s,n),t.child}function qh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ga(e,t,n,r,s){var i=ft(n)?gr:Ze.current;return i=as(t,i),Vr(t,s),n=bu(e,t,n,r,i,s),r=Mu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(ke&&r&&mu(t),t.flags|=1,nt(e,t,n,s),t.child)}function Jc(e,t,n,r,s){if(ft(n)){var i=!0;yo(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Xi(e,t),Wh(t,n,r),pa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=ft(n)?gr:Ze.current,u=as(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Vc(t,o,r,u),kn=!1;var v=t.memoizedState;o.state=v,Co(t,r,o,s),a=t.memoizedState,l!==r||v!==a||dt.current||kn?(typeof d=="function"&&(ha(t,n,d,r),a=t.memoizedState),(l=kn||Hc(t,n,l,r,v,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ft(t.type,l),o.props=u,f=t.pendingProps,v=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=ft(n)?gr:Ze.current,a=as(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||v!==a)&&Vc(t,o,r,a),kn=!1,v=t.memoizedState,o.state=v,Co(t,r,o,s);var w=t.memoizedState;l!==f||v!==w||dt.current||kn?(typeof S=="function"&&(ha(t,n,S,r),w=t.memoizedState),(u=kn||Hc(t,n,u,r,v,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return va(e,t,n,r,i,s)}function va(e,t,n,r,s,i){qh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&zc(t,n,!1),vn(e,t,i);r=t.stateNode,cv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,i),t.child=cs(t,null,l,i)):nt(e,t,l,i),t.memoizedState=r.state,s&&zc(t,n,!0),t.child}function Gh(e){var t=e.stateNode;t.pendingContext?_c(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_c(e,t.context,!1),Cu(e,t.containerInfo)}function Zc(e,t,n,r,s){return us(),vu(s),t.flags|=256,nt(e,t,n,r),t.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yh(e,t,n){var r=t.pendingProps,s=Ce.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ko(o,r,0,null),e=mr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xa(n),t.memoizedState=ya,e):Tu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Wn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wn(l,i):(i=mr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?xa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ya,r}return i=e.child,e=i.sibling,r=Wn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tu(e,t){return t=Ko({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&vu(r),cs(t,e.child,null,n),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=El(Error(P(422))),Ii(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ko({mode:"visible",children:r.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=xa(o),t.memoizedState=ya,i);if(!(t.mode&1))return Ii(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=El(i,r,void 0),Ii(e,t,o,r)}if(l=(o&e.childLanes)!==0,ct||l){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gn(e,s),Ut(r,e,s,-1))}return zu(),r=El(Error(P(421))),Ii(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ev.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=An(s.nextSibling),gt=t,ke=!0,Dt=null,e!==null&&(Nt[jt++]=cn,Nt[jt++]=dn,Nt[jt++]=vr,cn=e.id,dn=e.overflow,vr=t),t=Tu(t,r.children),t.flags|=4096,t)}function ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fa(e.return,t,n)}function Nl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(nt(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,n,t);else if(e.tag===19)ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Eo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Eo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nl(t,!0,n,null,i);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fv(e,t,n){switch(t.tag){case 3:Gh(t),us();break;case 5:Ch(t);break;case 1:ft(t.type)&&yo(t);break;case 4:Cu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(So,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Yh(e,t,n):(ye(Ce,Ce.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,Kh(e,t,n)}return vn(e,t,n)}var Jh,wa,Zh,ep;Jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wa=function(){};Zh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,rr(Jt.current);var i=null;switch(n){case"input":s=Bl(e,s),r=Bl(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Hl(e,s),r=Hl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=go)}Kl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&we("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ep=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hv(e,t,n){var r=t.pendingProps;switch(gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ft(t.type)&&vo(),Ye(t),null;case 3:return r=t.stateNode,ds(),Se(dt),Se(Ze),Nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Ma(Dt),Dt=null))),wa(e,t),Ye(t),null;case 5:Eu(t);var s=rr(ni.current);if(n=t.type,e!==null&&t.stateNode!=null)Zh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ye(t),null}if(e=rr(Jt.current),Pi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yt]=t,r[ei]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)we(Ts[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":uc(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":dc(r,i),we("invalid",r)}Kl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",""+l]):Qs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Ei(r),cc(r,i,!0);break;case"textarea":Ei(r),fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=go)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yt]=t,e[ei]=r,Jh(e,t,!1,!1),t.stateNode=e;e:{switch(o=ql(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)we(Ts[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":uc(e,r),s=Bl(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),we("invalid",e);break;case"textarea":dc(e,r),s=Hl(e,r),we("invalid",e);break;default:s=r}Kl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Tf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Rf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Hs(e,a):typeof a=="number"&&Hs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&we("scroll",e):a!=null&&tu(e,i,a,o))}switch(n){case"input":Ei(e),cc(e,r,!1);break;case"textarea":Ei(e),fc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Br(e,!!r.multiple,i,!1):r.defaultValue!=null&&Br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)ep(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=rr(ni.current),rr(Jt.current),Pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(Se(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&mt!==null&&t.mode&1&&!(t.flags&128))yh(),us(),t.flags|=98560,i=!1;else if(i=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Yt]=t}else us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Dt!==null&&(Ma(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?ze===0&&(ze=3):zu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ds(),wa(e,t),e===null&&Js(t.stateNode.containerInfo),Ye(t),null;case 10:return wu(t.type._context),Ye(t),null;case 17:return ft(t.type)&&vo(),Ye(t),null;case 19:if(Se(Ce),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ns(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eo(e),o!==null){for(t.flags|=128,Ns(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>hs&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304)}else{if(!r)if(e=Eo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return Ye(t),null}else 2*Le()-i.renderingStartTime>hs&&n!==1073741824&&(t.flags|=128,r=!0,Ns(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return _u(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function pv(e,t){switch(gu(t),t.tag){case 1:return ft(t.type)&&vo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),Se(dt),Se(Ze),Nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eu(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return ds(),null;case 10:return wu(t.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var _i=!1,Je=!1,mv=typeof WeakSet=="function"?WeakSet:Set,$=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function Sa(e,t,n){try{n()}catch(r){be(e,t,r)}}var td=!1;function gv(e,t){if(sa=ho,e=ih(),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,v=null;t:for(;;){for(var S;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)v=f,f=S;for(;;){if(f===e)break t;if(v===n&&++u===s&&(l=o),v===i&&++d===r&&(a=o),(S=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ia={focusedElem:e,selectionRange:n},ho=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,R=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ft(t.type,E),R);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(m){be(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=td,td=!1,w}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sa(t,n,i)}s=s.next}while(s!==r)}}function Ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ei],delete t[aa],delete t[Jg],delete t[Zg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function np(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=go));else if(r!==4&&(e=e.child,e!==null))for(Ca(e,t,n),e=e.sibling;e!==null;)Ca(e,t,n),e=e.sibling}function Ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ea(e,t,n),e=e.sibling;e!==null;)Ea(e,t,n),e=e.sibling}var We=null,zt=!1;function xn(e,t,n){for(n=n.child;n!==null;)rp(e,t,n),n=n.sibling}function rp(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:Je||$r(n,t);case 6:var r=We,s=zt;We=null,xn(e,t,n),We=r,zt=s,We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?yl(e.parentNode,n):e.nodeType===1&&yl(e,n),Gs(e)):yl(We,n.stateNode));break;case 4:r=We,s=zt,We=n.stateNode.containerInfo,zt=!0,xn(e,t,n),We=r,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sa(n,t,o),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!Je&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,xn(e,t,n),Je=r):xn(e,t,n);break;default:xn(e,t,n)}}function rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mv),t.forEach(function(r){var s=Nv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:We=l.stateNode,zt=!1;break e;case 3:We=l.stateNode.containerInfo,zt=!0;break e;case 4:We=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(We===null)throw Error(P(160));rp(i,o,s),We=null,zt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sp(t,e),t=t.sibling}function sp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ht(e),r&4){try{As(3,e,e.return),Ho(3,e)}catch(E){be(e,e.return,E)}try{As(5,e,e.return)}catch(E){be(e,e.return,E)}}break;case 1:Pt(t,e),Ht(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(Pt(t,e),Ht(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var s=e.stateNode;try{Hs(s,"")}catch(E){be(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&jf(s,i),ql(l,o);var u=ql(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Tf(s,f):d==="dangerouslySetInnerHTML"?Rf(s,f):d==="children"?Hs(s,f):tu(s,d,f,u)}switch(l){case"input":Wl(s,i);break;case"textarea":bf(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Br(s,!!i.multiple,S,!1):v!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[ei]=i}catch(E){be(e,e.return,E)}}break;case 6:if(Pt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(E){be(e,e.return,E)}}break;case 3:if(Pt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(t.containerInfo)}catch(E){be(e,e.return,E)}break;case 4:Pt(t,e),Ht(e);break;case 13:Pt(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fu=Le())),r&4&&rd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,Pt(t,e),Je=u):Pt(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(v=$,S=v.child,v.tag){case 0:case 11:case 14:case 15:As(4,v,v.return);break;case 1:$r(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){be(r,n,E)}}break;case 5:$r(v,v.return);break;case 22:if(v.memoizedState!==null){id(f);continue}}S!==null?(S.return=v,$=S):id(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Lf("display",o))}catch(E){be(e,e.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){be(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(t,e),Ht(e),r&4&&rd(e);break;case 21:break;default:Pt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(np(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hs(s,""),r.flags&=-33);var i=nd(e);Ea(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=nd(e);Ca(e,l,o);break;default:throw Error(P(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vv(e,t,n){$=e,ip(e)}function ip(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_i;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Je;l=_i;var u=Je;if(_i=o,(Je=a)&&!u)for($=s;$!==null;)o=$,a=o.child,o.tag===22&&o.memoizedState!==null?od(s):a!==null?(a.return=o,$=a):od(s);for(;i!==null;)$=i,ip(i),i=i.sibling;$=s,_i=l,Je=u}sd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):sd(e)}}function sd(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ho(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Je||t.flags&512&&ka(t)}catch(v){be(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function id(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function od(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ho(4,t)}catch(a){be(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){be(t,s,a)}}var i=t.return;try{ka(t)}catch(a){be(t,i,a)}break;case 5:var o=t.return;try{ka(t)}catch(a){be(t,o,a)}}}catch(a){be(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var yv=Math.ceil,bo=yn.ReactCurrentDispatcher,Ou=yn.ReactCurrentOwner,Rt=yn.ReactCurrentBatchConfig,le=0,Be=null,Te=null,Qe=0,pt=0,Ur=qn(0),ze=0,oi=null,xr=0,Vo=0,Pu=0,$s=null,ut=null,Fu=0,hs=1/0,rn=null,Mo=!1,Na=null,Un=null,zi=!1,In=null,Ro=0,Us=0,ja=null,Ji=-1,Zi=0;function st(){return le&6?Le():Ji!==-1?Ji:Ji=Le()}function Bn(e){return e.mode&1?le&2&&Qe!==0?Qe&-Qe:tv.transition!==null?(Zi===0&&(Zi=Wf()),Zi):(e=me,e!==0||(e=window.event,e=e===void 0?16:Yf(e.type)),e):1}function Ut(e,t,n,r){if(50<Us)throw Us=0,ja=null,Error(P(185));pi(e,n,r),(!(le&2)||e!==Be)&&(e===Be&&(!(le&2)&&(Vo|=n),ze===4&&En(e,Qe)),ht(e,r),n===1&&le===0&&!(t.mode&1)&&(hs=Le()+500,Bo&&Gn()))}function ht(e,t){var n=e.callbackNode;tg(e,t);var r=fo(e,e===Be?Qe:0);if(r===0)n!==null&&mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mc(n),t===1)e.tag===0?ev(ld.bind(null,e)):mh(ld.bind(null,e)),Yg(function(){!(le&6)&&Gn()}),n=null;else{switch(Qf(r)){case 1:n=ou;break;case 4:n=Uf;break;case 16:n=co;break;case 536870912:n=Bf;break;default:n=co}n=hp(n,op.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function op(e,t){if(Ji=-1,Zi=0,le&6)throw Error(P(327));var n=e.callbackNode;if(Kr()&&e.callbackNode!==n)return null;var r=fo(e,e===Be?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lo(e,r);else{t=r;var s=le;le|=2;var i=ap();(Be!==e||Qe!==t)&&(rn=null,hs=Le()+500,pr(e,t));do try{Sv();break}catch(l){lp(e,l)}while(!0);xu(),bo.current=i,le=s,Te!==null?t=0:(Be=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(s=Zl(e),s!==0&&(r=s,t=ba(e,s))),t===1)throw n=oi,pr(e,0),En(e,r),ht(e,Le()),n;if(t===6)En(e,r);else{if(s=e.current.alternate,!(r&30)&&!xv(s)&&(t=Lo(e,r),t===2&&(i=Zl(e),i!==0&&(r=i,t=ba(e,i))),t===1))throw n=oi,pr(e,0),En(e,r),ht(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:er(e,ut,rn);break;case 3:if(En(e,r),(r&130023424)===r&&(t=Fu+500-Le(),10<t)){if(fo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=la(er.bind(null,e,ut,rn),t);break}er(e,ut,rn);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yv(r/1960))-r,10<r){e.timeoutHandle=la(er.bind(null,e,ut,rn),r);break}er(e,ut,rn);break;case 5:er(e,ut,rn);break;default:throw Error(P(329))}}}return ht(e,Le()),e.callbackNode===n?op.bind(null,e):null}function ba(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=Lo(e,t),e!==2&&(t=ut,ut=n,t!==null&&Ma(t)),e}function Ma(e){ut===null?ut=e:ut.push.apply(ut,e)}function xv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~Pu,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function ld(e){if(le&6)throw Error(P(327));Kr();var t=fo(e,0);if(!(t&1))return ht(e,Le()),null;var n=Lo(e,t);if(e.tag!==0&&n===2){var r=Zl(e);r!==0&&(t=r,n=ba(e,r))}if(n===1)throw n=oi,pr(e,0),En(e,t),ht(e,Le()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,ut,rn),ht(e,Le()),null}function Iu(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(hs=Le()+500,Bo&&Gn())}}function wr(e){In!==null&&In.tag===0&&!(le&6)&&Kr();var t=le;le|=1;var n=Rt.transition,r=me;try{if(Rt.transition=null,me=1,e)return e()}finally{me=r,Rt.transition=n,le=t,!(le&6)&&Gn()}}function _u(){pt=Ur.current,Se(Ur)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gg(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vo();break;case 3:ds(),Se(dt),Se(Ze),Nu();break;case 5:Eu(r);break;case 4:ds();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:wu(r.type._context);break;case 22:case 23:_u()}n=n.return}if(Be=e,Te=e=Wn(e.current,null),Qe=pt=t,ze=0,oi=null,Pu=Vo=xr=0,ut=$s=null,nr!==null){for(t=0;t<nr.length;t++)if(n=nr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nr=null}return e}function lp(e,t){do{var n=Te;try{if(xu(),Gi.current=jo,No){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}No=!1}if(yr=0,Ue=Ie=Ee=null,Ds=!1,ri=0,Ou.current=null,n===null||n.return===null){ze=1,oi=t,Te=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=qc(o);if(S!==null){S.flags&=-257,Gc(S,o,l,i,t),S.mode&1&&Kc(i,u,t),t=S,a=u;var w=t.updateQueue;if(w===null){var E=new Set;E.add(a),t.updateQueue=E}else w.add(a);break e}else{if(!(t&1)){Kc(i,u,t),zu();break e}a=Error(P(426))}}else if(ke&&l.mode&1){var R=qc(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Gc(R,o,l,i,t),vu(fs(a,l));break e}}i=a=fs(a,l),ze!==4&&(ze=2),$s===null?$s=[i]:$s.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Qh(i,a,t);Uc(i,g);break e;case 1:l=a;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Un===null||!Un.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=Hh(i,l,t);Uc(i,m);break e}}i=i.return}while(i!==null)}cp(n)}catch(C){t=C,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function ap(){var e=bo.current;return bo.current=jo,e===null?jo:e}function zu(){(ze===0||ze===3||ze===2)&&(ze=4),Be===null||!(xr&268435455)&&!(Vo&268435455)||En(Be,Qe)}function Lo(e,t){var n=le;le|=2;var r=ap();(Be!==e||Qe!==t)&&(rn=null,pr(e,t));do try{wv();break}catch(s){lp(e,s)}while(!0);if(xu(),le=n,bo.current=r,Te!==null)throw Error(P(261));return Be=null,Qe=0,ze}function wv(){for(;Te!==null;)up(Te)}function Sv(){for(;Te!==null&&!Vm();)up(Te)}function up(e){var t=fp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?cp(e):Te=t,Ou.current=null}function cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pv(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Te=null;return}}else if(n=hv(n,t,pt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);ze===0&&(ze=5)}function er(e,t,n){var r=me,s=Rt.transition;try{Rt.transition=null,me=1,kv(e,t,n,r)}finally{Rt.transition=s,me=r}return null}function kv(e,t,n,r){do Kr();while(In!==null);if(le&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ng(e,i),e===Be&&(Te=Be=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zi||(zi=!0,hp(co,function(){return Kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=me;me=1;var l=le;le|=4,Ou.current=null,gv(e,n),sp(n,e),Bg(ia),ho=!!sa,ia=sa=null,e.current=n,vv(n),Km(),le=l,me=o,Rt.transition=i}else e.current=n;if(zi&&(zi=!1,In=e,Ro=s),i=e.pendingLanes,i===0&&(Un=null),Ym(n.stateNode),ht(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,e=Na,Na=null,e;return Ro&1&&e.tag!==0&&Kr(),i=e.pendingLanes,i&1?e===ja?Us++:(Us=0,ja=e):Us=0,Gn(),null}function Kr(){if(In!==null){var e=Qf(Ro),t=Rt.transition,n=me;try{if(Rt.transition=null,me=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,Ro=0,le&6)throw Error(P(331));var s=le;for(le|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:As(8,d,i)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var v=d.sibling,S=d.return;if(tp(d),d===u){$=null;break}if(v!==null){v.return=S,$=v;break}$=S}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var p=e.current;for($=p;$!==null;){o=$;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,$=h;else e:for(o=p;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ho(9,l)}}catch(C){be(l,l.return,C)}if(l===o){$=null;break e}var m=l.sibling;if(m!==null){m.return=l.return,$=m;break e}$=l.return}}if(le=s,Gn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(zo,e)}catch{}r=!0}return r}finally{me=n,Rt.transition=t}}return!1}function ad(e,t,n){t=fs(n,t),t=Qh(e,t,1),e=$n(e,t,1),t=st(),e!==null&&(pi(e,1,t),ht(e,t))}function be(e,t,n){if(e.tag===3)ad(e,e,n);else for(;t!==null;){if(t.tag===3){ad(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=fs(n,e),e=Hh(t,e,1),t=$n(t,e,1),e=st(),t!==null&&(pi(t,1,e),ht(t,e));break}}t=t.return}}function Cv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Qe&n)===n&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>Le()-Fu?pr(e,0):Pu|=n),ht(e,t)}function dp(e,t){t===0&&(e.mode&1?(t=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):t=1);var n=st();e=gn(e,t),e!==null&&(pi(e,t,n),ht(e,n))}function Ev(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dp(e,n)}function Nv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),dp(e,n)}var fp;fp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,fv(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ke&&t.flags&1048576&&gh(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xi(e,t),e=t.pendingProps;var s=as(t,Ze.current);Vr(t,n),s=bu(null,t,r,e,s,n);var i=Mu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,yo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=Qo,t.stateNode=s,s._reactInternals=t,pa(t,r,e,n),t=va(null,t,r,!0,i,n)):(t.tag=0,ke&&i&&mu(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bv(r),e=Ft(r,e),s){case 0:t=ga(null,t,r,e,n);break e;case 1:t=Jc(null,t,r,e,n);break e;case 11:t=Yc(null,t,r,e,n);break e;case 14:t=Xc(null,t,r,Ft(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ga(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Jc(e,t,r,s,n);case 3:e:{if(Gh(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,kh(e,t),Co(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fs(Error(P(423)),t),t=Zc(e,t,r,n,s);break e}else if(r!==s){s=fs(Error(P(424)),t),t=Zc(e,t,r,n,s);break e}else for(mt=An(t.stateNode.containerInfo.firstChild),gt=t,ke=!0,Dt=null,n=wh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),r===s){t=vn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Ch(t),e===null&&da(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,oa(r,s)?o=null:i!==null&&oa(r,i)&&(t.flags|=32),qh(e,t),nt(e,t,o,n),t.child;case 6:return e===null&&da(t),null;case 13:return Yh(e,t,n);case 4:return Cu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cs(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Yc(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(So,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!dt.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=fn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),fa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vr(t,n),s=Lt(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),Xc(e,t,r,s,n);case 15:return Vh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Xi(e,t),t.tag=1,ft(r)?(e=!0,yo(t)):e=!1,Vr(t,n),Wh(t,r,s),pa(t,r,s,n),va(null,t,r,!0,e,n);case 19:return Xh(e,t,n);case 22:return Kh(e,t,n)}throw Error(P(156,t.tag))};function hp(e,t){return $f(e,t)}function jv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new jv(e,t,n,r)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bv(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===su)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tr:return mr(n.children,s,i,t);case nu:o=8,s|=8;break;case Dl:return e=Mt(12,n,t,s|2),e.elementType=Dl,e.lanes=i,e;case Al:return e=Mt(13,n,t,s),e.elementType=Al,e.lanes=i,e;case $l:return e=Mt(19,n,t,s),e.elementType=$l,e.lanes=i,e;case Cf:return Ko(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sf:o=10;break e;case kf:o=9;break e;case ru:o=11;break e;case su:o=14;break e;case Sn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function mr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Ko(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Cf,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function bl(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Au(e,t,n,r,s,i,o,l,a){return e=new Mv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(i),e}function Rv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pp(e){if(!e)return Vn;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(ft(n))return ph(e,n,t)}return t}function mp(e,t,n,r,s,i,o,l,a){return e=Au(n,r,!0,e,s,i,o,l,a),e.context=pp(null),n=e.current,r=st(),s=Bn(n),i=fn(r,s),i.callback=t??null,$n(n,i,s),e.current.lanes=s,pi(e,s,r),ht(e,r),e}function qo(e,t,n,r){var s=t.current,i=st(),o=Bn(s);return n=pp(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(s,t,o),e!==null&&(Ut(e,s,o,i),qi(e,s,o)),o}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function Lv(){return null}var gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}Go.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));qo(e,t,null,null)};Go.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){qo(null,e,null,null)}),t[mn]=null}};function Go(e){this._internalRoot=e}Go.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&Gf(e)}};function Bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cd(){}function Tv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=To(o);i.call(u)}}var o=mp(t,r,e,0,null,!1,!1,"",cd);return e._reactRootContainer=o,e[mn]=o.current,Js(e.nodeType===8?e.parentNode:e),wr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=To(a);l.call(u)}}var a=Au(e,0,!1,null,null,!1,!1,"",cd);return e._reactRootContainer=a,e[mn]=a.current,Js(e.nodeType===8?e.parentNode:e),wr(function(){qo(t,a,n,r)}),a}function Xo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=To(o);l.call(a)}}qo(t,o,e,s)}else o=Tv(n,t,e,s,r);return To(o)}Hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ls(t.pendingLanes);n!==0&&(lu(t,n|1),ht(t,Le()),!(le&6)&&(hs=Le()+500,Gn()))}break;case 13:wr(function(){var r=gn(e,1);if(r!==null){var s=st();Ut(r,e,1,s)}}),$u(e,1)}};au=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var n=st();Ut(t,e,134217728,n)}$u(e,134217728)}};Vf=function(e){if(e.tag===13){var t=Bn(e),n=gn(e,t);if(n!==null){var r=st();Ut(n,e,t,r)}$u(e,t)}};Kf=function(){return me};qf=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Yl=function(e,t,n){switch(t){case"input":if(Wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Uo(r);if(!s)throw Error(P(90));Nf(r),Wl(r,s)}}}break;case"textarea":bf(e,n);break;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}};Ff=Iu;If=wr;var Ov={usingClientEntryPoint:!1,Events:[gi,Ir,Uo,Of,Pf,Iu]},js={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pv={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Df(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||Lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{zo=Di.inject(Pv),Xt=Di}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ov;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(t))throw Error(P(200));return Rv(e,t,null,n)};yt.createRoot=function(e,t){if(!Bu(e))throw Error(P(299));var n=!1,r="",s=gp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Au(e,1,!1,null,null,n,!1,r,s),e[mn]=t.current,Js(e.nodeType===8?e.parentNode:e),new Uu(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Df(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return wr(e)};yt.hydrate=function(e,t,n){if(!Yo(t))throw Error(P(200));return Xo(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Bu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mp(t,null,e,1,n??null,s,!1,i,o),e[mn]=t.current,Js(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Go(t)};yt.render=function(e,t,n){if(!Yo(t))throw Error(P(200));return Xo(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(P(40));return e._reactRootContainer?(wr(function(){Xo(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};yt.unstable_batchedUpdates=Iu;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Xo(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vp)}catch(e){console.error(e)}}vp(),vf.exports=yt;var Wu=vf.exports,yp,dd=Wu;yp=dd.createRoot,dd.hydrateRoot;var vs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nn,qa,qd,Iv=(qd=class{constructor(){W(this,Nn,Fv);W(this,qa,!1)}setTimeoutProvider(e){z(this,Nn,e)}setTimeout(e,t){return y(this,Nn).setTimeout(e,t)}clearTimeout(e){y(this,Nn).clearTimeout(e)}setInterval(e,t){return y(this,Nn).setInterval(e,t)}clearInterval(e){y(this,Nn).clearInterval(e)}},Nn=new WeakMap,qa=new WeakMap,qd),sr=new Iv;function _v(e){setTimeout(e,0)}var Sr=typeof window>"u"||"Deno"in globalThis;function rt(){}function zv(e,t){return typeof e=="function"?e(t):e}function Ra(e){return typeof e=="number"&&e>=0&&e!==1/0}function xp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qn(e,t){return typeof e=="function"?e(t):e}function Et(e,t){return typeof e=="function"?e(t):e}function fd(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Qu(o,t.options))return!1}else if(!li(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function hd(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(kr(t.options.mutationKey)!==kr(i))return!1}else if(!li(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Qu(e,t){return((t==null?void 0:t.queryKeyHashFn)||kr)(e)}function kr(e){return JSON.stringify(e,(t,n)=>La(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function li(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>li(e[n],t[n])):!1}var Dv=Object.prototype.hasOwnProperty;function wp(e,t){if(e===t)return e;const n=pd(e)&&pd(t);if(!n&&!(La(e)&&La(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],v=t[d];if(f===v){l[d]=f,(n?u<s:Dv.call(e,d))&&a++;continue}if(f===null||v===null||typeof f!="object"||typeof v!="object"){l[d]=v;continue}const S=wp(f,v);l[d]=S,S===f&&a++}return s===o&&a===s?e:l}function Oo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function La(e){if(!md(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!md(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function md(e){return Object.prototype.toString.call(e)==="[object Object]"}function Av(e){return new Promise(t=>{sr.setTimeout(t,e)})}function Ta(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wp(e,t):t}function $v(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Uv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Hu=Symbol();function Sp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kp(e,t){return typeof e=="function"?e(...t):!!e}function Bv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var ir,jn,Gr,Gd,Wv=(Gd=class extends vs{constructor(){super();W(this,ir);W(this,jn);W(this,Gr);z(this,Gr,t=>{if(!Sr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,jn)||this.setEventListener(y(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,jn))==null||t.call(this),z(this,jn,void 0))}setEventListener(t){var n;z(this,Gr,t),(n=y(this,jn))==null||n.call(this),z(this,jn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,ir)!==t&&(z(this,ir,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,ir)=="boolean"?y(this,ir):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ir=new WeakMap,jn=new WeakMap,Gr=new WeakMap,Gd),Vu=new Wv;function Oa(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Qv=_v;function Hv(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Qv;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var _e=Hv(),Yr,bn,Xr,Yd,Vv=(Yd=class extends vs{constructor(){super();W(this,Yr,!0);W(this,bn);W(this,Xr);z(this,Xr,t=>{if(!Sr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,bn)||this.setEventListener(y(this,Xr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,bn))==null||t.call(this),z(this,bn,void 0))}setEventListener(t){var n;z(this,Xr,t),(n=y(this,bn))==null||n.call(this),z(this,bn,t(this.setOnline.bind(this)))}setOnline(t){y(this,Yr)!==t&&(z(this,Yr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,Yr)}},Yr=new WeakMap,bn=new WeakMap,Xr=new WeakMap,Yd),Po=new Vv;function Kv(e){return Math.min(1e3*2**e,3e4)}function Cp(e){return(e??"online")==="online"?Po.isOnline():!0}var Pa=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ep(e){let t=!1,n=0,r;const s=Oa(),i=()=>s.status!=="pending",o=E=>{var R;if(!i()){const g=new Pa(E);v(g),(R=e.onCancel)==null||R.call(e,g)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>Vu.isFocused()&&(e.networkMode==="always"||Po.isOnline())&&e.canRun(),d=()=>Cp(e.networkMode)&&e.canRun(),f=E=>{i()||(r==null||r(),s.resolve(E))},v=E=>{i()||(r==null||r(),s.reject(E))},S=()=>new Promise(E=>{var R;r=g=>{(i()||u())&&E(g)},(R=e.onPause)==null||R.call(e)}).then(()=>{var E;r=void 0,i()||(E=e.onContinue)==null||E.call(e)}),w=()=>{if(i())return;let E;const R=n===0?e.initialPromise:void 0;try{E=R??e.fn()}catch(g){E=Promise.reject(g)}Promise.resolve(E).then(f).catch(g=>{var j;if(i())return;const p=e.retry??(Sr?0:3),h=e.retryDelay??Kv,m=typeof h=="function"?h(n,g):h,C=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(t||!C){v(g);return}n++,(j=e.onFail)==null||j.call(e,n,g),Av(m).then(()=>u()?void 0:S()).then(()=>{t?v(g):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():S().then(w),s)}}var or,Xd,Np=(Xd=class{constructor(){W(this,or)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ra(this.gcTime)&&z(this,or,sr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sr?1/0:5*60*1e3))}clearGcTimeout(){y(this,or)&&(sr.clearTimeout(y(this,or)),z(this,or,void 0))}},or=new WeakMap,Xd),lr,Jr,Ct,ar,$e,ai,ur,It,nn,Jd,qv=(Jd=class extends Np{constructor(t){super();W(this,It);W(this,lr);W(this,Jr);W(this,Ct);W(this,ar);W(this,$e);W(this,ai);W(this,ur);z(this,ur,!1),z(this,ai,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,ar,t.client),z(this,Ct,y(this,ar).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,lr,vd(this.options)),this.state=t.state??y(this,lr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,$e))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,ai),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=vd(this.options);n.data!==void 0&&(this.setState(gd(n.data,n.dataUpdatedAt)),z(this,lr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Ct).remove(this)}setData(t,n){const r=Ta(this.state.data,t,this.options);return Z(this,It,nn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Z(this,It,nn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,$e))==null?void 0:r.promise;return(s=y(this,$e))==null||s.cancel(t),n?n.then(rt).catch(rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,lr))}isActive(){return this.observers.some(t=>Et(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,$e))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,$e))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,$e)&&(y(this,ur)?y(this,$e).cancel({revert:!0}):y(this,$e).cancelRetry()),this.scheduleGc()),y(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,It,nn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,f,v,S,w,E,R,g,p,h;if(this.state.fetchStatus!=="idle"&&((a=y(this,$e))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,$e))return y(this,$e).continueRetry(),y(this,$e).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(C=>C.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(z(this,ur,!0),r.signal)})},i=()=>{const m=Sp(this.options,n),j=(()=>{const L={client:y(this,ar),queryKey:this.queryKey,meta:this.meta};return s(L),L})();return z(this,ur,!1),this.options.persister?this.options.persister(m,j,this):m(j)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,ar),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),z(this,Jr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Z(this,It,nn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),z(this,$e,Ep({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:m=>{m instanceof Pa&&m.revert&&this.setState({...y(this,Jr),fetchStatus:"idle"}),r.abort()},onFail:(m,C)=>{Z(this,It,nn).call(this,{type:"failed",failureCount:m,error:C})},onPause:()=>{Z(this,It,nn).call(this,{type:"pause"})},onContinue:()=>{Z(this,It,nn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const m=await y(this,$e).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(S=(v=y(this,Ct).config).onSuccess)==null||S.call(v,m,this),(E=(w=y(this,Ct).config).onSettled)==null||E.call(w,m,this.state.error,this),m}catch(m){if(m instanceof Pa){if(m.silent)return y(this,$e).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw Z(this,It,nn).call(this,{type:"error",error:m}),(g=(R=y(this,Ct).config).onError)==null||g.call(R,m,this),(h=(p=y(this,Ct).config).onSettled)==null||h.call(p,this.state.data,m,this),m}finally{this.scheduleGc()}}},lr=new WeakMap,Jr=new WeakMap,Ct=new WeakMap,ar=new WeakMap,$e=new WeakMap,ai=new WeakMap,ur=new WeakMap,It=new WeakSet,nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...gd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,Jr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Ct).notify({query:this,type:"updated",action:t})})},Jd);function jp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lt,oe,ui,et,cr,Zr,on,Mn,ci,es,ts,dr,fr,Rn,ns,fe,Os,Fa,Ia,_a,za,Da,Aa,$a,bp,Zd,Gv=(Zd=class extends vs{constructor(t,n){super();W(this,fe);W(this,lt);W(this,oe);W(this,ui);W(this,et);W(this,cr);W(this,Zr);W(this,on);W(this,Mn);W(this,ci);W(this,es);W(this,ts);W(this,dr);W(this,fr);W(this,Rn);W(this,ns,new Set);this.options=n,z(this,lt,t),z(this,Mn,null),z(this,on,Oa()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,oe).addObserver(this),yd(y(this,oe),this.options)?Z(this,fe,Os).call(this):this.updateResult(),Z(this,fe,za).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ua(y(this,oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ua(y(this,oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,fe,Da).call(this),Z(this,fe,Aa).call(this),y(this,oe).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,oe);if(this.options=y(this,lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Et(this.options.enabled,y(this,oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,fe,$a).call(this),y(this,oe).setOptions(this.options),n._defaulted&&!Oo(this.options,n)&&y(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,oe),observer:this});const s=this.hasListeners();s&&xd(y(this,oe),r,this.options,n)&&Z(this,fe,Os).call(this),this.updateResult(),s&&(y(this,oe)!==r||Et(this.options.enabled,y(this,oe))!==Et(n.enabled,y(this,oe))||Qn(this.options.staleTime,y(this,oe))!==Qn(n.staleTime,y(this,oe)))&&Z(this,fe,Fa).call(this);const i=Z(this,fe,Ia).call(this);s&&(y(this,oe)!==r||Et(this.options.enabled,y(this,oe))!==Et(n.enabled,y(this,oe))||i!==y(this,Rn))&&Z(this,fe,_a).call(this,i)}getOptimisticResult(t){const n=y(this,lt).getQueryCache().build(y(this,lt),t),r=this.createResult(n,t);return Xv(this,r)&&(z(this,et,r),z(this,Zr,this.options),z(this,cr,y(this,oe).state)),r}getCurrentResult(){return y(this,et)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,on).status==="pending"&&y(this,on).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){y(this,ns).add(t)}getCurrentQuery(){return y(this,oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,lt).defaultQueryOptions(t),r=y(this,lt).getQueryCache().build(y(this,lt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Z(this,fe,Os).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,et)))}createResult(t,n){var F;const r=y(this,oe),s=this.options,i=y(this,et),o=y(this,cr),l=y(this,Zr),u=t!==r?t.state:y(this,ui),{state:d}=t;let f={...d},v=!1,S;if(n._optimisticResults){const k=this.hasListeners(),D=!k&&yd(t,n),V=k&&xd(t,r,n,s);(D||V)&&(f={...f,...jp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:R}=f;S=f.data;let g=!1;if(n.placeholderData!==void 0&&S===void 0&&R==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,g=!0):k=typeof n.placeholderData=="function"?n.placeholderData((F=y(this,ts))==null?void 0:F.state.data,y(this,ts)):n.placeholderData,k!==void 0&&(R="success",S=Ta(i==null?void 0:i.data,k,n),v=!0)}if(n.select&&S!==void 0&&!g)if(i&&S===(o==null?void 0:o.data)&&n.select===y(this,ci))S=y(this,es);else try{z(this,ci,n.select),S=n.select(S),S=Ta(i==null?void 0:i.data,S,n),z(this,es,S),z(this,Mn,null)}catch(k){z(this,Mn,k)}y(this,Mn)&&(w=y(this,Mn),S=y(this,es),E=Date.now(),R="error");const p=f.fetchStatus==="fetching",h=R==="pending",m=R==="error",C=h&&p,j=S!==void 0,M={status:R,fetchStatus:f.fetchStatus,isPending:h,isSuccess:R==="success",isError:m,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!h,isLoadingError:m&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:m&&j,isStale:Ku(t,n),refetch:this.refetch,promise:y(this,on),isEnabled:Et(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=J=>{M.status==="error"?J.reject(M.error):M.data!==void 0&&J.resolve(M.data)},D=()=>{const J=z(this,on,M.promise=Oa());k(J)},V=y(this,on);switch(V.status){case"pending":t.queryHash===r.queryHash&&k(V);break;case"fulfilled":(M.status==="error"||M.data!==V.value)&&D();break;case"rejected":(M.status!=="error"||M.error!==V.reason)&&D();break}}return M}updateResult(){const t=y(this,et),n=this.createResult(y(this,oe),this.options);if(z(this,cr,y(this,oe).state),z(this,Zr,this.options),y(this,cr).data!==void 0&&z(this,ts,y(this,oe)),Oo(n,t))return;z(this,et,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,ns).size)return!0;const o=new Set(i??y(this,ns));return this.options.throwOnError&&o.add("error"),Object.keys(y(this,et)).some(l=>{const a=l;return y(this,et)[a]!==t[a]&&o.has(a)})};Z(this,fe,bp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,fe,za).call(this)}},lt=new WeakMap,oe=new WeakMap,ui=new WeakMap,et=new WeakMap,cr=new WeakMap,Zr=new WeakMap,on=new WeakMap,Mn=new WeakMap,ci=new WeakMap,es=new WeakMap,ts=new WeakMap,dr=new WeakMap,fr=new WeakMap,Rn=new WeakMap,ns=new WeakMap,fe=new WeakSet,Os=function(t){Z(this,fe,$a).call(this);let n=y(this,oe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rt)),n},Fa=function(){Z(this,fe,Da).call(this);const t=Qn(this.options.staleTime,y(this,oe));if(Sr||y(this,et).isStale||!Ra(t))return;const r=xp(y(this,et).dataUpdatedAt,t)+1;z(this,dr,sr.setTimeout(()=>{y(this,et).isStale||this.updateResult()},r))},Ia=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,oe)):this.options.refetchInterval)??!1},_a=function(t){Z(this,fe,Aa).call(this),z(this,Rn,t),!(Sr||Et(this.options.enabled,y(this,oe))===!1||!Ra(y(this,Rn))||y(this,Rn)===0)&&z(this,fr,sr.setInterval(()=>{(this.options.refetchIntervalInBackground||Vu.isFocused())&&Z(this,fe,Os).call(this)},y(this,Rn)))},za=function(){Z(this,fe,Fa).call(this),Z(this,fe,_a).call(this,Z(this,fe,Ia).call(this))},Da=function(){y(this,dr)&&(sr.clearTimeout(y(this,dr)),z(this,dr,void 0))},Aa=function(){y(this,fr)&&(sr.clearInterval(y(this,fr)),z(this,fr,void 0))},$a=function(){const t=y(this,lt).getQueryCache().build(y(this,lt),this.options);if(t===y(this,oe))return;const n=y(this,oe);z(this,oe,t),z(this,ui,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},bp=function(t){_e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,et))}),y(this,lt).getQueryCache().notify({query:y(this,oe),type:"observerResultsUpdated"})})},Zd);function Yv(e,t){return Et(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yd(e,t){return Yv(e,t)||e.state.data!==void 0&&Ua(e,t,t.refetchOnMount)}function Ua(e,t,n){if(Et(t.enabled,e)!==!1&&Qn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ku(e,t)}return!1}function xd(e,t,n,r){return(e!==t||Et(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ku(e,n)}function Ku(e,t){return Et(t.enabled,e)!==!1&&e.isStaleByTime(Qn(t.staleTime,e))}function Xv(e,t){return!Oo(e.getCurrentResult(),t)}function wd(e){return{onFetch:(t,n)=>{var d,f,v,S,w;const r=t.options,s=(v=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:v.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let E=!1;const R=h=>{Bv(h,()=>t.signal,()=>E=!0)},g=Sp(t.options,t.fetchOptions),p=async(h,m,C)=>{if(E)return Promise.reject();if(m==null&&h.pages.length)return Promise.resolve(h);const L=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:m,direction:C?"backward":"forward",meta:t.options.meta};return R(D),D})(),M=await g(L),{maxPages:F}=t.options,k=C?Uv:$v;return{pages:k(h.pages,M,F),pageParams:k(h.pageParams,m,F)}};if(s&&i.length){const h=s==="backward",m=h?Jv:Sd,C={pages:i,pageParams:o},j=m(r,C);l=await p(C,j,h)}else{const h=e??i.length;do{const m=a===0?o[0]??r.initialPageParam:Sd(r,l);if(a>0&&m==null)break;l=await p(l,m),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var E,R;return(R=(E=t.options).persister)==null?void 0:R.call(E,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Sd(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Jv(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var di,Kt,tt,hr,qt,wn,ef,Zv=(ef=class extends Np{constructor(t){super();W(this,qt);W(this,di);W(this,Kt);W(this,tt);W(this,hr);z(this,di,t.client),this.mutationId=t.mutationId,z(this,tt,t.mutationCache),z(this,Kt,[]),this.state=t.state||Mp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Kt).includes(t)||(y(this,Kt).push(t),this.clearGcTimeout(),y(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,Kt,y(this,Kt).filter(n=>n!==t)),this.scheduleGc(),y(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():y(this,tt).remove(this))}continue(){var t;return((t=y(this,hr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,d,f,v,S,w,E,R,g,p,h,m,C,j,L,M,F;const n=()=>{Z(this,qt,wn).call(this,{type:"continue"})},r={client:y(this,di),meta:this.options.meta,mutationKey:this.options.mutationKey};z(this,hr,Ep({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{Z(this,qt,wn).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{Z(this,qt,wn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,tt).canRun(this)}));const s=this.state.status==="pending",i=!y(this,hr).canStart();try{if(s)n();else{Z(this,qt,wn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=y(this,tt).config).onMutate)==null?void 0:l.call(o,t,this,r));const D=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));D!==this.state.context&&Z(this,qt,wn).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const k=await y(this,hr).start();return await((f=(d=y(this,tt).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((S=(v=this.options).onSuccess)==null?void 0:S.call(v,k,t,this.state.context,r)),await((E=(w=y(this,tt).config).onSettled)==null?void 0:E.call(w,k,null,this.state.variables,this.state.context,this,r)),await((g=(R=this.options).onSettled)==null?void 0:g.call(R,k,null,t,this.state.context,r)),Z(this,qt,wn).call(this,{type:"success",data:k}),k}catch(k){try{await((h=(p=y(this,tt).config).onError)==null?void 0:h.call(p,k,t,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((C=(m=this.options).onError)==null?void 0:C.call(m,k,t,this.state.context,r))}catch(D){Promise.reject(D)}try{await((L=(j=y(this,tt).config).onSettled)==null?void 0:L.call(j,void 0,k,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((F=(M=this.options).onSettled)==null?void 0:F.call(M,void 0,k,t,this.state.context,r))}catch(D){Promise.reject(D)}throw Z(this,qt,wn).call(this,{type:"error",error:k}),k}finally{y(this,tt).runNext(this)}}},di=new WeakMap,Kt=new WeakMap,tt=new WeakMap,hr=new WeakMap,qt=new WeakSet,wn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_e.batch(()=>{y(this,Kt).forEach(r=>{r.onMutationUpdate(t)}),y(this,tt).notify({mutation:this,type:"updated",action:t})})},ef);function Mp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,_t,fi,tf,ey=(tf=class extends vs{constructor(t={}){super();W(this,ln);W(this,_t);W(this,fi);this.config=t,z(this,ln,new Set),z(this,_t,new Map),z(this,fi,0)}build(t,n,r){const s=new Zv({client:t,mutationCache:this,mutationId:++Si(this,fi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,ln).add(t);const n=Ai(t);if(typeof n=="string"){const r=y(this,_t).get(n);r?r.push(t):y(this,_t).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,ln).delete(t)){const n=Ai(t);if(typeof n=="string"){const r=y(this,_t).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,_t).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ai(t);if(typeof n=="string"){const r=y(this,_t).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ai(t);if(typeof n=="string"){const s=(r=y(this,_t).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_e.batch(()=>{y(this,ln).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,ln).clear(),y(this,_t).clear()})}getAll(){return Array.from(y(this,ln))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hd(n,r))}findAll(t={}){return this.getAll().filter(n=>hd(t,n))}notify(t){_e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _e.batch(()=>Promise.all(t.map(n=>n.continue().catch(rt))))}},ln=new WeakMap,_t=new WeakMap,fi=new WeakMap,tf);function Ai(e){var t;return(t=e.options.scope)==null?void 0:t.id}var an,Ln,at,un,hn,to,Ba,nf,ty=(nf=class extends vs{constructor(n,r){super();W(this,hn);W(this,an);W(this,Ln);W(this,at);W(this,un);z(this,an,n),this.setOptions(r),this.bindMethods(),Z(this,hn,to).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,an).defaultMutationOptions(n),Oo(this.options,r)||y(this,an).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,at),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&kr(r.mutationKey)!==kr(this.options.mutationKey)?this.reset():((s=y(this,at))==null?void 0:s.state.status)==="pending"&&y(this,at).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,at))==null||n.removeObserver(this)}onMutationUpdate(n){Z(this,hn,to).call(this),Z(this,hn,Ba).call(this,n)}getCurrentResult(){return y(this,Ln)}reset(){var n;(n=y(this,at))==null||n.removeObserver(this),z(this,at,void 0),Z(this,hn,to).call(this),Z(this,hn,Ba).call(this)}mutate(n,r){var s;return z(this,un,r),(s=y(this,at))==null||s.removeObserver(this),z(this,at,y(this,an).getMutationCache().build(y(this,an),this.options)),y(this,at).addObserver(this),y(this,at).execute(n)}},an=new WeakMap,Ln=new WeakMap,at=new WeakMap,un=new WeakMap,hn=new WeakSet,to=function(){var r;const n=((r=y(this,at))==null?void 0:r.state)??Mp();z(this,Ln,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ba=function(n){_e.batch(()=>{var r,s,i,o,l,a,u,d;if(y(this,un)&&this.hasListeners()){const f=y(this,Ln).variables,v=y(this,Ln).context,S={client:y(this,an),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=y(this,un)).onSuccess)==null||s.call(r,n.data,f,v,S)}catch(w){Promise.reject(w)}try{(o=(i=y(this,un)).onSettled)==null||o.call(i,n.data,null,f,v,S)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=y(this,un)).onError)==null||a.call(l,n.error,f,v,S)}catch(w){Promise.reject(w)}try{(d=(u=y(this,un)).onSettled)==null||d.call(u,void 0,n.error,f,v,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(y(this,Ln))})})},nf),Gt,rf,ny=(rf=class extends vs{constructor(t={}){super();W(this,Gt);this.config=t,z(this,Gt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Qu(s,n);let o=this.get(i);return o||(o=new qv({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){y(this,Gt).has(t.queryHash)||(y(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,Gt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,Gt).get(t)}getAll(){return[...y(this,Gt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>fd(t,r)):n}notify(t){_e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,rf),je,Tn,On,rs,ss,Pn,is,os,sf,ry=(sf=class{constructor(e={}){W(this,je);W(this,Tn);W(this,On);W(this,rs);W(this,ss);W(this,Pn);W(this,is);W(this,os);z(this,je,e.queryCache||new ny),z(this,Tn,e.mutationCache||new ey),z(this,On,e.defaultOptions||{}),z(this,rs,new Map),z(this,ss,new Map),z(this,Pn,0)}mount(){Si(this,Pn)._++,y(this,Pn)===1&&(z(this,is,Vu.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,je).onFocus())})),z(this,os,Po.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,je).onOnline())})))}unmount(){var e,t;Si(this,Pn)._--,y(this,Pn)===0&&((e=y(this,is))==null||e.call(this),z(this,is,void 0),(t=y(this,os))==null||t.call(this),z(this,os,void 0))}isFetching(e){return y(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Tn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,je).get(r.queryHash),i=s==null?void 0:s.state.data,o=zv(t,i);if(o!==void 0)return y(this,je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return _e.batch(()=>y(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,je);_e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,je);return _e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_e.batch(()=>y(this,je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rt).catch(rt)}invalidateQueries(e,t={}){return _e.batch(()=>(y(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_e.batch(()=>y(this,je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,je).build(this,t);return n.isStaleByTime(Qn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rt).catch(rt)}fetchInfiniteQuery(e){return e.behavior=wd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rt).catch(rt)}ensureInfiniteQueryData(e){return e.behavior=wd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Po.isOnline()?y(this,Tn).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,je)}getMutationCache(){return y(this,Tn)}getDefaultOptions(){return y(this,On)}setDefaultOptions(e){z(this,On,e)}setQueryDefaults(e,t){y(this,rs).set(kr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,rs).values()],n={};return t.forEach(r=>{li(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,ss).set(kr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ss).values()],n={};return t.forEach(r=>{li(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,On).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,On).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,je).clear(),y(this,Tn).clear()}},je=new WeakMap,Tn=new WeakMap,On=new WeakMap,rs=new WeakMap,ss=new WeakMap,Pn=new WeakMap,is=new WeakMap,os=new WeakMap,sf),Rp=x.createContext(void 0),yi=e=>{const t=x.useContext(Rp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sy=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Rp.Provider,{value:e,children:t})),Lp=x.createContext(!1),iy=()=>x.useContext(Lp);Lp.Provider;function oy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ly=x.createContext(oy()),ay=()=>x.useContext(ly),uy=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cy=e=>{x.useEffect(()=>{e.clearReset()},[e])},dy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||kp(n,[e.error,r])),fy=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hy=(e,t)=>e.isLoading&&e.isFetching&&!t,py=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function my(e,t,n){var f,v,S,w,E;const r=iy(),s=ay(),i=yi(),o=i.defaultQueryOptions(e);(v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||v.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",fy(o),uy(o,s),cy(s);const l=!i.getQueryCache().get(o.queryHash),[a]=x.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(R=>{const g=d?a.subscribe(_e.batchCalls(R)):rt;return a.updateResult(),g},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x.useEffect(()=>{a.setOptions(o)},[o,a]),py(o,u))throw kd(o,a,s);if(dy({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||w.call(S,o,u),o.experimental_prefetchInRender&&!Sr&&hy(u,r)){const R=l?kd(o,a,s):(E=i.getQueryCache().get(o.queryHash))==null?void 0:E.promise;R==null||R.catch(rt).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function qu(e,t){return my(e,Gv)}function gy(e,t){const n=yi(),[r]=x.useState(()=>new ty(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(_e.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(rt)},[r]);if(s.error&&kp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Cd(e){return e.length>0&&"options"in e[0]}function vy({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:u=!0,title:d,disabled:f=!1,"aria-label":v}){var M;const[S,w]=x.useState(!1),E=x.useRef(null),R=x.useRef(null),p=x.useCallback(()=>{const F=k=>{const D=k.find(V=>V.value===e);return D?D.label:null};if(Cd(n))for(const k of n){const D=F(k.options);if(D)return D}else{const k=F(n);if(k)return k}return r},[e,n,r])();x.useEffect(()=>{if(!S)return;const F=D=>{E.current&&!E.current.contains(D.target)&&w(!1)},k=D=>{var V;D.key==="Escape"&&(w(!1),(V=R.current)==null||V.focus())};return window.addEventListener("click",F),window.addEventListener("keydown",k),()=>{window.removeEventListener("click",F),window.removeEventListener("keydown",k)}},[S]);const h=F=>{var k;t(F),w(!1),(k=R.current)==null||k.focus()},m=F=>F.map(k=>c.jsxs("button",{className:"dropdown-item","data-active":k.value===e,disabled:k.disabled,onClick:()=>!k.disabled&&h(k.value),role:"menuitem",children:[k.icon&&c.jsx("span",{className:"shrink-0",children:k.icon}),c.jsx("span",{className:"flex-1 truncate",children:k.label}),k.value===e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},k.value)),C=((M=R.current)==null?void 0:M.offsetWidth)??0,j=a==="trigger"?C:a==="auto"?void 0:a,L={...j?{width:j,minWidth:j}:{},...l==="right"?{right:0}:{left:0}};return c.jsxs("div",{ref:E,className:"relative",children:[s?c.jsx("div",{onClick:()=>!f&&w(F=>!F),children:s}):c.jsxs("button",{ref:R,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(F=>!F),disabled:f,title:d,"aria-label":v,"aria-haspopup":"listbox","aria-expanded":S,children:[c.jsx("span",{className:"truncate",children:p}),u&&c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${S?"rotate-180":""}`,children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&c.jsx("div",{className:`dropdown-panel ${o}`,style:L,role:"listbox","aria-label":v,children:Cd(n)?n.map((F,k)=>c.jsxs("div",{children:[F.label&&c.jsx("div",{className:"dropdown-label",children:F.label}),m(F.options),k<n.length-1&&c.jsx("div",{className:"dropdown-divider"})]},F.label||k)):m(n)})]})}function yy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,currentLabel:i,itemCount:o,totalCount:l,sortSpec:a,metricKeys:u,onSortChange:d,filterCount:f,onOpenFilters:v,starFilters:S,onToggleStar:w,onClearStars:E,onClearFilters:R,starCounts:g,onViewMode:p,gridItemSize:h,onGridItemSize:m,leftOpen:C,rightOpen:j,onToggleLeft:L,onToggleRight:M,onPrevImage:F,onNextImage:k,canPrevImage:D,canNextImage:V}){const[J,K]=x.useState(!1),se=x.useRef(null);x.useEffect(()=>{if(!J)return;const te=Oe=>{se.current&&!se.current.contains(Oe.target)&&K(!1)};return window.addEventListener("click",te),()=>window.removeEventListener("click",te)},[J]);const de=a??{kind:"builtin",key:"added",dir:"desc"},De=de.dir,I=de.kind==="builtin"&&de.key==="random",H=u!=null&&u.length?u.map(te=>({value:`metric:${te}`,label:te})):[],B=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...H]}],ae=de.kind==="metric"?`metric:${de.key}`:`builtin:${de.key}`,ee=te=>{if(te.startsWith("layout:")){const Oe=te==="layout:masonry"?"adaptive":"grid";p==null||p(Oe)}else d==null||d(Sy(te,de))},Ve=(S||[]).length,Ae=wy(f,Ve),wt=xy(o,l);return c.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1 select-none",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsxs("div",{className:"flex flex-col min-w-0 leading-tight",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted",children:"Scope"}),c.jsx("span",{className:"text-sm font-medium text-text truncate",title:i||"Root",children:i||"Root"})]}),wt&&c.jsx("span",{className:"text-xs text-muted whitespace-nowrap tabular-nums",children:wt}),t&&c.jsxs("button",{className:"btn btn-sm",onClick:n,title:"Back to grid",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]})]}),c.jsxs("div",{className:`flex items-center gap-2 ${t?"opacity-40 pointer-events-none":""}`,children:[c.jsx(vy,{value:ae,onChange:ee,options:B,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),c.jsx("button",{className:"btn btn-icon",onClick:()=>{d&&d(I?de:{...de,dir:De==="desc"?"asc":"desc"})},title:I?"Shuffle":`Sort ${De==="desc"?"descending":"ascending"}`,"aria-label":I?"Shuffle":"Toggle sort direction","aria-disabled":t,children:I?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):De==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})}),c.jsxs("div",{ref:se,className:"relative",children:[c.jsxs("button",{className:`btn ${Ae>0?"btn-active":""}`,onClick:()=>K(te=>!te),"aria-haspopup":"dialog","aria-expanded":J,title:"Filters","aria-disabled":t,children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),c.jsx("span",{children:"Filters"}),Ae>0&&c.jsx("span",{className:"px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:Ae})]}),J&&c.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[c.jsx("div",{className:"dropdown-label",children:"Rating"}),c.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(te=>{const Oe=(S||[]).includes(te),Zt=(g==null?void 0:g[String(te)])??0;return c.jsxs("button",{onClick:()=>w==null?void 0:w(te),className:`dropdown-item justify-between ${Oe?"bg-accent-muted":""}`,children:[c.jsxs("span",{className:Oe?"text-star-active":"text-text",children:["".repeat(te),"".repeat(5-te)]}),c.jsx("span",{className:"text-xs text-muted",children:Zt})]},te)}),c.jsxs("button",{onClick:()=>w==null?void 0:w(0),className:`dropdown-item justify-between ${(S||[]).includes(0)?"bg-accent-muted":""}`,children:[c.jsx("span",{className:"text-text",children:"Unrated"}),c.jsx("span",{className:"text-xs text-muted",children:(g==null?void 0:g["0"])??0})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("div",{className:"dropdown-label",children:"Metrics"}),c.jsxs("button",{className:"dropdown-item",onClick:()=>{K(!1),v==null||v()},children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]}),c.jsx("span",{children:"Open Metrics Panel"}),(f||0)>0&&c.jsxs("span",{className:"ml-auto text-xs text-muted",children:[f," active"]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{R?R():E==null||E()},disabled:Ae===0,children:"Clear all filters"})]})]})]})]}),c.jsx("div",{className:"flex items-center gap-3 justify-center min-w-0",children:t?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:te=>s==null?void 0:s(Number(te.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),c.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):m&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted",children:"Size"}),c.jsx("input",{type:"range",min:80,max:500,step:10,value:h??220,onChange:te=>m(Number(te.target.value)),className:"w-28 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[c.jsxs("div",{className:`flex items-center gap-1 mr-1 ${t?"":"opacity-0 pointer-events-none"}`,"aria-hidden":!t,children:[c.jsx("button",{className:`btn btn-icon ${D?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>D&&(F==null?void 0:F()),"aria-label":"Previous image","aria-disabled":!D,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("button",{className:`btn btn-icon ${V?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>V&&(k==null?void 0:k()),"aria-label":"Next image","aria-disabled":!V,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{className:`btn btn-icon ${C?"":"opacity-50"}`,title:C?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:L,"aria-pressed":C,"aria-label":"Toggle left panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),c.jsx("button",{className:`btn btn-icon ${j?"":"opacity-50"}`,title:j?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:M,"aria-pressed":j,"aria-label":"Toggle right panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),t?c.jsx("div",{className:"w-[240px]","aria-hidden":"true"}):c.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:te=>e(te.target.value),className:"h-8 w-[240px] focus:w-[320px] transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})]})]})}function xy(e,t){if(typeof e!="number")return null;const n=e.toLocaleString();if(typeof t!="number")return`${n} items`;const r=t.toLocaleString();return t===e?`${n} items`:`${n} / ${r} items`}function wy(e,t){return typeof e=="number"?e:t>0?1:0}function Sy(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const Tp=3e4;class At extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function kt(e,t={}){const{timeoutMs:n=Tp,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function $i(e,t={}){const{timeoutMs:n=Tp,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class Op{constructor(t){jr(this,"store",new Map);jr(this,"inflight",new Map);jr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Rr=new Op(60*1024*1024),Wa=new Op(20*1024*1024),Ml={};function ky(){const e=Ml==null?void 0:Ml.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const Xe=ky();const Cy=40*1024*1024,pe={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),kt(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),kt(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return kt(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>kt(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Wa.getOrFetch(e,()=>$i(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Wa.prefetch(e,()=>$i(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Rr.getOrFetch(e,()=>$i(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Rr.has(e)||Rr.isInflight(e)))try{const t=await $i(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Cy&&Rr.set(e,t)}catch{}},cancelPrefetch:e=>{Rr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),kt(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),kt(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>kt(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),kt(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>kt(`${Xe}/views`).promise,saveViews:e=>kt(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Ey=e=>["folder",e];function Pp(e){return qu({queryKey:Ey(e),queryFn:()=>pe.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Rl(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Ny(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function Ll(e){try{return JSON.parse(e)}catch{return}}const jy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function qr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return jy.test(s)?s:"/"}catch{return"/"}}function Ed(){return(window.location.hash||"").replace(/^#/,"")}function by(e){const t=qr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function My(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Ry(e){const n=qr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function Ly(e){return e.endsWith("/_trash_")}const Fp="application/x-lenslet-paths",Ty='[role="treeitem"].drop-target';function Nd(e){var n;return Array.from(((n=e.dataTransfer)==null?void 0:n.types)||[]).includes(Fp)}function Oy(e){document.querySelectorAll(Ty).forEach(t=>{t!==e&&t.classList.remove("drop-target")})}function jd(e){Oy(e),e.classList.add("drop-target")}function bd(e){return e.startsWith("/")?e:`/${e}`}function Py({path:e,isLeaf:t}){const n=yi(),r=x.useCallback(l=>{Nd(l)&&(l.preventDefault(),t&&jd(l.currentTarget))},[t]),s=x.useCallback(l=>{!t||!Nd(l)||(l.preventDefault(),jd(l.currentTarget))},[t]),i=x.useCallback(l=>{const a=l.currentTarget,u=document.elementFromPoint(l.clientX,l.clientY);u&&a.contains(u)||a.classList.remove("drop-target")},[]),o=x.useCallback(async l=>{const a=l.dataTransfer;if(!a)return;l.preventDefault(),l.currentTarget.classList.remove("drop-target");const u=a.getData(Fp),f=(u?JSON.parse(u):[]).filter(Boolean);if(!f.length)return;let v=f[0].split("/").slice(0,-1).join("/")||"/";v=bd(v);const S=bd(e);try{for(const w of f)await pe.moveFile(w,S);n.invalidateQueries({queryKey:["folder",v]}),n.invalidateQueries({queryKey:["folder",S]}),n.setQueryData(["folder",v],w=>!w||!Array.isArray(w.items)?w:{...w,items:w.items.filter(E=>!f.includes(E.path))})}catch{}},[e,n]);return{onDragOver:r,onDragEnter:s,onDragLeave:i,onDrop:o}}const Fy='[role="tree"] [role="treeitem"]';function Iy(){return Array.from(document.querySelectorAll(Fy))}function _y(e,t){var i;const n=Iy(),r=n.findIndex(o=>o===e);if(r===-1)return;let s=r;t==="ArrowDown"?s=Math.min(n.length-1,r+1):t==="ArrowUp"?s=Math.max(0,r-1):t==="Home"?s=0:t==="End"&&(s=n.length-1),(i=n[s])==null||i.focus()}function zy({path:e,isLeaf:t,isExpanded:n,setExpanded:r,onOpen:s}){return x.useCallback(i=>{if(i.key==="Enter"){i.preventDefault(),s(e);return}if(i.key==="ArrowRight"){!t&&!n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.add(e),l}));return}if(i.key==="ArrowLeft"){!t&&n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.delete(e),l}));return}(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="Home"||i.key==="End")&&(i.preventDefault(),_y(i.currentTarget,i.key))},[e,t,n,r,s])}function Dy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=x.useState(new Set(["/"]));x.useEffect(()=>{const f=e.split("/").filter(Boolean),v=["/"];let S="";for(const w of f)S=S?`${S}/${w}`:`/${w}`,v.push(S);u(w=>{const E=new Set(w);for(const R of v)E.add(R);return E})},[e]);const d=o??"h-full overflow-auto bg-panel scrollbar-thin";return c.jsxs("div",{className:d,children:[c.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(f=>c.jsx(Ip,{path:f.path,label:f.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},f.path))}),l&&c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function Ip({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var C,j,L;const u=s.has(e),{data:d}=Pp(e),f=a&&e===a.path?a:d,v=r===e,S=(((C=f==null?void 0:f.dirs)==null?void 0:C.length)??0)===0,w=S?((j=f==null?void 0:f.items)==null?void 0:j.length)??0:0,E=zy({path:e,isLeaf:S,isExpanded:u,setExpanded:i,onOpen:o}),{onDragOver:R,onDragEnter:g,onDragLeave:p,onDrop:h}=Py({path:e,isLeaf:S}),m=M=>{M.stopPropagation(),i(F=>{const k=new Set(F);return k.has(e)?k.delete(e):k.add(e),k})};return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${v?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":S?void 0:u,"aria-selected":v,tabIndex:v?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:M=>{M.preventDefault(),M.stopPropagation(),l&&l(M,e)},onKeyDown:E,onDragOver:R,onDragEnter:g,onDragLeave:p,onDrop:h,children:[c.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:m,children:u?"":""}),c.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Ny(t,28)}),S&&c.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((L=f==null?void 0:f.dirs)==null?void 0:L.map(M=>c.jsx(Ip,{path:My(e,M.name),label:M.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},M.name)))]})}class Ay{constructor(t=400){jr(this,"cache",new Map);jr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Tl=new Ay(400);function $y({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=x.useRef(null),[d,f]=x.useState(()=>Tl.get(e)??null),[v,S]=x.useState(!1),[w,E]=x.useState(()=>!!d);return x.useEffect(()=>{const R=u.current;if(!R)return;const g=new IntersectionObserver(p=>{for(const h of p)h.target===R&&S(h.isIntersecting||h.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return g.observe(R),()=>{g.unobserve(R),g.disconnect()}},[o]),x.useEffect(()=>{if(d||!(v&&!l||a))return;let R=!0;return pe.getThumb(e).then(g=>{if(!R)return;const p=URL.createObjectURL(g);Tl.set(e,p),f(p)}).catch(()=>{}),()=>{R=!1}},[e,d,v,l,a]),x.useEffect(()=>{var g;if(!d){E(!1);return}const R=(g=u.current)==null?void 0:g.querySelector("img");R&&R.complete&&R.naturalWidth>0?E(!0):E(!1)},[d]),x.useEffect(()=>{f(Tl.get(e)??null)},[e]),c.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?c.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>E(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Mr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,E)=>r[E]!==w)))return s;r=f;let S;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(S=Date.now()),s=t(...f),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,E=Math.round((Date.now()-S)*100)/100,R=E/16,g=(p,h)=>{for(p=String(p);p.length<h;)p=" "+p;return p};console.info(`%c ${g(E,5)} /${g(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function Md(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Uy=(e,t)=>Math.abs(e-t)<1.01,By=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Rd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Wy=e=>e,Qy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Hy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Rd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Rd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Ld={passive:!0},Td=typeof window>"u"?!0:"onscrollend"in window,Vy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&Td?()=>{}:By(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:v}=e.options;s=f?n.scrollLeft*(v&&-1||1):n.scrollTop,i(),t(s,d)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,Ld);const u=e.options.useScrollendEvent&&Td;return u&&n.addEventListener("scrollend",a,Ld),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},Ky=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},qy=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Gy{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Wy,rangeExtractor:Qy,onChange:()=>{},measureElement:Ky,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Mr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Mr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Mr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),f=new Array(l).fill(void 0);for(let v=0;v<u;v++){const S=d[v];S&&(f[S.lane]=v)}for(let v=u;v<n;v++){const S=i(v),w=this.laneAssignments.get(v);let E,R;if(w!==void 0&&this.options.lanes>1){E=w;const m=f[E],C=m!==void 0?d[m]:void 0;R=C?C.end+this.options.gap:r+s}else{const m=this.options.lanes===1?d[v-1]:this.getFurthestMeasurement(d,v);R=m?m.end+this.options.gap:r+s,E=m?m.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,E)}const g=a.get(S),p=typeof g=="number"?g:this.options.estimateSize(v),h=R+p;d[v]={index:v,start:R,size:p,end:h,key:S,lane:E},f[E]=v}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Mr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?Yy({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Mr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Mr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Md(r[_p(0,r.length-1,s=>Md(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,v]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),w=this.getOffsetForIndex(n,v);if(!w){console.warn("Failed to get offset for index:",n);return}Uy(w[0],S)||a(v)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const _p=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Yy({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=_p(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(d=>d<n+t);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const Od=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Xy(e){const t=x.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Wu.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=x.useState(()=>new Gy(n));return r.setOptions(n),Od(()=>r._didMount(),[]),Od(()=>r._willUpdate()),r}function Jy(e){return Xy({observeElementRect:Hy,observeElementOffset:Vy,scrollToFn:qy,...e})}function Zy({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s}){const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}}const e0=1.333;function t0({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;const a=(u,d)=>({index:i.length,height:d+s+r,imageH:d,items:u.map(f=>({item:f.item,displayW:f.aspect*d,displayH:d,originalIndex:f.originalIndex}))});for(let u=0;u<e.length;u++){const d=e[u],f=d.w>0&&d.h>0?d.w/d.h:e0;o.push({item:d,aspect:f,originalIndex:u}),l+=f;const v=(o.length-1)*r;if(l*n+v>=t){const w=(t-v)/l;i.push(a(o,w)),o=[],l=0}}return o.length>0&&i.push(a(o,n)),i}function n0(e,t,n){return{mode:"adaptive",rows:t0({items:t,containerWidth:e,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})}}function r0(e,t,n){const{columns:r,cellW:s,mediaH:i,rowH:o}=Zy({containerW:e,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),l=Math.ceil(t.length/Math.max(1,r));return{mode:"grid",columns:r,cellW:s,mediaH:i,rowH:o,rowCount:l}}function s0(e,t,n){const[r,s]=x.useState(0);x.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const f=getComputedStyle(a),v=a.clientWidth-parseFloat(f.paddingLeft)-parseFloat(f.paddingRight);s(v)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=x.useMemo(()=>n.viewMode==="adaptive"?n0(r,t,n):r0(r,t,n),[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=Jy({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return x.useEffect(()=>{o.measure()},[i,o]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function i0(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}const tn=12,o0=44,l0={w:4,h:3},a0=350,u0=120;function c0({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,f]=x.useState(null),[v,S]=x.useState(null),[w,E]=x.useState(!1),[R,g]=x.useState(null),[p,h]=x.useState(null),m=x.useRef(null),C=x.useRef(null),j=x.useRef(null),L=x.useRef(null),M=u,{width:F,layout:k,rowVirtualizer:D,virtualRows:V}=s0(j,e,{gap:tn,targetCell:M,aspect:l0,captionH:o0,viewMode:a}),J=x.useMemo(()=>{const b=new Map;for(let O=0;O<e.length;O++)b.set(e[O].path,O);return b},[e]),K=x.useMemo(()=>{if(k.mode!=="adaptive")return null;const b=new Map;return k.rows.forEach((O,_)=>{let Q=0;O.items.forEach((q,G)=>{const A=Q+q.displayW/2;b.set(q.item.path,{row:_,center:A,order:G}),Q+=q.displayW+tn})}),b},[k]);x.useEffect(()=>{if(!t.length)return;const b=t[0];R!==b&&g(b)},[t,R]);const se=x.useMemo(()=>{if(k.mode!=="adaptive")return null;let b=0;return k.rows.map(O=>{const _=b;return b+=O.height,{start:_,height:O.height}})},[k]),de=x.useRef(null),De=(b,O)=>{try{if(de.current!=null){try{cancelAnimationFrame(de.current)}catch{}de.current=null}const _=b.scrollTop,Q=O-_;if(Math.abs(Q)<1){b.scrollTop=O;return}const q=140,G=performance.now(),A=he=>1-Math.pow(1-he,3),X=he=>{const Me=Math.min(1,(he-G)/q),ie=A(Me);b.scrollTop=_+Q*ie,Me<1?de.current=requestAnimationFrame(X):de.current=null};de.current=requestAnimationFrame(X)}catch{b.scrollTop=O}},[I,H]=x.useState(!1);x.useEffect(()=>{const b=j.current;if(!b)return;let O=0;const _=()=>{H(!0),window.clearTimeout(O),O=window.setTimeout(()=>H(!1),u0)};return b.addEventListener("scroll",_,{passive:!0}),()=>b.removeEventListener("scroll",_)},[]);const B=()=>{C.current!=null&&(window.clearTimeout(C.current),C.current=null)},ae=()=>{if(B(),E(!1),f(null),m.current){try{URL.revokeObjectURL(m.current)}catch{}m.current=null}S(null)},ee=b=>{I||(B(),f(b),E(!1),C.current=window.setTimeout(async()=>{C.current=null;try{const O=await pe.getFile(b),_=URL.createObjectURL(O);if(m.current)try{URL.revokeObjectURL(m.current)}catch{}m.current=_,S(_),E(!0)}catch{}},a0))},Ve=k.mode==="grid"?k.columns:Math.max(1,Math.floor(F/(M+tn))),Ae=(b,O)=>{if(k.mode!=="adaptive")return null;const _=k.rows[b];if(!_)return null;let Q=0,q=null;for(const G of _.items){const A=Q+G.displayW/2,X=Math.abs(A-O);(!q||X<q.dist)&&(q={path:G.item.path,dist:X}),Q+=G.displayW+tn}return q?q.path:null},wt=(b,O)=>{var ie,Ot,Ke,Pe;if(!e.length)return null;const _=b??e[0].path;if(k.mode!=="adaptive"){const xe=i0(e,Ve,_,O);return xe==="open"||xe==null?xe:((ie=e[xe])==null?void 0:ie.path)??null}const Q=K==null?void 0:K.get(_);if(!Q)return _;const q=J.get(_)??0,G=O.key;if(G==="Enter")return"open";if(G==="ArrowRight"||G==="d")return((Ot=e[Math.min(e.length-1,q+1)])==null?void 0:Ot.path)??_;if(G==="ArrowLeft"||G==="a")return((Ke=e[Math.max(0,q-1)])==null?void 0:Ke.path)??_;const A=G==="ArrowDown"||G==="s"?1:G==="ArrowUp"||G==="w"?-1:0;if(A===0)return null;const X=Q.row+A;if(X<0||X>=(((Pe=k.rows)==null?void 0:Pe.length)??0))return _;const he=Q.center;return Ae(X,he)??_},te=b=>{var O;try{(O=document.getElementById(`cell-${encodeURIComponent(b)}`))==null||O.focus()}catch{}},Oe=b=>{try{pe.prefetchFile(b),pe.prefetchThumb(b)}catch{}},Zt=(b,O)=>{g(b),h(b);const _=!!O.shiftKey,Q=!!(O.ctrlKey||O.metaKey);if(_){const q=L.current??R??t[0]??b,G=J.get(q)??e.findIndex(X=>X.path===q),A=J.get(b)??e.findIndex(X=>X.path===b);if(G!==-1&&A!==-1){const X=Math.min(G,A),he=Math.max(G,A),Me=e.slice(X,he+1).map(ie=>ie.path);if(Q){const ie=new Set(t);for(const Ot of Me)ie.add(Ot);r(Array.from(ie))}else r(Me)}else r([b])}else if(Q){const q=new Set(t);q.has(b)?q.delete(b):q.add(b),r(Array.from(q)),L.current=b}else r([b]),L.current=b;I||Oe(b),te(b)},en=(b,O)=>{var _,Q;try{const q=ve.has(b)&&t.length>0?t:[b];(_=O.dataTransfer)==null||_.setData("application/x-lenslet-paths",JSON.stringify(q)),O.dataTransfer&&(O.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const A=O.currentTarget.querySelector(".cell-content img"),X=document.createElement("div");X.className="drag-ghost";const he=document.createElement("img");he.draggable=!1,he.alt="drag",A&&A.src&&(he.src=A.src),X.appendChild(he),document.body.appendChild(X);const Me=X.getBoundingClientRect().width||150;(Q=O.dataTransfer)==null||Q.setDragImage(X,Math.round(Me/2),0);const ie=()=>{try{X.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",ie),window.removeEventListener("pointerup",ie),document.removeEventListener("visibilitychange",ie)};window.addEventListener("dragend",ie),window.addEventListener("pointerup",ie),document.addEventListener("visibilitychange",ie)}catch{}};x.useEffect(()=>{const b=j.current;if(!b)return;const O=_=>{var ie,Ot,Ke;const Q=wt(p,_);if(Q==null)return;if(_.preventDefault(),Q==="open"){p&&s(p);return}const q=e.find(Pe=>Pe.path===Q);if(!q)return;h(q.path),g(q.path),r([q.path]);try{L.current=q.path}catch{}const G=k.mode==="grid"?Math.floor((J.get(q.path)??0)/Math.max(1,k.columns)):((ie=K==null?void 0:K.get(q.path))==null?void 0:ie.row)??0,A=b.scrollTop,X=A+b.clientHeight,he=k.mode==="adaptive"?((Ot=se==null?void 0:se[G])==null?void 0:Ot.start)??0:G*k.rowH,Me=k.mode==="adaptive"?he+(((Ke=se==null?void 0:se[G])==null?void 0:Ke.height)??0):he+k.rowH;(he<A||Me>X)&&De(b,he),te(q.path)};return b.addEventListener("keydown",O),()=>{b.removeEventListener("keydown",O)}},[e,p,Ve,s,k,K,se,J]),x.useLayoutEffect(()=>{var G;const b=j.current;if(!b||!n||!t||t.length===0)return;const O=t[0],_=J.get(O);if(_==null||_<0)return;let Q=0;if(k.mode==="grid")Q=Math.floor(_/Math.max(1,k.columns));else{let A=0,X=k.rows.length-1;for(;A<=X;){const he=A+X>>1,Me=k.rows[he];if(_>=Me.items[0].originalIndex&&_<=Me.items[Me.items.length-1].originalIndex){Q=he;break}_<Me.items[0].originalIndex?X=he-1:A=he+1}}const q=k.mode==="adaptive"?((G=se==null?void 0:se[Q])==null?void 0:G.start)??0:Q*k.rowH;try{b.scrollTop=q}catch{}},[n,k,se]);const ve=x.useMemo(()=>new Set(t),[t]),Wt=!!(d&&v&&w);x.useEffect(()=>{var b;(b=j.current)==null||b.focus()},[]),x.useEffect(()=>{var b;if(l){try{(b=j.current)==null||b.blur()}catch{}try{h(null)}catch{}}},[l]);const Yn=p?`cell-${encodeURIComponent(p)}`:void 0;return c.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${Wt?"cursor-zoom-in":""}`,ref:j,tabIndex:0,"aria-activedescendant":Yn,onMouseDown:()=>{var b;return(b=j.current)==null?void 0:b.focus()},style:{"--gap":`${tn}px`},children:c.jsxs("div",{className:"relative w-full",style:{height:D.getTotalSize()},children:[V.map(b=>{var G;let O=[],_={},Q="";if(k.mode==="adaptive"){const A=k.rows[b.index];if(!A)return null;O=A.items,_={height:A.height,transform:`translate3d(0, ${b.start}px, 0)`,display:"flex",gap:tn,paddingBottom:tn},Q="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const A=b.index*k.columns;O=e.slice(A,A+k.columns).map(he=>({item:he,displayW:k.cellW,displayH:k.mediaH})),_={transform:`translate3d(0, ${b.start}px, 0)`,gridTemplateColumns:`repeat(${k.columns}, minmax(0, 1fr))`,gap:tn,paddingBottom:tn},Q="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const q=b.index===((G=V[0])==null?void 0:G.index);try{if(!I)for(const{item:A}of O)try{pe.prefetchThumb(A.path)}catch{}}catch{}return c.jsx("div",{className:Q,role:"row",style:_,children:O.map(({item:A,displayW:X,displayH:he})=>{const Me=!l&&(R===A.path||ve.has(A.path)),ie=k.mode==="adaptive"?{width:X}:{},Ot=k.mode==="adaptive"?{height:he}:{},Ke=k.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return c.jsxs("div",{id:`cell-${encodeURIComponent(A.path)}`,className:`relative min-w-0 ${Me?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Me,tabIndex:p===A.path?0:-1,onFocus:()=>h(A.path),draggable:!0,style:ie,onDragStart:Pe=>en(A.path,Pe),onDragEnd:()=>{},onContextMenu:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),i&&i(Pe,A.path)},children:[c.jsxs("div",{className:Ke,style:Ot,onMouseEnter:()=>{try{pe.prefetchFile(A.path)}catch{}},onDoubleClick:()=>s(A.path),onMouseLeave:ae,children:[c.jsx("div",{className:"cell-content absolute inset-0",children:c.jsx($y,{path:A.path,name:A.name,selected:Me,displayW:X,displayH:he,ioRoot:j.current,isScrolling:I,priority:q,onClick:Pe=>Zt(A.path,Pe)})}),c.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:()=>ee(A.path),onMouseLeave:ae,children:c.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:c.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[c.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),c.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),c.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[c.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:A.name,children:(()=>{const Pe=(o||"").trim();if(!Pe)return A.name;const xe=A.name,Xn=xe.toLowerCase().indexOf(Pe.toLowerCase());if(Xn===-1)return A.name;const Nr=xe.slice(0,Xn),xi=xe.slice(Xn,Xn+Pe.length),ys=xe.slice(Xn+Pe.length);return c.jsxs(c.Fragment,{children:[Nr,c.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:xi}),ys]})})()}),c.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[A.w,"  ",A.h]})]})]},A.path)})},b.key)}),d&&v&&w&&Wu.createPortal(c.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:c.jsx("img",{src:v,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${Ve}`)})}function Qa(e,t){const[n,r]=x.useState(null),s=x.useRef(null);return x.useEffect(()=>{if(!e){if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}r(null);return}let i=!0;return e().then(o=>{if(!i)return;const l=URL.createObjectURL(o);if(s.current)try{URL.revokeObjectURL(s.current)}catch{}s.current=l,r(l)}).catch(()=>{}),()=>{i=!1}},t),x.useEffect(()=>()=>{if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}},[]),n}function d0(){const[e,t]=x.useState(1),[n,r]=x.useState(0),[s,i]=x.useState(0),[o,l]=x.useState(1),[a,u]=x.useState(!1),[d,f]=x.useState(!1),[v,S]=x.useState(!1),w=x.useRef(null),E=x.useRef(null),R=()=>{const h=w.current,m=E.current;if(!h||!m||!m.naturalWidth||!m.naturalHeight)return;const C=h.getBoundingClientRect(),j=C.width/m.naturalWidth,L=C.height/m.naturalHeight,M=Math.min(1,Math.min(j,L));l(M);const F=m.naturalWidth*M,k=m.naturalHeight*M;r((C.width-F)/2),i((C.height-k)/2)};return x.useEffect(()=>{const h=w.current;if(!h)return;const m=new ResizeObserver(()=>{try{requestAnimationFrame(()=>R())}catch{R()}});return m.observe(h),()=>m.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:d,setDragging:f,visible:v,setVisible:S,containerRef:w,imgRef:E,fitAndCenter:R,handleWheel:h=>{h.preventDefault();const m=h.deltaY>0?-1:1,C=1.2,j=.05,L=8,M=w.current;if(!M)return;const F=M.getBoundingClientRect(),k=h.clientX-F.left,D=h.clientY-F.top;t(V=>{const J=Math.min(L,Math.max(j,V*Math.pow(C,m))),K=J/V;return r(se=>k-K*(k-se)),i(se=>D-K*(D-se)),Number(J.toFixed(4))})},handleMouseDown:h=>{const m=w.current,C=E.current;if(!m||!C||h.target!==C)return;const L=m.getBoundingClientRect();if(h.clientX<L.left||h.clientX>L.right||h.clientY<L.top||h.clientY>L.bottom)return;h.preventDefault(),h.stopPropagation(),f(!0);const M=h.clientX,F=h.clientY,k=n,D=s,V=K=>{r(k+(K.clientX-M)),i(D+(K.clientY-F))},J=()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",J),f(!1)};window.addEventListener("mousemove",V),window.addEventListener("mouseup",J)}}}function f0({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const{scale:o,setScale:l,tx:a,setTx:u,ty:d,setTy:f,base:v,ready:S,setReady:w,dragging:E,visible:R,setVisible:g,containerRef:p,imgRef:h,fitAndCenter:m,handleWheel:C,handleMouseDown:j}=d0(),L=Qa(()=>pe.getFile(e),[e]),M=Qa(()=>pe.getThumb(e),[e]),F=x.useCallback(()=>{g(!1),window.setTimeout(t,110)},[t,g]);return x.useEffect(()=>{requestAnimationFrame(()=>{var k;g(!0),(k=p.current)==null||k.focus()})},[e]),x.useEffect(()=>{const k=D=>{D.key==="Escape"?F():(D.key==="ArrowRight"||D.key==="d")&&n?n(1):(D.key==="ArrowLeft"||D.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[t,n]),x.useEffect(()=>{w(!1)},[L]),x.useEffect(()=>{r&&r(v*o*100)},[v,o,r]),x.useEffect(()=>{if(s==null)return;const k=p.current;if(!k){i&&i();return}const D=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,v))),V=k.getBoundingClientRect(),J=V.width/2,K=V.height/2;l(se=>{const de=D/se;return u(De=>J-de*(J-De)),f(De=>K-de*(K-De)),Number(D.toFixed(4))}),i&&i()},[s,v,i]),c.jsxs("div",{ref:p,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${E?"cursor-grabbing select-none":""} ${R?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:F,onWheel:C,onMouseDown:j,onKeyDown:k=>{k.key==="Tab"&&k.preventDefault()},children:[c.jsxs("button",{"aria-label":"Close",onClick:k=>{k.stopPropagation(),F()},className:"btn btn-sm absolute top-3 right-3 z-10",title:"Close (Esc)",children:[c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"M6 6l12 12"})]}),"Close"]}),M&&c.jsx("img",{src:M,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:k=>k.preventDefault(),style:{transform:`translate(${a}px, ${d}px) scale(${v})`,transformOrigin:"0 0",opacity:S?0:.5,filter:"blur(0.25px)"}}),L&&c.jsx("img",{ref:h,src:L,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:k=>{k.preventDefault()},onLoad:k=>{m(),l(1);try{requestAnimationFrame(()=>w(!0))}catch{w(!0)}},onClick:k=>k.stopPropagation(),style:{transform:`translate(${a}px, ${d}px) scale(${v*o})`,transformOrigin:"0 0",opacity:S?.99:0,WebkitUserDrag:"none"}})]})}const zp=e=>["item",e],h0={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function p0(e){return qu({queryKey:zp(e),queryFn:()=>pe.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function m0(e){const t=yi();return gy({mutationFn:n=>pe.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(zp(e),n)}})}const g0=6;async function Pd(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await Dp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(g0,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const bs=new Map,Ol=new Map;async function Dp(e,t,n){const r=n??new Date().toISOString(),s=bs.get(e)||{};bs.set(e,{...s,...t});const i=Ol.get(e);if(i)return i;const o=(async()=>{try{for(;bs.has(e);){const l=bs.get(e);if(bs.delete(e),!l)break;let a;try{a=await pe.getSidecar(e)}catch{a={...h0,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let d=0;const f=3;for(;d<f;)try{await pe.putSidecar(e,u);break}catch(v){if(d++,d>=f)throw v;await new Promise(S=>setTimeout(S,200*Math.pow(2,d)))}}}finally{Ol.delete(e)}})();return Ol.set(e,o),o}function Ap(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function no(e){if(Array.isArray(e))return e.map(no);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,no(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return no(r)}catch{return e}}return e}function Pl(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function v0(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function y0(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function x0(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=Pl(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${Pl(o)}</span>`,r=i+o.length}return n+=Pl(e.slice(r)),n}const w0=["overview","notes","metadata","basics"],Fd="lenslet.inspector.sections",S0={overview:!0,notes:!0,metadata:!0,basics:!0};function Ui({title:e,open:t,onToggle:n,actions:r,children:s,contentClassName:i}){const[o,l]=x.useState(t),[a,u]=x.useState(t?"open":"closed");return x.useEffect(()=>{if(t){l(!0);const f=window.requestAnimationFrame(()=>u("open"));return()=>window.cancelAnimationFrame(f)}u("closing");const d=window.setTimeout(()=>{l(!1),u("closed")},140);return()=>window.clearTimeout(d)},[t]),c.jsxs("div",{className:"border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsxs("button",{type:"button",onClick:n,"aria-expanded":t,className:"flex items-center gap-2 text-xs uppercase tracking-wide text-muted hover:text-text transition-colors",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${t?"rotate-90":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"m9 18 6-6-6-6"})}),c.jsx("span",{children:e})]}),r]}),o&&c.jsx("div",{className:"inspector-section-body","data-state":a,"aria-hidden":!t,children:c.jsx("div",{className:i??"px-3 pb-3",children:s})})]})}function k0({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=p0(e??""),a=m0(e??""),[u,d]=x.useState(S0),f=x.useCallback(b=>{d(O=>({...O,[b]:!O[b]}))},[]),[v,S]=x.useState(""),[w,E]=x.useState(""),[R,g]=x.useState(""),[p,h]=x.useState(null),[m,C]=x.useState("idle"),[j,L]=x.useState(!1),[M,F]=x.useState(null),[k,D]=x.useState({}),J=x.useMemo(()=>{const b=n.find(O=>O.path===e);return b&&b.star!==void 0?b.star:null},[n,e])??(o==null?void 0:o.star)??null,K=t.length>1,se=x.useMemo(()=>{const b=new Set(t);return n.filter(O=>b.has(O.path))},[n,t]),de=x.useMemo(()=>se.reduce((b,O)=>b+(O.size||0),0),[se]);x.useEffect(()=>{o&&(S((o.tags||[]).join(", ")),E(o.notes||"")),g(""),h(null),C("idle"),L(!1)},[o==null?void 0:o.updated_at,e]);const De=x.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]),I=x.useCallback(b=>{if(K&&t.length){Pd(t,b);return}if(!e)return;const O=De();a.mutate({...O,...b,updated_at:new Date().toISOString(),updated_by:"web"})},[K,t,e,De,a]);x.useEffect(()=>{if(!e)return;const b=O=>{if(Ap(O.target))return;const _=O.key;if(!/^[0-5]$/.test(_))return;O.preventDefault();const Q=_==="0"?null:Number(_);if(K&&t.length){I({star:Q}),s==null||s(t,Q);return}I({star:Q}),s==null||s([e],Q)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,K,t,I,s]);const H=Qa(e?()=>pe.getThumb(e):null,[e]),B=e?e.split("/").pop()||e:"",ae=x.useMemo(()=>{var O;if(B.includes("."))return B.slice(B.lastIndexOf(".")+1).toUpperCase();const b=n.find(_=>_.path===e);return(O=b==null?void 0:b.type)!=null&&O.includes("/")?b.type.split("/")[1].toUpperCase():""},[B,n,e]),ee=x.useMemo(()=>n.find(b=>b.path===e),[n,e]),Ve=x.useMemo(()=>e?(ee==null?void 0:ee.source)??e:"",[ee,e]),Ae=x.useCallback(async()=>{if(e){C("loading"),h(null);try{const b=await pe.getMetadata(e),O=no(b.meta),_=JSON.stringify(O,null,2);g(_),C("loaded")}catch(b){const O=b instanceof Error?b.message:"Failed to load metadata";g(O),h(O),C("error")}}},[e]),wt=x.useCallback(()=>{var b;R&&((b=navigator.clipboard)==null||b.writeText(R).then(()=>{L(!0),setTimeout(()=>L(!1),1200)}).catch(O=>{const _=O instanceof Error?O.message:"Copy failed";h(_)}))},[R]),te=x.useMemo(()=>R?x0(R):"",[R]),Oe=m==="loading"?"Loading metadata":R||"PNG metadata not loaded yet.",Zt=m==="loaded"&&!!R,en=Zt?"h-48":"h-24",ve=K?null:c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[R&&c.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:wt,disabled:!R,title:"Copy metadata",children:j?"Copied":"Copy"}),c.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Ae,disabled:!e||m==="loading",children:m==="loading"?"Loading":"Load meta"})]});x.useEffect(()=>{try{const b=localStorage.getItem(Fd);if(!b)return;const O=JSON.parse(b);if(!O||typeof O!="object")return;const _={};for(const Q of w0)typeof O[Q]=="boolean"&&(_[Q]=O[Q]);Object.keys(_).length>0&&d(Q=>({...Q,..._}))}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem(Fd,JSON.stringify(u))}catch{}},[u]);const Wt=x.useCallback((b,O)=>{var _;O&&((_=navigator.clipboard)==null||_.writeText(O).then(()=>{F(b),setTimeout(()=>F(Q=>Q===b?null:Q),1e3)}).catch(()=>{}))},[]),Yn=x.useCallback((b,O)=>{if(O&&!k[b]){const _=O.offsetHeight;_&&D(Q=>Q[b]?Q:{...Q,[b]:_})}},[k]);return i?c.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!K&&c.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel select-none",children:[H&&c.jsx("img",{src:H,alt:"thumb",className:"block w-full h-full object-contain"}),!!ae&&c.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md select-none",children:ae})]})}),c.jsx(Ui,{title:K?"Selection":"Item",open:u.overview,onToggle:()=>f("overview"),children:K?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),c.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Rl(de)]})]}):c.jsx("div",{className:"font-mono text-text break-all",title:B,children:B})}),c.jsxs(Ui,{title:"Notes & Tags",open:u.notes,onToggle:()=>f("notes"),contentClassName:"px-3 pb-3 space-y-1.5",children:[c.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:w,onChange:b=>E(b.target.value),onBlur:()=>{I({notes:w})},"aria-label":K?"Notes for selected items":"Notes"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:K?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),c.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:v,onChange:b=>S(b.target.value),onBlur:()=>{I({tags:y0(v)})},"aria-label":K?"Tags for selected items":"Tags"})]})]}),!K&&c.jsxs(Ui,{title:"Metadata",open:u.metadata,onToggle:()=>f("metadata"),actions:ve,children:[c.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${en} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:Zt?c.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:te}}):Oe}),p&&c.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:p})]}),c.jsxs(Ui,{title:"Basics",open:u.basics,onToggle:()=>f("basics"),children:[c.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[c.jsx("span",{className:"text-muted w-16 shrink-0",children:K?"Rating (all)":"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(b=>{const O=(J??0)>=b;return c.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${O?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const _=J===b&&!K?null:b;K&&t.length?(s==null||s(t,_),Pd(t,{star:_})):e&&(s==null||s([e],_),Dp(e,{star:_}))},title:`${b} star${b>1?"s":""} (key ${b})`,"aria-label":`${b} star${b>1?"s":""}`,"aria-pressed":J===b,children:O?"":""},b)})})]}),!K&&ee&&c.jsxs("div",{className:"text-[12px] space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("dimensions",`${ee.w}${ee.h}`),children:"Dimensions"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:b=>Yn("dimensions",b),style:k.dimensions?{minHeight:k.dimensions}:void 0,children:M==="dimensions"?"Copied":`${ee.w}${ee.h}`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("size",Rl(ee.size)),children:"Size"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:b=>Yn("size",b),style:k.size?{minHeight:k.size}:void 0,children:M==="size"?"Copied":Rl(ee.size)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("type",ee.type),children:"Type"}),c.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:b=>Yn("type",b),style:k.type?{minHeight:k.type}:void 0,children:M==="type"?"Copied":ee.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Ve&&Wt("source",Ve),children:"Source"}),c.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:b=>Yn("source",b),style:k.source?{minHeight:k.source}:void 0,children:M==="source"?"Copied":Ve})]}),(()=>{const b=ee.metrics||null;if(!b)return null;const O=Object.entries(b).filter(([,G])=>G!=null);if(!O.length)return null;const _=O.sort(([G],[A])=>G.localeCompare(A)),Q=_.slice(0,12),q=_.length-Q.length;return c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),c.jsxs("div",{className:"space-y-1",children:[Q.map(([G,A])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-24 shrink-0",children:G}),c.jsx("span",{className:"font-mono text-text text-right",children:v0(A)})]},G)),q>0&&c.jsxs("div",{className:"text-[11px] text-muted",children:["+",q," more"]})]})]})})()]})]}),c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):c.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const C0=(e,t)=>["search",e,t];function E0(e,t){return qu({enabled:!!e.trim(),queryKey:C0(e,t),queryFn:()=>pe.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const N0=new Set([0,1,2,3,4,5]),Gu=new Set(["<","<=",">",">="]),j0=/^\d{4}-\d{2}-\d{2}$/;function b0(e,t){return!t||!t.and.length?e:e.filter(n=>M0(n,t.and))}function M0(e,t){for(const n of t)if(!R0(e,n))return!1;return!0}function R0(e,t){var n,r,s,i,o,l,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(o=t.urlContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.source??e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.source??e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const f=Date.parse(e.addedAt);if(Number.isNaN(f))return!1;const v=zd(u,!1),S=zd(d,!0);return!(v!=null&&f<v||S!=null&&f>S)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const f=e.w;return!Number.isFinite(f)||f<=0?!1:Dd(f,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const f=e.h;return!Number.isFinite(f)||f<=0?!1:Dd(f,u,d)}if("metricRange"in t){const{key:u,min:d,max:f}=t.metricRange,v=(a=e.metrics)==null?void 0:a[u];return!(v==null||v<d||v>f)}return!0}function Ha(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=Q0(r);s&&n.push(s)}return{and:n}}function Id(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function Fl(e,t){return $p(e,t)}function L0(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function $p(e,t){const n=Bs(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function T0(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function Up(e,t){const n=Bs(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function O0(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function Bp(e,t){const n=bt(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function P0(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function Wp(e,t){const n=bt(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function F0(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function Qp(e,t){const n=bt(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function I0(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function Hp(e,t){const n=bt(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function _0(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function Vp(e,t){const n=bt(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function z0(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function Kp(e,t){const n=bt(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function D0(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function Va(e,t){const n=Fo((t==null?void 0:t.from)??null),r=Fo((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function A0(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function ro(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!Gu.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function $0(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function so(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!Gu.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function U0(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function B0(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function W0(e){const t=Ha(e);return t?t.and.length:0}function Q0(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=Bs(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=Bs((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=Bs((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=bt((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=bt((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=bt((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=bt((o=e.commentsNotContains)==null?void 0:o.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=bt((l=e.urlContains)==null?void 0:l.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=bt((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=Fo((u==null?void 0:u.from)??null),f=Fo((u==null?void 0:u.to)??null);return!d&&!f?null:{dateRange:{...d?{from:d}:{},...f?{to:f}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=_d(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=_d(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",f=Ka(u.min),v=Ka(u.max);return!d||f==null||v==null||f>v?null:{metricRange:{key:d,min:f,max:v}}}return null}function Bs(e){if(!Array.isArray(e))return[];const t=[],n=new Set;for(const r of e){const s=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;!Number.isInteger(s)||!N0.has(s)||n.has(s)||(n.add(s),t.push(s))}return t}function bt(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function Fo(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function _d(e,t){if(typeof e!="string"||!Gu.has(e))return null;const n=Ka(t);return n==null?null:{op:e,value:n}}function zd(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&j0.test(n)?r+24*60*60*1e3-1:r}function Dd(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function Ka(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function Ad(e){return e.addedAt?Date.parse(e.addedAt):0}function Io(e,t){return e.name.localeCompare(t.name)}function H0(e,t){const n=Ad(e),r=Ad(t);return n===r?Io(e,t):n-r}function V0(e){return(t,n)=>{var i,o;const r=(i=t.metrics)==null?void 0:i[e],s=(o=n.metrics)==null?void 0:o[e];return r==null&&s==null?Io(t,n):r==null?1:s==null?-1:r===s?Io(t,n):r-s}}function K0(e,t){return b0(e,t)}function q0(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function G0(e,t){const n=q0(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function Y0(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return G0(e,i)}let r=H0;t.kind==="metric"?r=V0(t.key):t.key==="name"&&(r=Io);const s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Ws=40,$d=[5,4,3,2,1],Ud=["<","<=",">",">="];function X0({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o,onChangeFilters:l}){const a=c.jsx(J0,{filters:i,onChangeFilters:l});return n.length?c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx(Z0,{items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o})]}):c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function J0({filters:e,onChangeFilters:t}){const n=x.useMemo(()=>L0(e),[e]),r=x.useMemo(()=>T0(e),[e]),s=x.useMemo(()=>O0(e)??"",[e]),i=x.useMemo(()=>P0(e)??"",[e]),o=x.useMemo(()=>F0(e)??"",[e]),l=x.useMemo(()=>I0(e)??"",[e]),a=x.useMemo(()=>_0(e)??"",[e]),u=x.useMemo(()=>z0(e)??"",[e]),d=x.useMemo(()=>D0(e)??{},[e]),f=x.useMemo(()=>Qd(d.from),[d.from]),v=x.useMemo(()=>Qd(d.to),[d.to]),S=x.useMemo(()=>A0(e),[e]),w=x.useMemo(()=>$0(e),[e]),[E,R]=x.useState((S==null?void 0:S.op)??">="),[g,p]=x.useState((w==null?void 0:w.op)??">=");x.useEffect(()=>{S!=null&&S.op&&R(S.op)},[S==null?void 0:S.op]),x.useEffect(()=>{w!=null&&w.op&&p(w.op)},[w==null?void 0:w.op]);const h=(m,C)=>{const j=new Set(n),L=new Set(r);m==="include"?j.has(C)?j.delete(C):(j.add(C),L.delete(C)):L.has(C)?L.delete(C):(L.add(C),j.delete(C));let M=$p(e,Array.from(j));M=Up(M,Array.from(L)),t(M)};return c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[$d.map(m=>{const C=n.includes(m);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",m),"aria-pressed":C,title:`Include ${m} star${m>1?"s":""}`,children:[m,""]},`stars-in-${m}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${n.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",0),"aria-pressed":n.includes(0),title:"Include unrated",children:"None"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[$d.map(m=>{const C=r.includes(m);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",m),"aria-pressed":C,title:`Exclude ${m} star${m>1?"s":""}`,children:[m,""]},`stars-out-${m}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${r.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",0),"aria-pressed":r.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:s,placeholder:"e.g. draft",onChange:m=>t(Bp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:i,placeholder:"e.g. v1",onChange:m=>t(Wp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,placeholder:"e.g. hero",onChange:m=>t(Qp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,placeholder:"e.g. todo",onChange:m=>t(Hp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,placeholder:"e.g. s3://bucket",onChange:m=>t(Vp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:u,placeholder:"e.g. http://",onChange:m=>t(Kp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:f,onChange:m=>t(Va(e,{from:m.target.value||null,to:d.to??null}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:v,onChange:m=>t(Va(e,{from:d.from??null,to:m.target.value||null}))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:E,onChange:m=>{const C=m.target.value;R(C),S&&t(ro(e,{op:C,value:S.value}))},children:Ud.map(m=>c.jsx("option",{value:m,children:m},`w-${m}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:S?String(S.value):"",min:0,placeholder:"px",onChange:m=>{const C=m.target.value;if(!C){t(ro(e,null));return}const j=Number(C);Number.isFinite(j)&&t(ro(e,{op:E,value:j}))}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:g,onChange:m=>{const C=m.target.value;p(C),w&&t(so(e,{op:C,value:w.value}))},children:Ud.map(m=>c.jsx("option",{value:m,children:m},`h-${m}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:w?String(w.value):"",min:0,placeholder:"px",onChange:m=>{const C=m.target.value;if(!C){t(so(e,null));return}const j=Number(C);Number.isFinite(j)&&t(so(e,{op:g,value:j}))}})]})]})]})]})]})]})}function Z0({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o}){const l=r&&n.includes(r)?r:n[0],a=x.useMemo(()=>l?Bd(e,l,Ws):null,[e,l]),u=x.useMemo(()=>l&&a?Bd(t,l,Ws,a):null,[t,l,a]),d=l?U0(i,l):null,[f,v]=x.useState(null),[S,w]=x.useState(!1),E=x.useRef(null),R=f??d,g=a?{min:a.min,max:a.max}:null,p=(j,L)=>{var D;if(!g||!l)return;const M=(D=E.current)==null?void 0:D.getBoundingClientRect();if(!M)return;const F=qp((j.clientX-M.left)/M.width),k=g.min+(g.max-g.min)*F;v(V=>{const J=(V==null?void 0:V.min)??k,se=tx(J,k);return L&&o(l,se),se})},h=j=>{var L;!g||!l||(j.preventDefault(),w(!0),v(null),(L=E.current)==null||L.setPointerCapture(j.pointerId),p(j,!1))},m=j=>{S&&p(j,!1)},C=j=>{var L;S&&(w(!1),(L=E.current)==null||L.releasePointerCapture(j.pointerId),p(j,!0),setTimeout(()=>v(null),0))};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),c.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,onChange:j=>s(j.target.value),children:n.map(j=>c.jsx("option",{value:j,children:j},j))})]}),a?c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[c.jsxs("span",{children:["Population: ",a.count]}),c.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),c.jsxs("svg",{ref:E,viewBox:`0 0 ${Ws} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:h,onPointerMove:m,onPointerUp:C,children:[Wd(a.bins,"#2e3a4b"),u&&Wd(u.bins,"#3a8fff"),R&&g&&ex(R,g)]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[c.jsx("span",{children:Bi(g==null?void 0:g.min)}),R?c.jsxs("span",{className:"text-text",children:[Bi(R.min),"  ",Bi(R.max)]}):c.jsx("span",{children:"Drag to filter"}),c.jsx("span",{children:Bi(g==null?void 0:g.max)})]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx("button",{className:"btn btn-sm",onClick:()=>l&&o(l,null),children:"Clear"})})]}):c.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]})}function Bd(e,t,n,r){var u;const s=[];for(const d of e){const f=(u=d.metrics)==null?void 0:u[t];f==null||Number.isNaN(f)||s.push(f)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const d of s){const f=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));l[f]+=1}return{bins:l,min:i,max:o,count:s.length}}function Wd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return c.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function ex(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Ws*qp(Math.min(n,r)),i=Ws*Math.abs(r-n);return c.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function tx(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function qp(e){return e<0?0:e>1?1:e}function Bi(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Qd(e){return e?e.length>=10?e.slice(0,10):e:""}function nx(e){const[t,n]=x.useState(250),[r,s]=x.useState(240),i=x.useRef(t),o=x.useRef(r);return x.useEffect(()=>{i.current=t},[t]),x.useEffect(()=>{o.current=r},[r]),x.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const f=Number(u.getItem("rightW"));Number.isFinite(f)&&f>0&&s(f)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),v=w=>{const E=w.clientX-f.left,R=200,g=Math.max(R,f.width-o.current-200),p=Math.min(Math.max(E,R),g);n(p)},S=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",S)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),v=w=>{const E=w.clientX-f.left,R=f.width-E,g=240,p=Math.max(g,f.width-i.current-200),h=Math.min(Math.max(R,g),p);s(h)},S=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",v),window.addEventListener("mouseup",S)}}}function rx({x:e,y:t,items:n}){return c.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>c.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&c.jsx("span",{className:"shrink-0",children:r.icon}),c.jsx("span",{children:r.label})]},s))})}function Hd(e){return JSON.stringify(e,null,2)}function Vd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function Il(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function sx(e,t=250){const[n,r]=oo.useState(e);return oo.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Re={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function ix(){var ec;const[e,t]=x.useState("/"),[n,r]=x.useState(""),[s,i]=x.useState([]),[o,l]=x.useState(null),[a,u]=x.useState(0),[d,f]=x.useState(null),[v,S]=x.useState(100),[w,E]=x.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[R,g]=x.useState(()=>Date.now()),[p,h]=x.useState("adaptive"),[m,C]=x.useState(220),[j,L]=x.useState(!0),[M,F]=x.useState(!0),[k,D]=x.useState("folders"),[V,J]=x.useState([]),[K,se]=x.useState(null),[de,De]=x.useState({}),I=x.useRef(null),H=x.useRef(null),B=x.useRef(!1),ae=x.useRef(null),{leftW:ee,rightW:Ve,onResizeLeft:Ae,onResizeRight:wt}=nx(I),[te,Oe]=x.useState(!1),[Zt,en]=x.useState(null);x.useEffect(()=>{const N=qr(Ed());t(N);const T=()=>{const U=qr(Ed());l(null),t(ne=>ne===U?ne:(u(ue=>ue+1),U))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:ve,refetch:Wt,isLoading:Yn,isError:b}=Pp(e),O=n.trim().length>0,_=sx(n,250),Q=x.useMemo(()=>_.trim().replace(/\s+/g," "),[_]),q=E0(O?Q:"",e),G=x.useMemo(()=>Id(w.filters),[w.filters]),A=x.useMemo(()=>{var T;return(O?((T=q.data)==null?void 0:T.items)??[]:(ve==null?void 0:ve.items)??[]).map(U=>({...U,star:de[U.path]!==void 0?de[U.path]:U.star}))},[O,q.data,ve,de]),X=x.useMemo(()=>{const N=K0(A,w.filters);return Y0(N,w.sort,R)},[A,w.filters,w.sort,R]),he=A.length,Me=X.length,ie=x.useMemo(()=>X.map(N=>N.path),[X]),Ot=x.useMemo(()=>{const N=A,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const U of N){const ne=de[U.path]??U.star??0;T[String(ne)]=(T[String(ne)]||0)+1}return T},[A,de]),Ke=x.useMemo(()=>{const N=new Set;let T=0;for(const U of A){const ne=U.metrics;if(ne)for(const ue of Object.keys(ne))N.add(ue);if(T+=1,T>=250&&N.size>0)break}return Array.from(N).sort()},[A]);x.useEffect(()=>{Ke.length&&E(N=>{const T=N.selectedMetric&&Ke.includes(N.selectedMetric)?N.selectedMetric:Ke[0];return T===N.selectedMetric?N:{...N,selectedMetric:T}})},[Ke]),x.useEffect(()=>{w.sort.kind==="metric"&&(Ke.includes(w.sort.key)||E(N=>({...N,sort:{kind:"builtin",key:"added",dir:N.sort.dir}})))},[Ke,w.sort]);const Pe=x.useMemo(()=>W0(w.filters),[w.filters]),xe=x.useCallback(N=>{E(T=>({...T,filters:N(T.filters)}))},[]),Xn=x.useCallback(N=>{E(T=>({...T,filters:N}))},[]),Nr=x.useCallback(()=>{xe(N=>Fl(N,[]))},[xe]),xi=x.useCallback(()=>{E(N=>({...N,filters:{and:[]}}))},[]),ys=x.useCallback((N,T)=>{xe(U=>B0(U,N,T))},[xe]),Yu=x.useMemo(()=>{var T,U,ne,ue,St,Jn;const N=[];for(const ce of w.filters.and)if("stars"in ce){const Y=ce.stars||[];if(!Y.length)continue;N.push({id:"stars",label:`Rating in: ${_l(Y)}`,onRemove:()=>Nr()})}else if("starsIn"in ce){const Y=ce.starsIn.values||[];if(!Y.length)continue;N.push({id:"stars-in",label:`Rating in: ${_l(Y)}`,onRemove:()=>Nr()})}else if("starsNotIn"in ce){const Y=ce.starsNotIn.values||[];if(!Y.length)continue;N.push({id:"stars-not-in",label:`Rating not in: ${_l(Y)}`,onRemove:()=>xe(ge=>Up(ge,[]))})}else if("nameContains"in ce){const Y=(T=ce.nameContains.value)==null?void 0:T.trim();if(!Y)continue;N.push({id:"name-contains",label:`Filename contains: ${Y}`,onRemove:()=>xe(ge=>Bp(ge,""))})}else if("nameNotContains"in ce){const Y=(U=ce.nameNotContains.value)==null?void 0:U.trim();if(!Y)continue;N.push({id:"name-not-contains",label:`Filename not: ${Y}`,onRemove:()=>xe(ge=>Wp(ge,""))})}else if("commentsContains"in ce){const Y=(ne=ce.commentsContains.value)==null?void 0:ne.trim();if(!Y)continue;N.push({id:"comments-contains",label:`Comments contain: ${Y}`,onRemove:()=>xe(ge=>Qp(ge,""))})}else if("commentsNotContains"in ce){const Y=(ue=ce.commentsNotContains.value)==null?void 0:ue.trim();if(!Y)continue;N.push({id:"comments-not-contains",label:`Comments not: ${Y}`,onRemove:()=>xe(ge=>Hp(ge,""))})}else if("urlContains"in ce){const Y=(St=ce.urlContains.value)==null?void 0:St.trim();if(!Y)continue;N.push({id:"url-contains",label:`URL contains: ${Y}`,onRemove:()=>xe(ge=>Vp(ge,""))})}else if("urlNotContains"in ce){const Y=(Jn=ce.urlNotContains.value)==null?void 0:Jn.trim();if(!Y)continue;N.push({id:"url-not-contains",label:`URL not: ${Y}`,onRemove:()=>xe(ge=>Kp(ge,""))})}else if("dateRange"in ce){const{from:Y,to:ge}=ce.dateRange;if(!Y&&!ge)continue;N.push({id:"date-range",label:`Date: ${ax(Y,ge)}`,onRemove:()=>xe(Qt=>Va(Qt,null))})}else if("widthCompare"in ce){const{op:Y,value:ge}=ce.widthCompare;N.push({id:"width-compare",label:`Width ${Y} ${ge}`,onRemove:()=>xe(Qt=>ro(Qt,null))})}else if("heightCompare"in ce){const{op:Y,value:ge}=ce.heightCompare;N.push({id:"height-compare",label:`Height ${Y} ${ge}`,onRemove:()=>xe(Qt=>so(Qt,null))})}else if("metricRange"in ce){const{key:Y,min:ge,max:Qt}=ce.metricRange;N.push({id:`metric:${Y}`,label:`${Y}: ${cx(ge,Qt)}`,onRemove:()=>ys(Y,null)})}return N},[w.filters,Nr,ys,xe]),Gp=x.useCallback(N=>{const T=new Set(G);T.has(N)?T.delete(N):T.add(N),E(U=>({...U,filters:Fl(U.filters,Array.from(T))}))},[G]),Yp=x.useCallback(()=>{L(!0),D("metrics")},[]),Xp=x.useCallback(N=>{E(T=>({...T,sort:N})),N.kind==="builtin"&&N.key==="random"&&g(Date.now())},[]),Xu=x.useCallback(N=>{if(N==="/"||N==="")return"Lenslet | Root";const T=N.split("/").filter(Boolean);if(!T.length)return"Lenslet";const U=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${U}`:`/${U}`}`},[]),Jp=x.useMemo(()=>ux(e),[e]);x.useEffect(()=>{document.title=Xu(e)},[e,Xu]),x.useEffect(()=>{let N=!0;return pe.getViews().then(T=>{N&&J(T.views||[])}).catch(()=>{N&&J([])}),()=>{N=!1}},[]),x.useEffect(()=>{O&&(i([]),l(null))},[O]),x.useEffect(()=>{try{const N=localStorage.getItem(Re.sortKey),T=localStorage.getItem(Re.sortDir),U=localStorage.getItem(Re.sortSpec),ne=localStorage.getItem(Re.starFilters),ue=localStorage.getItem(Re.filterAst),St=localStorage.getItem(Re.selectedMetric),Jn=localStorage.getItem(Re.viewMode),ce=localStorage.getItem(Re.gridItemSize),Y=localStorage.getItem(Re.leftOpen),ge=localStorage.getItem(Re.rightOpen),tc=(qe=>{if(!qe)return null;const Fe=Ll(qe);return!Fe||typeof Fe!="object"?null:Fe.kind==="builtin"&&(Fe.key==="name"||Fe.key==="added"||Fe.key==="random")&&(Fe.dir==="asc"||Fe.dir==="desc")||Fe.kind==="metric"&&typeof Fe.key=="string"&&Fe.key.length>0&&(Fe.dir==="asc"||Fe.dir==="desc")?Fe:null})(U)??{kind:"builtin",key:N==="name"||N==="added"||N==="random"?N:"added",dir:T==="asc"||T==="desc"?T:"desc"};tc.key==="random"&&g(Date.now());let el=(qe=>{if(!qe)return null;const Fe=Ll(qe);return Ha(Fe)})(ue)??{and:[]};if(ne){const qe=Ll(ne);if(Array.isArray(qe)){const Fe=qe.filter(im=>[0,1,2,3,4,5].includes(im));el=Fl(el,Fe)}}if(E(qe=>({...qe,sort:tc,filters:el,selectedMetric:St||qe.selectedMetric})),(Jn==="grid"||Jn==="adaptive")&&h(Jn),ce){const qe=Number(ce);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(Y==="0"||Y==="false")&&L(!1),(ge==="0"||ge==="false")&&F(!1)}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem(Re.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Re.sortDir,w.sort.dir),localStorage.setItem(Re.sortSpec,JSON.stringify(w.sort));const N=Id(w.filters);localStorage.setItem(Re.starFilters,JSON.stringify(N)),localStorage.setItem(Re.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Re.selectedMetric,w.selectedMetric):localStorage.removeItem(Re.selectedMetric),localStorage.setItem(Re.viewMode,p),localStorage.setItem(Re.gridItemSize,String(m)),localStorage.setItem(Re.leftOpen,j?"1":"0"),localStorage.setItem(Re.rightOpen,M?"1":"0")}catch{}},[w,p,m,j,M]),x.useEffect(()=>{const N=H.current;if(!N)return;const T=ne=>Math.min(500,Math.max(80,ne)),U=ne=>{ne.ctrlKey&&(ne.preventDefault(),C(ue=>T(ue+(ne.deltaY<0?20:-20))))};return N.addEventListener("wheel",U,{passive:!1}),()=>N.removeEventListener("wheel",U)},[]),x.useEffect(()=>{if(!o)return;const N=ie.indexOf(o);if(N===-1)return;const T=[ie[N-2],ie[N-1],ie[N+1],ie[N+2]].filter(U=>!!U);for(const U of T)pe.prefetchFile(U),pe.prefetchThumb(U)},[o,ie]),x.useEffect(()=>{var T;if(!((T=ve==null?void 0:ve.items)!=null&&T.length))return;const N=ve.items.slice(0,5);for(const U of N)pe.prefetchFile(U.path)},[ve==null?void 0:ve.path,ve==null?void 0:ve.items]);const wi=x.useCallback(N=>{l(null);const T=qr(N);t(T),by(T)},[]),Zp=x.useCallback(async()=>{const N=window.prompt("Save Smart Folder as:","New Smart Folder");if(!N)return;const T=ox(N,V),U={id:T,name:N,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},ne=[...V.filter(ue=>ue.id!==T),U];J(ne),se(T);try{await pe.saveViews({version:1,views:ne})}catch(ue){if(ue instanceof At&&ue.status===403){const St=new Blob([JSON.stringify({version:1,views:ne},null,2)],{type:"application/json"});io(St,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",ue)}},[e,w,V]);x.useEffect(()=>{if(!K)return;const N=V.find(ne=>ne.id===K);if(!N){se(null);return}const T=N.pool.path===e,U=JSON.stringify(N.view)===JSON.stringify(w);(!T||!U)&&se(null)},[K,V,e,w]);const em=x.useCallback(N=>{l(N),B.current||(window.history.pushState({viewer:!0},"",window.location.href),B.current=!0)},[]),Ju=x.useCallback(()=>{l(null),B.current&&(B.current=!1,window.history.back());const N=ae.current;if(N){const T=document.getElementById(`cell-${encodeURIComponent(N)}`);T==null||T.focus()}},[]);x.useEffect(()=>{const N=()=>{o&&(B.current=!1,l(null))};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[o]),x.useEffect(()=>{const N=I.current;if(!N)return;const T=ue=>{ue.dataTransfer&&Array.from(ue.dataTransfer.types).includes("Files")&&(ue.preventDefault(),Oe(!0))},U=ue=>{const St=ue.relatedTarget;St&&N.contains(St)||Oe(!1)},ne=async ue=>{var ce,Y;ue.preventDefault(),Oe(!1);const St=Array.from(((ce=ue.dataTransfer)==null?void 0:ce.files)??[]);if(!St.length)return;if(!((((Y=ve==null?void 0:ve.dirs)==null?void 0:Y.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ge of St)try{await pe.uploadFile(e,ge)}catch(Qt){console.error(`Failed to upload ${ge.name}:`,Qt)}Wt()};return N.addEventListener("dragover",T),N.addEventListener("dragleave",U),N.addEventListener("drop",ne),()=>{N.removeEventListener("dragover",T),N.removeEventListener("dragleave",U),N.removeEventListener("drop",ne)}},[e,(ec=ve==null?void 0:ve.dirs)==null?void 0:ec.length,Wt]),x.useEffect(()=>{const N=()=>en(null),T=U=>{U.key==="Escape"&&en(null)};return window.addEventListener("click",N),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",N),window.removeEventListener("keydown",T)}},[]),x.useEffect(()=>{const N=T=>{if(!Ap(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?F(U=>!U):L(U=>!U);return}if(!o){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),wi(Ry(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(X.map(U=>U.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const U=document.querySelector(".toolbar-right .input");U==null||U.focus()}}}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,X,s,o,wi]);const tm=j?`${ee}px`:"0px",nm=M?`${Ve}px`:"0px",Zu=o??s[0]??null,Jo=Zu?ie.indexOf(Zu):-1,rm=Jo>0,sm=Jo>=0&&Jo<ie.length-1,Zo=x.useCallback(N=>{if(!ie.length)return;const T=o??s[0];if(!T)return;const U=ie.indexOf(T);if(U===-1)return;const ne=Math.min(ie.length-1,Math.max(0,U+N)),ue=ie[ne];!ue||ue===T||(o&&l(ue),i([ue]))},[ie,o,s]);return c.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:I,style:{"--left":tm,"--right":nm},children:[c.jsx(yy,{onSearch:r,viewerActive:!!o,onBack:Ju,zoomPercent:o?v:void 0,onZoomPercentChange:N=>f(N),currentLabel:Jp,itemCount:Me,totalCount:he,sortSpec:w.sort,metricKeys:Ke,onSortChange:Xp,filterCount:Pe,onOpenFilters:Yp,starFilters:G,onToggleStar:Gp,onClearStars:Nr,onClearFilters:xi,starCounts:Ot,viewMode:p,onViewMode:h,gridItemSize:m,onGridItemSize:C,leftOpen:j,rightOpen:M,onToggleLeft:()=>L(N=>!N),onToggleRight:()=>F(N=>!N),onPrevImage:()=>Zo(-1),onNextImage:()=>Zo(1),canPrevImage:rm,canNextImage:sm}),j&&c.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":k==="folders",onClick:()=>D("folders"),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":k==="metrics",onClick:()=>D("metrics"),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]})})]}),c.jsx("div",{className:"ml-10 h-full",children:k==="folders"?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:Zp,title:"Save current view as Smart Folder",children:"+ New"})]}),V.length?c.jsx("div",{className:"flex flex-col gap-1",children:V.map(N=>{const T=N.id===K;return c.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var ne;se(N.id);const U=Ha((ne=N.view)==null?void 0:ne.filters)??{and:[]};E({...N.view,filters:U}),wi(N.pool.path),D("metrics")},children:N.name},N.id)})}):c.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),c.jsx(Dy,{current:e,roots:[{label:"Root",path:"/"}],data:ve,onOpen:N=>{se(null),wi(N)},onContextMenu:(N,T)=>{N.preventDefault(),en({x:N.clientX,y:N.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):c.jsx(X0,{items:A,filteredItems:X,metricKeys:Ke,selectedMetric:w.selectedMetric,onSelectMetric:N=>E(T=>({...T,selectedMetric:N})),filters:w.filters,onChangeRange:ys,onChangeFilters:Xn})}),c.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:Ae})]}),c.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:H,children:[c.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Yu.length>0&&c.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel border-b border-border",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),Yu.map(N=>c.jsxs("span",{className:"filter-chip",children:[c.jsx("span",{className:"truncate max-w-[240px]",title:N.label,children:N.label}),c.jsx("button",{className:"filter-chip-remove","aria-label":`Clear filter ${N.label}`,onClick:N.onRemove,children:""})]},N.id)),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:xi,children:"Clear all"})]})}),!1,c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(c0,{items:X,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:N=>{try{ae.current=N}catch{}em(N),i([N])},highlight:O?Q:"",suppressSelectionHighlight:!!o,viewMode:p,targetCellSize:m,onContextMenuItem:(N,T)=>{N.preventDefault();const U=s.length?s:[T];en({x:N.clientX,y:N.clientY,kind:"grid",payload:{paths:U}})}})})]}),M&&c.jsx(k0,{path:s[0]??null,selectedPaths:s,items:X,onResize:wt,onStarChanged:(N,T)=>{De(U=>{const ne={...U};for(const ue of N)ne[ue]=T;return ne})}}),o&&c.jsx(f0,{path:o,onClose:Ju,onZoomChange:N=>S(Math.round(N)),requestedZoomPercent:d,onZoomRequestConsumed:()=>f(null),onNavigate:Zo}),te&&c.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),Zt&&c.jsx(dx,{ctx:Zt,current:e,items:X,refetch:Wt,setCtx:en})]})}function ox(e,t){const n=lx(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function lx(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function _l(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function ax(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function ux(e){if(e==="/"||e==="")return"Root";const t=e.split("/").filter(Boolean);return t.length?t.length<=2?`/${t.join("/")}`:`.../${t.slice(-2).join("/")}`:"Root"}function cx(e,t){return`${Kd(e)}${Kd(t)}`}function Kd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function io(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function dx({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=Ly(t),o=(h,m)=>h==="/"?`/${m}`:`${h}/${m}`,l=yi(),[a,u]=oo.useState(!1),[d,f]=oo.useState(null),v=()=>new Date().toISOString().replace(/[:.]/g,"-"),S=h=>{const m=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const j=typeof C[1]=="string"?C[1]:"";return m(j)}})},w=h=>{const m=qr(h);return m===""?"/":m},E=async()=>{const h=w(e.payload.path||"/");u(!0);try{await pe.refreshFolder(h),S(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),Wa.evictPrefix(h),Rr.evictPrefix(h)}catch(m){console.error("Failed to refresh folder:",m)}finally{u(!1),s(null)}},R=async h=>{const m=[h],C=new Set,j=[];for(;m.length;){const L=m.pop();if(!C.has(L)){C.add(L);try{const M=await pe.getFolder(L);j.push(...M.items);for(const F of M.dirs)F.kind==="branch"&&m.push(o(L,F.name))}catch(M){console.error(`Failed to fetch folder ${L}:`,M)}}}return j},g=h=>async()=>{f(h);const m=e.payload.path||t;try{const C=await R(m),j=Il(C),L=h==="csv"?Vd(j):Hd(j),M=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",F=m==="/"?"root":(m.replace(/^\/+/,"")||"root").replace(/\//g,"_");io(new Blob([L],{type:M}),`metadata_${F}_${v()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{f(null),s(null)}},p=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:E},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:g("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:g("json")}]:(()=>{const h=e.payload.paths??[],m=[];return m.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await pe.moveFile(C,"/_trash_")}catch(j){console.error(`Failed to trash ${C}:`,j)}r(),s(null)}}}),i&&(m.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await pe.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),m.push({label:"Recover",onClick:async()=>{for(const C of h)try{const L=(await pe.getSidecar(C)).original_position,M=L&&L.split("/").slice(0,-1).join("/")||"/";await pe.moveFile(C,M)}catch(j){console.error(`Failed to recover ${C}:`,j)}r(),s(null)}})),h.length&&(m.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{f("csv");try{const C=new Set(h),j=n.filter(F=>C.has(F.path)),L=Il(j),M=Vd(L);io(new Blob([M],{type:"text/csv;charset=utf-8"}),`metadata_selection_${v()}.csv`)}finally{f(null),s(null)}}}),m.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{f("json");try{const C=new Set(h),j=n.filter(F=>C.has(F.path)),L=Il(j),M=Hd(L);io(new Blob([M],{type:"application/json;charset=utf-8"}),`metadata_selection_${v()}.json`)}finally{f(null),s(null)}}})),m})();return c.jsx(rx,{x:e.x,y:e.y,items:p})}const fx=new ry({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function hx(){return c.jsx(sy,{client:fx,children:c.jsx(ix,{})})}yp(document.getElementById("root")).render(c.jsx(hx,{}));
