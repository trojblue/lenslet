var xp=Object.defineProperty;var Hu=e=>{throw TypeError(e)};var Sp=(e,t,n)=>t in e?xp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>Sp(e,typeof t!="symbol"?t+"":t,n),Yo=(e,t,n)=>t.has(e)||Hu("Cannot "+n);var v=(e,t,n)=>(Yo(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Hu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),I=(e,t,n,r)=>(Yo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X=(e,t,n)=>(Yo(e,t,"access private method"),n);var vi=(e,t,n,r)=>({set _(s){I(e,t,s,n)},get _(){return v(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ld={exports:{}},To={},Fd={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Pp=Symbol.for("react.memo"),Op=Symbol.for("react.lazy"),Wu=Symbol.iterator;function _p(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Id=Object.assign,Dd={};function fs(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||zd}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=fs.prototype;function Aa(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||zd}var Ua=Aa.prototype=new Ad;Ua.constructor=Aa;Id(Ua,fs.prototype);Ua.isPureReactComponent=!0;var Vu=Array.isArray,Ud=Object.prototype.hasOwnProperty,$a={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ud.call(t,r)&&!$d.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:fi,type:e,key:i,ref:o,props:s,_owner:$a.current}}function Lp(e,t){return{$$typeof:fi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===fi}function Fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ku=/\/+/g;function Xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fp(""+e.key):t.toString(36)}function Ui(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fi:case Ep:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Xo(o,0):r,Vu(s)?(n="",e!=null&&(n=e.replace(Ku,"$&/")+"/"),Ui(s,t,n,"",function(u){return u})):s!=null&&(Ba(s)&&(s=Lp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ku,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Vu(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Xo(i,l);o+=Ui(i,t,n,a,s)}else if(a=_p(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Xo(i,l++),o+=Ui(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wi(e,t,n){if(e==null)return e;var r=[],s=0;return Ui(e,r,"","",function(i){return t.call(n,i,s++)}),r}function zp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},$i={transition:null},Ip={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:$i,ReactCurrentOwner:$a};function Qd(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:wi,forEach:function(e,t,n){wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=fs;ee.Fragment=Cp;ee.Profiler=Np;ee.PureComponent=Aa;ee.StrictMode=bp;ee.Suspense=Tp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ip;ee.act=Qd;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Id({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Ud.call(t,a)&&!$d.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:fi,type:e.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:Mp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jp,_context:e},e.Consumer=e};ee.createElement=Bd;ee.createFactory=function(e){var t=Bd.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Rp,render:e}};ee.isValidElement=Ba;ee.lazy=function(e){return{$$typeof:Op,_payload:{_status:-1,_result:e},_init:zp}};ee.memo=function(e,t){return{$$typeof:Pp,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=$i.transition;$i.transition={};try{e()}finally{$i.transition=t}};ee.unstable_act=Qd;ee.useCallback=function(e,t){return ot.current.useCallback(e,t)};ee.useContext=function(e){return ot.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ee.useEffect=function(e,t){return ot.current.useEffect(e,t)};ee.useId=function(){return ot.current.useId()};ee.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return ot.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};ee.useRef=function(e){return ot.current.useRef(e)};ee.useState=function(e){return ot.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return ot.current.useTransition()};ee.version="18.3.1";Fd.exports=ee;var k=Fd.exports;const to=kp(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=k,Ap=Symbol.for("react.element"),Up=Symbol.for("react.fragment"),$p=Object.prototype.hasOwnProperty,Bp=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$p.call(t,r)&&!Qp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ap,type:e,key:i,ref:o,props:s,_owner:Bp.current}}To.Fragment=Up;To.jsx=Hd;To.jsxs=Hd;Ld.exports=To;var g=Ld.exports,Wd={exports:{}},St={},Vd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,D){var Q=_.length;_.push(D);e:for(;0<Q;){var oe=Q-1>>>1,le=_[oe];if(0<s(le,D))_[oe]=D,_[Q]=le,Q=oe;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var D=_[0],Q=_.pop();if(Q!==D){_[0]=Q;e:for(var oe=0,le=_.length,et=le>>>1;oe<et;){var W=2*(oe+1)-1,Fe=_[W],ge=W+1,Oe=_[ge];if(0>s(Fe,Q))ge<le&&0>s(Oe,Fe)?(_[oe]=Oe,_[ge]=Q,oe=ge):(_[oe]=Fe,_[W]=Q,oe=W);else if(ge<le&&0>s(Oe,Q))_[oe]=Oe,_[ge]=Q,oe=ge;else break e}}return D}function s(_,D){var Q=_.sortIndex-D.sortIndex;return Q!==0?Q:_.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],m=1,p=null,y=3,x=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(_){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=_)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function f(_){if(S=!1,c(_),!w)if(n(a)!==null)w=!0,me(C);else{var D=n(u);D!==null&&fe(f,D.startTime-_)}}function C(_,D){w=!1,S&&(S=!1,h(j),j=-1),x=!0;var Q=y;try{for(c(D),p=n(a);p!==null&&(!(p.expirationTime>D)||_&&!F());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var le=oe(p.expirationTime<=D);D=e.unstable_now(),typeof le=="function"?p.callback=le:p===n(a)&&r(a),c(D)}else r(a);p=n(a)}if(p!==null)var et=!0;else{var W=n(u);W!==null&&fe(f,W.startTime-D),et=!1}return et}finally{p=null,y=Q,x=!1}}var E=!1,b=null,j=-1,L=5,P=-1;function F(){return!(e.unstable_now()-P<L)}function H(){if(b!==null){var _=e.unstable_now();P=_;var D=!0;try{D=b(!0,_)}finally{D?q():(E=!1,b=null)}}else E=!1}var q;if(typeof d=="function")q=function(){d(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,he=$.port2;$.port1.onmessage=H,q=function(){he.postMessage(null)}}else q=function(){M(H,0)};function me(_){b=_,E||(E=!0,q())}function fe(_,D){j=M(function(){_(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,me(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(_){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var Q=y;y=D;try{return _()}finally{y=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Q=y;y=_;try{return D()}finally{y=Q}},e.unstable_scheduleCallback=function(_,D,Q){var oe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,_){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Q+le,_={id:m++,callback:D,priorityLevel:_,startTime:Q,expirationTime:le,sortIndex:-1},Q>oe?(_.sortIndex=Q,t(u,_),n(a)===null&&_===n(u)&&(S?(h(j),j=-1):S=!0,fe(f,Q-oe))):(_.sortIndex=le,t(a,_),w||x||(w=!0,me(C))),_},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(_){var D=y;return function(){var Q=y;y=D;try{return _.apply(this,arguments)}finally{y=Q}}}})(Kd);Vd.exports=Kd;var Hp=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=k,xt=Hp;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,Qs={};function xr(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Qs[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,Vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qu={},Gu={};function Kp(e){return Pl.call(Gu,e)?!0:Pl.call(qu,e)?!1:Vp.test(e)?Gu[e]=!0:(qu[e]=!0,!1)}function qp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gp(e,t,n,r){if(t===null||typeof t>"u"||qp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qa,Ha);Ve[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qa,Ha);Ve[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qa,Ha);Ve[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wa(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gp(t,n,s,r)&&(n=null),r||s===null?Kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),_l=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),qa=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Yu=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Jo;function Ms(e){if(Jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jo=t&&t[1]||""}return`
`+Jo+e}var Zo=!1;function el(e,t){if(!e||Zo)return"";Zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Zo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ms(e):""}function Yp(e){switch(e.tag){case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return e=el(e.type,!1),e;case 11:return e=el(e.type.render,!1),e;case 1:return e=el(e.type,!0),e;default:return""}}function Fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case Mr:return"Portal";case Ol:return"Profiler";case Va:return"StrictMode";case _l:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yd:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case Ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qa:return t=e.displayName||null,t!==null?t:Fl(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return Fl(e(t))}catch{}}return null}function Xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jp(e){var t=Jd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=Jp(e))}function Zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function no(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zl(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ef(e,t){t=t.checked,t!=null&&Wa(e,"checked",t,!1)}function Il(e,t){ef(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dl(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ju(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dl(e,t,n){(t!=="number"||no(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Rs(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function tf(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zp=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(e){Zp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_s[t]=_s[e]})});function sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_s.hasOwnProperty(e)&&_s[e]?(""+t).trim():t+"px"}function of(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var em=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hl=null,$r=null,Br=null;function tc(e){if(e=mi(e)){if(typeof Hl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Fo(t),Hl(e.stateNode,e.type,t))}}function lf(e){$r?Br?Br.push(e):Br=[e]:$r=e}function af(){if($r){var e=$r,t=Br;if(Br=$r=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function uf(e,t){return e(t)}function cf(){}var tl=!1;function df(e,t,n){if(tl)return e(t,n);tl=!0;try{return uf(e,t,n)}finally{tl=!1,($r!==null||Br!==null)&&(cf(),af())}}function Ws(e,t){var n=e.stateNode;if(n===null)return null;var r=Fo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Wl=!1;if(hn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Wl=!1}function tm(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Ls=!1,ro=null,so=!1,Vl=null,nm={onError:function(e){Ls=!0,ro=e}};function rm(e,t,n,r,s,i,o,l,a){Ls=!1,ro=null,tm.apply(nm,arguments)}function sm(e,t,n,r,s,i,o,l,a){if(rm.apply(this,arguments),Ls){if(Ls){var u=ro;Ls=!1,ro=null}else throw Error(O(198));so||(so=!0,Vl=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ff(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nc(e){if(Sr(e)!==e)throw Error(O(188))}function im(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nc(s),e;if(i===r)return nc(s),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function hf(e){return e=im(e),e!==null?pf(e):null}function pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pf(e);if(t!==null)return t;e=e.sibling}return null}var mf=xt.unstable_scheduleCallback,rc=xt.unstable_cancelCallback,om=xt.unstable_shouldYield,lm=xt.unstable_requestPaint,Pe=xt.unstable_now,am=xt.unstable_getCurrentPriorityLevel,Ya=xt.unstable_ImmediatePriority,gf=xt.unstable_UserBlockingPriority,io=xt.unstable_NormalPriority,um=xt.unstable_LowPriority,yf=xt.unstable_IdlePriority,Po=null,Yt=null;function cm(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:hm,dm=Math.log,fm=Math.LN2;function hm(e){return e>>>=0,e===0?32:31-(dm(e)/fm|0)|0}var Ei=64,Ci=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ts(l):(i&=o,i!==0&&(r=Ts(i)))}else o=n&~s,o!==0?r=Ts(o):i!==0&&(r=Ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ut(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=pm(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vf(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xf,Ja,Sf,kf,Ef,ql=!1,bi=[],zn=null,In=null,Dn=null,Vs=new Map,Ks=new Map,En=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Ss(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mi(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vm(e,t,n,r,s){switch(t){case"focusin":return zn=Ss(zn,e,t,n,r,s),!0;case"dragenter":return In=Ss(In,e,t,n,r,s),!0;case"mouseover":return Dn=Ss(Dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,Ss(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ks.set(i,Ss(Ks.get(i)||null,e,t,n,r,s)),!0}return!1}function Cf(e){var t=Jn(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=ff(n),t!==null){e.blockedOn=t,Ef(e.priority,function(){Sf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ql=r,n.target.dispatchEvent(r),Ql=null}else return t=mi(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function ic(e,t,n){Bi(e)&&n.delete(t)}function wm(){ql=!1,zn!==null&&Bi(zn)&&(zn=null),In!==null&&Bi(In)&&(In=null),Dn!==null&&Bi(Dn)&&(Dn=null),Vs.forEach(ic),Ks.forEach(ic)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,ql||(ql=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,wm)))}function qs(e){function t(s){return ks(s,e)}if(0<bi.length){ks(bi[0],e);for(var n=1;n<bi.length;n++){var r=bi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&ks(zn,e),In!==null&&ks(In,e),Dn!==null&&ks(Dn,e),Vs.forEach(t),Ks.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&En.shift()}var Qr=yn.ReactCurrentBatchConfig,lo=!0;function xm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=1,Za(e,t,n,r)}finally{de=s,Qr.transition=i}}function Sm(e,t,n,r){var s=de,i=Qr.transition;Qr.transition=null;try{de=4,Za(e,t,n,r)}finally{de=s,Qr.transition=i}}function Za(e,t,n,r){if(lo){var s=Gl(e,t,n,r);if(s===null)fl(e,t,r,ao,n),sc(e,r);else if(vm(s,e,t,n,r))r.stopPropagation();else if(sc(e,r),t&4&&-1<ym.indexOf(e)){for(;s!==null;){var i=mi(s);if(i!==null&&xf(i),i=Gl(e,t,n,r),i===null&&fl(e,t,r,ao,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fl(e,t,r,null,n)}}var ao=null;function Gl(e,t,n,r){if(ao=null,e=Ga(r),e=Jn(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ff(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ao=e,null}function bf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(am()){case Ya:return 1;case gf:return 4;case io:case um:return 16;case yf:return 536870912;default:return 16}default:return 16}}var Ln=null,eu=null,Qi=null;function Nf(){if(Qi)return Qi;var e,t=eu,n=t.length,r,s="value"in Ln?Ln.value:Ln.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Qi=s.slice(e,1<r?1-r:void 0)}function Hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function oc(){return!1}function kt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:oc,this.isPropagationStopped=oc,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=kt(hs),pi=Ee({},hs,{view:0,detail:0}),km=kt(pi),rl,sl,Es,Oo=Ee({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(rl=e.screenX-Es.screenX,sl=e.screenY-Es.screenY):sl=rl=0,Es=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:sl}}),lc=kt(Oo),Em=Ee({},Oo,{dataTransfer:0}),Cm=kt(Em),bm=Ee({},pi,{relatedTarget:0}),il=kt(bm),Nm=Ee({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=kt(Nm),Mm=Ee({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=kt(Mm),Tm=Ee({},hs,{data:0}),ac=kt(Tm),Pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_m[e])?!!t[e]:!1}function nu(){return Lm}var Fm=Ee({},pi,{key:function(e){if(e.key){var t=Pm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zm=kt(Fm),Im=Ee({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=kt(Im),Dm=Ee({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Am=kt(Dm),Um=Ee({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=kt(Um),Bm=Ee({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=kt(Bm),Hm=[9,13,27,32],ru=hn&&"CompositionEvent"in window,Fs=null;hn&&"documentMode"in document&&(Fs=document.documentMode);var Wm=hn&&"TextEvent"in window&&!Fs,jf=hn&&(!ru||Fs&&8<Fs&&11>=Fs),cc=" ",dc=!1;function Mf(e,t){switch(e){case"keyup":return Hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Vm(e,t){switch(e){case"compositionend":return Rf(t);case"keypress":return t.which!==32?null:(dc=!0,cc);case"textInput":return e=t.data,e===cc&&dc?null:e;default:return null}}function Km(e,t){if(Tr)return e==="compositionend"||!ru&&Mf(e,t)?(e=Nf(),Qi=eu=Ln=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jf&&t.locale!=="ko"?null:t.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qm[e.type]:t==="textarea"}function Tf(e,t,n,r){lf(r),t=uo(t,"onChange"),0<t.length&&(n=new tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zs=null,Gs=null;function Gm(e){$f(e,0)}function _o(e){var t=_r(e);if(Zd(t))return e}function Ym(e,t){if(e==="change")return t}var Pf=!1;if(hn){var ol;if(hn){var ll="oninput"in document;if(!ll){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),ll=typeof hc.oninput=="function"}ol=ll}else ol=!1;Pf=ol&&(!document.documentMode||9<document.documentMode)}function pc(){zs&&(zs.detachEvent("onpropertychange",Of),Gs=zs=null)}function Of(e){if(e.propertyName==="value"&&_o(Gs)){var t=[];Tf(t,Gs,e,Ga(e)),df(Gm,t)}}function Xm(e,t,n){e==="focusin"?(pc(),zs=t,Gs=n,zs.attachEvent("onpropertychange",Of)):e==="focusout"&&pc()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(Gs)}function Zm(e,t){if(e==="click")return _o(t)}function eg(e,t){if(e==="input"||e==="change")return _o(t)}function tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:tg;function Ys(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pl.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function _f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lf(){for(var e=window,t=no();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=no(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ng(e){var t=Lf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_f(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=gc(n,i);var o=gc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rg=hn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Yl=null,Is=null,Xl=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Pr==null||Pr!==no(r)||(r=Pr,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Ys(Is,r)||(Is=r,r=uo(Yl,"onSelect"),0<r.length&&(t=new tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Or={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},al={},Ff={};hn&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Lo(e){if(al[e])return al[e];if(!Or[e])return e;var t=Or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ff)return al[e]=t[n];return e}var zf=Lo("animationend"),If=Lo("animationiteration"),Df=Lo("animationstart"),Af=Lo("transitionend"),Uf=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){Uf.set(e,t),xr(t,[e])}for(var ul=0;ul<vc.length;ul++){var cl=vc[ul],sg=cl.toLowerCase(),ig=cl[0].toUpperCase()+cl.slice(1);Kn(sg,"on"+ig)}Kn(zf,"onAnimationEnd");Kn(If,"onAnimationIteration");Kn(Df,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(Af,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sm(r,t,void 0,e),e.currentTarget=null}function $f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;wc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;wc(s,l,u),i=a}}}if(so)throw e=Vl,so=!1,Vl=null,e}function ye(e,t){var n=t[na];n===void 0&&(n=t[na]=new Set);var r=e+"__bubble";n.has(r)||(Bf(t,e,2,!1),n.add(r))}function dl(e,t,n){var r=0;t&&(r|=4),Bf(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Mi]){e[Mi]=!0,qd.forEach(function(n){n!=="selectionchange"&&(og.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,dl("selectionchange",!1,t))}}function Bf(e,t,n,r){switch(bf(t)){case 1:var s=xm;break;case 4:s=Sm;break;default:s=Za}n=s.bind(null,t,n,e),s=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function fl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}df(function(){var u=i,m=Ga(n),p=[];e:{var y=Uf.get(e);if(y!==void 0){var x=tu,w=e;switch(e){case"keypress":if(Hi(n)===0)break e;case"keydown":case"keyup":x=zm;break;case"focusin":w="focus",x=il;break;case"focusout":w="blur",x=il;break;case"beforeblur":case"afterblur":x=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Am;break;case zf:case If:case Df:x=jm;break;case Af:x=$m;break;case"scroll":x=km;break;case"wheel":x=Qm;break;case"copy":case"cut":case"paste":x=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uc}var S=(t&4)!==0,M=!S&&e==="scroll",h=S?y!==null?y+"Capture":null:y;S=[];for(var d=u,c;d!==null;){c=d;var f=c.stateNode;if(c.tag===5&&f!==null&&(c=f,h!==null&&(f=Ws(d,h),f!=null&&S.push(Js(d,f,c)))),M)break;d=d.return}0<S.length&&(y=new x(y,w,null,n,m),p.push({event:y,listeners:S}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",y&&n!==Ql&&(w=n.relatedTarget||n.fromElement)&&(Jn(w)||w[pn]))break e;if((x||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?Jn(w):null,w!==null&&(M=Sr(w),w!==M||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(S=lc,f="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=uc,f="onPointerLeave",h="onPointerEnter",d="pointer"),M=x==null?y:_r(x),c=w==null?y:_r(w),y=new S(f,d+"leave",x,n,m),y.target=M,y.relatedTarget=c,f=null,Jn(m)===u&&(S=new S(h,d+"enter",w,n,m),S.target=c,S.relatedTarget=M,f=S),M=f,x&&w)t:{for(S=x,h=w,d=0,c=S;c;c=br(c))d++;for(c=0,f=h;f;f=br(f))c++;for(;0<d-c;)S=br(S),d--;for(;0<c-d;)h=br(h),c--;for(;d--;){if(S===h||h!==null&&S===h.alternate)break t;S=br(S),h=br(h)}S=null}else S=null;x!==null&&xc(p,y,x,S,!1),w!==null&&M!==null&&xc(p,M,w,S,!0)}}e:{if(y=u?_r(u):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var C=Ym;else if(fc(y))if(Pf)C=eg;else{C=Jm;var E=Xm}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(C=Zm);if(C&&(C=C(e,u))){Tf(p,C,n,m);break e}E&&E(e,y,u),e==="focusout"&&(E=y._wrapperState)&&E.controlled&&y.type==="number"&&Dl(y,"number",y.value)}switch(E=u?_r(u):window,e){case"focusin":(fc(E)||E.contentEditable==="true")&&(Pr=E,Yl=u,Is=null);break;case"focusout":Is=Yl=Pr=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,yc(p,n,m);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":yc(p,n,m)}var b;if(ru)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tr?Mf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(jf&&n.locale!=="ko"&&(Tr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Tr&&(b=Nf()):(Ln=m,eu="value"in Ln?Ln.value:Ln.textContent,Tr=!0)),E=uo(u,j),0<E.length&&(j=new ac(j,e,null,n,m),p.push({event:j,listeners:E}),b?j.data=b:(b=Rf(n),b!==null&&(j.data=b)))),(b=Wm?Vm(e,n):Km(e,n))&&(u=uo(u,"onBeforeInput"),0<u.length&&(m=new ac("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:u}),m.data=b))}$f(p,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ws(e,n),i!=null&&r.unshift(Js(e,i,s)),i=Ws(e,t),i!=null&&r.push(Js(e,i,s))),e=e.return}return r}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Ws(n,i),a!=null&&o.unshift(Js(n,a,l))):s||(a=Ws(n,i),a!=null&&o.push(Js(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lg=/\r\n?/g,ag=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(lg,`
`).replace(ag,"")}function Ri(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(O(425))}function co(){}var Jl=null,Zl=null;function ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,ug=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,cg=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(dg)}:ta;function dg(e){setTimeout(function(){throw e})}function hl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ec(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ps,Zs="__reactProps$"+ps,pn="__reactContainer$"+ps,na="__reactEvents$"+ps,fg="__reactListeners$"+ps,hg="__reactHandles$"+ps;function Jn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ec(e);e!==null;){if(n=e[Gt])return n;e=Ec(e)}return t}e=n,n=e.parentNode}return null}function mi(e){return e=e[Gt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Fo(e){return e[Zs]||null}var ra=[],Lr=-1;function qn(e){return{current:e}}function ve(e){0>Lr||(e.current=ra[Lr],ra[Lr]=null,Lr--)}function pe(e,t){Lr++,ra[Lr]=e.current,e.current=t}var Vn={},Ze=qn(Vn),ht=qn(!1),hr=Vn;function os(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function fo(){ve(ht),ve(Ze)}function Cc(e,t,n){if(Ze.current!==Vn)throw Error(O(168));pe(Ze,t),pe(ht,n)}function Qf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,Xp(e)||"Unknown",s));return Ee({},n,r)}function ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,hr=Ze.current,pe(Ze,e),pe(ht,ht.current),!0}function bc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Qf(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,ve(ht),ve(Ze),pe(Ze,e)):ve(ht),pe(ht,n)}var rn=null,zo=!1,pl=!1;function Hf(e){rn===null?rn=[e]:rn.push(e)}function pg(e){zo=!0,Hf(e)}function Gn(){if(!pl&&rn!==null){pl=!0;var e=0,t=de;try{var n=rn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,zo=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),mf(Ya,Gn),s}finally{de=t,pl=!1}}return null}var Fr=[],zr=0,po=null,mo=0,Nt=[],jt=0,pr=null,un=1,cn="";function Yn(e,t){Fr[zr++]=mo,Fr[zr++]=po,po=e,mo=t}function Wf(e,t,n){Nt[jt++]=un,Nt[jt++]=cn,Nt[jt++]=pr,pr=e;var r=un;e=cn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var i=32-Ut(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,un=1<<32-Ut(t)+s|n<<s|r,cn=i+e}else un=1<<i|n<<s|r,cn=e}function iu(e){e.return!==null&&(Yn(e,1),Wf(e,1,0))}function ou(e){for(;e===po;)po=Fr[--zr],Fr[zr]=null,mo=Fr[--zr],Fr[zr]=null;for(;e===pr;)pr=Nt[--jt],Nt[jt]=null,cn=Nt[--jt],Nt[jt]=null,un=Nt[--jt],Nt[jt]=null}var wt=null,vt=null,xe=!1,Dt=null;function Vf(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,vt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,vt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(xe){var t=vt;if(t){var n=t;if(!Nc(e,t)){if(sa(e))throw Error(O(418));t=An(n.nextSibling);var r=wt;t&&Nc(e,t)?Vf(r,n):(e.flags=e.flags&-4097|2,xe=!1,wt=e)}}else{if(sa(e))throw Error(O(418));e.flags=e.flags&-4097|2,xe=!1,wt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ti(e){if(e!==wt)return!1;if(!xe)return jc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ea(e.type,e.memoizedProps)),t&&(t=vt)){if(sa(e))throw Kf(),Error(O(418));for(;t;)Vf(e,t),t=An(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=wt?An(e.stateNode.nextSibling):null;return!0}function Kf(){for(var e=vt;e;)e=An(e.nextSibling)}function ls(){vt=wt=null,xe=!1}function lu(e){Dt===null?Dt=[e]:Dt.push(e)}var mg=yn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Pi(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mc(e){var t=e._init;return t(e._payload)}function qf(e){function t(h,d){if(e){var c=h.deletions;c===null?(h.deletions=[d],h.flags|=16):c.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Qn(h,d),h.index=0,h.sibling=null,h}function i(h,d,c){return h.index=c,e?(c=h.alternate,c!==null?(c=c.index,c<d?(h.flags|=2,d):c):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,d,c,f){return d===null||d.tag!==6?(d=Sl(c,h.mode,f),d.return=h,d):(d=s(d,c),d.return=h,d)}function a(h,d,c,f){var C=c.type;return C===Rr?m(h,d,c.props.children,f,c.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&Mc(C)===d.type)?(f=s(d,c.props),f.ref=Cs(h,d,c),f.return=h,f):(f=Xi(c.type,c.key,c.props,null,h.mode,f),f.ref=Cs(h,d,c),f.return=h,f)}function u(h,d,c,f){return d===null||d.tag!==4||d.stateNode.containerInfo!==c.containerInfo||d.stateNode.implementation!==c.implementation?(d=kl(c,h.mode,f),d.return=h,d):(d=s(d,c.children||[]),d.return=h,d)}function m(h,d,c,f,C){return d===null||d.tag!==7?(d=fr(c,h.mode,f,C),d.return=h,d):(d=s(d,c),d.return=h,d)}function p(h,d,c){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Sl(""+d,h.mode,c),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xi:return c=Xi(d.type,d.key,d.props,null,h.mode,c),c.ref=Cs(h,null,d),c.return=h,c;case Mr:return d=kl(d,h.mode,c),d.return=h,d;case Sn:var f=d._init;return p(h,f(d._payload),c)}if(Rs(d)||ws(d))return d=fr(d,h.mode,c,null),d.return=h,d;Pi(h,d)}return null}function y(h,d,c,f){var C=d!==null?d.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return C!==null?null:l(h,d,""+c,f);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:return c.key===C?a(h,d,c,f):null;case Mr:return c.key===C?u(h,d,c,f):null;case Sn:return C=c._init,y(h,d,C(c._payload),f)}if(Rs(c)||ws(c))return C!==null?null:m(h,d,c,f,null);Pi(h,c)}return null}function x(h,d,c,f,C){if(typeof f=="string"&&f!==""||typeof f=="number")return h=h.get(c)||null,l(d,h,""+f,C);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xi:return h=h.get(f.key===null?c:f.key)||null,a(d,h,f,C);case Mr:return h=h.get(f.key===null?c:f.key)||null,u(d,h,f,C);case Sn:var E=f._init;return x(h,d,c,E(f._payload),C)}if(Rs(f)||ws(f))return h=h.get(c)||null,m(d,h,f,C,null);Pi(d,f)}return null}function w(h,d,c,f){for(var C=null,E=null,b=d,j=d=0,L=null;b!==null&&j<c.length;j++){b.index>j?(L=b,b=null):L=b.sibling;var P=y(h,b,c[j],f);if(P===null){b===null&&(b=L);break}e&&b&&P.alternate===null&&t(h,b),d=i(P,d,j),E===null?C=P:E.sibling=P,E=P,b=L}if(j===c.length)return n(h,b),xe&&Yn(h,j),C;if(b===null){for(;j<c.length;j++)b=p(h,c[j],f),b!==null&&(d=i(b,d,j),E===null?C=b:E.sibling=b,E=b);return xe&&Yn(h,j),C}for(b=r(h,b);j<c.length;j++)L=x(b,h,j,c[j],f),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?j:L.key),d=i(L,d,j),E===null?C=L:E.sibling=L,E=L);return e&&b.forEach(function(F){return t(h,F)}),xe&&Yn(h,j),C}function S(h,d,c,f){var C=ws(c);if(typeof C!="function")throw Error(O(150));if(c=C.call(c),c==null)throw Error(O(151));for(var E=C=null,b=d,j=d=0,L=null,P=c.next();b!==null&&!P.done;j++,P=c.next()){b.index>j?(L=b,b=null):L=b.sibling;var F=y(h,b,P.value,f);if(F===null){b===null&&(b=L);break}e&&b&&F.alternate===null&&t(h,b),d=i(F,d,j),E===null?C=F:E.sibling=F,E=F,b=L}if(P.done)return n(h,b),xe&&Yn(h,j),C;if(b===null){for(;!P.done;j++,P=c.next())P=p(h,P.value,f),P!==null&&(d=i(P,d,j),E===null?C=P:E.sibling=P,E=P);return xe&&Yn(h,j),C}for(b=r(h,b);!P.done;j++,P=c.next())P=x(b,h,j,P.value,f),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?j:P.key),d=i(P,d,j),E===null?C=P:E.sibling=P,E=P);return e&&b.forEach(function(H){return t(h,H)}),xe&&Yn(h,j),C}function M(h,d,c,f){if(typeof c=="object"&&c!==null&&c.type===Rr&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case xi:e:{for(var C=c.key,E=d;E!==null;){if(E.key===C){if(C=c.type,C===Rr){if(E.tag===7){n(h,E.sibling),d=s(E,c.props.children),d.return=h,h=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&Mc(C)===E.type){n(h,E.sibling),d=s(E,c.props),d.ref=Cs(h,E,c),d.return=h,h=d;break e}n(h,E);break}else t(h,E);E=E.sibling}c.type===Rr?(d=fr(c.props.children,h.mode,f,c.key),d.return=h,h=d):(f=Xi(c.type,c.key,c.props,null,h.mode,f),f.ref=Cs(h,d,c),f.return=h,h=f)}return o(h);case Mr:e:{for(E=c.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){n(h,d.sibling),d=s(d,c.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=kl(c,h.mode,f),d.return=h,h=d}return o(h);case Sn:return E=c._init,M(h,d,E(c._payload),f)}if(Rs(c))return w(h,d,c,f);if(ws(c))return S(h,d,c,f);Pi(h,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,c),d.return=h,h=d):(n(h,d),d=Sl(c,h.mode,f),d.return=h,h=d),o(h)):n(h,d)}return M}var as=qf(!0),Gf=qf(!1),go=qn(null),yo=null,Ir=null,au=null;function uu(){au=Ir=yo=null}function cu(e){var t=go.current;ve(go),e._currentValue=t}function oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){yo=e,au=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(yo===null)throw Error(O(308));Ir=e,yo.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Zn=null;function du(e){Zn===null?Zn=[e]:Zn.push(e)}function Yf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,du(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,du(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function Wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}function Rc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vo(e,t,n,r){var s=e.updateQueue;kn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=a))}if(i!==null){var p=s.baseState;o=0,m=u=a=null,l=i;do{var y=l.lane,x=l.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(y=t,x=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){p=w.call(x,p,y);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,y=typeof w=="function"?w.call(x,p,y):w,y==null)break e;p=Ee({},p,y);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else x={eventTime:x,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=x,a=p):m=m.next=x,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(m===null&&(a=p),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=o,e.lanes=o,e.memoizedState=p}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var gi={},Xt=qn(gi),ei=qn(gi),ti=qn(gi);function er(e){if(e===gi)throw Error(O(174));return e}function hu(e,t){switch(pe(ti,t),pe(ei,e),pe(Xt,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ul(t,e)}ve(Xt),pe(Xt,t)}function us(){ve(Xt),ve(ei),ve(ti)}function Jf(e){er(ti.current);var t=er(Xt.current),n=Ul(t,e.type);t!==n&&(pe(ei,e),pe(Xt,n))}function pu(e){ei.current===e&&(ve(Xt),ve(ei))}var Se=qn(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=[];function mu(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var Vi=yn.ReactCurrentDispatcher,gl=yn.ReactCurrentBatchConfig,mr=0,ke=null,ze=null,$e=null,xo=!1,Ds=!1,ni=0,gg=0;function Ge(){throw Error(O(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function yu(e,t,n,r,s,i){if(mr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?xg:Sg,e=n(r,s),Ds){i=0;do{if(Ds=!1,ni=0,25<=i)throw Error(O(301));i+=1,$e=ze=null,t.updateQueue=null,Vi.current=kg,e=n(r,s)}while(Ds)}if(Vi.current=So,t=ze!==null&&ze.next!==null,mr=0,$e=ze=ke=null,xo=!1,t)throw Error(O(300));return e}function vu(){var e=ni!==0;return ni=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ke.memoizedState=$e=e:$e=$e.next=e,$e}function Pt(){if(ze===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=$e===null?ke.memoizedState:$e.next;if(t!==null)$e=t,ze=e;else{if(e===null)throw Error(O(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},$e===null?ke.memoizedState=$e=e:$e=$e.next=e}return $e}function ri(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var m=u.lane;if((mr&m)===m)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=p,o=r):a=a.next=p,ke.lanes|=m,gr|=m}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Bt(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Zf(){}function eh(e,t){var n=ke,r=Pt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,wu(rh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,si(9,nh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(O(349));mr&30||th(n,t,s)}return s}function th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nh(e,t,n,r){t.value=n,t.getSnapshot=r,sh(t)&&ih(e)}function rh(e,t,n){return n(function(){sh(t)&&ih(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function ih(e){var t=mn(e,1);t!==null&&$t(t,e,1,-1)}function Pc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=wg.bind(null,ke,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oh(){return Pt().memoizedState}function Ki(e,t,n,r){var s=Wt();ke.flags|=e,s.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var s=Pt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&gu(r,o.deps)){s.memoizedState=si(t,n,i,r);return}}ke.flags|=e,s.memoizedState=si(1|t,n,i,r)}function Oc(e,t){return Ki(8390656,8,e,t)}function wu(e,t){return Io(2048,8,e,t)}function lh(e,t){return Io(4,2,e,t)}function ah(e,t){return Io(4,4,e,t)}function uh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,uh.bind(null,t,e),n)}function xu(){}function dh(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fh(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hh(e,t,n){return mr&21?(Bt(n,t)||(n=vf(),ke.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function yg(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=gl.transition;gl.transition={};try{e(!1),t()}finally{de=n,gl.transition=r}}function ph(){return Pt().memoizedState}function vg(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mh(e))gh(t,n);else if(n=Yf(e,t,n,r),n!==null){var s=it();$t(n,e,r,s),yh(n,t,r)}}function wg(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mh(e))gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,o)){var a=t.interleaved;a===null?(s.next=s,du(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Yf(e,t,s,r),n!==null&&(s=it(),$t(n,e,r,s),yh(n,t,r))}}function mh(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function gh(e,t){Ds=xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}var So={readContext:Tt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},xg={readContext:Tt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4194308,4,uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vg.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:xu,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=yg.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Wt();if(xe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Be===null)throw Error(O(349));mr&30||th(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Oc(rh.bind(null,r,i,e),[e]),r.flags|=2048,si(9,nh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Be.identifierPrefix;if(xe){var n=cn,r=un;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sg={readContext:Tt,useCallback:dh,useContext:Tt,useEffect:wu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:fh,useReducer:yl,useRef:oh,useState:function(){return yl(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Pt();return hh(t,ze.memoizedState,e)},useTransition:function(){var e=yl(ri)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1},kg={readContext:Tt,useCallback:dh,useContext:Tt,useEffect:wu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:fh,useReducer:vl,useRef:oh,useState:function(){return vl(ri)},useDebugValue:xu,useDeferredValue:function(e){var t=Pt();return ze===null?t.memoizedState=e:hh(t,ze.memoizedState,e)},useTransition:function(){var e=vl(ri)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function la(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=Bn(e),i=dn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&($t(t,e,s,r),Wi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=Bn(e),i=dn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&($t(t,e,s,r),Wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Bn(e),s=dn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,r),t!==null&&($t(t,e,r,n),Wi(t,e,r))}};function _c(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,i):!0}function vh(e,t,n){var r=!1,s=Vn,i=t.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(s=pt(t)?hr:Ze.current,r=t.contextTypes,i=(r=r!=null)?os(e,s):Vn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Tt(i):(i=pt(t)?hr:Ze.current,s.context=os(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(la(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Do.enqueueReplaceState(s,s.state,null),vo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=Yp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function wh(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eo||(Eo=!0,wa=r),ua(e,t)},n}function xh(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ua(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Eg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ig.bind(null,e,t,n),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Cg=yn.ReactCurrentOwner,ft=!1;function rt(e,t,n,r){t.child=e===null?Gf(t,null,n,r):as(t,e.child,n,r)}function Dc(e,t,n,r,s){n=n.render;var i=t.ref;return Hr(t,s),r=yu(e,t,n,r,i,s),n=vu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(xe&&n&&iu(t),t.flags|=1,rt(e,t,r,s),t.child)}function Ac(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Mu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,r,s)):(e=Xi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(o,r)&&e.ref===t.ref)return gn(e,t,s)}return t.flags|=1,e=Qn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ys(i,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,gn(e,t,s)}return ca(e,t,n,r,s)}function kh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ar,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Ar,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(Ar,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,pe(Ar,yt),yt|=r;return rt(e,t,s,n),t.child}function Eh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,n,r,s){var i=pt(n)?hr:Ze.current;return i=os(t,i),Hr(t,s),n=yu(e,t,n,r,i,s),r=vu(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(xe&&r&&iu(t),t.flags|=1,rt(e,t,n,s),t.child)}function Uc(e,t,n,r,s){if(pt(n)){var i=!0;ho(t)}else i=!1;if(Hr(t,s),t.stateNode===null)qi(e,t),vh(t,n,r),aa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=pt(n)?hr:Ze.current,u=os(t,u));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Lc(t,o,r,u),kn=!1;var y=t.memoizedState;o.state=y,vo(t,r,o,s),a=t.memoizedState,l!==r||y!==a||ht.current||kn?(typeof m=="function"&&(la(t,n,m,r),a=t.memoizedState),(l=kn||_c(t,n,l,r,y,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lt(t.type,l),o.props=u,p=t.pendingProps,y=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=pt(n)?hr:Ze.current,a=os(t,a));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||y!==a)&&Lc(t,o,r,a),kn=!1,y=t.memoizedState,o.state=y,vo(t,r,o,s);var w=t.memoizedState;l!==p||y!==w||ht.current||kn?(typeof x=="function"&&(la(t,n,x,r),w=t.memoizedState),(u=kn||_c(t,n,u,r,y,w,a)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return da(e,t,n,r,i,s)}function da(e,t,n,r,s,i){Eh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&bc(t,n,!1),gn(e,t,i);r=t.stateNode,Cg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=as(t,e.child,null,i),t.child=as(t,null,l,i)):rt(e,t,l,i),t.memoizedState=r.state,s&&bc(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),hu(e,t.containerInfo)}function $c(e,t,n,r,s){return ls(),lu(s),t.flags|=256,rt(e,t,n,r),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function bh(e,t,n){var r=t.pendingProps,s=Se.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(Se,s&1),e===null)return ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,r,0,null),e=fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ha(n),t.memoizedState=fa,e):Su(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bg(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Qn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qn(l,i):(i=fr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fa,r}return i=e.child,e=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oi(e,t,n,r){return r!==null&&lu(r),as(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=wl(Error(O(422))),Oi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),i=fr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&as(t,e.child,null,o),t.child.memoizedState=ha(o),t.memoizedState=fa,i);if(!(t.mode&1))return Oi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(O(419)),r=wl(i,r,void 0),Oi(e,t,o,r)}if(l=(o&e.childLanes)!==0,ft||l){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(e,s),$t(r,e,s,-1))}return ju(),r=wl(Error(O(421))),Oi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=An(s.nextSibling),wt=t,xe=!0,Dt=null,e!==null&&(Nt[jt++]=un,Nt[jt++]=cn,Nt[jt++]=pr,un=e.id,cn=e.overflow,pr=t),t=Su(t,r.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oa(e.return,t,n)}function xl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Nh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xl(t,!0,n,null,i);break;case"together":xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ng(e,t,n){switch(t.tag){case 3:Ch(t),ls();break;case 5:Jf(t);break;case 1:pt(t.type)&&ho(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(go,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?bh(e,t,n):(pe(Se,Se.current&1),e=gn(e,t,n),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,n)}return gn(e,t,n)}var jh,pa,Mh,Rh;jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};Mh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,er(Xt.current);var i=null;switch(n){case"input":s=zl(e,s),r=zl(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Al(e,s),r=Al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=co)}$l(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Rh=function(e,t,n,r){n!==r&&(t.flags|=4)};function bs(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jg(e,t,n){var r=t.pendingProps;switch(ou(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return pt(t.type)&&fo(),Ye(t),null;case 3:return r=t.stateNode,us(),ve(ht),ve(Ze),mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(ka(Dt),Dt=null))),pa(e,t),Ye(t),null;case 5:pu(t);var s=er(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Mh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ye(t),null}if(e=er(Xt.current),Ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[Zs]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Ps.length;s++)ye(Ps[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Xu(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Zu(r,i),ye("invalid",r)}$l(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),s=["children",""+l]):Qs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":Si(r),Ju(r,i,!0);break;case"textarea":Si(r),ec(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=co)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Gt]=t,e[Zs]=r,jh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bl(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ps.length;s++)ye(Ps[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Xu(e,r),s=zl(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Zu(e,r),s=Al(e,r),ye("invalid",e);break;default:s=r}$l(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?of(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&rf(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Hs(e,a):typeof a=="number"&&Hs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&Wa(e,i,a,o))}switch(n){case"input":Si(e),Ju(e,r,!1);break;case"textarea":Si(e),ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Rh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=er(ti.current),er(Xt.current),Ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ve(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&t.mode&1&&!(t.flags&128))Kf(),ls(),t.flags|=98560,i=!1;else if(i=Ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Gt]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Dt!==null&&(ka(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?De===0&&(De=3):ju())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return us(),pa(e,t),e===null&&Xs(t.stateNode.containerInfo),Ye(t),null;case 10:return cu(t.type._context),Ye(t),null;case 17:return pt(t.type)&&fo(),Ye(t),null;case 19:if(ve(Se),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)bs(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wo(e),o!==null){for(t.flags|=128,bs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>ds&&(t.flags|=128,r=!0,bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=wo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return Ye(t),null}else 2*Pe()-i.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,bs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Mg(e,t){switch(ou(t),t.tag){case 1:return pt(t.type)&&fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),ve(ht),ve(Ze),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pu(t),null;case 13:if(ve(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(Se),null;case 4:return us(),null;case 10:return cu(t.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var _i=!1,Je=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,U=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function ma(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Qc=!1;function Tg(e,t){if(Jl=lo,e=Lf(),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,m=0,p=e,y=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)y=p,p=x;for(;;){if(p===e)break t;if(y===n&&++u===s&&(l=o),y===i&&++m===r&&(a=o),(x=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=x}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zl={focusedElem:e,selectionRange:n},lo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,M=w.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:Lt(t.type,S),M);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(f){Me(t,t.return,f)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=Qc,Qc=!1,w}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ma(t,n,i)}s=s.next}while(s!==r)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Zs],delete t[na],delete t[fg],delete t[hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=co));else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}var He=null,It=!1;function wn(e,t,n){for(n=n.child;n!==null;)Oh(e,t,n),n=n.sibling}function Oh(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Po,n)}catch{}switch(n.tag){case 5:Je||Dr(n,t);case 6:var r=He,s=It;He=null,wn(e,t,n),He=r,It=s,He!==null&&(It?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(It?(e=He,n=n.stateNode,e.nodeType===8?hl(e.parentNode,n):e.nodeType===1&&hl(e,n),qs(e)):hl(He,n.stateNode));break;case 4:r=He,s=It,He=n.stateNode.containerInfo,It=!0,wn(e,t,n),He=r,It=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ma(n,t,o),s=s.next}while(s!==r)}wn(e,t,n);break;case 1:if(!Je&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,wn(e,t,n),Je=r):wn(e,t,n);break;default:wn(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rg),t.forEach(function(r){var s=Ag.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,It=!1;break e;case 3:He=l.stateNode.containerInfo,It=!0;break e;case 4:He=l.stateNode.containerInfo,It=!0;break e}l=l.return}if(He===null)throw Error(O(160));Oh(i,o,s),He=null,It=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_h(t,e),t=t.sibling}function _h(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Ht(e),r&4){try{As(3,e,e.return),Ao(3,e)}catch(S){Me(e,e.return,S)}try{As(5,e,e.return)}catch(S){Me(e,e.return,S)}}break;case 1:_t(t,e),Ht(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(_t(t,e),Ht(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{Hs(s,"")}catch(S){Me(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ef(s,i),Bl(l,o);var u=Bl(l,i);for(o=0;o<a.length;o+=2){var m=a[o],p=a[o+1];m==="style"?of(s,p):m==="dangerouslySetInnerHTML"?rf(s,p):m==="children"?Hs(s,p):Wa(s,m,p,u)}switch(l){case"input":Il(s,i);break;case"textarea":tf(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ur(s,!!i.multiple,x,!1):y!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zs]=i}catch(S){Me(e,e.return,S)}}break;case 6:if(_t(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){Me(e,e.return,S)}}break;case 3:if(_t(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(S){Me(e,e.return,S)}break;case 4:_t(t,e),Ht(e);break;case 13:_t(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=Pe())),r&4&&Wc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||m,_t(t,e),Je=u):_t(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(U=e,m=e.child;m!==null;){for(p=U=m;U!==null;){switch(y=U,x=y.child,y.tag){case 0:case 11:case 14:case 15:As(4,y,y.return);break;case 1:Dr(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){Me(r,n,S)}}break;case 5:Dr(y,y.return);break;case 22:if(y.memoizedState!==null){Kc(p);continue}}x!==null?(x.return=y,U=x):Kc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sf("display",o))}catch(S){Me(e,e.return,S)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){Me(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_t(t,e),Ht(e),r&4&&Wc(e);break;case 21:break;default:_t(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ph(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hs(s,""),r.flags&=-33);var i=Hc(e);va(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hc(e);ya(e,l,o);break;default:throw Error(O(161))}}catch(a){Me(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pg(e,t,n){U=e,Lh(e)}function Lh(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_i;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Je;l=_i;var u=Je;if(_i=o,(Je=a)&&!u)for(U=s;U!==null;)o=U,a=o.child,o.tag===22&&o.memoizedState!==null?qc(s):a!==null?(a.return=o,U=a):qc(s);for(;i!==null;)U=i,Lh(i),i=i.sibling;U=s,_i=l,Je=u}Vc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ao(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&qs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Je||t.flags&512&&ga(t)}catch(y){Me(t,t.return,y)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Kc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function qc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ao(4,t)}catch(a){Me(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Me(t,s,a)}}var i=t.return;try{ga(t)}catch(a){Me(t,i,a)}break;case 5:var o=t.return;try{ga(t)}catch(a){Me(t,o,a)}}}catch(a){Me(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Og=Math.ceil,ko=yn.ReactCurrentDispatcher,ku=yn.ReactCurrentOwner,Rt=yn.ReactCurrentBatchConfig,ie=0,Be=null,Le=null,We=0,yt=0,Ar=qn(0),De=0,ii=null,gr=0,Uo=0,Eu=0,Us=null,dt=null,Cu=0,ds=1/0,nn=null,Eo=!1,wa=null,$n=null,Li=!1,Fn=null,Co=0,$s=0,xa=null,Gi=-1,Yi=0;function it(){return ie&6?Pe():Gi!==-1?Gi:Gi=Pe()}function Bn(e){return e.mode&1?ie&2&&We!==0?We&-We:mg.transition!==null?(Yi===0&&(Yi=vf()),Yi):(e=de,e!==0||(e=window.event,e=e===void 0?16:bf(e.type)),e):1}function $t(e,t,n,r){if(50<$s)throw $s=0,xa=null,Error(O(185));hi(e,n,r),(!(ie&2)||e!==Be)&&(e===Be&&(!(ie&2)&&(Uo|=n),De===4&&Cn(e,We)),mt(e,r),n===1&&ie===0&&!(t.mode&1)&&(ds=Pe()+500,zo&&Gn()))}function mt(e,t){var n=e.callbackNode;mm(e,t);var r=oo(e,e===Be?We:0);if(r===0)n!==null&&rc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rc(n),t===1)e.tag===0?pg(Gc.bind(null,e)):Hf(Gc.bind(null,e)),cg(function(){!(ie&6)&&Gn()}),n=null;else{switch(wf(r)){case 1:n=Ya;break;case 4:n=gf;break;case 16:n=io;break;case 536870912:n=yf;break;default:n=io}n=Bh(n,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fh(e,t){if(Gi=-1,Yi=0,ie&6)throw Error(O(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=oo(e,e===Be?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bo(e,r);else{t=r;var s=ie;ie|=2;var i=Ih();(Be!==e||We!==t)&&(nn=null,ds=Pe()+500,dr(e,t));do try{Fg();break}catch(l){zh(e,l)}while(!0);uu(),ko.current=i,ie=s,Le!==null?t=0:(Be=null,We=0,t=De)}if(t!==0){if(t===2&&(s=Kl(e),s!==0&&(r=s,t=Sa(e,s))),t===1)throw n=ii,dr(e,0),Cn(e,r),mt(e,Pe()),n;if(t===6)Cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!_g(s)&&(t=bo(e,r),t===2&&(i=Kl(e),i!==0&&(r=i,t=Sa(e,i))),t===1))throw n=ii,dr(e,0),Cn(e,r),mt(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Xn(e,dt,nn);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=Cu+500-Pe(),10<t)){if(oo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ta(Xn.bind(null,e,dt,nn),t);break}Xn(e,dt,nn);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ut(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Og(r/1960))-r,10<r){e.timeoutHandle=ta(Xn.bind(null,e,dt,nn),r);break}Xn(e,dt,nn);break;case 5:Xn(e,dt,nn);break;default:throw Error(O(329))}}}return mt(e,Pe()),e.callbackNode===n?Fh.bind(null,e):null}function Sa(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=bo(e,t),e!==2&&(t=dt,dt=n,t!==null&&ka(t)),e}function ka(e){dt===null?dt=e:dt.push.apply(dt,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Eu,t&=~Uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(ie&6)throw Error(O(327));Wr();var t=oo(e,0);if(!(t&1))return mt(e,Pe()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var r=Kl(e);r!==0&&(t=r,n=Sa(e,r))}if(n===1)throw n=ii,dr(e,0),Cn(e,t),mt(e,Pe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,dt,nn),mt(e,Pe()),null}function bu(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(ds=Pe()+500,zo&&Gn())}}function yr(e){Fn!==null&&Fn.tag===0&&!(ie&6)&&Wr();var t=ie;ie|=1;var n=Rt.transition,r=de;try{if(Rt.transition=null,de=1,e)return e()}finally{de=r,Rt.transition=n,ie=t,!(ie&6)&&Gn()}}function Nu(){yt=Ar.current,ve(Ar)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ug(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(ou(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fo();break;case 3:us(),ve(ht),ve(Ze),mu();break;case 5:pu(r);break;case 4:us();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:cu(r.type._context);break;case 22:case 23:Nu()}n=n.return}if(Be=e,Le=e=Qn(e.current,null),We=yt=t,De=0,ii=null,Eu=Uo=gr=0,dt=Us=null,Zn!==null){for(t=0;t<Zn.length;t++)if(n=Zn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zn=null}return e}function zh(e,t){do{var n=Le;try{if(uu(),Vi.current=So,xo){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xo=!1}if(mr=0,$e=ze=ke=null,Ds=!1,ni=0,ku.current=null,n===null||n.return===null){De=1,ii=t,Le=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=We,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,m=l,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=zc(o);if(x!==null){x.flags&=-257,Ic(x,o,l,i,t),x.mode&1&&Fc(i,u,t),t=x,a=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(a),t.updateQueue=S}else w.add(a);break e}else{if(!(t&1)){Fc(i,u,t),ju();break e}a=Error(O(426))}}else if(xe&&l.mode&1){var M=zc(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Ic(M,o,l,i,t),lu(cs(a,l));break e}}i=a=cs(a,l),De!==4&&(De=2),Us===null?Us=[i]:Us.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=wh(i,a,t);Rc(i,h);break e;case 1:l=a;var d=i.type,c=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c)))){i.flags|=65536,t&=-t,i.lanes|=t;var f=xh(i,l,t);Rc(i,f);break e}}i=i.return}while(i!==null)}Ah(n)}catch(C){t=C,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Ih(){var e=ko.current;return ko.current=So,e===null?So:e}function ju(){(De===0||De===3||De===2)&&(De=4),Be===null||!(gr&268435455)&&!(Uo&268435455)||Cn(Be,We)}function bo(e,t){var n=ie;ie|=2;var r=Ih();(Be!==e||We!==t)&&(nn=null,dr(e,t));do try{Lg();break}catch(s){zh(e,s)}while(!0);if(uu(),ie=n,ko.current=r,Le!==null)throw Error(O(261));return Be=null,We=0,De}function Lg(){for(;Le!==null;)Dh(Le)}function Fg(){for(;Le!==null&&!om();)Dh(Le)}function Dh(e){var t=$h(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Ah(e):Le=t,ku.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mg(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Le=null;return}}else if(n=jg(n,t,yt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);De===0&&(De=5)}function Xn(e,t,n){var r=de,s=Rt.transition;try{Rt.transition=null,de=1,zg(e,t,n,r)}finally{Rt.transition=s,de=r}return null}function zg(e,t,n,r){do Wr();while(Fn!==null);if(ie&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gm(e,i),e===Be&&(Le=Be=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Li||(Li=!0,Bh(io,function(){return Wr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=de;de=1;var l=ie;ie|=4,ku.current=null,Tg(e,n),_h(n,e),ng(Zl),lo=!!Jl,Zl=Jl=null,e.current=n,Pg(n),lm(),ie=l,de=o,Rt.transition=i}else e.current=n;if(Li&&(Li=!1,Fn=e,Co=s),i=e.pendingLanes,i===0&&($n=null),cm(n.stateNode),mt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eo)throw Eo=!1,e=wa,wa=null,e;return Co&1&&e.tag!==0&&Wr(),i=e.pendingLanes,i&1?e===xa?$s++:($s=0,xa=e):$s=0,Gn(),null}function Wr(){if(Fn!==null){var e=wf(Co),t=Rt.transition,n=de;try{if(Rt.transition=null,de=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,Co=0,ie&6)throw Error(O(331));var s=ie;for(ie|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var m=U;switch(m.tag){case 0:case 11:case 15:As(8,m,i)}var p=m.child;if(p!==null)p.return=m,U=p;else for(;U!==null;){m=U;var y=m.sibling,x=m.return;if(Th(m),m===u){U=null;break}if(y!==null){y.return=x,U=y;break}U=x}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,U=h;break e}U=i.return}}var d=e.current;for(U=d;U!==null;){o=U;var c=o.child;if(o.subtreeFlags&2064&&c!==null)c.return=o,U=c;else e:for(o=d;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ao(9,l)}}catch(C){Me(l,l.return,C)}if(l===o){U=null;break e}var f=l.sibling;if(f!==null){f.return=l.return,U=f;break e}U=l.return}}if(ie=s,Gn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Po,e)}catch{}r=!0}return r}finally{de=n,Rt.transition=t}}return!1}function Yc(e,t,n){t=cs(n,t),t=wh(e,t,1),e=Un(e,t,1),t=it(),e!==null&&(hi(e,1,t),mt(e,t))}function Me(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=cs(n,e),e=xh(t,e,1),t=Un(t,e,1),e=it(),t!==null&&(hi(t,1,e),mt(t,e));break}}t=t.return}}function Ig(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&(De===4||De===3&&(We&130023424)===We&&500>Pe()-Cu?dr(e,0):Eu|=n),mt(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=it();e=mn(e,t),e!==null&&(hi(e,t,n),mt(e,n))}function Dg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uh(e,n)}function Ag(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),Uh(e,n)}var $h;$h=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Ng(e,t,n);ft=!!(e.flags&131072)}else ft=!1,xe&&t.flags&1048576&&Wf(t,mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var s=os(t,Ze.current);Hr(t,n),s=yu(null,t,r,e,s,n);var i=vu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(i=!0,ho(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fu(t),s.updater=Do,t.stateNode=s,s._reactInternals=t,aa(t,r,e,n),t=da(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&iu(t),rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=$g(r),e=Lt(r,e),s){case 0:t=ca(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=Ac(null,t,r,Lt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),ca(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Uc(e,t,r,s,n);case 3:e:{if(Ch(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Xf(e,t),vo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cs(Error(O(423)),t),t=$c(e,t,r,n,s);break e}else if(r!==s){s=cs(Error(O(424)),t),t=$c(e,t,r,n,s);break e}else for(vt=An(t.stateNode.containerInfo.firstChild),wt=t,xe=!0,Dt=null,n=Gf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),r===s){t=gn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Jf(t),e===null&&ia(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ea(r,s)?o=null:i!==null&&ea(r,i)&&(t.flags|=32),Eh(e,t),rt(e,t,o,n),t.child;case 6:return e===null&&ia(t),null;case 13:return bh(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Dc(e,t,r,s,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,pe(go,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!ht.current){t=gn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=dn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),oa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),oa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Hr(t,n),s=Tt(s),r=r(s),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),Ac(e,t,r,s,n);case 15:return Sh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),qi(e,t),t.tag=1,pt(r)?(e=!0,ho(t)):e=!1,Hr(t,n),vh(t,r,s),aa(t,r,s,n),da(null,t,r,!0,e,n);case 19:return Nh(e,t,n);case 22:return kh(e,t,n)}throw Error(O(156,t.tag))};function Bh(e,t){return mf(e,t)}function Ug(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new Ug(e,t,n,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ka)return 11;if(e===qa)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Mu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rr:return fr(n.children,s,i,t);case Va:o=8,s|=8;break;case Ol:return e=Mt(12,n,t,s|2),e.elementType=Ol,e.lanes=i,e;case _l:return e=Mt(13,n,t,s),e.elementType=_l,e.lanes=i,e;case Ll:return e=Mt(19,n,t,s),e.elementType=Ll,e.lanes=i,e;case Xd:return $o(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:o=10;break e;case Yd:o=9;break e;case Ka:o=11;break e;case qa:o=14;break e;case Sn:o=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function Sl(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function kl(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ru(e,t,n,r,s,i,o,l,a){return e=new Bg(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(i),e}function Qg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qh(e){if(!e)return Vn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(pt(n))return Qf(e,n,t)}return t}function Hh(e,t,n,r,s,i,o,l,a){return e=Ru(n,r,!0,e,s,i,o,l,a),e.context=Qh(null),n=e.current,r=it(),s=Bn(n),i=dn(r,s),i.callback=t??null,Un(n,i,s),e.current.lanes=s,hi(e,s,r),mt(e,r),e}function Bo(e,t,n,r){var s=t.current,i=it(),o=Bn(s);return n=Qh(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(s,t,o),e!==null&&($t(e,s,o,i),Wi(e,s,o)),o}function No(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Hg(){return null}var Wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}Qo.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Bo(e,t,null,null)};Qo.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Bo(null,e,null,null)}),t[pn]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=kf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&Cf(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Wg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=No(o);i.call(u)}}var o=Hh(t,r,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[pn]=o.current,Xs(e.nodeType===8?e.parentNode:e),yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=No(a);l.call(u)}}var a=Ru(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=a,e[pn]=a.current,Xs(e.nodeType===8?e.parentNode:e),yr(function(){Bo(t,a,n,r)}),a}function Wo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=No(o);l.call(a)}}Bo(t,o,e,s)}else o=Wg(n,t,e,s,r);return No(o)}xf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ts(t.pendingLanes);n!==0&&(Xa(t,n|1),mt(t,Pe()),!(ie&6)&&(ds=Pe()+500,Gn()))}break;case 13:yr(function(){var r=mn(e,1);if(r!==null){var s=it();$t(r,e,1,s)}}),Tu(e,1)}};Ja=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=it();$t(t,e,134217728,n)}Tu(e,134217728)}};Sf=function(e){if(e.tag===13){var t=Bn(e),n=mn(e,t);if(n!==null){var r=it();$t(n,e,t,r)}Tu(e,t)}};kf=function(){return de};Ef=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Hl=function(e,t,n){switch(t){case"input":if(Il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fo(r);if(!s)throw Error(O(90));Zd(r),Il(r,s)}}}break;case"textarea":tf(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};uf=bu;cf=yr;var Vg={usingClientEntryPoint:!1,Events:[mi,_r,Fo,lf,af,bu]},Ns={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Po=Fi.inject(Kg),Yt=Fi}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(O(200));return Qg(e,t,null,n)};St.createRoot=function(e,t){if(!Ou(e))throw Error(O(299));var n=!1,r="",s=Wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ru(e,1,!1,null,null,n,!1,r,s),e[pn]=t.current,Xs(e.nodeType===8?e.parentNode:e),new Pu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=hf(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return yr(e)};St.hydrate=function(e,t,n){if(!Ho(t))throw Error(O(200));return Wo(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Ou(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Hh(t,null,e,1,n??null,s,!1,i,o),e[pn]=t.current,Xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qo(t)};St.render=function(e,t,n){if(!Ho(t))throw Error(O(200));return Wo(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(O(40));return e._reactRootContainer?(yr(function(){Wo(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};St.unstable_batchedUpdates=bu;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ho(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Wo(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(e){console.error(e)}}Vh(),Wd.exports=St;var _u=Wd.exports,Kh,Zc=_u;Kh=Zc.createRoot,Zc.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},bn,Da,Ed,Gg=(Ed=class{constructor(){V(this,bn,qg);V(this,Da,!1)}setTimeoutProvider(e){I(this,bn,e)}setTimeout(e,t){return v(this,bn).setTimeout(e,t)}clearTimeout(e){v(this,bn).clearTimeout(e)}setInterval(e,t){return v(this,bn).setInterval(e,t)}clearInterval(e){v(this,bn).clearInterval(e)}},bn=new WeakMap,Da=new WeakMap,Ed),tr=new Gg;function Yg(e){setTimeout(e,0)}var vr=typeof window>"u"||"Deno"in globalThis;function st(){}function Xg(e,t){return typeof e=="function"?e(t):e}function Ea(e){return typeof e=="number"&&e>=0&&e!==1/0}function qh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hn(e,t){return typeof e=="function"?e(t):e}function bt(e,t){return typeof e=="function"?e(t):e}function ed(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Lu(o,t.options))return!1}else if(!oi(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function td(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(wr(t.options.mutationKey)!==wr(i))return!1}else if(!oi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Lu(e,t){return((t==null?void 0:t.queryKeyHashFn)||wr)(e)}function wr(e){return JSON.stringify(e,(t,n)=>Ca(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function oi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>oi(e[n],t[n])):!1}var Jg=Object.prototype.hasOwnProperty;function Gh(e,t){if(e===t)return e;const n=nd(e)&&nd(t);if(!n&&!(Ca(e)&&Ca(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const m=n?u:i[u],p=e[m],y=t[m];if(p===y){l[m]=p,(n?u<s:Jg.call(e,m))&&a++;continue}if(p===null||y===null||typeof p!="object"||typeof y!="object"){l[m]=y;continue}const x=Gh(p,y);l[m]=x,x===p&&a++}return s===o&&a===s?e:l}function jo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ca(e){if(!rd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zg(e){return new Promise(t=>{tr.setTimeout(t,e)})}function ba(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Gh(e,t):t}function ey(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ty(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fu=Symbol();function Yh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Xh(e,t){return typeof e=="function"?e(...t):!!e}function ny(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var nr,Nn,Kr,Cd,ry=(Cd=class extends ms{constructor(){super();V(this,nr);V(this,Nn);V(this,Kr);I(this,Kr,t=>{if(!vr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){v(this,Nn)||this.setEventListener(v(this,Kr))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,Nn))==null||t.call(this),I(this,Nn,void 0))}setEventListener(t){var n;I(this,Kr,t),(n=v(this,Nn))==null||n.call(this),I(this,Nn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){v(this,nr)!==t&&(I(this,nr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof v(this,nr)=="boolean"?v(this,nr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nr=new WeakMap,Nn=new WeakMap,Kr=new WeakMap,Cd),zu=new ry;function Na(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var sy=Yg;function iy(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=sy;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ie=iy(),qr,jn,Gr,bd,oy=(bd=class extends ms{constructor(){super();V(this,qr,!0);V(this,jn);V(this,Gr);I(this,Gr,t=>{if(!vr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){v(this,jn)||this.setEventListener(v(this,Gr))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,jn))==null||t.call(this),I(this,jn,void 0))}setEventListener(t){var n;I(this,Gr,t),(n=v(this,jn))==null||n.call(this),I(this,jn,t(this.setOnline.bind(this)))}setOnline(t){v(this,qr)!==t&&(I(this,qr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return v(this,qr)}},qr=new WeakMap,jn=new WeakMap,Gr=new WeakMap,bd),Mo=new oy;function ly(e){return Math.min(1e3*2**e,3e4)}function Jh(e){return(e??"online")==="online"?Mo.isOnline():!0}var ja=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zh(e){let t=!1,n=0,r;const s=Na(),i=()=>s.status!=="pending",o=S=>{var M;if(!i()){const h=new ja(S);y(h),(M=e.onCancel)==null||M.call(e,h)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>zu.isFocused()&&(e.networkMode==="always"||Mo.isOnline())&&e.canRun(),m=()=>Jh(e.networkMode)&&e.canRun(),p=S=>{i()||(r==null||r(),s.resolve(S))},y=S=>{i()||(r==null||r(),s.reject(S))},x=()=>new Promise(S=>{var M;r=h=>{(i()||u())&&S(h)},(M=e.onPause)==null||M.call(e)}).then(()=>{var S;r=void 0,i()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(i())return;let S;const M=n===0?e.initialPromise:void 0;try{S=M??e.fn()}catch(h){S=Promise.reject(h)}Promise.resolve(S).then(p).catch(h=>{var E;if(i())return;const d=e.retry??(vr?0:3),c=e.retryDelay??ly,f=typeof c=="function"?c(n,h):c,C=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,h);if(t||!C){y(h);return}n++,(E=e.onFail)==null||E.call(e,n,h),Zg(f).then(()=>u()?void 0:x()).then(()=>{t?y(h):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:m,start:()=>(m()?w():x().then(w),s)}}var rr,Nd,ep=(Nd=class{constructor(){V(this,rr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ea(this.gcTime)&&I(this,rr,tr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vr?1/0:5*60*1e3))}clearGcTimeout(){v(this,rr)&&(tr.clearTimeout(v(this,rr)),I(this,rr,void 0))}},rr=new WeakMap,Nd),sr,Yr,Ct,ir,Ue,li,or,Ft,tn,jd,ay=(jd=class extends ep{constructor(t){super();V(this,Ft);V(this,sr);V(this,Yr);V(this,Ct);V(this,ir);V(this,Ue);V(this,li);V(this,or);I(this,or,!1),I(this,li,t.defaultOptions),this.setOptions(t.options),this.observers=[],I(this,ir,t.client),I(this,Ct,v(this,ir).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,I(this,sr,id(this.options)),this.state=t.state??v(this,sr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=v(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...v(this,li),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=id(this.options);n.data!==void 0&&(this.setState(sd(n.data,n.dataUpdatedAt)),I(this,sr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,Ct).remove(this)}setData(t,n){const r=ba(this.state.data,t,this.options);return X(this,Ft,tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){X(this,Ft,tn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=v(this,Ue))==null?void 0:r.promise;return(s=v(this,Ue))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,sr))}isActive(){return this.observers.some(t=>bt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),v(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(v(this,Ue)&&(v(this,or)?v(this,Ue).cancel({revert:!0}):v(this,Ue).cancelRetry()),this.scheduleGc()),v(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,Ft,tn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,m,p,y,x,w,S,M,h,d,c;if(this.state.fetchStatus!=="idle"&&((a=v(this,Ue))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(v(this,Ue))return v(this,Ue).continueRetry(),v(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(C=>C.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(I(this,or,!0),r.signal)})},i=()=>{const f=Yh(this.options,n),E=(()=>{const b={client:v(this,ir),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return I(this,or,!1),this.options.persister?this.options.persister(f,E,this):f(E)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:v(this,ir),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),I(this,Yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&X(this,Ft,tn).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),I(this,Ue,Zh({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:f=>{f instanceof ja&&f.revert&&this.setState({...v(this,Yr),fetchStatus:"idle"}),r.abort()},onFail:(f,C)=>{X(this,Ft,tn).call(this,{type:"failed",failureCount:f,error:C})},onPause:()=>{X(this,Ft,tn).call(this,{type:"pause"})},onContinue:()=>{X(this,Ft,tn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const f=await v(this,Ue).start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),(x=(y=v(this,Ct).config).onSuccess)==null||x.call(y,f,this),(S=(w=v(this,Ct).config).onSettled)==null||S.call(w,f,this.state.error,this),f}catch(f){if(f instanceof ja){if(f.silent)return v(this,Ue).promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw X(this,Ft,tn).call(this,{type:"error",error:f}),(h=(M=v(this,Ct).config).onError)==null||h.call(M,f,this),(c=(d=v(this,Ct).config).onSettled)==null||c.call(d,this.state.data,f,this),f}finally{this.scheduleGc()}}},sr=new WeakMap,Yr=new WeakMap,Ct=new WeakMap,ir=new WeakMap,Ue=new WeakMap,li=new WeakMap,or=new WeakMap,Ft=new WeakSet,tn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...sd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return I(this,Yr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ie.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),v(this,Ct).notify({query:this,type:"updated",action:t})})},jd);function tp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function id(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ut,ne,ai,tt,lr,Xr,sn,Mn,ui,Jr,Zr,ar,ur,Rn,es,ue,Os,Ma,Ra,Ta,Pa,Oa,_a,La,np,Md,uy=(Md=class extends ms{constructor(t,n){super();V(this,ue);V(this,ut);V(this,ne);V(this,ai);V(this,tt);V(this,lr);V(this,Xr);V(this,sn);V(this,Mn);V(this,ui);V(this,Jr);V(this,Zr);V(this,ar);V(this,ur);V(this,Rn);V(this,es,new Set);this.options=n,I(this,ut,t),I(this,Mn,null),I(this,sn,Na()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,ne).addObserver(this),od(v(this,ne),this.options)?X(this,ue,Os).call(this):this.updateResult(),X(this,ue,Pa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fa(v(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fa(v(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ue,Oa).call(this),X(this,ue,_a).call(this),v(this,ne).removeObserver(this)}setOptions(t){const n=this.options,r=v(this,ne);if(this.options=v(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bt(this.options.enabled,v(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ue,La).call(this),v(this,ne).setOptions(this.options),n._defaulted&&!jo(this.options,n)&&v(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,ne),observer:this});const s=this.hasListeners();s&&ld(v(this,ne),r,this.options,n)&&X(this,ue,Os).call(this),this.updateResult(),s&&(v(this,ne)!==r||bt(this.options.enabled,v(this,ne))!==bt(n.enabled,v(this,ne))||Hn(this.options.staleTime,v(this,ne))!==Hn(n.staleTime,v(this,ne)))&&X(this,ue,Ma).call(this);const i=X(this,ue,Ra).call(this);s&&(v(this,ne)!==r||bt(this.options.enabled,v(this,ne))!==bt(n.enabled,v(this,ne))||i!==v(this,Rn))&&X(this,ue,Ta).call(this,i)}getOptimisticResult(t){const n=v(this,ut).getQueryCache().build(v(this,ut),t),r=this.createResult(n,t);return dy(this,r)&&(I(this,tt,r),I(this,Xr,this.options),I(this,lr,v(this,ne).state)),r}getCurrentResult(){return v(this,tt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&v(this,sn).status==="pending"&&v(this,sn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){v(this,es).add(t)}getCurrentQuery(){return v(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=v(this,ut).defaultQueryOptions(t),r=v(this,ut).getQueryCache().build(v(this,ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return X(this,ue,Os).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,tt)))}createResult(t,n){var L;const r=v(this,ne),s=this.options,i=v(this,tt),o=v(this,lr),l=v(this,Xr),u=t!==r?t.state:v(this,ai),{state:m}=t;let p={...m},y=!1,x;if(n._optimisticResults){const P=this.hasListeners(),F=!P&&od(t,n),H=P&&ld(t,r,n,s);(F||H)&&(p={...p,...tp(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:M}=p;x=p.data;let h=!1;if(n.placeholderData!==void 0&&x===void 0&&M==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,h=!0):P=typeof n.placeholderData=="function"?n.placeholderData((L=v(this,Zr))==null?void 0:L.state.data,v(this,Zr)):n.placeholderData,P!==void 0&&(M="success",x=ba(i==null?void 0:i.data,P,n),y=!0)}if(n.select&&x!==void 0&&!h)if(i&&x===(o==null?void 0:o.data)&&n.select===v(this,ui))x=v(this,Jr);else try{I(this,ui,n.select),x=n.select(x),x=ba(i==null?void 0:i.data,x,n),I(this,Jr,x),I(this,Mn,null)}catch(P){I(this,Mn,P)}v(this,Mn)&&(w=v(this,Mn),x=v(this,Jr),S=Date.now(),M="error");const d=p.fetchStatus==="fetching",c=M==="pending",f=M==="error",C=c&&d,E=x!==void 0,j={status:M,fetchStatus:p.fetchStatus,isPending:c,isSuccess:M==="success",isError:f,isInitialLoading:C,isLoading:C,data:x,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!c,isLoadingError:f&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:f&&E,isStale:Iu(t,n),refetch:this.refetch,promise:v(this,sn),isEnabled:bt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=q=>{j.status==="error"?q.reject(j.error):j.data!==void 0&&q.resolve(j.data)},F=()=>{const q=I(this,sn,j.promise=Na());P(q)},H=v(this,sn);switch(H.status){case"pending":t.queryHash===r.queryHash&&P(H);break;case"fulfilled":(j.status==="error"||j.data!==H.value)&&F();break;case"rejected":(j.status!=="error"||j.error!==H.reason)&&F();break}}return j}updateResult(){const t=v(this,tt),n=this.createResult(v(this,ne),this.options);if(I(this,lr,v(this,ne).state),I(this,Xr,this.options),v(this,lr).data!==void 0&&I(this,Zr,v(this,ne)),jo(n,t))return;I(this,tt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!v(this,es).size)return!0;const o=new Set(i??v(this,es));return this.options.throwOnError&&o.add("error"),Object.keys(v(this,tt)).some(l=>{const a=l;return v(this,tt)[a]!==t[a]&&o.has(a)})};X(this,ue,np).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ue,Pa).call(this)}},ut=new WeakMap,ne=new WeakMap,ai=new WeakMap,tt=new WeakMap,lr=new WeakMap,Xr=new WeakMap,sn=new WeakMap,Mn=new WeakMap,ui=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,ar=new WeakMap,ur=new WeakMap,Rn=new WeakMap,es=new WeakMap,ue=new WeakSet,Os=function(t){X(this,ue,La).call(this);let n=v(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(st)),n},Ma=function(){X(this,ue,Oa).call(this);const t=Hn(this.options.staleTime,v(this,ne));if(vr||v(this,tt).isStale||!Ea(t))return;const r=qh(v(this,tt).dataUpdatedAt,t)+1;I(this,ar,tr.setTimeout(()=>{v(this,tt).isStale||this.updateResult()},r))},Ra=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,ne)):this.options.refetchInterval)??!1},Ta=function(t){X(this,ue,_a).call(this),I(this,Rn,t),!(vr||bt(this.options.enabled,v(this,ne))===!1||!Ea(v(this,Rn))||v(this,Rn)===0)&&I(this,ur,tr.setInterval(()=>{(this.options.refetchIntervalInBackground||zu.isFocused())&&X(this,ue,Os).call(this)},v(this,Rn)))},Pa=function(){X(this,ue,Ma).call(this),X(this,ue,Ta).call(this,X(this,ue,Ra).call(this))},Oa=function(){v(this,ar)&&(tr.clearTimeout(v(this,ar)),I(this,ar,void 0))},_a=function(){v(this,ur)&&(tr.clearInterval(v(this,ur)),I(this,ur,void 0))},La=function(){const t=v(this,ut).getQueryCache().build(v(this,ut),this.options);if(t===v(this,ne))return;const n=v(this,ne);I(this,ne,t),I(this,ai,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},np=function(t){Ie.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(v(this,tt))}),v(this,ut).getQueryCache().notify({query:v(this,ne),type:"observerResultsUpdated"})})},Md);function cy(e,t){return bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function od(e,t){return cy(e,t)||e.state.data!==void 0&&Fa(e,t,t.refetchOnMount)}function Fa(e,t,n){if(bt(t.enabled,e)!==!1&&Hn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Iu(e,t)}return!1}function ld(e,t,n,r){return(e!==t||bt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Iu(e,n)}function Iu(e,t){return bt(t.enabled,e)!==!1&&e.isStaleByTime(Hn(t.staleTime,e))}function dy(e,t){return!jo(e.getCurrentResult(),t)}function ad(e){return{onFetch:(t,n)=>{var m,p,y,x,w;const r=t.options,s=(y=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:y.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let S=!1;const M=c=>{ny(c,()=>t.signal,()=>S=!0)},h=Yh(t.options,t.fetchOptions),d=async(c,f,C)=>{if(S)return Promise.reject();if(f==null&&c.pages.length)return Promise.resolve(c);const b=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:f,direction:C?"backward":"forward",meta:t.options.meta};return M(F),F})(),j=await h(b),{maxPages:L}=t.options,P=C?ty:ey;return{pages:P(c.pages,j,L),pageParams:P(c.pageParams,f,L)}};if(s&&i.length){const c=s==="backward",f=c?fy:ud,C={pages:i,pageParams:o},E=f(r,C);l=await d(C,E,c)}else{const c=e??i.length;do{const f=a===0?o[0]??r.initialPageParam:ud(r,l);if(a>0&&f==null)break;l=await d(l,f),a++}while(a<c)}return l};t.options.persister?t.fetchFn=()=>{var S,M;return(M=(S=t.options).persister)==null?void 0:M.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ud(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ci,Vt,nt,cr,Kt,xn,Rd,hy=(Rd=class extends ep{constructor(t){super();V(this,Kt);V(this,ci);V(this,Vt);V(this,nt);V(this,cr);I(this,ci,t.client),this.mutationId=t.mutationId,I(this,nt,t.mutationCache),I(this,Vt,[]),this.state=t.state||rp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){v(this,Vt).includes(t)||(v(this,Vt).push(t),this.clearGcTimeout(),v(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){I(this,Vt,v(this,Vt).filter(n=>n!==t)),this.scheduleGc(),v(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){v(this,Vt).length||(this.state.status==="pending"?this.scheduleGc():v(this,nt).remove(this))}continue(){var t;return((t=v(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,m,p,y,x,w,S,M,h,d,c,f,C,E,b,j,L;const n=()=>{X(this,Kt,xn).call(this,{type:"continue"})},r={client:v(this,ci),meta:this.options.meta,mutationKey:this.options.mutationKey};I(this,cr,Zh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(P,F)=>{X(this,Kt,xn).call(this,{type:"failed",failureCount:P,error:F})},onPause:()=>{X(this,Kt,xn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,nt).canRun(this)}));const s=this.state.status==="pending",i=!v(this,cr).canStart();try{if(s)n();else{X(this,Kt,xn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=v(this,nt).config).onMutate)==null?void 0:l.call(o,t,this,r));const F=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));F!==this.state.context&&X(this,Kt,xn).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const P=await v(this,cr).start();return await((p=(m=v(this,nt).config).onSuccess)==null?void 0:p.call(m,P,t,this.state.context,this,r)),await((x=(y=this.options).onSuccess)==null?void 0:x.call(y,P,t,this.state.context,r)),await((S=(w=v(this,nt).config).onSettled)==null?void 0:S.call(w,P,null,this.state.variables,this.state.context,this,r)),await((h=(M=this.options).onSettled)==null?void 0:h.call(M,P,null,t,this.state.context,r)),X(this,Kt,xn).call(this,{type:"success",data:P}),P}catch(P){try{await((c=(d=v(this,nt).config).onError)==null?void 0:c.call(d,P,t,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((C=(f=this.options).onError)==null?void 0:C.call(f,P,t,this.state.context,r))}catch(F){Promise.reject(F)}try{await((b=(E=v(this,nt).config).onSettled)==null?void 0:b.call(E,void 0,P,this.state.variables,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((L=(j=this.options).onSettled)==null?void 0:L.call(j,void 0,P,t,this.state.context,r))}catch(F){Promise.reject(F)}throw X(this,Kt,xn).call(this,{type:"error",error:P}),P}finally{v(this,nt).runNext(this)}}},ci=new WeakMap,Vt=new WeakMap,nt=new WeakMap,cr=new WeakMap,Kt=new WeakSet,xn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ie.batch(()=>{v(this,Vt).forEach(r=>{r.onMutationUpdate(t)}),v(this,nt).notify({mutation:this,type:"updated",action:t})})},Rd);function rp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var on,zt,di,Td,py=(Td=class extends ms{constructor(t={}){super();V(this,on);V(this,zt);V(this,di);this.config=t,I(this,on,new Set),I(this,zt,new Map),I(this,di,0)}build(t,n,r){const s=new hy({client:t,mutationCache:this,mutationId:++vi(this,di)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){v(this,on).add(t);const n=zi(t);if(typeof n=="string"){const r=v(this,zt).get(n);r?r.push(t):v(this,zt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(v(this,on).delete(t)){const n=zi(t);if(typeof n=="string"){const r=v(this,zt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&v(this,zt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=zi(t);if(typeof n=="string"){const r=v(this,zt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=zi(t);if(typeof n=="string"){const s=(r=v(this,zt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ie.batch(()=>{v(this,on).forEach(t=>{this.notify({type:"removed",mutation:t})}),v(this,on).clear(),v(this,zt).clear()})}getAll(){return Array.from(v(this,on))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>td(n,r))}findAll(t={}){return this.getAll().filter(n=>td(t,n))}notify(t){Ie.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ie.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},on=new WeakMap,zt=new WeakMap,di=new WeakMap,Td);function zi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ln,Tn,ct,an,fn,Ji,za,Pd,my=(Pd=class extends ms{constructor(n,r){super();V(this,fn);V(this,ln);V(this,Tn);V(this,ct);V(this,an);I(this,ln,n),this.setOptions(r),this.bindMethods(),X(this,fn,Ji).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=v(this,ln).defaultMutationOptions(n),jo(this.options,r)||v(this,ln).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&wr(r.mutationKey)!==wr(this.options.mutationKey)?this.reset():((s=v(this,ct))==null?void 0:s.state.status)==="pending"&&v(this,ct).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=v(this,ct))==null||n.removeObserver(this)}onMutationUpdate(n){X(this,fn,Ji).call(this),X(this,fn,za).call(this,n)}getCurrentResult(){return v(this,Tn)}reset(){var n;(n=v(this,ct))==null||n.removeObserver(this),I(this,ct,void 0),X(this,fn,Ji).call(this),X(this,fn,za).call(this)}mutate(n,r){var s;return I(this,an,r),(s=v(this,ct))==null||s.removeObserver(this),I(this,ct,v(this,ln).getMutationCache().build(v(this,ln),this.options)),v(this,ct).addObserver(this),v(this,ct).execute(n)}},ln=new WeakMap,Tn=new WeakMap,ct=new WeakMap,an=new WeakMap,fn=new WeakSet,Ji=function(){var r;const n=((r=v(this,ct))==null?void 0:r.state)??rp();I(this,Tn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},za=function(n){Ie.batch(()=>{var r,s,i,o,l,a,u,m;if(v(this,an)&&this.hasListeners()){const p=v(this,Tn).variables,y=v(this,Tn).context,x={client:v(this,ln),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=v(this,an)).onSuccess)==null||s.call(r,n.data,p,y,x)}catch(w){Promise.reject(w)}try{(o=(i=v(this,an)).onSettled)==null||o.call(i,n.data,null,p,y,x)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=v(this,an)).onError)==null||a.call(l,n.error,p,y,x)}catch(w){Promise.reject(w)}try{(m=(u=v(this,an)).onSettled)==null||m.call(u,void 0,n.error,p,y,x)}catch(w){Promise.reject(w)}}}this.listeners.forEach(p=>{p(v(this,Tn))})})},Pd),qt,Od,gy=(Od=class extends ms{constructor(t={}){super();V(this,qt);this.config=t,I(this,qt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Lu(s,n);let o=this.get(i);return o||(o=new ay({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){v(this,qt).has(t.queryHash)||(v(this,qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=v(this,qt).get(t.queryHash);n&&(t.destroy(),n===t&&v(this,qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ie.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return v(this,qt).get(t)}getAll(){return[...v(this,qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ed(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ed(t,r)):n}notify(t){Ie.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ie.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ie.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qt=new WeakMap,Od),je,Pn,On,ts,ns,_n,rs,ss,_d,yy=(_d=class{constructor(e={}){V(this,je);V(this,Pn);V(this,On);V(this,ts);V(this,ns);V(this,_n);V(this,rs);V(this,ss);I(this,je,e.queryCache||new gy),I(this,Pn,e.mutationCache||new py),I(this,On,e.defaultOptions||{}),I(this,ts,new Map),I(this,ns,new Map),I(this,_n,0)}mount(){vi(this,_n)._++,v(this,_n)===1&&(I(this,rs,zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,je).onFocus())})),I(this,ss,Mo.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,je).onOnline())})))}unmount(){var e,t;vi(this,_n)._--,v(this,_n)===0&&((e=v(this,rs))==null||e.call(this),I(this,rs,void 0),(t=v(this,ss))==null||t.call(this),I(this,ss,void 0))}isFetching(e){return v(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,Pn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=v(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Hn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return v(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=v(this,je).get(r.queryHash),i=s==null?void 0:s.state.data,o=Xg(t,i);if(o!==void 0)return v(this,je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ie.batch(()=>v(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=v(this,je);Ie.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=v(this,je);return Ie.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ie.batch(()=>v(this,je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return Ie.batch(()=>(v(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ie.batch(()=>v(this,je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=v(this,je).build(this,t);return n.isStaleByTime(Hn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=ad(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=ad(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mo.isOnline()?v(this,Pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,je)}getMutationCache(){return v(this,Pn)}getDefaultOptions(){return v(this,On)}setDefaultOptions(e){I(this,On,e)}setQueryDefaults(e,t){v(this,ts).set(wr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...v(this,ts).values()],n={};return t.forEach(r=>{oi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){v(this,ns).set(wr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...v(this,ns).values()],n={};return t.forEach(r=>{oi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...v(this,On).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,On).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,je).clear(),v(this,Pn).clear()}},je=new WeakMap,Pn=new WeakMap,On=new WeakMap,ts=new WeakMap,ns=new WeakMap,_n=new WeakMap,rs=new WeakMap,ss=new WeakMap,_d),sp=k.createContext(void 0),yi=e=>{const t=k.useContext(sp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vy=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(sp.Provider,{value:e,children:t})),ip=k.createContext(!1),wy=()=>k.useContext(ip);ip.Provider;function xy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sy=k.createContext(xy()),ky=()=>k.useContext(Sy),Ey=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Cy=e=>{k.useEffect(()=>{e.clearReset()},[e])},by=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Xh(n,[e.error,r])),Ny=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jy=(e,t)=>e.isLoading&&e.isFetching&&!t,My=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ry(e,t,n){var p,y,x,w,S;const r=wy(),s=ky(),i=yi(),o=i.defaultQueryOptions(e);(y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||y.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",Ny(o),Ey(o,s),Cy(s);const l=!i.getQueryCache().get(o.queryHash),[a]=k.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),m=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(M=>{const h=m?a.subscribe(Ie.batchCalls(M)):st;return a.updateResult(),h},[a,m]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setOptions(o)},[o,a]),My(o,u))throw cd(o,a,s);if(by({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||w.call(x,o,u),o.experimental_prefetchInRender&&!vr&&jy(u,r)){const M=l?cd(o,a,s):(S=i.getQueryCache().get(o.queryHash))==null?void 0:S.promise;M==null||M.catch(st).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function Du(e,t){return Ry(e,uy)}function Ty(e,t){const n=yi(),[r]=k.useState(()=>new my(n,e));k.useEffect(()=>{r.setOptions(e)},[r,e]);const s=k.useSyncExternalStore(k.useCallback(o=>r.subscribe(Ie.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((o,l)=>{r.mutate(o,l).catch(st)},[r]);if(s.error&&Xh(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Py({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,sortSpec:i,metricKeys:o,onSortChange:l,filterCount:a,onOpenFilters:u,views:m,activeViewId:p,onApplyView:y,onSaveView:x,starFilters:w,onToggleStar:S,onClearStars:M,starCounts:h,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:C,leftOpen:E,rightOpen:b,onToggleLeft:j,onToggleRight:L,onPrevImage:P,onNextImage:F,canPrevImage:H,canNextImage:q}){const[$,he]=k.useState(!1),[me,fe]=k.useState(!1),_=k.useRef(null),D=k.useRef(null);k.useEffect(()=>{const W=Fe=>{const ge=Fe.target;$&&_.current&&!_.current.contains(ge)&&he(!1),me&&D.current&&!D.current.contains(ge)&&fe(!1)};return($||me)&&window.addEventListener("click",W),()=>window.removeEventListener("click",W)},[$,me]);const Q=i??{kind:"builtin",key:"added",dir:"desc"},oe=Oy(Q),le=Q.dir,et=Q.kind==="builtin"&&Q.key==="random";return g.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[auto_1fr_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[t&&g.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:n,children:" Back"}),!t&&g.jsxs("div",{className:"flex gap-2 items-center relative",children:[g.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:d||"grid",onChange:W=>c&&c(W.target.value),title:"View mode",children:[g.jsx("option",{value:"grid",children:"Grid"}),g.jsx("option",{value:"adaptive",children:"Adaptive"})]}),g.jsx("div",{className:"w-px h-5 bg-border mx-1"}),g.jsxs("select",{className:"h-7 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:oe,onChange:W=>l&&l(_y(W.target.value,Q)),title:"Sort by",children:[g.jsx("option",{value:"builtin:added",children:"Date added"}),g.jsx("option",{value:"builtin:name",children:"Filename"}),g.jsx("option",{value:"builtin:random",children:"Random"}),o&&o.length>0&&g.jsx("optgroup",{label:"Metrics",children:o.map(W=>g.jsx("option",{value:`metric:${W}`,children:W},W))})]}),g.jsx("button",{className:"px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{l&&l(et?Q:{...Q,dir:le==="desc"?"asc":"desc"})},title:et?"Shuffle":"Toggle sort",children:et?"":le==="desc"?"":""}),g.jsxs("button",{className:`h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5 ${a?"bg-accent/15 border-accent/30":""}`,onClick:u,title:"Open filters",children:[g.jsx("span",{className:"text-[13px]",children:"Filter"}),a?g.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded-full bg-accent/30 text-text",children:a}):null]}),g.jsxs("div",{ref:_,children:[g.jsxs("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>he(W=>!W),title:"Filter by rating","aria-haspopup":"dialog","aria-expanded":$,children:[g.jsx("span",{className:"text-sm",children:""}),g.jsx("span",{className:"text-[13px]",children:"Rating"})]}),$&&g.jsxs("div",{role:"dialog","aria-label":"Filter by rating",className:"absolute top-[38px] left-0 bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[200px]",onKeyDown:W=>{W.key==="Escape"&&he(!1)},children:[[5,4,3,2,1].map(W=>{const Fe=!!(w||[]).includes(W),ge=(h==null?void 0:h[String(W)])??0;return g.jsxs("div",{onClick:()=>S&&S(W),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${Fe?"bg-accent/15":""}`,children:[g.jsxs("div",{className:`text-[13px] ${Fe?"text-[#ffd166]":"text-text"}`,children:["".repeat(W),"".repeat(5-W)]}),g.jsx("div",{className:"opacity-80 text-xs",children:ge})]},W)}),(()=>{const W=!!(w||[]).includes(0);return g.jsxs("div",{onClick:()=>S&&S(0),className:`flex items-center justify-between px-1.5 py-1 rounded-md cursor-pointer ${W?"bg-accent/15":""}`,children:[g.jsx("div",{className:"text-[13px] text-text",children:"None"}),g.jsx("div",{className:"opacity-80 text-xs",children:(h==null?void 0:h["0"])??0})]})})(),g.jsx("div",{className:"h-px bg-border my-1.5"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"h-[26px] px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:M,children:"All"})})]})]}),(()=>{const W=w||[];if(!W.length)return null;const Fe=W.filter(Oe=>Oe>0).sort((Oe,z)=>z-Oe),ge=Fe.length?Fe.join(","):W.includes(0)?"None":"";return g.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 pl-1.5 bg-accent/20 border border-border text-text rounded-[10px] h-[26px]","aria-label":`Rating filter active: ${ge}`,title:`Rating filter: ${ge}`,children:[g.jsx("span",{className:"text-[#ffd166] text-[13px] leading-none",children:""}),g.jsx("span",{className:"text-[13px] opacity-95",children:ge}),g.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":"Clear rating filter",onClick:M,children:""})]})})()]})]}),g.jsx("div",{className:"flex items-center gap-3 justify-center",children:t?g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:W=>s&&s(Number(W.target.value)),className:"zoom-slider"}),g.jsxs("span",{className:"text-xs opacity-80 min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):C&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-muted",children:"Size"}),g.jsx("input",{type:"range",min:80,max:500,step:10,value:f??220,onChange:W=>C(Number(W.target.value)),className:"w-32 h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text","aria-label":"Thumbnail size"})]})}),g.jsxs("div",{className:"flex items-center gap-2 justify-end toolbar-right",children:[t&&g.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[g.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${H?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>H&&P&&P(),"aria-label":"Previous image","aria-disabled":!H,children:g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M15 18l-6-6 6-6"})})}),g.jsx("button",{className:`h-7 w-7 rounded-md border border-[#3a3a3a] bg-[#252525] text-[#cfd1d4] flex items-center justify-center transition-colors hover:bg-[#2f2f2f] hover:border-[#4a4a4a] ${q?"opacity-90 cursor-pointer":"opacity-45 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>q&&F&&F(),"aria-label":"Next image","aria-disabled":!q,children:g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),!t&&g.jsxs("div",{ref:D,className:"relative",children:[g.jsxs("button",{className:"h-8 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer flex items-center gap-1.5",onClick:()=>fe(W=>!W),"aria-haspopup":"dialog","aria-expanded":me,title:"Smart Folders",children:[g.jsx("span",{className:"text-sm",children:"Views"}),g.jsx("span",{className:"text-xs opacity-70",children:""})]}),me&&g.jsxs("div",{role:"dialog","aria-label":"Smart Folders",className:"absolute right-0 top-[38px] bg-[#1b1b1b] border border-border rounded-lg p-1.5 shadow-[0_10px_26px_rgba(0,0,0,0.35)] w-[220px] z-[var(--z-menu)]",children:[g.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted px-1.5 py-1",children:"Smart Folders"}),g.jsx("div",{className:"max-h-[220px] overflow-auto scrollbar-thin",children:m&&m.length>0?m.map(W=>{const Fe=W.id===p;return g.jsx("button",{className:`w-full text-left px-2 py-1.5 rounded-md text-sm cursor-pointer ${Fe?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{fe(!1),y&&y(W)},children:W.name},W.id)}):g.jsx("div",{className:"text-xs text-muted px-2 py-2",children:"No saved views yet."})}),g.jsx("div",{className:"h-px bg-border my-1.5"}),g.jsx("button",{className:"w-full h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>{fe(!1),x&&x()},children:"Save as Smart Folder"})]})]}),g.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[g.jsxs("button",{className:`relative group h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${E?"opacity-100":"opacity-60"}`,title:E?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:j,"aria-pressed":E,"aria-label":"Toggle left panel",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),g.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]}),g.jsx("span",{className:"pointer-events-none absolute -top-9 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md border border-border bg-[#121212] px-2 py-1 text-[11px] text-text opacity-0 shadow-[0_6px_16px_rgba(0,0,0,0.45)] transition-opacity group-hover:opacity-100 z-[var(--z-menu)]",children:E?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)"})]}),g.jsxs("button",{className:`relative group h-8 w-8 rounded-lg border border-border bg-[#1b1b1b] text-text flex items-center justify-center hover:bg-[#252525] ${b?"opacity-100":"opacity-60"}`,title:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:L,"aria-pressed":b,"aria-label":"Toggle right panel",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),g.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]}),g.jsx("span",{className:"pointer-events-none absolute -top-9 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md border border-border bg-[#121212] px-2 py-1 text-[11px] text-text opacity-0 shadow-[0_6px_16px_rgba(0,0,0,0.45)] transition-opacity group-hover:opacity-100 z-[var(--z-menu)]",children:b?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)"})]})]}),g.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:W=>e(W.target.value),className:"input h-8 w-[220px] focus:w-[280px] transition-all duration-200 rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text"})]})]})}function Oy(e){return e.kind==="metric"?`metric:${e.key}`:`builtin:${e.key}`}function _y(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const op=3e4;class At extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function Et(e,t={}){const{timeoutMs:n=op,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Ii(e,t={}){const{timeoutMs:n=op,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class lp{constructor(t){Cr(this,"store",new Map);Cr(this,"inflight",new Map);Cr(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(m=>(this.set(t,m),m)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const jr=new lp(60*1024*1024),Ia=new lp(20*1024*1024),El={};function Ly(){const e=El==null?void 0:El.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const Xe=Ly();const Fy=40*1024*1024,ce={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),Et(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),Et(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return Et(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>Et(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>Et(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>Et(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Ia.getOrFetch(e,()=>Ii(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Ia.prefetch(e,()=>Ii(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>jr.getOrFetch(e,()=>Ii(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(jr.has(e)||jr.isInflight(e)))try{const t=await Ii(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=Fy&&jr.set(e,t)}catch{}},cancelPrefetch:e=>{jr.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),Et(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),Et(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>Et(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),Et(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>Et(`${Xe}/views`).promise,saveViews:e=>Et(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},zy=e=>["folder",e];function ap(e){return Du({queryKey:zy(e),queryFn:()=>ce.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Cl(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Iy(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function bl(e){try{return JSON.parse(e)}catch{return}}const Dy=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Vr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Dy.test(s)?s:"/"}catch{return"/"}}function dd(){return(window.location.hash||"").replace(/^#/,"")}function Ay(e){const t=Vr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Uy(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function $y(e){const n=Vr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function By(e){return e.endsWith("/_trash_")}function Qy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=k.useState(new Set(["/"]));k.useEffect(()=>{const p=e.split("/").filter(Boolean),y=["/"];let x="";for(const w of p)x=x?`${x}/${w}`:`/${w}`,y.push(x);u(w=>{const S=new Set(w);for(const M of y)S.add(M);return S})},[e]);const m=o??"h-full overflow-auto bg-panel scrollbar-thin";return g.jsxs("div",{className:m,children:[g.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(p=>g.jsx(up,{path:p.path,label:p.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},p.path))}),l&&g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function up({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var h,d,c;const u=s.has(e),{data:m}=ap(e),p=a&&e===a.path?a:m,y=r===e,x=(((h=p==null?void 0:p.dirs)==null?void 0:h.length)??0)===0,w=x?((d=p==null?void 0:p.items)==null?void 0:d.length)??0:0,S=yi(),M=f=>{f.stopPropagation(),i(C=>{const E=new Set(C);return E.has(e)?E.delete(e):E.add(e),E})};return g.jsxs("div",{children:[g.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${y?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":x?void 0:u,"aria-selected":y,tabIndex:y?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:f=>{f.preventDefault(),f.stopPropagation(),l&&l(f,e)},onKeyDown:f=>{var C;if(f.key==="Enter")f.preventDefault(),o(e);else if(f.key==="ArrowRight")!x&&!u&&(f.preventDefault(),i(E=>{const b=new Set(E);return b.add(e),b}));else if(f.key==="ArrowLeft")!x&&u&&(f.preventDefault(),i(E=>{const b=new Set(E);return b.delete(e),b}));else if(f.key==="ArrowDown"||f.key==="ArrowUp"||f.key==="Home"||f.key==="End"){f.preventDefault();const E=Array.from(document.querySelectorAll('[role="tree"] [role="treeitem"]')),b=E.findIndex(L=>L===f.currentTarget);if(b===-1)return;let j=b;f.key==="ArrowDown"?j=Math.min(E.length-1,b+1):f.key==="ArrowUp"?j=Math.max(0,b-1):f.key==="Home"?j=0:f.key==="End"&&(j=E.length-1),(C=E[j])==null||C.focus()}},onDragOver:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&(f.preventDefault(),x&&(document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==f.currentTarget&&b.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target")))},onDragEnter:f=>{var E;Array.from(((E=f.dataTransfer)==null?void 0:E.types)||[]).includes("application/x-lenslet-paths")&&x&&(f.preventDefault(),document.querySelectorAll('[role="treeitem"].drop-target').forEach(b=>{b!==f.currentTarget&&b.classList.remove("drop-target")}),f.currentTarget.classList.add("drop-target"))},onDragLeave:f=>{const C=f.currentTarget,E=document.elementFromPoint(f.clientX,f.clientY);E&&C.contains(E)||C.classList.remove("drop-target")},onDrop:async f=>{const C=f.dataTransfer;if(!C)return;f.preventDefault(),f.currentTarget.classList.remove("drop-target");const E=C.getData("application/x-lenslet-paths"),j=(E?JSON.parse(E):[]).filter(Boolean);if(!j.length)return;let L=j[0].split("/").slice(0,-1).join("/")||"/";L.startsWith("/")||(L=`/${L}`);let P=e;P.startsWith("/")||(P=`/${P}`);try{for(const F of j)await ce.moveFile(F,P);S.invalidateQueries({queryKey:["folder",L]}),S.invalidateQueries({queryKey:["folder",P]}),S.setQueryData(["folder",L],F=>!F||!Array.isArray(F.items)?F:{...F,items:F.items.filter(H=>!j.includes(H.path))})}catch{}},children:[g.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:M,children:u?"":""}),g.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Iy(t,28)}),x&&g.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((c=p==null?void 0:p.dirs)==null?void 0:c.map(f=>g.jsx(up,{path:Uy(e,f.name),label:f.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},f.name)))]})}class Hy{constructor(t=400){Cr(this,"cache",new Map);Cr(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Nl=new Hy(400);function Wy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=k.useRef(null),[m,p]=k.useState(()=>Nl.get(e)??null),[y,x]=k.useState(!1),[w,S]=k.useState(()=>!!m);return k.useEffect(()=>{const M=u.current;if(!M)return;const h=new IntersectionObserver(d=>{for(const c of d)c.target===M&&x(c.isIntersecting||c.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return h.observe(M),()=>{h.unobserve(M),h.disconnect()}},[o]),k.useEffect(()=>{if(m||!(y&&!l||a))return;let M=!0;return ce.getThumb(e).then(h=>{if(!M)return;const d=URL.createObjectURL(h);Nl.set(e,d),p(d)}).catch(()=>{}),()=>{M=!1}},[e,m,y,l,a]),k.useEffect(()=>{var h;if(!m){S(!1);return}const M=(h=u.current)==null?void 0:h.querySelector("img");M&&M.complete&&M.naturalWidth>0?S(!0):S(!1)},[m]),k.useEffect(()=>{p(Nl.get(e)??null)},[e]),g.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:m?g.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:m,alt:t,loading:"lazy",decoding:"async",onLoad:()=>S(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Nr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let m;n.key&&((l=n.debug)!=null&&l.call(n))&&(m=Date.now());const p=e();if(!(p.length!==r.length||p.some((w,S)=>r[S]!==w)))return s;r=p;let x;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(x=Date.now()),s=t(...p),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-m)*100)/100,S=Math.round((Date.now()-x)*100)/100,M=S/16,h=(d,c)=>{for(d=String(d);d.length<c;)d=" "+d;return d};console.info(`%c ${h(S,5)} /${h(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function fd(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Vy=(e,t)=>Math.abs(e-t)<1.01,Ky=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},hd=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},qy=e=>e,Gy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Yy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(hd(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(hd(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},pd={passive:!0},md=typeof window>"u"?!0:"onscrollend"in window,Xy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&md?()=>{}:Ky(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=m=>()=>{const{horizontal:p,isRtl:y}=e.options;s=p?n.scrollLeft*(y&&-1||1):n.scrollTop,i(),t(s,m)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,pd);const u=e.options.useScrollendEvent&&md;return u&&n.addEventListener("scrollend",a,pd),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},Jy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Zy=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class ev{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:qy,rangeExtractor:Gy,onChange:()=>{},measureElement:Jy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Nr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Nr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Nr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const y of this.laneAssignments.keys())y>=n&&this.laneAssignments.delete(y);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(y=>{this.itemSizeCache.set(y.key,y.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,u),p=new Array(l).fill(void 0);for(let y=0;y<u;y++){const x=m[y];x&&(p[x.lane]=y)}for(let y=u;y<n;y++){const x=i(y),w=this.laneAssignments.get(y);let S,M;if(w!==void 0&&this.options.lanes>1){S=w;const f=p[S],C=f!==void 0?m[f]:void 0;M=C?C.end+this.options.gap:r+s}else{const f=this.options.lanes===1?m[y-1]:this.getFurthestMeasurement(m,y);M=f?f.end+this.options.gap:r+s,S=f?f.lane:y%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(y,S)}const h=a.get(x),d=typeof h=="number"?h:this.options.estimateSize(y),c=M+d;m[y]={index:y,start:M,size:d,end:c,key:x,lane:S},p[S]=y}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Nr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?tv({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Nr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Nr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return fd(r[cp(0,r.length-1,s=>fd(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,u);if(!m){console.warn("Failed to get offset for index:",n);return}const[p,y]=m;this._scrollToOffset(p,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),w=this.getOffsetForIndex(n,y);if(!w){console.warn("Failed to get offset for index:",n);return}Vy(w[0],x)||a(y)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const cp=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function tv({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=cp(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(m=>m<n+t);){const m=e[l];a[m.lane]=m.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(m=>m>=n);){const m=e[o];u[m.lane]=m.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const gd=typeof document<"u"?k.useLayoutEffect:k.useEffect;function nv(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?_u.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=k.useState(()=>new ev(n));return r.setOptions(n),gd(()=>r._didMount(),[]),gd(()=>r._willUpdate()),r}function rv(e){return nv({observeElementRect:Yy,observeElementOffset:Xy,scrollToFn:Zy,...e})}const sv=({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s})=>{const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}};function iv({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;for(let a=0;a<e.length;a++){const u=e[a];let m=1.333;u.w>0&&u.h>0&&(m=u.w/u.h),o.push({item:u,aspect:m,originalIndex:a}),l+=m;const p=(o.length-1)*r;if(l*n+p>=t){const x=(t-p)/l,w=o.map(S=>({item:S.item,displayW:S.aspect*x,displayH:x,originalIndex:S.originalIndex}));i.push({index:i.length,height:x+s+r,imageH:x,items:w}),o=[],l=0}}if(o.length>0){const a=n,u=o.map(m=>({item:m.item,displayW:m.aspect*a,displayH:a,originalIndex:m.originalIndex}));i.push({index:i.length,height:a+s+r,imageH:a,items:u})}return i}function ov(e,t,n){const[r,s]=k.useState(0);k.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const p=getComputedStyle(a),y=a.clientWidth-parseFloat(p.paddingLeft)-parseFloat(p.paddingRight);s(y)},m=new ResizeObserver(u);return m.observe(a),u(),()=>m.disconnect()},[]);const i=k.useMemo(()=>{if(n.viewMode==="adaptive")return{mode:"adaptive",rows:iv({items:t,containerWidth:r,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})};{const{columns:a,cellW:u,mediaH:m,rowH:p}=sv({containerW:r,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),y=Math.ceil(t.length/Math.max(1,a));return{mode:"grid",columns:a,cellW:u,mediaH:m,rowH:p,rowCount:y}}},[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=rv({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return k.useEffect(()=>{o.measure()},[i]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function lv(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}function av({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[m,p]=k.useState(null),[y,x]=k.useState(null),[w,S]=k.useState(null),[M,h]=k.useState(!1),[d,c]=k.useState(null),[f,C]=k.useState(null),E=k.useRef(null),b=k.useRef(null),j=k.useRef(null),L=12,P=u,F={w:4,h:3},H=44,{width:q,layout:$,rowVirtualizer:he,virtualRows:me}=ov(b,e,{gap:L,targetCell:P,aspect:F,captionH:H,viewMode:a}),fe=k.useMemo(()=>{const R=new Map;for(let K=0;K<e.length;K++)R.set(e[K].path,K);return R},[e]),_=k.useMemo(()=>{if($.mode!=="adaptive")return null;const R=new Map;return $.rows.forEach((K,Y)=>{let re=0;K.items.forEach((J,ae)=>{const B=re+J.displayW/2;R.set(J.item.path,{row:Y,center:B,order:ae}),re+=J.displayW+L})}),R},[$]);k.useEffect(()=>{if(!t.length)return;const R=t[0];d!==R&&c(R)},[t,d]);const D=k.useMemo(()=>{if($.mode!=="adaptive")return null;let R=0;return $.rows.map(K=>{const Y=R;return R+=K.height,{start:Y,height:K.height}})},[$]),Q=k.useRef(null),oe=(R,K)=>{try{if(Q.current!=null){try{cancelAnimationFrame(Q.current)}catch{}Q.current=null}const Y=R.scrollTop,re=K-Y;if(Math.abs(re)<1){R.scrollTop=K;return}const J=140,ae=performance.now(),B=we=>1-Math.pow(1-we,3),Ce=we=>{const be=Math.min(1,(we-ae)/J),Ae=B(be);R.scrollTop=Y+re*Ae,be<1?Q.current=requestAnimationFrame(Ce):Q.current=null};Q.current=requestAnimationFrame(Ce)}catch{R.scrollTop=K}},[le,et]=k.useState(!1);k.useEffect(()=>{const R=b.current;if(!R)return;let K=0;const Y=()=>{et(!0),window.clearTimeout(K),K=window.setTimeout(()=>et(!1),120)};return R.addEventListener("scroll",Y,{passive:!0}),()=>R.removeEventListener("scroll",Y)},[]);const W=$.mode==="grid"?$.columns:Math.max(1,Math.floor(q/(P+L))),Fe=(R,K)=>{if($.mode!=="adaptive")return null;const Y=$.rows[R];if(!Y)return null;let re=0,J=null;for(const ae of Y.items){const B=re+ae.displayW/2,Ce=Math.abs(B-K);(!J||Ce<J.dist)&&(J={path:ae.item.path,dist:Ce}),re+=ae.displayW+L}return J?J.path:null},ge=(R,K)=>{var Ae,Re,Jt,te;if(!e.length)return null;const Y=R??e[0].path;if($.mode!=="adaptive"){const _e=lv(e,W,Y,K);return _e==="open"||_e==null?_e:((Ae=e[_e])==null?void 0:Ae.path)??null}const re=_==null?void 0:_.get(Y);if(!re)return Y;const J=fe.get(Y)??0,ae=K.key;if(ae==="Enter")return"open";if(ae==="ArrowRight"||ae==="d")return((Re=e[Math.min(e.length-1,J+1)])==null?void 0:Re.path)??Y;if(ae==="ArrowLeft"||ae==="a")return((Jt=e[Math.max(0,J-1)])==null?void 0:Jt.path)??Y;const B=ae==="ArrowDown"||ae==="s"?1:ae==="ArrowUp"||ae==="w"?-1:0;if(B===0)return null;const Ce=re.row+B;if(Ce<0||Ce>=(((te=$.rows)==null?void 0:te.length)??0))return Y;const we=re.center;return Fe(Ce,we)??Y};k.useEffect(()=>{const R=b.current;if(!R)return;const K=Y=>{var Ae,Re,Jt,te;const re=ge(f,Y);if(re==null)return;if(Y.preventDefault(),re==="open"){f&&s(f);return}const J=e.find(_e=>_e.path===re);if(!J)return;C(J.path),c(J.path),r([J.path]);try{j.current=J.path}catch{}const ae=$.mode==="grid"?Math.floor((fe.get(J.path)??0)/Math.max(1,$.columns)):((Ae=_==null?void 0:_.get(J.path))==null?void 0:Ae.row)??0,B=R.scrollTop,Ce=B+R.clientHeight,we=$.mode==="adaptive"?((Re=D==null?void 0:D[ae])==null?void 0:Re.start)??0:ae*$.rowH,be=$.mode==="adaptive"?we+(((Jt=D==null?void 0:D[ae])==null?void 0:Jt.height)??0):we+$.rowH;(we<B||be>Ce)&&oe(R,we);try{(te=document.getElementById(`cell-${encodeURIComponent(J.path)}`))==null||te.focus()}catch{}};return R.addEventListener("keydown",K),()=>{R.removeEventListener("keydown",K)}},[e,f,W,s,$,_,D,fe]),k.useLayoutEffect(()=>{var ae;const R=b.current;if(!R||!n||!t||t.length===0)return;const K=t[0],Y=fe.get(K);if(Y==null||Y<0)return;let re=0;if($.mode==="grid")re=Math.floor(Y/Math.max(1,$.columns));else{let B=0,Ce=$.rows.length-1;for(;B<=Ce;){const we=B+Ce>>1,be=$.rows[we];if(Y>=be.items[0].originalIndex&&Y<=be.items[be.items.length-1].originalIndex){re=we;break}Y<be.items[0].originalIndex?Ce=we-1:B=we+1}}const J=$.mode==="adaptive"?((ae=D==null?void 0:D[re])==null?void 0:ae.start)??0:re*$.rowH;try{R.scrollTop=J}catch{}},[n,$,D]);const Oe=new Set(t),z=!!(m&&y&&M);k.useEffect(()=>{var R;(R=b.current)==null||R.focus()},[]),k.useEffect(()=>{var R;if(l){try{(R=b.current)==null||R.blur()}catch{}try{C(null)}catch{}}},[l]);const G=f?`cell-${encodeURIComponent(f)}`:void 0;return g.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${z?"cursor-zoom-in":""}`,ref:b,tabIndex:0,"aria-activedescendant":G,onMouseDown:()=>{var R;return(R=b.current)==null?void 0:R.focus()},style:{"--gap":`${L}px`},children:g.jsxs("div",{className:"relative w-full",style:{height:he.getTotalSize()},children:[me.map(R=>{var ae;let K=[],Y={},re="";if($.mode==="adaptive"){const B=$.rows[R.index];if(!B)return null;K=B.items,Y={height:B.height,transform:`translate3d(0, ${R.start}px, 0)`,display:"flex",gap:L,paddingBottom:L},re="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const B=R.index*$.columns;K=e.slice(B,B+$.columns).map(we=>({item:we,displayW:$.cellW,displayH:$.mediaH})),Y={transform:`translate3d(0, ${R.start}px, 0)`,gridTemplateColumns:`repeat(${$.columns}, minmax(0, 1fr))`,gap:L,paddingBottom:L},re="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const J=R.index===((ae=me[0])==null?void 0:ae.index);try{if(!le)for(const{item:B}of K)try{ce.prefetchThumb(B.path)}catch{}}catch{}return g.jsx("div",{className:re,role:"row",style:Y,children:K.map(({item:B,displayW:Ce,displayH:we})=>{const be=!l&&(d===B.path||Oe.has(B.path)),Ae=$.mode==="adaptive"?{width:Ce}:{},Re=$.mode==="adaptive"?{height:we}:{},Jt=$.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return g.jsxs("div",{id:`cell-${encodeURIComponent(B.path)}`,className:`relative min-w-0 ${be?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":be,tabIndex:f===B.path?0:-1,onFocus:()=>C(B.path),draggable:!0,style:Ae,onDragStart:te=>{var _e;try{const Qe=Oe.has(B.path)&&t.length>0?t:[B.path];(_e=te.dataTransfer)==null||_e.setData("application/x-lenslet-paths",JSON.stringify(Qe)),te.dataTransfer&&(te.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const Ke=te.currentTarget.querySelector(".cell-content img"),at=document.createElement("div");at.className="drag-ghost";const Qt=document.createElement("img");Qt.draggable=!1,Qt.alt="drag",Ke&&Ke.src&&(Qt.src=Ke.src),at.appendChild(Qt),document.body.appendChild(at);const en=at.getBoundingClientRect().width||150;te.dataTransfer.setDragImage(at,Math.round(en/2),0);const Ot=()=>{try{at.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",Ot),window.removeEventListener("pointerup",Ot),document.removeEventListener("visibilitychange",Ot)};window.addEventListener("dragend",Ot),window.addEventListener("pointerup",Ot),document.addEventListener("visibilitychange",Ot)}catch{}},onDragEnd:()=>{},onContextMenu:te=>{te.preventDefault(),te.stopPropagation(),i&&i(te,B.path)},children:[g.jsxs("div",{className:Jt,style:Re,onMouseEnter:()=>{try{ce.prefetchFile(B.path)}catch{}},onDoubleClick:()=>s(B.path),onMouseLeave:()=>{if(w&&(window.clearTimeout(w),S(null)),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null),h(!1)},children:[g.jsx("div",{className:"cell-content absolute inset-0",children:g.jsx(Wy,{path:B.path,name:B.name,selected:be,displayW:Ce,displayH:we,ioRoot:b.current,isScrolling:le,priority:J,onClick:te=>{var Zt;c(B.path),C(B.path);const _e=!!te.shiftKey,Qe=!!(te.ctrlKey||te.metaKey);if(_e){const Ke=j.current??d??t[0]??B.path,at=fe.get(Ke)??e.findIndex(en=>en.path===Ke),Qt=fe.get(B.path)??e.findIndex(en=>en.path===B.path);if(at!==-1&&Qt!==-1){const en=Math.min(at,Qt),Ot=Math.max(at,Qt),vn=e.slice(en,Ot+1).map(kr=>kr.path);if(Qe){const kr=new Set(t);for(const Vo of vn)kr.add(Vo);r(Array.from(kr))}else r(vn)}else r([B.path])}else if(Qe){const Ke=new Set(t);Ke.has(B.path)?Ke.delete(B.path):Ke.add(B.path),r(Array.from(Ke));try{j.current=B.path}catch{}}else{r([B.path]);try{j.current=B.path}catch{}}try{le||(ce.prefetchFile(B.path),ce.prefetchThumb(B.path))}catch{}try{(Zt=document.getElementById(`cell-${encodeURIComponent(B.path)}`))==null||Zt.focus()}catch{}}})}),g.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:async()=>{if(le)return;w&&window.clearTimeout(w),p(B.path),h(!1);const te=window.setTimeout(async()=>{try{const _e=await ce.getFile(B.path),Qe=URL.createObjectURL(_e);if(E.current)try{URL.revokeObjectURL(E.current)}catch{}E.current=Qe,x(Qe),h(!0)}catch{}},350);S(te)},onMouseLeave:()=>{if(w&&window.clearTimeout(w),S(null),h(!1),p(null),E.current){try{URL.revokeObjectURL(E.current)}catch{}E.current=null}x(null)},children:g.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:g.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[g.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),g.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),g.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[g.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:B.name,children:(()=>{const te=(o||"").trim();if(!te)return B.name;const _e=B.name,Qe=_e.toLowerCase().indexOf(te.toLowerCase());if(Qe===-1)return B.name;const Zt=_e.slice(0,Qe),Ke=_e.slice(Qe,Qe+te.length),at=_e.slice(Qe+te.length);return g.jsxs(g.Fragment,{children:[Zt,g.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:Ke}),at]})})()}),g.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[B.w,"  ",B.h]})]})]},B.path)})},R.key)}),m&&y&&M&&_u.createPortal(g.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:g.jsx("img",{src:y,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${W}`)})}function uv(){const[e,t]=k.useState(1),[n,r]=k.useState(0),[s,i]=k.useState(0),[o,l]=k.useState(1),[a,u]=k.useState(!1),[m,p]=k.useState(!1),[y,x]=k.useState(!1),w=k.useRef(null),S=k.useRef(null),M=()=>{const c=w.current,f=S.current;if(!c||!f||!f.naturalWidth||!f.naturalHeight)return;const C=c.getBoundingClientRect(),E=C.width/f.naturalWidth,b=C.height/f.naturalHeight,j=Math.min(1,Math.min(E,b));l(j);const L=f.naturalWidth*j,P=f.naturalHeight*j;r((C.width-L)/2),i((C.height-P)/2)};return k.useEffect(()=>{const c=w.current;if(!c)return;const f=new ResizeObserver(()=>{try{requestAnimationFrame(()=>M())}catch{M()}});return f.observe(c),()=>f.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:m,setDragging:p,visible:y,setVisible:x,containerRef:w,imgRef:S,fitAndCenter:M,handleWheel:c=>{c.preventDefault();const f=c.deltaY>0?-1:1,C=1.2,E=.05,b=8,j=w.current;if(!j)return;const L=j.getBoundingClientRect(),P=c.clientX-L.left,F=c.clientY-L.top;t(H=>{const q=Math.min(b,Math.max(E,H*Math.pow(C,f))),$=q/H;return r(he=>P-$*(P-he)),i(he=>F-$*(F-he)),Number(q.toFixed(4))})},handleMouseDown:c=>{const f=w.current,C=S.current;if(!f||!C||c.target!==C)return;const b=f.getBoundingClientRect();if(c.clientX<b.left||c.clientX>b.right||c.clientY<b.top||c.clientY>b.bottom)return;c.preventDefault(),c.stopPropagation(),p(!0);const j=c.clientX,L=c.clientY,P=n,F=s,H=$=>{r(P+($.clientX-j)),i(F+($.clientY-L))},q=()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",q),p(!1)};window.addEventListener("mousemove",H),window.addEventListener("mouseup",q)}}}function cv({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const[o,l]=k.useState(null),[a,u]=k.useState(null),{scale:m,setScale:p,tx:y,setTx:x,ty:w,setTy:S,base:M,ready:h,setReady:d,dragging:c,visible:f,setVisible:C,containerRef:E,imgRef:b,fitAndCenter:j,handleWheel:L,handleMouseDown:P}=uv();return k.useEffect(()=>{let F=!0;return ce.getFile(e).then(H=>{F&&l(URL.createObjectURL(H))}).catch(()=>{}),ce.getThumb(e).then(H=>{F&&u(URL.createObjectURL(H))}).catch(()=>{}),requestAnimationFrame(()=>{var H;C(!0),(H=E.current)==null||H.focus()}),()=>{F=!1}},[e]),k.useEffect(()=>{const F=H=>{H.key==="Escape"?(C(!1),setTimeout(t,110)):(H.key==="ArrowRight"||H.key==="d")&&n?n(1):(H.key==="ArrowLeft"||H.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,n]),k.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]),k.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),k.useEffect(()=>{d(!1)},[o]),k.useEffect(()=>{r&&r(M*m*100)},[M,m,r]),k.useEffect(()=>{if(s==null)return;const F=E.current;if(!F){i&&i();return}const H=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,M))),q=F.getBoundingClientRect(),$=q.width/2,he=q.height/2;p(me=>{const fe=H/me;return x(_=>$-fe*($-_)),S(_=>he-fe*(he-_)),Number(H.toFixed(4))}),i&&i()},[s,M,i]),g.jsxs("div",{ref:E,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${c?"cursor-grabbing select-none":""} ${f?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:()=>{C(!1),window.setTimeout(()=>t(),110)},onWheel:L,onMouseDown:P,onKeyDown:F=>{F.key==="Tab"&&F.preventDefault()},children:[g.jsx("button",{"aria-label":"Close",onClick:F=>{F.stopPropagation(),C(!1),window.setTimeout(()=>t(),110)},className:"absolute top-3 right-3 z-10 px-2.5 py-1.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",children:""}),a&&g.jsx("img",{src:a,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:F=>F.preventDefault(),style:{transform:`translate(${y}px, ${w}px) scale(${M})`,transformOrigin:"0 0",opacity:h?0:.5,filter:"blur(0.25px)"}}),o&&g.jsx("img",{ref:b,src:o,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:F=>{F.preventDefault()},onLoad:F=>{j(),p(1);try{requestAnimationFrame(()=>d(!0))}catch{d(!0)}},onClick:F=>F.stopPropagation(),style:{transform:`translate(${y}px, ${w}px) scale(${M*m})`,transformOrigin:"0 0",opacity:h?.99:0,WebkitUserDrag:"none"}})]})}const dp=e=>["item",e],dv={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function fv(e){return Du({queryKey:dp(e),queryFn:()=>ce.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function hv(e){const t=yi();return Ty({mutationFn:n=>ce.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(dp(e),n)}})}const pv=6;async function Di(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await fp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(pv,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const js=new Map,jl=new Map;async function fp(e,t,n){const r=n??new Date().toISOString(),s=js.get(e)||{};js.set(e,{...s,...t});const i=jl.get(e);if(i)return i;const o=(async()=>{try{for(;js.has(e);){const l=js.get(e);if(js.delete(e),!l)break;let a;try{a=await ce.getSidecar(e)}catch{a={...dv,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let m=0;const p=3;for(;m<p;)try{await ce.putSidecar(e,u);break}catch(y){if(m++,m>=p)throw y;await new Promise(x=>setTimeout(x,200*Math.pow(2,m)))}}}finally{jl.delete(e)}})();return jl.set(e,o),o}function hp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function Zi(e){if(Array.isArray(e))return e.map(Zi);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,Zi(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return Zi(r)}catch{return e}}return e}function Ml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function mv(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function gv(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=Ml(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${Ml(o)}</span>`,r=i+o.length}return n+=Ml(e.slice(r)),n}function yv({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=fv(e??""),a=hv(e??""),[u,m]=k.useState(""),[p,y]=k.useState(""),[x,w]=k.useState(null),[S,M]=k.useState(""),[h,d]=k.useState(null),[c,f]=k.useState("idle"),[C,E]=k.useState(!1),[b,j]=k.useState(null),[L,P]=k.useState({}),H=k.useMemo(()=>{const z=n.find(G=>G.path===e);return z&&z.star!==void 0?z.star:null},[n,e])??(o==null?void 0:o.star)??null,q=t.length>1,$=k.useMemo(()=>{const z=new Set(t);return n.filter(G=>z.has(G.path))},[n,t]),he=k.useMemo(()=>$.reduce((z,G)=>z+(G.size||0),0),[$]);k.useEffect(()=>{o&&(m((o.tags||[]).join(", ")),y(o.notes||"")),M(""),d(null),f("idle"),E(!1)},[o==null?void 0:o.updated_at,e]);const me=k.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]);k.useEffect(()=>{if(!e)return;const z=G=>{if(hp(G.target))return;const R=G.key;if(!/^[0-5]$/.test(R))return;G.preventDefault();const K=R==="0"?null:Number(R);if(q&&t.length)Di(t,{star:K}),s==null||s(t,K);else{const Y=me();a.mutate({...Y,star:K,updated_at:new Date().toISOString(),updated_by:"web"}),s==null||s([e],K)}};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,q,t,me,a,s]),k.useEffect(()=>{if(!e){x&&URL.revokeObjectURL(x),w(null);return}let z=!0;return ce.getThumb(e).then(G=>{if(!z)return;const R=URL.createObjectURL(G);w(K=>(K&&URL.revokeObjectURL(K),R))}).catch(()=>{}),()=>{z=!1}},[e]),k.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]);const fe=e?e.split("/").pop()||e:"",_=k.useMemo(()=>{var G;if(fe.includes("."))return fe.slice(fe.lastIndexOf(".")+1).toUpperCase();const z=n.find(R=>R.path===e);return(G=z==null?void 0:z.type)!=null&&G.includes("/")?z.type.split("/")[1].toUpperCase():""},[fe,n,e]),D=k.useMemo(()=>n.find(z=>z.path===e),[n,e]),Q=k.useCallback(async()=>{if(e){f("loading"),d(null);try{const z=await ce.getMetadata(e),G=Zi(z.meta),R=JSON.stringify(G,null,2);M(R),f("loaded")}catch(z){const G=z instanceof Error?z.message:"Failed to load metadata";M(G),d(G),f("error")}}},[e]),oe=k.useCallback(()=>{var z;S&&((z=navigator.clipboard)==null||z.writeText(S).then(()=>{E(!0),setTimeout(()=>E(!1),1200)}).catch(G=>{const R=G instanceof Error?G.message:"Copy failed";d(R)}))},[S]),le=k.useMemo(()=>S?gv(S):"",[S]),et=c==="loading"?"Loading metadata":S||"PNG metadata not loaded yet.",W=c==="loaded"&&!!S,Fe=W?"h-48":"h-24",ge=k.useCallback((z,G)=>{var R;G&&((R=navigator.clipboard)==null||R.writeText(G).then(()=>{j(z),setTimeout(()=>j(K=>K===z?null:K),1e3)}).catch(()=>{}))},[]),Oe=k.useCallback((z,G)=>{if(G&&!L[z]){const R=G.offsetHeight;R&&P(K=>K[z]?K:{...K,[z]:R})}},[L]);return i?g.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&g.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:g.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel",children:[x&&g.jsx("img",{src:x,alt:"thumb",className:"block w-full h-full object-contain"}),!!_&&g.jsx("div",{className:"absolute top-1.5 left-1.5 bg-[#1b1b1b] border border-border text-text text-xs px-1.5 py-0.5 rounded-md",children:_})]})}),g.jsx("div",{className:"p-3 border-b border-border",children:q?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1.5",children:"Selection"}),g.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),g.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Cl(he)]})]}):g.jsx(g.Fragment,{children:g.jsx("div",{className:"font-mono text-text break-all",title:fe,children:fe})})}),g.jsxs("div",{className:"p-3 border-b border-border space-y-1.5",children:[g.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-[#6d6d6d] focus:border-border",placeholder:"Add notes",value:p,onChange:z=>y(z.target.value),onBlur:()=>{if(q&&t.length)Di(t,{notes:p});else{const z=me();a.mutate({...z,notes:p,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Notes for selected items":"Notes"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),g.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-[#6d6d6d] focus:border-border",placeholder:"tag1, tag2",value:u,onChange:z=>m(z.target.value),onBlur:()=>{const z=u.split(",").map(G=>G.trim()).filter(Boolean);if(q&&t.length)Di(t,{tags:z});else{const G=me();a.mutate({...G,tags:z,updated_at:new Date().toISOString(),updated_by:"web"})}},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&g.jsxs("div",{className:"p-3 border-b border-border",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide",children:"Metadata"}),g.jsxs("div",{className:"flex items-center gap-1 text-xs ml-auto w-fit",children:[S&&g.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:oe,disabled:!S,title:"Copy metadata",children:C?"Copied":"Copy"}),g.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:Q,disabled:!e||c==="loading",children:c==="loading"?"Loading":"Show meta"})]})]}),g.jsx("pre",{className:`bg-[#0f0f0f] text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${Fe} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:W?g.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:le}}):et}),h&&g.jsx("div",{className:"text-[11px] text-red-400 mt-1 break-words",children:h})]}),g.jsxs("div",{className:"p-3 border-b border-border",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Basic info"}),g.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[g.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),g.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(z=>{const G=(H??0)>=z;return g.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${G?"text-[#e7c46a]":"text-[#6f6f6f]"} hover:border-border hover:text-[#e7c46a] transition-colors`,onClick:()=>{const R=H===z&&!q?null:z;q&&t.length?(s==null||s(t,R),Di(t,{star:R})):e&&(s==null||s([e],R),fp(e,{star:R}))},title:`${z} star${z>1?"s":""} (key ${z})`,"aria-label":`${z} star${z>1?"s":""}`,"aria-pressed":H===z,children:G?"":""},z)})})]}),!q&&D&&g.jsxs("div",{className:"text-[12px] space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("dimensions",`${D.w}${D.h}`),children:"Dimensions"}),g.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:z=>Oe("dimensions",z),style:L.dimensions?{minHeight:L.dimensions}:void 0,children:b==="dimensions"?"Copied":`${D.w}${D.h}`})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("size",Cl(D.size)),children:"Size"}),g.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:z=>Oe("size",z),style:L.size?{minHeight:L.size}:void 0,children:b==="size"?"Copied":Cl(D.size)})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>ge("type",D.type),children:"Type"}),g.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:z=>Oe("type",z),style:L.type?{minHeight:L.type}:void 0,children:b==="type"?"Copied":D.type})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>e&&ge("source",e),children:"Source"}),g.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:z=>Oe("source",z),style:L.source?{minHeight:L.source}:void 0,children:b==="source"?"Copied":e})]}),(()=>{const z=D.metrics||null;if(!z)return null;const G=Object.entries(z).filter(([,re])=>re!=null);if(!G.length)return null;const R=G.sort(([re],[J])=>re.localeCompare(J)),K=R.slice(0,12),Y=R.length-K.length;return g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),g.jsxs("div",{className:"space-y-1",children:[K.map(([re,J])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted w-24 shrink-0",children:re}),g.jsx("span",{className:"font-mono text-text text-right",children:mv(J)})]},re)),Y>0&&g.jsxs("div",{className:"text-[11px] text-muted",children:["+",Y," more"]})]})]})})()]})]}),g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):g.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:g.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const vv=(e,t)=>["search",e,t];function wv(e,t){return Du({enabled:!!e.trim(),queryKey:vv(e,t),queryFn:()=>ce.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}function xv(e,t){return!t||!t.and.length?e:e.filter(n=>Sv(n,t.and))}function Sv(e,t){for(const n of t)if(!kv(e,n))return!1;return!0}function kv(e,t){var n;if("stars"in t){const r=t.stars;if(!r||!r.length)return!0;const s=e.star??0;return r.includes(s)}if("metricRange"in t){const{key:r,min:s,max:i}=t.metricRange,o=(n=e.metrics)==null?void 0:n[r];return!(o==null||o<s||o>i)}return!0}function yd(e){const t=e.and.find(n=>"stars"in n);return(t==null?void 0:t.stars)??[]}function Rl(e,t){const n=e.and.filter(r=>!("stars"in r));return t.length?{and:[{stars:t},...n]}:{and:n}}function Ev(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function Cv(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function bv(e){return e.and.length}const Ro=(e,t)=>e.name.localeCompare(t.name),Nv=(e,t)=>{const n=e.addedAt?Date.parse(e.addedAt):0,r=t.addedAt?Date.parse(t.addedAt):0;return n===r?Ro(e,t):n-r},jv=e=>(t,n)=>{var l,a;const r=(l=t.metrics)==null?void 0:l[e],s=(a=n.metrics)==null?void 0:a[e],i=r==null,o=s==null;return i&&o?Ro(t,n):i?1:o?-1:r===s?Ro(t,n):r-s};function Mv(e,t){return xv(e,t)}function Rv(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function Tv(e,t){const n=Rv(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function Pv(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return Tv(e,i)}const r=t.kind==="metric"?jv(t.key):t.key==="name"?Ro:Nv,s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Bs=40;function Ov({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o}){const l=r&&n.includes(r)?r:n[0],a=k.useMemo(()=>l?vd(e,l,Bs):null,[e,l]),u=k.useMemo(()=>l&&a?vd(t,l,Bs,a):null,[t,l,a]),m=l?Ev(i,l):null,[p,y]=k.useState(null),[x,w]=k.useState(!1),S=k.useRef(null),M=p??m,h=a?{min:a.min,max:a.max}:null,d=(E,b)=>{var F;if(!h||!l)return;const j=(F=S.current)==null?void 0:F.getBoundingClientRect();if(!j)return;const L=pp((E.clientX-j.left)/j.width),P=h.min+(h.max-h.min)*L;y(H=>{const q=(H==null?void 0:H.min)??P,he=Lv(q,P);return b&&o(l,he),he})},c=E=>{var b;!h||!l||(E.preventDefault(),w(!0),y(null),(b=S.current)==null||b.setPointerCapture(E.pointerId),d(E,!1))},f=E=>{x&&d(E,!1)},C=E=>{var b;x&&(w(!1),(b=S.current)==null||b.releasePointerCapture(E.pointerId),d(E,!0),setTimeout(()=>y(null),0))};return n.length?g.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),g.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-[#1b1b1b] text-text",value:l,onChange:E=>s(E.target.value),children:n.map(E=>g.jsx("option",{value:E,children:E},E))})]}),a?g.jsxs("div",{className:"rounded-xl border border-border bg-[#161616] p-3",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[g.jsxs("span",{children:["Population: ",a.count]}),g.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),g.jsxs("svg",{ref:S,viewBox:`0 0 ${Bs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-[#121212]",onPointerDown:c,onPointerMove:f,onPointerUp:C,children:[wd(a.bins,"#2e3a4b"),u&&wd(u.bins,"#3a8fff"),M&&h&&_v(M,h)]}),g.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[g.jsx("span",{children:Ai(h==null?void 0:h.min)}),M?g.jsxs("span",{className:"text-text",children:[Ai(M.min),"  ",Ai(M.max)]}):g.jsx("span",{children:"Drag to filter"}),g.jsx("span",{children:Ai(h==null?void 0:h.max)})]}),g.jsx("div",{className:"flex items-center gap-2 mt-2",children:g.jsx("button",{className:"h-7 px-2.5 bg-[#1b1b1b] text-text border border-border rounded-lg cursor-pointer",onClick:()=>l&&o(l,null),children:"Clear"})})]}):g.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]}):g.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})}function vd(e,t,n,r){var u;const s=[];for(const m of e){const p=(u=m.metrics)==null?void 0:u[t];p==null||Number.isNaN(p)||s.push(p)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const m of s){const p=Math.max(0,Math.min(n-1,Math.floor((m-i)*a)));l[p]+=1}return{bins:l,min:i,max:o,count:s.length}}function wd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return g.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function _v(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Bs*pp(Math.min(n,r)),i=Bs*Math.abs(r-n);return g.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function Lv(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function pp(e){return e<0?0:e>1?1:e}function Ai(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function Fv(e){const[t,n]=k.useState(250),[r,s]=k.useState(240),i=k.useRef(t),o=k.useRef(r);return k.useEffect(()=>{i.current=t},[t]),k.useEffect(()=>{o.current=r},[r]),k.useEffect(()=>{try{const u=window.localStorage,m=Number(u.getItem("leftW"));Number.isFinite(m)&&m>0&&n(m);const p=Number(u.getItem("rightW"));Number.isFinite(p)&&p>0&&s(p)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),y=w=>{const S=w.clientX-p.left,M=200,h=Math.max(M,p.width-o.current-200),d=Math.min(Math.max(S,M),h);n(d)},x=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",y),window.addEventListener("mouseup",x)},onResizeRight:u=>{u.preventDefault();const m=e.current;if(!m)return;const p=m.getBoundingClientRect(),y=w=>{const S=w.clientX-p.left,M=p.width-S,h=240,d=Math.max(h,p.width-i.current-200),c=Math.min(Math.max(M,h),d);s(c)},x=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",x);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",y),window.addEventListener("mouseup",x)}}}function zv({x:e,y:t,items:n}){return g.jsx("div",{className:"fixed z-menu bg-[#1b1b1b] border border-border rounded-lg min-w-[160px] py-1.5 shadow-[0_10px_30px_rgba(0,0,0,0.4)]",role:"menu",style:{left:e,top:t},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>g.jsx("div",{className:`px-3 py-2 text-text cursor-default hover:bg-hover ${r.danger?"text-[#ff6b6b]":""} ${r.disabled?"text-muted cursor-not-allowed":""}`,role:"menuitem","aria-disabled":!!r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:r.label},s))})}function xd(e){return JSON.stringify(e,null,2)}function Sd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function Tl(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function Iv(e,t=250){const[n,r]=to.useState(e);return to.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Te={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function Dv(){var $u;const[e,t]=k.useState("/"),[n,r]=k.useState(""),[s,i]=k.useState([]),[o,l]=k.useState(null),[a,u]=k.useState(0),[m,p]=k.useState(null),[y,x]=k.useState(100),[w,S]=k.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[M,h]=k.useState(()=>Date.now()),[d,c]=k.useState("adaptive"),[f,C]=k.useState(220),[E,b]=k.useState(!0),[j,L]=k.useState(!0),[P,F]=k.useState("folders"),[H,q]=k.useState([]),[$,he]=k.useState(null),[me,fe]=k.useState({}),_=k.useRef(null),D=k.useRef(null),Q=k.useRef(!1),oe=k.useRef(null),{leftW:le,rightW:et,onResizeLeft:W,onResizeRight:Fe}=Fv(_),[ge,Oe]=k.useState(!1),[z,G]=k.useState(null);k.useEffect(()=>{const N=Vr(dd());t(N);const T=()=>{const A=Vr(dd());l(null),t(Z=>Z===A?Z:(u(se=>se+1),A))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:R,refetch:K,isLoading:Y,isError:re}=ap(e),J=n.trim().length>0,ae=Iv(n,250),B=k.useMemo(()=>ae.trim().replace(/\s+/g," "),[ae]),Ce=wv(J?B:"",e),we=k.useMemo(()=>yd(w.filters),[w.filters]),be=k.useMemo(()=>{var T;return(J?((T=Ce.data)==null?void 0:T.items)??[]:(R==null?void 0:R.items)??[]).map(A=>({...A,star:me[A.path]!==void 0?me[A.path]:A.star}))},[J,Ce.data,R,me]),Ae=k.useMemo(()=>{const N=Mv(be,w.filters);return Pv(N,w.sort,M)},[be,w.filters,w.sort,M]),Re=k.useMemo(()=>Ae.map(N=>N.path),[Ae]),Jt=k.useMemo(()=>{const N=be,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const A of N){const Z=me[A.path]??A.star??0;T[String(Z)]=(T[String(Z)]||0)+1}return T},[be,me]),te=k.useMemo(()=>{const N=new Set;let T=0;for(const A of be){const Z=A.metrics;if(Z)for(const se of Object.keys(Z))N.add(se);if(T+=1,T>=250&&N.size>0)break}return Array.from(N).sort()},[be]);k.useEffect(()=>{te.length&&S(N=>{const T=N.selectedMetric&&te.includes(N.selectedMetric)?N.selectedMetric:te[0];return T===N.selectedMetric?N:{...N,selectedMetric:T}})},[te]),k.useEffect(()=>{w.sort.kind==="metric"&&(te.includes(w.sort.key)||S(N=>({...N,sort:{kind:"builtin",key:"added",dir:N.sort.dir}})))},[te,w.sort]);const _e=k.useMemo(()=>bv(w.filters),[w.filters]),Qe=k.useCallback(()=>{S(N=>({...N,filters:Rl(N.filters,[])}))},[]),Zt=k.useCallback((N,T)=>{S(A=>({...A,filters:Cv(A.filters,N,T)}))},[]),Ke=k.useMemo(()=>{const N=[];for(const T of w.filters.and)if("stars"in T){const A=T.stars||[];if(!A.length)continue;const Z=A.filter(gt=>gt>0).sort((gt,Er)=>Er-gt),se=Z.length?Z.join(","):A.includes(0)?"None":"";N.push({id:"stars",label:`Rating: ${se}`,onRemove:()=>Qe()})}else if("metricRange"in T){const{key:A,min:Z,max:se}=T.metricRange;N.push({id:`metric:${A}`,label:`${A}: ${$v(Z,se)}`,onRemove:()=>Zt(A,null)})}return N},[w.filters,Qe,Zt]),at=k.useCallback(N=>{const T=new Set(we);T.has(N)?T.delete(N):T.add(N),S(A=>({...A,filters:Rl(A.filters,Array.from(T))}))},[we]),Qt=k.useCallback(()=>{b(!0),F("metrics")},[]),en=k.useCallback(N=>{S(T=>({...T,sort:N})),N.kind==="builtin"&&N.key==="random"&&h(Date.now())},[]),Ot=k.useCallback(N=>{if(N==="/"||N==="")return"Lenslet | Root";const T=N.split("/").filter(Boolean);if(!T.length)return"Lenslet";const A=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${A}`:`/${A}`}`},[]);k.useEffect(()=>{document.title=Ot(e)},[e,Ot]),k.useEffect(()=>{let N=!0;return ce.getViews().then(T=>{N&&q(T.views||[])}).catch(()=>{N&&q([])}),()=>{N=!1}},[]),k.useEffect(()=>{J&&(i([]),l(null))},[J]),k.useEffect(()=>{try{const N=localStorage.getItem(Te.sortKey),T=localStorage.getItem(Te.sortDir),A=localStorage.getItem(Te.sortSpec),Z=localStorage.getItem(Te.starFilters),se=localStorage.getItem(Te.filterAst),gt=localStorage.getItem(Te.selectedMetric),Er=localStorage.getItem(Te.viewMode),gs=localStorage.getItem(Te.gridItemSize),ys=localStorage.getItem(Te.leftOpen),vs=localStorage.getItem(Te.rightOpen),Qu=(qe=>{if(!qe)return null;const Ne=bl(qe);return!Ne||typeof Ne!="object"?null:Ne.kind==="builtin"&&(Ne.key==="name"||Ne.key==="added"||Ne.key==="random")&&(Ne.dir==="asc"||Ne.dir==="desc")||Ne.kind==="metric"&&typeof Ne.key=="string"&&Ne.key.length>0&&(Ne.dir==="asc"||Ne.dir==="desc")?Ne:null})(A)??{kind:"builtin",key:N==="name"||N==="added"||N==="random"?N:"added",dir:T==="asc"||T==="desc"?T:"desc"};Qu.key==="random"&&h(Date.now());let Go=(qe=>{if(!qe)return null;const Ne=bl(qe);return!Ne||typeof Ne!="object"||!Array.isArray(Ne.and)?null:Ne})(se)??{and:[]};if(Z){const qe=bl(Z);if(Array.isArray(qe)){const Ne=qe.filter(wp=>[0,1,2,3,4,5].includes(wp));Go=Rl(Go,Ne)}}if(S(qe=>({...qe,sort:Qu,filters:Go,selectedMetric:gt||qe.selectedMetric})),(Er==="grid"||Er==="adaptive")&&c(Er),gs){const qe=Number(gs);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(ys==="0"||ys==="false")&&b(!1),(vs==="0"||vs==="false")&&L(!1)}catch{}},[]),k.useEffect(()=>{try{localStorage.setItem(Te.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Te.sortDir,w.sort.dir),localStorage.setItem(Te.sortSpec,JSON.stringify(w.sort));const N=yd(w.filters);localStorage.setItem(Te.starFilters,JSON.stringify(N)),localStorage.setItem(Te.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Te.selectedMetric,w.selectedMetric):localStorage.removeItem(Te.selectedMetric),localStorage.setItem(Te.viewMode,d),localStorage.setItem(Te.gridItemSize,String(f)),localStorage.setItem(Te.leftOpen,E?"1":"0"),localStorage.setItem(Te.rightOpen,j?"1":"0")}catch{}},[w,d,f,E,j]),k.useEffect(()=>{const N=D.current;if(!N)return;const T=Z=>Math.min(500,Math.max(80,Z)),A=Z=>{Z.ctrlKey&&(Z.preventDefault(),C(se=>T(se+(Z.deltaY<0?20:-20))))};return N.addEventListener("wheel",A,{passive:!1}),()=>N.removeEventListener("wheel",A)},[]),k.useEffect(()=>{if(!o)return;const N=Re.indexOf(o);if(N===-1)return;const T=[Re[N-2],Re[N-1],Re[N+1],Re[N+2]].filter(A=>!!A);for(const A of T)ce.prefetchFile(A),ce.prefetchThumb(A)},[o,Re]),k.useEffect(()=>{var T;if(!((T=R==null?void 0:R.items)!=null&&T.length))return;const N=R.items.slice(0,5);for(const A of N)ce.prefetchFile(A.path)},[R==null?void 0:R.path,R==null?void 0:R.items]);const vn=k.useCallback(N=>{l(null);const T=Vr(N);t(T),Ay(T)},[]),kr=k.useCallback(async()=>{const N=window.prompt("Save Smart Folder as:","New Smart Folder");if(!N)return;const T=Av(N,H),A={id:T,name:N,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},Z=[...H.filter(se=>se.id!==T),A];q(Z),he(T);try{await ce.saveViews({version:1,views:Z})}catch(se){if(se instanceof At&&se.status===403){const gt=new Blob([JSON.stringify({version:1,views:Z},null,2)],{type:"application/json"});eo(gt,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",se)}},[e,w,H]);k.useEffect(()=>{if(!$)return;const N=H.find(Z=>Z.id===$);if(!N){he(null);return}const T=N.pool.path===e,A=JSON.stringify(N.view)===JSON.stringify(w);(!T||!A)&&he(null)},[$,H,e,w]);const Vo=k.useCallback(N=>{l(N),Q.current||(window.history.pushState({viewer:!0},"",window.location.href),Q.current=!0)},[]),Au=k.useCallback(()=>{l(null),Q.current&&(Q.current=!1,window.history.back());const N=oe.current;if(N){const T=document.getElementById(`cell-${encodeURIComponent(N)}`);T==null||T.focus()}},[]);k.useEffect(()=>{const N=()=>{o&&(Q.current=!1,l(null))};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[o]),k.useEffect(()=>{const N=_.current;if(!N)return;const T=se=>{se.dataTransfer&&Array.from(se.dataTransfer.types).includes("Files")&&(se.preventDefault(),Oe(!0))},A=se=>{const gt=se.relatedTarget;gt&&N.contains(gt)||Oe(!1)},Z=async se=>{var gs,ys;se.preventDefault(),Oe(!1);const gt=Array.from(((gs=se.dataTransfer)==null?void 0:gs.files)??[]);if(!gt.length)return;if(!((((ys=R==null?void 0:R.dirs)==null?void 0:ys.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const vs of gt)try{await ce.uploadFile(e,vs)}catch(Bu){console.error(`Failed to upload ${vs.name}:`,Bu)}K()};return N.addEventListener("dragover",T),N.addEventListener("dragleave",A),N.addEventListener("drop",Z),()=>{N.removeEventListener("dragover",T),N.removeEventListener("dragleave",A),N.removeEventListener("drop",Z)}},[e,($u=R==null?void 0:R.dirs)==null?void 0:$u.length,K]),k.useEffect(()=>{const N=()=>G(null),T=A=>{A.key==="Escape"&&G(null)};return window.addEventListener("click",N),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",N),window.removeEventListener("keydown",T)}},[]),k.useEffect(()=>{const N=T=>{if(!hp(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?L(A=>!A):b(A=>!A);return}if(!o){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),vn($y(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(Ae.map(A=>A.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const A=document.querySelector(".toolbar-right .input");A==null||A.focus()}}}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,Ae,s,o,vn]);const mp=E?`${le}px`:"0px",gp=j?`${et}px`:"0px",Uu=o??s[0]??null,Ko=Uu?Re.indexOf(Uu):-1,yp=Ko>0,vp=Ko>=0&&Ko<Re.length-1,qo=k.useCallback(N=>{if(!Re.length)return;const T=o??s[0];if(!T)return;const A=Re.indexOf(T);if(A===-1)return;const Z=Math.min(Re.length-1,Math.max(0,A+N)),se=Re[Z];!se||se===T||(o&&l(se),i([se]))},[Re,o,s]);return g.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:_,style:{"--left":mp,"--right":gp},children:[g.jsx(Py,{onSearch:r,viewerActive:!!o,onBack:Au,zoomPercent:o?y:void 0,onZoomPercentChange:N=>p(N),sortSpec:w.sort,metricKeys:te,onSortChange:en,filterCount:_e,onOpenFilters:Qt,views:H,activeViewId:$,onApplyView:N=>{he(N.id),S(N.view),vn(N.pool.path)},onSaveView:kr,starFilters:we,onToggleStar:at,onClearStars:Qe,starCounts:Jt,viewMode:d,onViewMode:c,gridItemSize:f,onGridItemSize:C,leftOpen:E,rightOpen:j,onToggleLeft:()=>b(N=>!N),onToggleRight:()=>L(N=>!N),onPrevImage:()=>qo(-1),onNextImage:()=>qo(1),canPrevImage:yp,canNextImage:vp}),E&&g.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-[#141414]",children:[g.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center ${P==="folders"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Folders","aria-label":"Folders",onClick:()=>F("folders"),children:g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:g.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),g.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center ${P==="metrics"?"bg-accent/20 text-accent":"bg-[#1b1b1b] text-text"}`,title:"Metrics","aria-label":"Metrics",onClick:()=>F("metrics"),children:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[g.jsx("path",{d:"M4 19V9"}),g.jsx("path",{d:"M10 19V5"}),g.jsx("path",{d:"M16 19v-7"}),g.jsx("path",{d:"M3 19h18"})]})})]}),g.jsx("div",{className:"ml-10 h-full",children:P==="folders"?g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[g.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-2",children:"Smart Folders"}),H.length?g.jsx("div",{className:"flex flex-col gap-1",children:H.map(N=>{const T=N.id===$;return g.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent/20 text-accent":"hover:bg-white/5 text-text"}`,onClick:()=>{he(N.id),S(N.view),vn(N.pool.path),F("metrics")},children:N.name},N.id)})}):g.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved views."})]}),g.jsx(Qy,{current:e,roots:[{label:"Root",path:"/"}],data:R,onOpen:N=>{he(null),vn(N)},onContextMenu:(N,T)=>{N.preventDefault(),G({x:N.clientX,y:N.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):g.jsx(Ov,{items:be,filteredItems:Ae,metricKeys:te,selectedMetric:w.selectedMetric,onSelectMetric:N=>S(T=>({...T,selectedMetric:N})),filters:w.filters,onChangeRange:Zt})}),g.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:W})]}),g.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:D,children:[g.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Ke.length>0&&g.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel/80 backdrop-blur-sm border-b border-border",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:Ke.map(N=>g.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-accent/15 border border-border text-text rounded-[10px] text-[12px]",children:[g.jsx("span",{children:N.label}),g.jsx("button",{className:"w-[18px] h-[18px] rounded-full border border-border bg-black/25 text-text cursor-pointer inline-flex items-center justify-center leading-none p-0 hover:bg-black/35","aria-label":`Clear filter ${N.label}`,onClick:N.onRemove,children:""})]},N.id))})}),!1,g.jsx("div",{className:"flex-1 min-h-0",children:g.jsx(av,{items:Ae,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:N=>{try{oe.current=N}catch{}Vo(N),i([N])},highlight:J?B:"",suppressSelectionHighlight:!!o,viewMode:d,targetCellSize:f,onContextMenuItem:(N,T)=>{N.preventDefault();const A=s.length?s:[T];G({x:N.clientX,y:N.clientY,kind:"grid",payload:{paths:A}})}})})]}),j&&g.jsx(yv,{path:s[0]??null,selectedPaths:s,items:Ae,onResize:Fe,onStarChanged:(N,T)=>{fe(A=>{const Z={...A};for(const se of N)Z[se]=T;return Z})}}),o&&g.jsx(cv,{path:o,onClose:Au,onZoomChange:N=>x(Math.round(N)),requestedZoomPercent:m,onZoomRequestConsumed:()=>p(null),onNavigate:qo}),ge&&g.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),z&&g.jsx(Bv,{ctx:z,current:e,items:Ae,refetch:K,setCtx:G})]})}function Av(e,t){const n=Uv(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function Uv(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function $v(e,t){return`${kd(e)}${kd(t)}`}function kd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function eo(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Bv({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=By(t),o=(c,f)=>c==="/"?`/${f}`:`${c}/${f}`,l=yi(),[a,u]=to.useState(!1),[m,p]=to.useState(null),y=()=>new Date().toISOString().replace(/[:.]/g,"-"),x=c=>{const f=C=>c==="/"?!0:C===c||C.startsWith(`${c}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const E=typeof C[1]=="string"?C[1]:"";return f(E)}})},w=c=>{const f=Vr(c);return f===""?"/":f},S=async()=>{const c=w(e.payload.path||"/");u(!0);try{await ce.refreshFolder(c),x(c),(t===c||t.startsWith(c==="/"?"/":`${c}/`))&&await r(),Ia.evictPrefix(c),jr.evictPrefix(c)}catch(f){console.error("Failed to refresh folder:",f)}finally{u(!1),s(null)}},M=async c=>{const f=[c],C=new Set,E=[];for(;f.length;){const b=f.pop();if(!C.has(b)){C.add(b);try{const j=await ce.getFolder(b);E.push(...j.items);for(const L of j.dirs)L.kind==="branch"&&f.push(o(b,L.name))}catch(j){console.error(`Failed to fetch folder ${b}:`,j)}}}return E},h=c=>async()=>{p(c);const f=e.payload.path||t;try{const C=await M(f),E=Tl(C),b=c==="csv"?Sd(E):xd(E),j=c==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",L=f==="/"?"root":(f.replace(/^\/+/,"")||"root").replace(/\//g,"_");eo(new Blob([b],{type:j}),`metadata_${L}_${y()}.${c}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{p(null),s(null)}},d=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:S},{label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m||a,onClick:h("csv")},{label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m||a,onClick:h("json")}]:(()=>{const c=e.payload.paths??[],f=[];return f.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of c)try{await ce.moveFile(C,"/_trash_")}catch(E){console.error(`Failed to trash ${C}:`,E)}r(),s(null)}}}),i&&(f.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${c.length} file(s) permanently? This cannot be undone.`)){try{await ce.deleteFiles(c)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),f.push({label:"Recover",onClick:async()=>{for(const C of c)try{const b=(await ce.getSidecar(C)).original_position,j=b&&b.split("/").slice(0,-1).join("/")||"/";await ce.moveFile(C,j)}catch(E){console.error(`Failed to recover ${C}:`,E)}r(),s(null)}})),c.length&&(f.push({label:m==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!m,onClick:async()=>{p("csv");try{const C=new Set(c),E=n.filter(L=>C.has(L.path)),b=Tl(E),j=Sd(b);eo(new Blob([j],{type:"text/csv;charset=utf-8"}),`metadata_selection_${y()}.csv`)}finally{p(null),s(null)}}}),f.push({label:m==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!m,onClick:async()=>{p("json");try{const C=new Set(c),E=n.filter(L=>C.has(L.path)),b=Tl(E),j=xd(b);eo(new Blob([j],{type:"application/json;charset=utf-8"}),`metadata_selection_${y()}.json`)}finally{p(null),s(null)}}})),f})();return g.jsx(zv,{x:e.x,y:e.y,items:d})}const Qv=new yy({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function Hv(){return g.jsx(vy,{client:Qv,children:g.jsx(Dv,{})})}Kh(document.getElementById("root")).render(g.jsx(Hv,{}));
