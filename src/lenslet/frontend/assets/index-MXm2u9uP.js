var dm=Object.defineProperty;var sc=e=>{throw TypeError(e)};var fm=(e,t,n)=>t in e?dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var br=(e,t,n)=>fm(e,typeof t!="symbol"?t+"":t,n),rl=(e,t,n)=>t.has(e)||sc("Cannot "+n);var y=(e,t,n)=>(rl(e,t,"read from private field"),n?n.call(e):t.get(e)),Q=(e,t,n)=>t.has(e)?sc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,r)=>(rl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ne=(e,t,n)=>(rl(e,t,"access private method"),n);var Ei=(e,t,n,r)=>({set _(s){z(e,t,s,n)},get _(){return y(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var df={exports:{}},Do={},ff={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=Symbol.for("react.element"),pm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),xm=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),km=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),ic=Symbol.iterator;function Em(e){return e===null||typeof e!="object"?null:(e=ic&&e[ic]||e["@@iterator"],typeof e=="function"?e:null)}var hf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function vs(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||hf}vs.prototype.isReactComponent={};vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gf(){}gf.prototype=vs.prototype;function Xa(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||hf}var Ja=Xa.prototype=new gf;Ja.constructor=Xa;pf(Ja,vs.prototype);Ja.isPureReactComponent=!0;var oc=Array.isArray,vf=Object.prototype.hasOwnProperty,Za={current:null},yf={key:!0,ref:!0,__self:!0,__source:!0};function xf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)vf.call(t,r)&&!yf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:gi,type:e,key:i,ref:o,props:s,_owner:Za.current}}function Nm(e,t){return{$$typeof:gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===gi}function jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lc=/\/+/g;function sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jm(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gi:case pm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+sl(o,0):r,oc(s)?(n="",e!=null&&(n=e.replace(lc,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(eu(s)&&(s=Nm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",oc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+sl(i,l);o+=Hi(i,t,n,a,s)}else if(a=Em(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+sl(i,l++),o+=Hi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Vi={transition:null},Mm={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Vi,ReactCurrentOwner:Za};function wf(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=vs;ie.Fragment=mm;ie.Profiler=vm;ie.PureComponent=Xa;ie.StrictMode=gm;ie.Suspense=Sm;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;ie.act=wf;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Za.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)vf.call(t,a)&&!yf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:gi,type:e.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(e){return e={$$typeof:xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ym,_context:e},e.Consumer=e};ie.createElement=xf;ie.createFactory=function(e){var t=xf.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:wm,render:e}};ie.isValidElement=eu;ie.lazy=function(e){return{$$typeof:Cm,_payload:{_status:-1,_result:e},_init:bm}};ie.memo=function(e,t){return{$$typeof:km,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Vi.transition;Vi.transition={};try{e()}finally{Vi.transition=t}};ie.unstable_act=wf;ie.useCallback=function(e,t){return it.current.useCallback(e,t)};ie.useContext=function(e){return it.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return it.current.useDeferredValue(e)};ie.useEffect=function(e,t){return it.current.useEffect(e,t)};ie.useId=function(){return it.current.useId()};ie.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return it.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};ie.useRef=function(e){return it.current.useRef(e)};ie.useState=function(e){return it.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return it.current.useTransition()};ie.version="18.3.1";ff.exports=ie;var x=ff.exports;const ao=hm(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=x,Lm=Symbol.for("react.element"),Tm=Symbol.for("react.fragment"),Om=Object.prototype.hasOwnProperty,Pm=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fm={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Om.call(t,r)&&!Fm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Lm,type:e,key:i,ref:o,props:s,_owner:Pm.current}}Do.Fragment=Tm;Do.jsx=Sf;Do.jsxs=Sf;df.exports=Do;var c=df.exports,kf={exports:{}},yt={},Cf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,V){var W=P.length;P.push(V);e:for(;0<W;){var ae=W-1>>>1,te=P[ae];if(0<s(te,V))P[ae]=V,P[W]=te,W=ae;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],W=P.pop();if(W!==V){P[0]=W;e:for(var ae=0,te=P.length,Oe=te>>>1;ae<Oe;){var $e=2*(ae+1)-1,wt=P[$e],re=$e+1,Fe=P[re];if(0>s(wt,W))re<te&&0>s(Fe,wt)?(P[ae]=Fe,P[re]=W,ae=re):(P[ae]=wt,P[$e]=W,ae=$e);else if(re<te&&0>s(Fe,W))P[ae]=Fe,P[re]=W,ae=re;else break e}}return V}function s(P,V){var W=P.sortIndex-V.sortIndex;return W!==0?W:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,g=3,S=!1,w=!1,E=!1,L=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(P){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=P)r(u),V.sortIndex=V.expirationTime,t(a,V);else break;V=n(u)}}function m(P){if(E=!1,h(P),!w)if(n(a)!==null)w=!0,K(C);else{var V=n(u);V!==null&&ue(m,V.startTime-P)}}function C(P,V){w=!1,E&&(E=!1,v(N),N=-1),S=!0;var W=g;try{for(h(V),f=n(a);f!==null&&(!(f.expirationTime>V)||P&&!D());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,g=f.priorityLevel;var te=ae(f.expirationTime<=V);V=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(a)&&r(a),h(V)}else r(a);f=n(a)}if(f!==null)var Oe=!0;else{var $e=n(u);$e!==null&&ue(m,$e.startTime-V),Oe=!1}return Oe}finally{f=null,g=W,S=!1}}var M=!1,R=null,N=-1,I=5,k=-1;function D(){return!(e.unstable_now()-k<I)}function G(){if(R!==null){var P=e.unstable_now();k=P;var V=!0;try{V=R(!0,P)}finally{V?ee():(M=!1,R=null)}}else M=!1}var ee;if(typeof p=="function")ee=function(){p(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,A=q.port2;q.port1.onmessage=G,ee=function(){A.postMessage(null)}}else ee=function(){L(G,0)};function K(P){R=P,M||(M=!0,ee())}function ue(P,V){N=L(function(){P(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,K(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var W=g;g=V;try{return P()}finally{g=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=g;g=P;try{return V()}finally{g=W}},e.unstable_scheduleCallback=function(P,V,W){var ae=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,P={id:d++,callback:V,priorityLevel:P,startTime:W,expirationTime:te,sortIndex:-1},W>ae?(P.sortIndex=W,t(u,P),n(a)===null&&P===n(u)&&(E?(v(N),N=-1):E=!0,ue(m,W-ae))):(P.sortIndex=te,t(a,P),w||S||(w=!0,K(C))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var V=g;return function(){var W=g;g=V;try{return P.apply(this,arguments)}finally{g=W}}}})(Ef);Cf.exports=Ef;var Im=Cf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=x,vt=Im;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,Ks={};function Er(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(Ks[e]=t,e=0;e<t.length;e++)Nf.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ac={},uc={};function Dm(e){return Al.call(uc,e)?!0:Al.call(ac,e)?!1:zm.test(e)?uc[e]=!0:(ac[e]=!0,!1)}function Am(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $m(e,t,n,r){if(t===null||typeof t>"u"||Am(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var tu=/[\-:]([a-z])/g;function nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tu,nu);Ve[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tu,nu);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tu,nu);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function ru(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($m(t,n,s,r)&&(n=null),r||s===null?Dm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),jf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),iu=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),Bl=Symbol.for("react.suspense_list"),ou=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Mf=Symbol.for("react.offscreen"),cc=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,il;function Ts(e){if(il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||""}return`
`+il+e}var ol=!1;function ll(e,t){if(!e||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ts(e):""}function Um(e){switch(e.tag){case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function Wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Pr:return"Portal";case $l:return"Profiler";case su:return"StrictMode";case Ul:return"Suspense";case Bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bf:return(e.displayName||"Context")+".Consumer";case jf:return(e._context.displayName||"Context")+".Provider";case iu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ou:return t=e.displayName||null,t!==null?t:Wl(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return Wl(e(t))}catch{}}return null}function Bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wl(t);case 8:return t===su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wm(e){var t=Rf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bi(e){e._valueTracker||(e._valueTracker=Wm(e))}function Lf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ql(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tf(e,t){t=t.checked,t!=null&&ru(e,"checked",t,!1)}function Hl(e,t){Tf(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vl(e,t,n){(t!=="number"||uo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Os(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function Of(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mi,Ff=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qm=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(e){Qm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_s[t]=_s[e]})});function If(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_s.hasOwnProperty(e)&&_s[e]?(""+t).trim():t+"px"}function _f(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=If(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hm=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(e,t){if(t){if(Hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=null;function lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,Vr=null,Kr=null;function mc(e){if(e=xi(e)){if(typeof Jl!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Wo(t),Jl(e.stateNode,e.type,t))}}function zf(e){Vr?Kr?Kr.push(e):Kr=[e]:Vr=e}function Df(){if(Vr){var e=Vr,t=Kr;if(Kr=Vr=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function Af(e,t){return e(t)}function $f(){}var al=!1;function Uf(e,t,n){if(al)return e(t,n);al=!0;try{return Af(e,t,n)}finally{al=!1,(Vr!==null||Kr!==null)&&($f(),Df())}}function Gs(e,t){var n=e.stateNode;if(n===null)return null;var r=Wo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Zl=!1;if(pn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Zl=!1}function Vm(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zs=!1,co=null,fo=!1,ea=null,Km={onError:function(e){zs=!0,co=e}};function qm(e,t,n,r,s,i,o,l,a){zs=!1,co=null,Vm.apply(Km,arguments)}function Gm(e,t,n,r,s,i,o,l,a){if(qm.apply(this,arguments),zs){if(zs){var u=co;zs=!1,co=null}else throw Error(F(198));fo||(fo=!0,ea=u)}}function Nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gc(e){if(Nr(e)!==e)throw Error(F(188))}function Ym(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gc(s),e;if(i===r)return gc(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Wf(e){return e=Ym(e),e!==null?Qf(e):null}function Qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qf(e);if(t!==null)return t;e=e.sibling}return null}var Hf=vt.unstable_scheduleCallback,vc=vt.unstable_cancelCallback,Xm=vt.unstable_shouldYield,Jm=vt.unstable_requestPaint,Te=vt.unstable_now,Zm=vt.unstable_getCurrentPriorityLevel,au=vt.unstable_ImmediatePriority,Vf=vt.unstable_UserBlockingPriority,ho=vt.unstable_NormalPriority,eg=vt.unstable_LowPriority,Kf=vt.unstable_IdlePriority,Ao=null,Xt=null;function tg(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ao,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:sg,ng=Math.log,rg=Math.LN2;function sg(e){return e>>>=0,e===0?32:31-(ng(e)/rg|0)|0}var Ri=64,Li=4194304;function Ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ps(l):(i&=o,i!==0&&(r=Ps(i)))}else o=n&~s,o!==0?r=Ps(o):i!==0&&(r=Ps(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function ig(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function og(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=ig(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qf(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function lg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function uu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yf,cu,Xf,Jf,Zf,na=!1,Ti=[],zn=null,Dn=null,An=null,Ys=new Map,Xs=new Map,En=[],ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(t.pointerId)}}function Es(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xi(t),t!==null&&cu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ug(e,t,n,r,s){switch(t){case"focusin":return zn=Es(zn,e,t,n,r,s),!0;case"dragenter":return Dn=Es(Dn,e,t,n,r,s),!0;case"mouseover":return An=Es(An,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ys.set(i,Es(Ys.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xs.set(i,Es(Xs.get(i)||null,e,t,n,r,s)),!0}return!1}function eh(e){var t=nr(e.target);if(t!==null){var n=Nr(t);if(n!==null){if(t=n.tag,t===13){if(t=Bf(n),t!==null){e.blockedOn=t,Zf(e.priority,function(){Xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xl=r,n.target.dispatchEvent(r),Xl=null}else return t=xi(n),t!==null&&cu(t),e.blockedOn=n,!1;t.shift()}return!0}function xc(e,t,n){Ki(e)&&n.delete(t)}function cg(){na=!1,zn!==null&&Ki(zn)&&(zn=null),Dn!==null&&Ki(Dn)&&(Dn=null),An!==null&&Ki(An)&&(An=null),Ys.forEach(xc),Xs.forEach(xc)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,na||(na=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,cg)))}function Js(e){function t(s){return Ns(s,e)}if(0<Ti.length){Ns(Ti[0],e);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&Ns(zn,e),Dn!==null&&Ns(Dn,e),An!==null&&Ns(An,e),Ys.forEach(t),Xs.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)eh(n),n.blockedOn===null&&En.shift()}var qr=yn.ReactCurrentBatchConfig,mo=!0;function dg(e,t,n,r){var s=ge,i=qr.transition;qr.transition=null;try{ge=1,du(e,t,n,r)}finally{ge=s,qr.transition=i}}function fg(e,t,n,r){var s=ge,i=qr.transition;qr.transition=null;try{ge=4,du(e,t,n,r)}finally{ge=s,qr.transition=i}}function du(e,t,n,r){if(mo){var s=ra(e,t,n,r);if(s===null)xl(e,t,r,go,n),yc(e,r);else if(ug(s,e,t,n,r))r.stopPropagation();else if(yc(e,r),t&4&&-1<ag.indexOf(e)){for(;s!==null;){var i=xi(s);if(i!==null&&Yf(i),i=ra(e,t,n,r),i===null&&xl(e,t,r,go,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xl(e,t,r,null,n)}}var go=null;function ra(e,t,n,r){if(go=null,e=lu(r),e=nr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function th(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case au:return 1;case Vf:return 4;case ho:case eg:return 16;case Kf:return 536870912;default:return 16}default:return 16}}var In=null,fu=null,qi=null;function nh(){if(qi)return qi;var e,t=fu,n=t.length,r,s="value"in In?In.value:In.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return qi=s.slice(e,1<r?1-r:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function wc(){return!1}function xt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:wc,this.isPropagationStopped=wc,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=xt(ys),yi=je({},ys,{view:0,detail:0}),hg=xt(yi),cl,dl,js,$o=je({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(cl=e.screenX-js.screenX,dl=e.screenY-js.screenY):dl=cl=0,js=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Sc=xt($o),pg=je({},$o,{dataTransfer:0}),mg=xt(pg),gg=je({},yi,{relatedTarget:0}),fl=xt(gg),vg=je({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=xt(vg),xg=je({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wg=xt(xg),Sg=je({},ys,{data:0}),kc=xt(Sg),kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eg[e])?!!t[e]:!1}function pu(){return Ng}var jg=je({},yi,{key:function(e){if(e.key){var t=kg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bg=xt(jg),Mg=je({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=xt(Mg),Rg=je({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),Lg=xt(Rg),Tg=je({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=xt(Tg),Pg=je({},$o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=xt(Pg),Ig=[9,13,27,32],mu=pn&&"CompositionEvent"in window,Ds=null;pn&&"documentMode"in document&&(Ds=document.documentMode);var _g=pn&&"TextEvent"in window&&!Ds,rh=pn&&(!mu||Ds&&8<Ds&&11>=Ds),Ec=" ",Nc=!1;function sh(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function zg(e,t){switch(e){case"compositionend":return ih(t);case"keypress":return t.which!==32?null:(Nc=!0,Ec);case"textInput":return e=t.data,e===Ec&&Nc?null:e;default:return null}}function Dg(e,t){if(Ir)return e==="compositionend"||!mu&&sh(e,t)?(e=nh(),qi=fu=In=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rh&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function oh(e,t,n,r){zf(r),t=vo(t,"onChange"),0<t.length&&(n=new hu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Zs=null;function $g(e){vh(e,0)}function Uo(e){var t=Dr(e);if(Lf(t))return e}function Ug(e,t){if(e==="change")return t}var lh=!1;if(pn){var hl;if(pn){var pl="oninput"in document;if(!pl){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),pl=typeof bc.oninput=="function"}hl=pl}else hl=!1;lh=hl&&(!document.documentMode||9<document.documentMode)}function Mc(){As&&(As.detachEvent("onpropertychange",ah),Zs=As=null)}function ah(e){if(e.propertyName==="value"&&Uo(Zs)){var t=[];oh(t,Zs,e,lu(e)),Uf($g,t)}}function Bg(e,t,n){e==="focusin"?(Mc(),As=t,Zs=n,As.attachEvent("onpropertychange",ah)):e==="focusout"&&Mc()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(Zs)}function Qg(e,t){if(e==="click")return Uo(t)}function Hg(e,t){if(e==="input"||e==="change")return Uo(t)}function Vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Vg;function ei(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Al.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var n=Rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rc(n)}}function uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ch(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uo(e.document)}return t}function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kg(e){var t=ch(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uh(n.ownerDocument.documentElement,n)){if(r!==null&&gu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Lc(n,i);var o=Lc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=pn&&"documentMode"in document&&11>=document.documentMode,_r=null,sa=null,$s=null,ia=!1;function Tc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ia||_r==null||_r!==uo(r)||(r=_r,"selectionStart"in r&&gu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$s&&ei($s,r)||($s=r,r=vo(sa,"onSelect"),0<r.length&&(t=new hu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},ml={},dh={};pn&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Bo(e){if(ml[e])return ml[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dh)return ml[e]=t[n];return e}var fh=Bo("animationend"),hh=Bo("animationiteration"),ph=Bo("animationstart"),mh=Bo("transitionend"),gh=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){gh.set(e,t),Er(t,[e])}for(var gl=0;gl<Oc.length;gl++){var vl=Oc[gl],Gg=vl.toLowerCase(),Yg=vl[0].toUpperCase()+vl.slice(1);qn(Gg,"on"+Yg)}qn(fh,"onAnimationEnd");qn(hh,"onAnimationIteration");qn(ph,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(mh,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function Pc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gm(r,t,void 0,e),e.currentTarget=null}function vh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Pc(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Pc(s,l,u),i=a}}}if(fo)throw e=ea,fo=!1,ea=null,e}function Se(e,t){var n=t[ca];n===void 0&&(n=t[ca]=new Set);var r=e+"__bubble";n.has(r)||(yh(t,e,2,!1),n.add(r))}function yl(e,t,n){var r=0;t&&(r|=4),yh(n,e,r,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Fi]){e[Fi]=!0,Nf.forEach(function(n){n!=="selectionchange"&&(Xg.has(n)||yl(n,!1,e),yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,yl("selectionchange",!1,t))}}function yh(e,t,n,r){switch(th(t)){case 1:var s=dg;break;case 4:s=fg;break;default:s=du}n=s.bind(null,t,n,e),s=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=nr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Uf(function(){var u=i,d=lu(n),f=[];e:{var g=gh.get(e);if(g!==void 0){var S=hu,w=e;switch(e){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":S=bg;break;case"focusin":w="focus",S=fl;break;case"focusout":w="blur",S=fl;break;case"beforeblur":case"afterblur":S=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Lg;break;case fh:case hh:case ph:S=yg;break;case mh:S=Og;break;case"scroll":S=hg;break;case"wheel":S=Fg;break;case"copy":case"cut":case"paste":S=wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Cc}var E=(t&4)!==0,L=!E&&e==="scroll",v=E?g!==null?g+"Capture":null:g;E=[];for(var p=u,h;p!==null;){h=p;var m=h.stateNode;if(h.tag===5&&m!==null&&(h=m,v!==null&&(m=Gs(p,v),m!=null&&E.push(ni(p,m,h)))),L)break;p=p.return}0<E.length&&(g=new S(g,w,null,n,d),f.push({event:g,listeners:E}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Xl&&(w=n.relatedTarget||n.fromElement)&&(nr(w)||w[mn]))break e;if((S||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=u,w=w?nr(w):null,w!==null&&(L=Nr(w),w!==L||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=u),S!==w)){if(E=Sc,m="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=Cc,m="onPointerLeave",v="onPointerEnter",p="pointer"),L=S==null?g:Dr(S),h=w==null?g:Dr(w),g=new E(m,p+"leave",S,n,d),g.target=L,g.relatedTarget=h,m=null,nr(d)===u&&(E=new E(v,p+"enter",w,n,d),E.target=h,E.relatedTarget=L,m=E),L=m,S&&w)t:{for(E=S,v=w,p=0,h=E;h;h=Mr(h))p++;for(h=0,m=v;m;m=Mr(m))h++;for(;0<p-h;)E=Mr(E),p--;for(;0<h-p;)v=Mr(v),h--;for(;p--;){if(E===v||v!==null&&E===v.alternate)break t;E=Mr(E),v=Mr(v)}E=null}else E=null;S!==null&&Fc(f,g,S,E,!1),w!==null&&L!==null&&Fc(f,L,w,E,!0)}}e:{if(g=u?Dr(u):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var C=Ug;else if(jc(g))if(lh)C=Hg;else{C=Wg;var M=Bg}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Qg);if(C&&(C=C(e,u))){oh(f,C,n,d);break e}M&&M(e,g,u),e==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&Vl(g,"number",g.value)}switch(M=u?Dr(u):window,e){case"focusin":(jc(M)||M.contentEditable==="true")&&(_r=M,sa=u,$s=null);break;case"focusout":$s=sa=_r=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,Tc(f,n,d);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":Tc(f,n,d)}var R;if(mu)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ir?sh(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rh&&n.locale!=="ko"&&(Ir||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ir&&(R=nh()):(In=d,fu="value"in In?In.value:In.textContent,Ir=!0)),M=vo(u,N),0<M.length&&(N=new kc(N,e,null,n,d),f.push({event:N,listeners:M}),R?N.data=R:(R=ih(n),R!==null&&(N.data=R)))),(R=_g?zg(e,n):Dg(e,n))&&(u=vo(u,"onBeforeInput"),0<u.length&&(d=new kc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}vh(f,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gs(e,n),i!=null&&r.unshift(ni(e,i,s)),i=Gs(e,t),i!=null&&r.push(ni(e,i,s))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Gs(n,i),a!=null&&o.unshift(ni(n,a,l))):s||(a=Gs(n,i),a!=null&&o.push(ni(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Jg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(Jg,`
`).replace(Zg,"")}function Ii(e,t,n){if(t=Ic(t),Ic(e)!==t&&n)throw Error(F(425))}function yo(){}var oa=null,la=null;function aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,_c=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof _c<"u"?function(e){return _c.resolve(null).then(e).catch(nv)}:ua;function nv(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Js(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+xs,ri="__reactProps$"+xs,mn="__reactContainer$"+xs,ca="__reactEvents$"+xs,rv="__reactListeners$"+xs,sv="__reactHandles$"+xs;function nr(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zc(e);e!==null;){if(n=e[Yt])return n;e=zc(e)}return t}e=n,n=e.parentNode}return null}function xi(e){return e=e[Yt]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Wo(e){return e[ri]||null}var da=[],Ar=-1;function Gn(e){return{current:e}}function ke(e){0>Ar||(e.current=da[Ar],da[Ar]=null,Ar--)}function xe(e,t){Ar++,da[Ar]=e.current,e.current=t}var Kn={},Ze=Gn(Kn),dt=Gn(!1),vr=Kn;function ds(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function xo(){ke(dt),ke(Ze)}function Dc(e,t,n){if(Ze.current!==Kn)throw Error(F(168));xe(Ze,t),xe(dt,n)}function xh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,Bm(e)||"Unknown",s));return je({},n,r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,vr=Ze.current,xe(Ze,e),xe(dt,dt.current),!0}function Ac(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=xh(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,ke(dt),ke(Ze),xe(Ze,e)):ke(dt),xe(dt,n)}var sn=null,Qo=!1,Sl=!1;function wh(e){sn===null?sn=[e]:sn.push(e)}function iv(e){Qo=!0,wh(e)}function Yn(){if(!Sl&&sn!==null){Sl=!0;var e=0,t=ge;try{var n=sn;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Qo=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),Hf(au,Yn),s}finally{ge=t,Sl=!1}}return null}var $r=[],Ur=0,So=null,ko=0,Nt=[],jt=0,yr=null,cn=1,dn="";function er(e,t){$r[Ur++]=ko,$r[Ur++]=So,So=e,ko=t}function Sh(e,t,n){Nt[jt++]=cn,Nt[jt++]=dn,Nt[jt++]=yr,yr=e;var r=cn;e=dn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cn=1<<32-$t(t)+s|n<<s|r,dn=i+e}else cn=1<<i|n<<s|r,dn=e}function vu(e){e.return!==null&&(er(e,1),Sh(e,1,0))}function yu(e){for(;e===So;)So=$r[--Ur],$r[Ur]=null,ko=$r[--Ur],$r[Ur]=null;for(;e===yr;)yr=Nt[--jt],Nt[jt]=null,dn=Nt[--jt],Nt[jt]=null,cn=Nt[--jt],Nt[jt]=null}var gt=null,mt=null,Ce=!1,Dt=null;function kh(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $c(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(Ce){var t=mt;if(t){var n=t;if(!$c(e,t)){if(fa(e))throw Error(F(418));t=$n(n.nextSibling);var r=gt;t&&$c(e,t)?kh(r,n):(e.flags=e.flags&-4097|2,Ce=!1,gt=e)}}else{if(fa(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ce=!1,gt=e}}}function Uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function _i(e){if(e!==gt)return!1;if(!Ce)return Uc(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aa(e.type,e.memoizedProps)),t&&(t=mt)){if(fa(e))throw Ch(),Error(F(418));for(;t;)kh(e,t),t=$n(t.nextSibling)}if(Uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=$n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?$n(e.stateNode.nextSibling):null;return!0}function Ch(){for(var e=mt;e;)e=$n(e.nextSibling)}function fs(){mt=gt=null,Ce=!1}function xu(e){Dt===null?Dt=[e]:Dt.push(e)}var ov=yn.ReactCurrentBatchConfig;function bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bc(e){var t=e._init;return t(e._payload)}function Eh(e){function t(v,p){if(e){var h=v.deletions;h===null?(v.deletions=[p],v.flags|=16):h.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Qn(v,p),v.index=0,v.sibling=null,v}function i(v,p,h){return v.index=h,e?(h=v.alternate,h!==null?(h=h.index,h<p?(v.flags|=2,p):h):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,h,m){return p===null||p.tag!==6?(p=Ml(h,v.mode,m),p.return=v,p):(p=s(p,h),p.return=v,p)}function a(v,p,h,m){var C=h.type;return C===Fr?d(v,p,h.props.children,m,h.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kn&&Bc(C)===p.type)?(m=s(p,h.props),m.ref=bs(v,p,h),m.return=v,m):(m=no(h.type,h.key,h.props,null,v.mode,m),m.ref=bs(v,p,h),m.return=v,m)}function u(v,p,h,m){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=Rl(h,v.mode,m),p.return=v,p):(p=s(p,h.children||[]),p.return=v,p)}function d(v,p,h,m,C){return p===null||p.tag!==7?(p=gr(h,v.mode,m,C),p.return=v,p):(p=s(p,h),p.return=v,p)}function f(v,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ml(""+p,v.mode,h),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ji:return h=no(p.type,p.key,p.props,null,v.mode,h),h.ref=bs(v,null,p),h.return=v,h;case Pr:return p=Rl(p,v.mode,h),p.return=v,p;case kn:var m=p._init;return f(v,m(p._payload),h)}if(Os(p)||ks(p))return p=gr(p,v.mode,h,null),p.return=v,p;zi(v,p)}return null}function g(v,p,h,m){var C=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(v,p,""+h,m);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ji:return h.key===C?a(v,p,h,m):null;case Pr:return h.key===C?u(v,p,h,m):null;case kn:return C=h._init,g(v,p,C(h._payload),m)}if(Os(h)||ks(h))return C!==null?null:d(v,p,h,m,null);zi(v,h)}return null}function S(v,p,h,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return v=v.get(h)||null,l(p,v,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return v=v.get(m.key===null?h:m.key)||null,a(p,v,m,C);case Pr:return v=v.get(m.key===null?h:m.key)||null,u(p,v,m,C);case kn:var M=m._init;return S(v,p,h,M(m._payload),C)}if(Os(m)||ks(m))return v=v.get(h)||null,d(p,v,m,C,null);zi(p,m)}return null}function w(v,p,h,m){for(var C=null,M=null,R=p,N=p=0,I=null;R!==null&&N<h.length;N++){R.index>N?(I=R,R=null):I=R.sibling;var k=g(v,R,h[N],m);if(k===null){R===null&&(R=I);break}e&&R&&k.alternate===null&&t(v,R),p=i(k,p,N),M===null?C=k:M.sibling=k,M=k,R=I}if(N===h.length)return n(v,R),Ce&&er(v,N),C;if(R===null){for(;N<h.length;N++)R=f(v,h[N],m),R!==null&&(p=i(R,p,N),M===null?C=R:M.sibling=R,M=R);return Ce&&er(v,N),C}for(R=r(v,R);N<h.length;N++)I=S(R,v,N,h[N],m),I!==null&&(e&&I.alternate!==null&&R.delete(I.key===null?N:I.key),p=i(I,p,N),M===null?C=I:M.sibling=I,M=I);return e&&R.forEach(function(D){return t(v,D)}),Ce&&er(v,N),C}function E(v,p,h,m){var C=ks(h);if(typeof C!="function")throw Error(F(150));if(h=C.call(h),h==null)throw Error(F(151));for(var M=C=null,R=p,N=p=0,I=null,k=h.next();R!==null&&!k.done;N++,k=h.next()){R.index>N?(I=R,R=null):I=R.sibling;var D=g(v,R,k.value,m);if(D===null){R===null&&(R=I);break}e&&R&&D.alternate===null&&t(v,R),p=i(D,p,N),M===null?C=D:M.sibling=D,M=D,R=I}if(k.done)return n(v,R),Ce&&er(v,N),C;if(R===null){for(;!k.done;N++,k=h.next())k=f(v,k.value,m),k!==null&&(p=i(k,p,N),M===null?C=k:M.sibling=k,M=k);return Ce&&er(v,N),C}for(R=r(v,R);!k.done;N++,k=h.next())k=S(R,v,N,k.value,m),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?N:k.key),p=i(k,p,N),M===null?C=k:M.sibling=k,M=k);return e&&R.forEach(function(G){return t(v,G)}),Ce&&er(v,N),C}function L(v,p,h,m){if(typeof h=="object"&&h!==null&&h.type===Fr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ji:e:{for(var C=h.key,M=p;M!==null;){if(M.key===C){if(C=h.type,C===Fr){if(M.tag===7){n(v,M.sibling),p=s(M,h.props.children),p.return=v,v=p;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kn&&Bc(C)===M.type){n(v,M.sibling),p=s(M,h.props),p.ref=bs(v,M,h),p.return=v,v=p;break e}n(v,M);break}else t(v,M);M=M.sibling}h.type===Fr?(p=gr(h.props.children,v.mode,m,h.key),p.return=v,v=p):(m=no(h.type,h.key,h.props,null,v.mode,m),m.ref=bs(v,p,h),m.return=v,v=m)}return o(v);case Pr:e:{for(M=h.key;p!==null;){if(p.key===M)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(v,p.sibling),p=s(p,h.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Rl(h,v.mode,m),p.return=v,v=p}return o(v);case kn:return M=h._init,L(v,p,M(h._payload),m)}if(Os(h))return w(v,p,h,m);if(ks(h))return E(v,p,h,m);zi(v,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,h),p.return=v,v=p):(n(v,p),p=Ml(h,v.mode,m),p.return=v,v=p),o(v)):n(v,p)}return L}var hs=Eh(!0),Nh=Eh(!1),Co=Gn(null),Eo=null,Br=null,wu=null;function Su(){wu=Br=Eo=null}function ku(e){var t=Co.current;ke(Co),e._currentValue=t}function pa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){Eo=e,wu=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(wu!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(Eo===null)throw Error(F(308));Br=e,Eo.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var rr=null;function Cu(e){rr===null?rr=[e]:rr.push(e)}function jh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Cu(t)):(n.next=s.next,s.next=n),t.interleaved=n,gn(e,r)}function gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gn(e,n)}return s=r.interleaved,s===null?(t.next=t,Cu(r)):(t.next=s.next,s.next=t),r.interleaved=t,gn(e,n)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uu(e,n)}}function Wc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var s=e.updateQueue;Cn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,S=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,E=l;switch(g=t,S=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){f=w.call(S,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,g=typeof w=="function"?w.call(S,f,g):w,g==null)break e;f=je({},f,g);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else S={eventTime:S,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,a=f):d=d.next=S,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=f}}function Qc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var wi={},Jt=Gn(wi),si=Gn(wi),ii=Gn(wi);function sr(e){if(e===wi)throw Error(F(174));return e}function Nu(e,t){switch(xe(ii,t),xe(si,e),xe(Jt,wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ql(t,e)}ke(Jt),xe(Jt,t)}function ps(){ke(Jt),ke(si),ke(ii)}function Mh(e){sr(ii.current);var t=sr(Jt.current),n=ql(t,e.type);t!==n&&(xe(si,e),xe(Jt,n))}function ju(e){si.current===e&&(ke(Jt),ke(si))}var Ee=Gn(0);function jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function bu(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var Xi=yn.ReactCurrentDispatcher,Cl=yn.ReactCurrentBatchConfig,xr=0,Ne=null,ze=null,Be=null,bo=!1,Us=!1,oi=0,lv=0;function Ge(){throw Error(F(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Ru(e,t,n,r,s,i){if(xr=i,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?dv:fv,e=n(r,s),Us){i=0;do{if(Us=!1,oi=0,25<=i)throw Error(F(301));i+=1,Be=ze=null,t.updateQueue=null,Xi.current=hv,e=n(r,s)}while(Us)}if(Xi.current=Mo,t=ze!==null&&ze.next!==null,xr=0,Be=ze=Ne=null,bo=!1,t)throw Error(F(300));return e}function Lu(){var e=oi!==0;return oi=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ne.memoizedState=Be=e:Be=Be.next=e,Be}function Tt(){if(ze===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ne.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(F(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ne.memoizedState=Be=e:Be=Be.next=e}return Be}function li(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Tt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((xr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,Ne.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Bt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ne.lanes|=i,wr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Rh(){}function Lh(e,t){var n=Ne,r=Tt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ct=!0),r=r.queue,Tu(Ph.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,ai(9,Oh.bind(null,n,r,s,t),void 0,null),We===null)throw Error(F(349));xr&30||Th(n,t,s)}return s}function Th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Oh(e,t,n,r){t.value=n,t.getSnapshot=r,Fh(t)&&Ih(e)}function Ph(e,t,n){return n(function(){Fh(t)&&Ih(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Ih(e){var t=gn(e,1);t!==null&&Ut(t,e,1,-1)}function Hc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=cv.bind(null,Ne,e),[t.memoizedState,e]}function ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _h(){return Tt().memoizedState}function Ji(e,t,n,r){var s=Vt();Ne.flags|=e,s.memoizedState=ai(1|t,n,void 0,r===void 0?null:r)}function Ho(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Mu(r,o.deps)){s.memoizedState=ai(t,n,i,r);return}}Ne.flags|=e,s.memoizedState=ai(1|t,n,i,r)}function Vc(e,t){return Ji(8390656,8,e,t)}function Tu(e,t){return Ho(2048,8,e,t)}function zh(e,t){return Ho(4,2,e,t)}function Dh(e,t){return Ho(4,4,e,t)}function Ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $h(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4,4,Ah.bind(null,t,e),n)}function Ou(){}function Uh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wh(e,t,n){return xr&21?(Bt(n,t)||(n=qf(),Ne.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function av(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ge=n,Cl.transition=r}}function Qh(){return Tt().memoizedState}function uv(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hh(e))Vh(t,n);else if(n=jh(e,t,n,r),n!==null){var s=st();Ut(n,e,r,s),Kh(n,t,r)}}function cv(e,t,n){var r=Wn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hh(e))Vh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,o)){var a=t.interleaved;a===null?(s.next=s,Cu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=jh(e,t,s,r),n!==null&&(s=st(),Ut(n,e,r,s),Kh(n,t,r))}}function Hh(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Vh(e,t){Us=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uu(e,n)}}var Mo={readContext:Lt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},dv={readContext:Lt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Vc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Ah.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uv.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Hc,useDebugValue:Ou,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Hc(!1),t=e[0];return e=av.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,s=Vt();if(Ce){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),We===null)throw Error(F(349));xr&30||Th(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Vc(Ph.bind(null,r,i,e),[e]),r.flags|=2048,ai(9,Oh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Vt(),t=We.identifierPrefix;if(Ce){var n=dn,r=cn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fv={readContext:Lt,useCallback:Uh,useContext:Lt,useEffect:Tu,useImperativeHandle:$h,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:Bh,useReducer:El,useRef:_h,useState:function(){return El(li)},useDebugValue:Ou,useDeferredValue:function(e){var t=Tt();return Wh(t,ze.memoizedState,e)},useTransition:function(){var e=El(li)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Rh,useSyncExternalStore:Lh,useId:Qh,unstable_isNewReconciler:!1},hv={readContext:Lt,useCallback:Uh,useContext:Lt,useEffect:Tu,useImperativeHandle:$h,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:Bh,useReducer:Nl,useRef:_h,useState:function(){return Nl(li)},useDebugValue:Ou,useDeferredValue:function(e){var t=Tt();return ze===null?t.memoizedState=e:Wh(t,ze.memoizedState,e)},useTransition:function(){var e=Nl(li)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Rh,useSyncExternalStore:Lh,useId:Qh,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ma(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=Wn(e),i=fn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&(Ut(t,e,s,r),Yi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=Wn(e),i=fn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&(Ut(t,e,s,r),Yi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Wn(e),s=fn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,r),t!==null&&(Ut(t,e,r,n),Yi(t,e,r))}};function Kc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ei(n,r)||!ei(s,i):!0}function qh(e,t,n){var r=!1,s=Kn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ft(t)?vr:Ze.current,r=t.contextTypes,i=(r=r!=null)?ds(e,s):Kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Eu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ft(t)?vr:Ze.current,s.context=ds(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ma(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vo.enqueueReplaceState(s,s.state,null),No(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var n="",r=t;do n+=Um(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function va(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function Gh(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,ba=r),va(e,t)},n}function Yh(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){va(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){va(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Gc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Mv.bind(null,e,t,n),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var mv=yn.ReactCurrentOwner,ct=!1;function nt(e,t,n,r){t.child=e===null?Nh(t,null,n,r):hs(t,e.child,n,r)}function Jc(e,t,n,r,s){n=n.render;var i=t.ref;return Gr(t,s),r=Ru(e,t,n,r,i,s),n=Lu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ce&&n&&vu(t),t.flags|=1,nt(e,t,r,s),t.child)}function Zc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$u(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,r,s)):(e=no(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Qn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ei(i,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,vn(e,t,s)}return ya(e,t,n,r,s)}function Jh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Qr,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Qr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(Qr,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xe(Qr,pt),pt|=r;return nt(e,t,s,n),t.child}function Zh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ya(e,t,n,r,s){var i=ft(n)?vr:Ze.current;return i=ds(t,i),Gr(t,s),n=Ru(e,t,n,r,i,s),r=Lu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ce&&r&&vu(t),t.flags|=1,nt(e,t,n,s),t.child)}function ed(e,t,n,r,s){if(ft(n)){var i=!0;wo(t)}else i=!1;if(Gr(t,s),t.stateNode===null)Zi(e,t),qh(t,n,r),ga(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=ft(n)?vr:Ze.current,u=ds(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&qc(t,o,r,u),Cn=!1;var g=t.memoizedState;o.state=g,No(t,r,o,s),a=t.memoizedState,l!==r||g!==a||dt.current||Cn?(typeof d=="function"&&(ma(t,n,d,r),a=t.memoizedState),(l=Cn||Kc(t,n,l,r,g,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,bh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ft(t.type,l),o.props=u,f=t.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=ft(n)?vr:Ze.current,a=ds(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==a)&&qc(t,o,r,a),Cn=!1,g=t.memoizedState,o.state=g,No(t,r,o,s);var w=t.memoizedState;l!==f||g!==w||dt.current||Cn?(typeof S=="function"&&(ma(t,n,S,r),w=t.memoizedState),(u=Cn||Kc(t,n,u,r,g,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,i,s)}function xa(e,t,n,r,s,i){Zh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ac(t,n,!1),vn(e,t,i);r=t.stateNode,mv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hs(t,e.child,null,i),t.child=hs(t,null,l,i)):nt(e,t,l,i),t.memoizedState=r.state,s&&Ac(t,n,!0),t.child}function ep(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),Nu(e,t.containerInfo)}function td(e,t,n,r,s){return fs(),xu(s),t.flags|=256,nt(e,t,n,r),t.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function tp(e,t,n){var r=t.pendingProps,s=Ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ee,s&1),e===null)return ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Go(o,r,0,null),e=gr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sa(n),t.memoizedState=wa,e):Pu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Qn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qn(l,i):(i=gr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Sa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=wa,r}return i=e.child,e=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pu(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Di(e,t,n,r){return r!==null&&xu(r),hs(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jl(Error(F(422))),Di(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Go({mode:"visible",children:r.children},s,0,null),i=gr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&hs(t,e.child,null,o),t.child.memoizedState=Sa(o),t.memoizedState=wa,i);if(!(t.mode&1))return Di(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=jl(i,r,void 0),Di(e,t,o,r)}if(l=(o&e.childLanes)!==0,ct||l){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gn(e,s),Ut(r,e,s,-1))}return Au(),r=jl(Error(F(421))),Di(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=$n(s.nextSibling),gt=t,Ce=!0,Dt=null,e!==null&&(Nt[jt++]=cn,Nt[jt++]=dn,Nt[jt++]=yr,cn=e.id,dn=e.overflow,yr=t),t=Pu(t,r.children),t.flags|=4096,t)}function nd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pa(e.return,t,n)}function bl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function np(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(nt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nd(e,n,t);else if(e.tag===19)nd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bl(t,!0,n,null,i);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vv(e,t,n){switch(t.tag){case 3:ep(t),fs();break;case 5:Mh(t);break;case 1:ft(t.type)&&wo(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(Co,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?tp(e,t,n):(xe(Ee,Ee.current&1),e=vn(e,t,n),e!==null?e.sibling:null);xe(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return np(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Jh(e,t,n)}return vn(e,t,n)}var rp,ka,sp,ip;rp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};sp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,sr(Jt.current);var i=null;switch(n){case"input":s=Ql(e,s),r=Ql(e,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Kl(e,s),r=Kl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}Gl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Se("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ip=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ms(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yv(e,t,n){var r=t.pendingProps;switch(yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ft(t.type)&&xo(),Ye(t),null;case 3:return r=t.stateNode,ps(),ke(dt),ke(Ze),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(La(Dt),Dt=null))),ka(e,t),Ye(t),null;case 5:ju(t);var s=sr(ii.current);if(n=t.type,e!==null&&t.stateNode!=null)sp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Ye(t),null}if(e=sr(Jt.current),_i(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yt]=t,r[ri]=i,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Fs.length;s++)Se(Fs[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":dc(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":hc(r,i),Se("invalid",r)}Gl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,l,e),s=["children",""+l]):Ks.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":bi(r),fc(r,i,!0);break;case"textarea":bi(r),pc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yt]=t,e[ri]=r,rp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yl(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fs.length;s++)Se(Fs[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":dc(e,r),s=Ql(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Se("invalid",e);break;case"textarea":hc(e,r),s=Kl(e,r),Se("invalid",e);break;default:s=r}Gl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?_f(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ff(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&qs(e,a):typeof a=="number"&&qs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ks.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Se("scroll",e):a!=null&&ru(e,i,a,o))}switch(n){case"input":bi(e),fc(e,r,!1);break;case"textarea":bi(e),pc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)ip(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=sr(ii.current),sr(Jt.current),_i(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ke(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&mt!==null&&t.mode&1&&!(t.flags&128))Ch(),fs(),t.flags|=98560,i=!1;else if(i=_i(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Yt]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Dt!==null&&(La(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Ae===0&&(Ae=3):Au())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ps(),ka(e,t),e===null&&ti(t.stateNode.containerInfo),Ye(t),null;case 10:return ku(t.type._context),Ye(t),null;case 17:return ft(t.type)&&xo(),Ye(t),null;case 19:if(ke(Ee),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ms(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jo(e),o!==null){for(t.flags|=128,Ms(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>gs&&(t.flags|=128,r=!0,Ms(i,!1),t.lanes=4194304)}else{if(!r)if(e=jo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return Ye(t),null}else 2*Te()-i.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,Ms(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=Ee.current,xe(Ee,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Du(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function xv(e,t){switch(yu(t),t.tag){case 1:return ft(t.type)&&xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),ke(dt),ke(Ze),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(ke(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ee),null;case 4:return ps(),null;case 10:return ku(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Ai=!1,Je=!1,wv=typeof WeakSet=="function"?WeakSet:Set,U=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Ca(e,t,n){try{n()}catch(r){Me(e,t,r)}}var rd=!1;function Sv(e,t){if(oa=mo,e=ch(),gu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var S;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===e)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(a=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(la={focusedElem:e,selectionRange:n},mo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,L=w.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ft(t.type,E),L);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(m){Me(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=rd,rd=!1,w}function Bs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ca(t,n,i)}s=s.next}while(s!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ea(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function op(e){var t=e.alternate;t!==null&&(e.alternate=null,op(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ri],delete t[ca],delete t[rv],delete t[sv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lp(e){return e.tag===5||e.tag===3||e.tag===4}function sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var Qe=null,zt=!1;function xn(e,t,n){for(n=n.child;n!==null;)ap(e,t,n),n=n.sibling}function ap(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ao,n)}catch{}switch(n.tag){case 5:Je||Wr(n,t);case 6:var r=Qe,s=zt;Qe=null,xn(e,t,n),Qe=r,zt=s,Qe!==null&&(zt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(zt?(e=Qe,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),Js(e)):wl(Qe,n.stateNode));break;case 4:r=Qe,s=zt,Qe=n.stateNode.containerInfo,zt=!0,xn(e,t,n),Qe=r,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ca(n,t,o),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!Je&&(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,xn(e,t,n),Je=r):xn(e,t,n);break;default:xn(e,t,n)}}function id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wv),t.forEach(function(r){var s=Lv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qe=l.stateNode,zt=!1;break e;case 3:Qe=l.stateNode.containerInfo,zt=!0;break e;case 4:Qe=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(Qe===null)throw Error(F(160));ap(i,o,s),Qe=null,zt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)up(t,e),t=t.sibling}function up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ht(e),r&4){try{Bs(3,e,e.return),Ko(3,e)}catch(E){Me(e,e.return,E)}try{Bs(5,e,e.return)}catch(E){Me(e,e.return,E)}}break;case 1:Pt(t,e),Ht(e),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(Pt(t,e),Ht(e),r&512&&n!==null&&Wr(n,n.return),e.flags&32){var s=e.stateNode;try{qs(s,"")}catch(E){Me(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Tf(s,i),Yl(l,o);var u=Yl(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?_f(s,f):d==="dangerouslySetInnerHTML"?Ff(s,f):d==="children"?qs(s,f):ru(s,d,f,u)}switch(l){case"input":Hl(s,i);break;case"textarea":Of(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Hr(s,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ri]=i}catch(E){Me(e,e.return,E)}}break;case 6:if(Pt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(E){Me(e,e.return,E)}}break;case 3:if(Pt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(E){Me(e,e.return,E)}break;case 4:Pt(t,e),Ht(e);break;case 13:Pt(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_u=Te())),r&4&&id(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,Pt(t,e),Je=u):Pt(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(g=U,S=g.child,g.tag){case 0:case 11:case 14:case 15:Bs(4,g,g.return);break;case 1:Wr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){Me(r,n,E)}}break;case 5:Wr(g,g.return);break;case 22:if(g.memoizedState!==null){ld(f);continue}}S!==null?(S.return=g,U=S):ld(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=If("display",o))}catch(E){Me(e,e.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){Me(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(t,e),Ht(e),r&4&&id(e);break;case 21:break;default:Pt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lp(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qs(s,""),r.flags&=-33);var i=sd(e);ja(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sd(e);Na(e,l,o);break;default:throw Error(F(161))}}catch(a){Me(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kv(e,t,n){U=e,cp(e)}function cp(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ai;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Je;l=Ai;var u=Je;if(Ai=o,(Je=a)&&!u)for(U=s;U!==null;)o=U,a=o.child,o.tag===22&&o.memoizedState!==null?ad(s):a!==null?(a.return=o,U=a):ad(s);for(;i!==null;)U=i,cp(i),i=i.sibling;U=s,Ai=l,Je=u}od(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):od(e)}}function od(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Js(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Je||t.flags&512&&Ea(t)}catch(g){Me(t,t.return,g)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function ld(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function ad(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(a){Me(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Me(t,s,a)}}var i=t.return;try{Ea(t)}catch(a){Me(t,i,a)}break;case 5:var o=t.return;try{Ea(t)}catch(a){Me(t,o,a)}}}catch(a){Me(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Cv=Math.ceil,Ro=yn.ReactCurrentDispatcher,Fu=yn.ReactCurrentOwner,Rt=yn.ReactCurrentBatchConfig,ce=0,We=null,Pe=null,He=0,pt=0,Qr=Gn(0),Ae=0,ui=null,wr=0,qo=0,Iu=0,Ws=null,ut=null,_u=0,gs=1/0,rn=null,Lo=!1,ba=null,Bn=null,$i=!1,_n=null,To=0,Qs=0,Ma=null,eo=-1,to=0;function st(){return ce&6?Te():eo!==-1?eo:eo=Te()}function Wn(e){return e.mode&1?ce&2&&He!==0?He&-He:ov.transition!==null?(to===0&&(to=qf()),to):(e=ge,e!==0||(e=window.event,e=e===void 0?16:th(e.type)),e):1}function Ut(e,t,n,r){if(50<Qs)throw Qs=0,Ma=null,Error(F(185));vi(e,n,r),(!(ce&2)||e!==We)&&(e===We&&(!(ce&2)&&(qo|=n),Ae===4&&Nn(e,He)),ht(e,r),n===1&&ce===0&&!(t.mode&1)&&(gs=Te()+500,Qo&&Yn()))}function ht(e,t){var n=e.callbackNode;og(e,t);var r=po(e,e===We?He:0);if(r===0)n!==null&&vc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vc(n),t===1)e.tag===0?iv(ud.bind(null,e)):wh(ud.bind(null,e)),tv(function(){!(ce&6)&&Yn()}),n=null;else{switch(Gf(r)){case 1:n=au;break;case 4:n=Vf;break;case 16:n=ho;break;case 536870912:n=Kf;break;default:n=ho}n=yp(n,dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dp(e,t){if(eo=-1,to=0,ce&6)throw Error(F(327));var n=e.callbackNode;if(Yr()&&e.callbackNode!==n)return null;var r=po(e,e===We?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oo(e,r);else{t=r;var s=ce;ce|=2;var i=hp();(We!==e||He!==t)&&(rn=null,gs=Te()+500,mr(e,t));do try{jv();break}catch(l){fp(e,l)}while(!0);Su(),Ro.current=i,ce=s,Pe!==null?t=0:(We=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=ta(e),s!==0&&(r=s,t=Ra(e,s))),t===1)throw n=ui,mr(e,0),Nn(e,r),ht(e,Te()),n;if(t===6)Nn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ev(s)&&(t=Oo(e,r),t===2&&(i=ta(e),i!==0&&(r=i,t=Ra(e,i))),t===1))throw n=ui,mr(e,0),Nn(e,r),ht(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:tr(e,ut,rn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=_u+500-Te(),10<t)){if(po(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ua(tr.bind(null,e,ut,rn),t);break}tr(e,ut,rn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cv(r/1960))-r,10<r){e.timeoutHandle=ua(tr.bind(null,e,ut,rn),r);break}tr(e,ut,rn);break;case 5:tr(e,ut,rn);break;default:throw Error(F(329))}}}return ht(e,Te()),e.callbackNode===n?dp.bind(null,e):null}function Ra(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Oo(e,t),e!==2&&(t=ut,ut=n,t!==null&&La(t)),e}function La(e){ut===null?ut=e:ut.push.apply(ut,e)}function Ev(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Iu,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function ud(e){if(ce&6)throw Error(F(327));Yr();var t=po(e,0);if(!(t&1))return ht(e,Te()),null;var n=Oo(e,t);if(e.tag!==0&&n===2){var r=ta(e);r!==0&&(t=r,n=Ra(e,r))}if(n===1)throw n=ui,mr(e,0),Nn(e,t),ht(e,Te()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,ut,rn),ht(e,Te()),null}function zu(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(gs=Te()+500,Qo&&Yn())}}function Sr(e){_n!==null&&_n.tag===0&&!(ce&6)&&Yr();var t=ce;ce|=1;var n=Rt.transition,r=ge;try{if(Rt.transition=null,ge=1,e)return e()}finally{ge=r,Rt.transition=n,ce=t,!(ce&6)&&Yn()}}function Du(){pt=Qr.current,ke(Qr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ev(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(yu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xo();break;case 3:ps(),ke(dt),ke(Ze),bu();break;case 5:ju(r);break;case 4:ps();break;case 13:ke(Ee);break;case 19:ke(Ee);break;case 10:ku(r.type._context);break;case 22:case 23:Du()}n=n.return}if(We=e,Pe=e=Qn(e.current,null),He=pt=t,Ae=0,ui=null,Iu=qo=wr=0,ut=Ws=null,rr!==null){for(t=0;t<rr.length;t++)if(n=rr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}rr=null}return e}function fp(e,t){do{var n=Pe;try{if(Su(),Xi.current=Mo,bo){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bo=!1}if(xr=0,Be=ze=Ne=null,Us=!1,oi=0,Fu.current=null,n===null||n.return===null){Ae=1,ui=t,Pe=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=He,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Yc(o);if(S!==null){S.flags&=-257,Xc(S,o,l,i,t),S.mode&1&&Gc(i,u,t),t=S,a=u;var w=t.updateQueue;if(w===null){var E=new Set;E.add(a),t.updateQueue=E}else w.add(a);break e}else{if(!(t&1)){Gc(i,u,t),Au();break e}a=Error(F(426))}}else if(Ce&&l.mode&1){var L=Yc(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Xc(L,o,l,i,t),xu(ms(a,l));break e}}i=a=ms(a,l),Ae!==4&&(Ae=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Gh(i,a,t);Wc(i,v);break e;case 1:l=a;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Bn===null||!Bn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=Yh(i,l,t);Wc(i,m);break e}}i=i.return}while(i!==null)}mp(n)}catch(C){t=C,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function hp(){var e=Ro.current;return Ro.current=Mo,e===null?Mo:e}function Au(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),We===null||!(wr&268435455)&&!(qo&268435455)||Nn(We,He)}function Oo(e,t){var n=ce;ce|=2;var r=hp();(We!==e||He!==t)&&(rn=null,mr(e,t));do try{Nv();break}catch(s){fp(e,s)}while(!0);if(Su(),ce=n,Ro.current=r,Pe!==null)throw Error(F(261));return We=null,He=0,Ae}function Nv(){for(;Pe!==null;)pp(Pe)}function jv(){for(;Pe!==null&&!Xm();)pp(Pe)}function pp(e){var t=vp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?mp(e):Pe=t,Fu.current=null}function mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xv(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=yv(n,t,pt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function tr(e,t,n){var r=ge,s=Rt.transition;try{Rt.transition=null,ge=1,bv(e,t,n,r)}finally{Rt.transition=s,ge=r}return null}function bv(e,t,n,r){do Yr();while(_n!==null);if(ce&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lg(e,i),e===We&&(Pe=We=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,yp(ho,function(){return Yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=ge;ge=1;var l=ce;ce|=4,Fu.current=null,Sv(e,n),up(n,e),Kg(la),mo=!!oa,la=oa=null,e.current=n,kv(n),Jm(),ce=l,ge=o,Rt.transition=i}else e.current=n;if($i&&($i=!1,_n=e,To=s),i=e.pendingLanes,i===0&&(Bn=null),tg(n.stateNode),ht(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lo)throw Lo=!1,e=ba,ba=null,e;return To&1&&e.tag!==0&&Yr(),i=e.pendingLanes,i&1?e===Ma?Qs++:(Qs=0,Ma=e):Qs=0,Yn(),null}function Yr(){if(_n!==null){var e=Gf(To),t=Rt.transition,n=ge;try{if(Rt.transition=null,ge=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,To=0,ce&6)throw Error(F(331));var s=ce;for(ce|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Bs(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var g=d.sibling,S=d.return;if(op(d),d===u){U=null;break}if(g!==null){g.return=S,U=g;break}U=S}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var L=E.sibling;E.sibling=null,E=L}while(E!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,U=v;break e}U=i.return}}var p=e.current;for(U=p;U!==null;){o=U;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,U=h;else e:for(o=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(C){Me(l,l.return,C)}if(l===o){U=null;break e}var m=l.sibling;if(m!==null){m.return=l.return,U=m;break e}U=l.return}}if(ce=s,Yn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ao,e)}catch{}r=!0}return r}finally{ge=n,Rt.transition=t}}return!1}function cd(e,t,n){t=ms(n,t),t=Gh(e,t,1),e=Un(e,t,1),t=st(),e!==null&&(vi(e,1,t),ht(e,t))}function Me(e,t,n){if(e.tag===3)cd(e,e,n);else for(;t!==null;){if(t.tag===3){cd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=ms(n,e),e=Yh(t,e,1),t=Un(t,e,1),e=st(),t!==null&&(vi(t,1,e),ht(t,e));break}}t=t.return}}function Mv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Te()-_u?mr(e,0):Iu|=n),ht(e,t)}function gp(e,t){t===0&&(e.mode&1?(t=Li,Li<<=1,!(Li&130023424)&&(Li=4194304)):t=1);var n=st();e=gn(e,t),e!==null&&(vi(e,t,n),ht(e,n))}function Rv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gp(e,n)}function Lv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),gp(e,n)}var vp;vp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,vv(e,t,n);ct=!!(e.flags&131072)}else ct=!1,Ce&&t.flags&1048576&&Sh(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var s=ds(t,Ze.current);Gr(t,n),s=Ru(null,t,r,e,s,n);var i=Lu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,wo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eu(t),s.updater=Vo,t.stateNode=s,s._reactInternals=t,ga(t,r,e,n),t=xa(null,t,r,!0,i,n)):(t.tag=0,Ce&&i&&vu(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ov(r),e=Ft(r,e),s){case 0:t=ya(null,t,r,e,n);break e;case 1:t=ed(null,t,r,e,n);break e;case 11:t=Jc(null,t,r,e,n);break e;case 14:t=Zc(null,t,r,Ft(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ya(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ed(e,t,r,s,n);case 3:e:{if(ep(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,bh(e,t),No(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ms(Error(F(423)),t),t=td(e,t,r,n,s);break e}else if(r!==s){s=ms(Error(F(424)),t),t=td(e,t,r,n,s);break e}else for(mt=$n(t.stateNode.containerInfo.firstChild),gt=t,Ce=!0,Dt=null,n=Nh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===s){t=vn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Mh(t),e===null&&ha(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,aa(r,s)?o=null:i!==null&&aa(r,i)&&(t.flags|=32),Zh(e,t),nt(e,t,o,n),t.child;case 6:return e===null&&ha(t),null;case 13:return tp(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hs(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Jc(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xe(Co,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!dt.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=fn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),pa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gr(t,n),s=Lt(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),Zc(e,t,r,s,n);case 15:return Xh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Zi(e,t),t.tag=1,ft(r)?(e=!0,wo(t)):e=!1,Gr(t,n),qh(t,r,s),ga(t,r,s,n),xa(null,t,r,!0,e,n);case 19:return np(e,t,n);case 22:return Jh(e,t,n)}throw Error(F(156,t.tag))};function yp(e,t){return Hf(e,t)}function Tv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new Tv(e,t,n,r)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ov(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iu)return 11;if(e===ou)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function no(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")$u(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fr:return gr(n.children,s,i,t);case su:o=8,s|=8;break;case $l:return e=Mt(12,n,t,s|2),e.elementType=$l,e.lanes=i,e;case Ul:return e=Mt(13,n,t,s),e.elementType=Ul,e.lanes=i,e;case Bl:return e=Mt(19,n,t,s),e.elementType=Bl,e.lanes=i,e;case Mf:return Go(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jf:o=10;break e;case bf:o=9;break e;case iu:o=11;break e;case ou:o=14;break e;case kn:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function gr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Mf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,s,i,o,l,a){return e=new Pv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(i),e}function Fv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xp(e){if(!e)return Kn;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(ft(n))return xh(e,n,t)}return t}function wp(e,t,n,r,s,i,o,l,a){return e=Uu(n,r,!0,e,s,i,o,l,a),e.context=xp(null),n=e.current,r=st(),s=Wn(n),i=fn(r,s),i.callback=t??null,Un(n,i,s),e.current.lanes=s,vi(e,s,r),ht(e,r),e}function Yo(e,t,n,r){var s=t.current,i=st(),o=Wn(s);return n=xp(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(s,t,o),e!==null&&(Ut(e,s,o,i),Yi(e,s,o)),o}function Po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bu(e,t){dd(e,t),(e=e.alternate)&&dd(e,t)}function Iv(){return null}var Sp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}Xo.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Yo(e,t,null,null)};Xo.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Yo(null,e,null,null)}),t[mn]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&eh(e)}};function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fd(){}function _v(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Po(o);i.call(u)}}var o=wp(t,r,e,0,null,!1,!1,"",fd);return e._reactRootContainer=o,e[mn]=o.current,ti(e.nodeType===8?e.parentNode:e),Sr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Po(a);l.call(u)}}var a=Uu(e,0,!1,null,null,!1,!1,"",fd);return e._reactRootContainer=a,e[mn]=a.current,ti(e.nodeType===8?e.parentNode:e),Sr(function(){Yo(t,a,n,r)}),a}function Zo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Po(o);l.call(a)}}Yo(t,o,e,s)}else o=_v(n,t,e,s,r);return Po(o)}Yf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ps(t.pendingLanes);n!==0&&(uu(t,n|1),ht(t,Te()),!(ce&6)&&(gs=Te()+500,Yn()))}break;case 13:Sr(function(){var r=gn(e,1);if(r!==null){var s=st();Ut(r,e,1,s)}}),Bu(e,1)}};cu=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var n=st();Ut(t,e,134217728,n)}Bu(e,134217728)}};Xf=function(e){if(e.tag===13){var t=Wn(e),n=gn(e,t);if(n!==null){var r=st();Ut(n,e,t,r)}Bu(e,t)}};Jf=function(){return ge};Zf=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Jl=function(e,t,n){switch(t){case"input":if(Hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wo(r);if(!s)throw Error(F(90));Lf(r),Hl(r,s)}}}break;case"textarea":Of(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Af=zu;$f=Sr;var zv={usingClientEntryPoint:!1,Events:[xi,Dr,Wo,zf,Df,zu]},Rs={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dv={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||Iv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Ao=Ui.inject(Dv),Xt=Ui}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(t))throw Error(F(200));return Fv(e,t,null,n)};yt.createRoot=function(e,t){if(!Qu(e))throw Error(F(299));var n=!1,r="",s=Sp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uu(e,1,!1,null,null,n,!1,r,s),e[mn]=t.current,ti(e.nodeType===8?e.parentNode:e),new Wu(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Wf(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Sr(e)};yt.hydrate=function(e,t,n){if(!Jo(t))throw Error(F(200));return Zo(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wp(t,null,e,1,n??null,s,!1,i,o),e[mn]=t.current,ti(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xo(t)};yt.render=function(e,t,n){if(!Jo(t))throw Error(F(200));return Zo(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Jo(e))throw Error(F(40));return e._reactRootContainer?(Sr(function(){Zo(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};yt.unstable_batchedUpdates=zu;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jo(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Zo(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kp)}catch(e){console.error(e)}}kp(),kf.exports=yt;var Hu=kf.exports,Cp,hd=Hu;Cp=hd.createRoot,hd.hydrateRoot;var ws=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Av={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jn,Ya,Zd,$v=(Zd=class{constructor(){Q(this,jn,Av);Q(this,Ya,!1)}setTimeoutProvider(e){z(this,jn,e)}setTimeout(e,t){return y(this,jn).setTimeout(e,t)}clearTimeout(e){y(this,jn).clearTimeout(e)}setInterval(e,t){return y(this,jn).setInterval(e,t)}clearInterval(e){y(this,jn).clearInterval(e)}},jn=new WeakMap,Ya=new WeakMap,Zd),ir=new $v;function Uv(e){setTimeout(e,0)}var kr=typeof window>"u"||"Deno"in globalThis;function rt(){}function Bv(e,t){return typeof e=="function"?e(t):e}function Ta(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ep(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hn(e,t){return typeof e=="function"?e(t):e}function Et(e,t){return typeof e=="function"?e(t):e}function pd(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Vu(o,t.options))return!1}else if(!ci(t.queryKey,o))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function md(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Cr(t.options.mutationKey)!==Cr(i))return!1}else if(!ci(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Vu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cr)(e)}function Cr(e){return JSON.stringify(e,(t,n)=>Oa(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ci(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ci(e[n],t[n])):!1}var Wv=Object.prototype.hasOwnProperty;function Np(e,t){if(e===t)return e;const n=gd(e)&&gd(t);if(!n&&!(Oa(e)&&Oa(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let a=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],g=t[d];if(f===g){l[d]=f,(n?u<s:Wv.call(e,d))&&a++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){l[d]=g;continue}const S=Np(f,g);l[d]=S,S===f&&a++}return s===o&&a===s?e:l}function Fo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function gd(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Oa(e){if(!vd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!vd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qv(e){return new Promise(t=>{ir.setTimeout(t,e)})}function Pa(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Np(e,t):t}function Hv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Vv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ku=Symbol();function jp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ku?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bp(e,t){return typeof e=="function"?e(...t):!!e}function Kv(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var or,bn,Jr,ef,qv=(ef=class extends ws{constructor(){super();Q(this,or);Q(this,bn);Q(this,Jr);z(this,Jr,t=>{if(!kr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,bn)||this.setEventListener(y(this,Jr))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,bn))==null||t.call(this),z(this,bn,void 0))}setEventListener(t){var n;z(this,Jr,t),(n=y(this,bn))==null||n.call(this),z(this,bn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,or)!==t&&(z(this,or,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,or)=="boolean"?y(this,or):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},or=new WeakMap,bn=new WeakMap,Jr=new WeakMap,ef),qu=new qv;function Fa(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Gv=Uv;function Yv(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=Gv;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;t++;try{a=l()}finally{t--,t||o()}return a},batchCalls:l=>(...a)=>{i(()=>{l(...a)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var De=Yv(),Zr,Mn,es,tf,Xv=(tf=class extends ws{constructor(){super();Q(this,Zr,!0);Q(this,Mn);Q(this,es);z(this,es,t=>{if(!kr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Mn)||this.setEventListener(y(this,es))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Mn))==null||t.call(this),z(this,Mn,void 0))}setEventListener(t){var n;z(this,es,t),(n=y(this,Mn))==null||n.call(this),z(this,Mn,t(this.setOnline.bind(this)))}setOnline(t){y(this,Zr)!==t&&(z(this,Zr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,Zr)}},Zr=new WeakMap,Mn=new WeakMap,es=new WeakMap,tf),Io=new Xv;function Jv(e){return Math.min(1e3*2**e,3e4)}function Mp(e){return(e??"online")==="online"?Io.isOnline():!0}var Ia=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rp(e){let t=!1,n=0,r;const s=Fa(),i=()=>s.status!=="pending",o=E=>{var L;if(!i()){const v=new Ia(E);g(v),(L=e.onCancel)==null||L.call(e,v)}},l=()=>{t=!0},a=()=>{t=!1},u=()=>qu.isFocused()&&(e.networkMode==="always"||Io.isOnline())&&e.canRun(),d=()=>Mp(e.networkMode)&&e.canRun(),f=E=>{i()||(r==null||r(),s.resolve(E))},g=E=>{i()||(r==null||r(),s.reject(E))},S=()=>new Promise(E=>{var L;r=v=>{(i()||u())&&E(v)},(L=e.onPause)==null||L.call(e)}).then(()=>{var E;r=void 0,i()||(E=e.onContinue)==null||E.call(e)}),w=()=>{if(i())return;let E;const L=n===0?e.initialPromise:void 0;try{E=L??e.fn()}catch(v){E=Promise.reject(v)}Promise.resolve(E).then(f).catch(v=>{var M;if(i())return;const p=e.retry??(kr?0:3),h=e.retryDelay??Jv,m=typeof h=="function"?h(n,v):h,C=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,v);if(t||!C){g(v);return}n++,(M=e.onFail)==null||M.call(e,n,v),Qv(m).then(()=>u()?void 0:S()).then(()=>{t?g(v):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:a,canStart:d,start:()=>(d()?w():S().then(w),s)}}var lr,nf,Lp=(nf=class{constructor(){Q(this,lr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ta(this.gcTime)&&z(this,lr,ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kr?1/0:5*60*1e3))}clearGcTimeout(){y(this,lr)&&(ir.clearTimeout(y(this,lr)),z(this,lr,void 0))}},lr=new WeakMap,nf),ar,ts,Ct,ur,Ue,di,cr,It,nn,rf,Zv=(rf=class extends Lp{constructor(t){super();Q(this,It);Q(this,ar);Q(this,ts);Q(this,Ct);Q(this,ur);Q(this,Ue);Q(this,di);Q(this,cr);z(this,cr,!1),z(this,di,t.defaultOptions),this.setOptions(t.options),this.observers=[],z(this,ur,t.client),z(this,Ct,y(this,ur).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,z(this,ar,xd(this.options)),this.state=t.state??y(this,ar),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,di),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=xd(this.options);n.data!==void 0&&(this.setState(yd(n.data,n.dataUpdatedAt)),z(this,ar,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Ct).remove(this)}setData(t,n){const r=Pa(this.state.data,t,this.options);return ne(this,It,nn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ne(this,It,nn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,Ue))==null?void 0:r.promise;return(s=y(this,Ue))==null||s.cancel(t),n?n.then(rt).catch(rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,ar))}isActive(){return this.observers.some(t=>Et(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ku||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ep(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,Ue)&&(y(this,cr)?y(this,Ue).cancel({revert:!0}):y(this,Ue).cancelRetry()),this.scheduleGc()),y(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,It,nn).call(this,{type:"invalidate"})}async fetch(t,n){var a,u,d,f,g,S,w,E,L,v,p,h;if(this.state.fetchStatus!=="idle"&&((a=y(this,Ue))==null?void 0:a.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,Ue))return y(this,Ue).continueRetry(),y(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(C=>C.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(z(this,cr,!0),r.signal)})},i=()=>{const m=jp(this.options,n),M=(()=>{const R={client:y(this,ur),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return z(this,cr,!1),this.options.persister?this.options.persister(m,M,this):m(M)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,ur),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),z(this,ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ne(this,It,nn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),z(this,Ue,Rp({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:m=>{m instanceof Ia&&m.revert&&this.setState({...y(this,ts),fetchStatus:"idle"}),r.abort()},onFail:(m,C)=>{ne(this,It,nn).call(this,{type:"failed",failureCount:m,error:C})},onPause:()=>{ne(this,It,nn).call(this,{type:"pause"})},onContinue:()=>{ne(this,It,nn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const m=await y(this,Ue).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(S=(g=y(this,Ct).config).onSuccess)==null||S.call(g,m,this),(E=(w=y(this,Ct).config).onSettled)==null||E.call(w,m,this.state.error,this),m}catch(m){if(m instanceof Ia){if(m.silent)return y(this,Ue).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw ne(this,It,nn).call(this,{type:"error",error:m}),(v=(L=y(this,Ct).config).onError)==null||v.call(L,m,this),(h=(p=y(this,Ct).config).onSettled)==null||h.call(p,this.state.data,m,this),m}finally{this.scheduleGc()}}},ar=new WeakMap,ts=new WeakMap,Ct=new WeakMap,ur=new WeakMap,Ue=new WeakMap,di=new WeakMap,cr=new WeakMap,It=new WeakSet,nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Tp(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...yd(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return z(this,ts,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Ct).notify({query:this,type:"updated",action:t})})},rf);function Tp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yd(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lt,le,fi,et,dr,ns,on,Rn,hi,rs,ss,fr,hr,Ln,is,he,Is,_a,za,Da,Aa,$a,Ua,Ba,Op,sf,ey=(sf=class extends ws{constructor(t,n){super();Q(this,he);Q(this,lt);Q(this,le);Q(this,fi);Q(this,et);Q(this,dr);Q(this,ns);Q(this,on);Q(this,Rn);Q(this,hi);Q(this,rs);Q(this,ss);Q(this,fr);Q(this,hr);Q(this,Ln);Q(this,is,new Set);this.options=n,z(this,lt,t),z(this,Rn,null),z(this,on,Fa()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,le).addObserver(this),wd(y(this,le),this.options)?ne(this,he,Is).call(this):this.updateResult(),ne(this,he,Aa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wa(y(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wa(y(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,he,$a).call(this),ne(this,he,Ua).call(this),y(this,le).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,le);if(this.options=y(this,lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Et(this.options.enabled,y(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,he,Ba).call(this),y(this,le).setOptions(this.options),n._defaulted&&!Fo(this.options,n)&&y(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,le),observer:this});const s=this.hasListeners();s&&Sd(y(this,le),r,this.options,n)&&ne(this,he,Is).call(this),this.updateResult(),s&&(y(this,le)!==r||Et(this.options.enabled,y(this,le))!==Et(n.enabled,y(this,le))||Hn(this.options.staleTime,y(this,le))!==Hn(n.staleTime,y(this,le)))&&ne(this,he,_a).call(this);const i=ne(this,he,za).call(this);s&&(y(this,le)!==r||Et(this.options.enabled,y(this,le))!==Et(n.enabled,y(this,le))||i!==y(this,Ln))&&ne(this,he,Da).call(this,i)}getOptimisticResult(t){const n=y(this,lt).getQueryCache().build(y(this,lt),t),r=this.createResult(n,t);return ny(this,r)&&(z(this,et,r),z(this,ns,this.options),z(this,dr,y(this,le).state)),r}getCurrentResult(){return y(this,et)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,on).status==="pending"&&y(this,on).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){y(this,is).add(t)}getCurrentQuery(){return y(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,lt).defaultQueryOptions(t),r=y(this,lt).getQueryCache().build(y(this,lt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ne(this,he,Is).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,et)))}createResult(t,n){var I;const r=y(this,le),s=this.options,i=y(this,et),o=y(this,dr),l=y(this,ns),u=t!==r?t.state:y(this,fi),{state:d}=t;let f={...d},g=!1,S;if(n._optimisticResults){const k=this.hasListeners(),D=!k&&wd(t,n),G=k&&Sd(t,r,n,s);(D||G)&&(f={...f,...Tp(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:L}=f;S=f.data;let v=!1;if(n.placeholderData!==void 0&&S===void 0&&L==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,v=!0):k=typeof n.placeholderData=="function"?n.placeholderData((I=y(this,ss))==null?void 0:I.state.data,y(this,ss)):n.placeholderData,k!==void 0&&(L="success",S=Pa(i==null?void 0:i.data,k,n),g=!0)}if(n.select&&S!==void 0&&!v)if(i&&S===(o==null?void 0:o.data)&&n.select===y(this,hi))S=y(this,rs);else try{z(this,hi,n.select),S=n.select(S),S=Pa(i==null?void 0:i.data,S,n),z(this,rs,S),z(this,Rn,null)}catch(k){z(this,Rn,k)}y(this,Rn)&&(w=y(this,Rn),S=y(this,rs),E=Date.now(),L="error");const p=f.fetchStatus==="fetching",h=L==="pending",m=L==="error",C=h&&p,M=S!==void 0,N={status:L,fetchStatus:f.fetchStatus,isPending:h,isSuccess:L==="success",isError:m,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!h,isLoadingError:m&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:m&&M,isStale:Gu(t,n),refetch:this.refetch,promise:y(this,on),isEnabled:Et(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=ee=>{N.status==="error"?ee.reject(N.error):N.data!==void 0&&ee.resolve(N.data)},D=()=>{const ee=z(this,on,N.promise=Fa());k(ee)},G=y(this,on);switch(G.status){case"pending":t.queryHash===r.queryHash&&k(G);break;case"fulfilled":(N.status==="error"||N.data!==G.value)&&D();break;case"rejected":(N.status!=="error"||N.error!==G.reason)&&D();break}}return N}updateResult(){const t=y(this,et),n=this.createResult(y(this,le),this.options);if(z(this,dr,y(this,le).state),z(this,ns,this.options),y(this,dr).data!==void 0&&z(this,ss,y(this,le)),Fo(n,t))return;z(this,et,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!y(this,is).size)return!0;const o=new Set(i??y(this,is));return this.options.throwOnError&&o.add("error"),Object.keys(y(this,et)).some(l=>{const a=l;return y(this,et)[a]!==t[a]&&o.has(a)})};ne(this,he,Op).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,he,Aa).call(this)}},lt=new WeakMap,le=new WeakMap,fi=new WeakMap,et=new WeakMap,dr=new WeakMap,ns=new WeakMap,on=new WeakMap,Rn=new WeakMap,hi=new WeakMap,rs=new WeakMap,ss=new WeakMap,fr=new WeakMap,hr=new WeakMap,Ln=new WeakMap,is=new WeakMap,he=new WeakSet,Is=function(t){ne(this,he,Ba).call(this);let n=y(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rt)),n},_a=function(){ne(this,he,$a).call(this);const t=Hn(this.options.staleTime,y(this,le));if(kr||y(this,et).isStale||!Ta(t))return;const r=Ep(y(this,et).dataUpdatedAt,t)+1;z(this,fr,ir.setTimeout(()=>{y(this,et).isStale||this.updateResult()},r))},za=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,le)):this.options.refetchInterval)??!1},Da=function(t){ne(this,he,Ua).call(this),z(this,Ln,t),!(kr||Et(this.options.enabled,y(this,le))===!1||!Ta(y(this,Ln))||y(this,Ln)===0)&&z(this,hr,ir.setInterval(()=>{(this.options.refetchIntervalInBackground||qu.isFocused())&&ne(this,he,Is).call(this)},y(this,Ln)))},Aa=function(){ne(this,he,_a).call(this),ne(this,he,Da).call(this,ne(this,he,za).call(this))},$a=function(){y(this,fr)&&(ir.clearTimeout(y(this,fr)),z(this,fr,void 0))},Ua=function(){y(this,hr)&&(ir.clearInterval(y(this,hr)),z(this,hr,void 0))},Ba=function(){const t=y(this,lt).getQueryCache().build(y(this,lt),this.options);if(t===y(this,le))return;const n=y(this,le);z(this,le,t),z(this,fi,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Op=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,et))}),y(this,lt).getQueryCache().notify({query:y(this,le),type:"observerResultsUpdated"})})},sf);function ty(e,t){return Et(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wd(e,t){return ty(e,t)||e.state.data!==void 0&&Wa(e,t,t.refetchOnMount)}function Wa(e,t,n){if(Et(t.enabled,e)!==!1&&Hn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Gu(e,t)}return!1}function Sd(e,t,n,r){return(e!==t||Et(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Gu(e,n)}function Gu(e,t){return Et(t.enabled,e)!==!1&&e.isStaleByTime(Hn(t.staleTime,e))}function ny(e,t){return!Fo(e.getCurrentResult(),t)}function kd(e){return{onFetch:(t,n)=>{var d,f,g,S,w;const r=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let E=!1;const L=h=>{Kv(h,()=>t.signal,()=>E=!0)},v=jp(t.options,t.fetchOptions),p=async(h,m,C)=>{if(E)return Promise.reject();if(m==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:m,direction:C?"backward":"forward",meta:t.options.meta};return L(D),D})(),N=await v(R),{maxPages:I}=t.options,k=C?Vv:Hv;return{pages:k(h.pages,N,I),pageParams:k(h.pageParams,m,I)}};if(s&&i.length){const h=s==="backward",m=h?ry:Cd,C={pages:i,pageParams:o},M=m(r,C);l=await p(C,M,h)}else{const h=e??i.length;do{const m=a===0?o[0]??r.initialPageParam:Cd(r,l);if(a>0&&m==null)break;l=await p(l,m),a++}while(a<h)}return l};t.options.persister?t.fetchFn=()=>{var E,L;return(L=(E=t.options).persister)==null?void 0:L.call(E,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Cd(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function ry(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pi,Kt,tt,pr,qt,Sn,of,sy=(of=class extends Lp{constructor(t){super();Q(this,qt);Q(this,pi);Q(this,Kt);Q(this,tt);Q(this,pr);z(this,pi,t.client),this.mutationId=t.mutationId,z(this,tt,t.mutationCache),z(this,Kt,[]),this.state=t.state||Pp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Kt).includes(t)||(y(this,Kt).push(t),this.clearGcTimeout(),y(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){z(this,Kt,y(this,Kt).filter(n=>n!==t)),this.scheduleGc(),y(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():y(this,tt).remove(this))}continue(){var t;return((t=y(this,pr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,a,u,d,f,g,S,w,E,L,v,p,h,m,C,M,R,N,I;const n=()=>{ne(this,qt,Sn).call(this,{type:"continue"})},r={client:y(this,pi),meta:this.options.meta,mutationKey:this.options.mutationKey};z(this,pr,Rp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{ne(this,qt,Sn).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{ne(this,qt,Sn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,tt).canRun(this)}));const s=this.state.status==="pending",i=!y(this,pr).canStart();try{if(s)n();else{ne(this,qt,Sn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=y(this,tt).config).onMutate)==null?void 0:l.call(o,t,this,r));const D=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t,r));D!==this.state.context&&ne(this,qt,Sn).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const k=await y(this,pr).start();return await((f=(d=y(this,tt).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,k,t,this.state.context,r)),await((E=(w=y(this,tt).config).onSettled)==null?void 0:E.call(w,k,null,this.state.variables,this.state.context,this,r)),await((v=(L=this.options).onSettled)==null?void 0:v.call(L,k,null,t,this.state.context,r)),ne(this,qt,Sn).call(this,{type:"success",data:k}),k}catch(k){try{await((h=(p=y(this,tt).config).onError)==null?void 0:h.call(p,k,t,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((C=(m=this.options).onError)==null?void 0:C.call(m,k,t,this.state.context,r))}catch(D){Promise.reject(D)}try{await((R=(M=y(this,tt).config).onSettled)==null?void 0:R.call(M,void 0,k,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,k,t,this.state.context,r))}catch(D){Promise.reject(D)}throw ne(this,qt,Sn).call(this,{type:"error",error:k}),k}finally{y(this,tt).runNext(this)}}},pi=new WeakMap,Kt=new WeakMap,tt=new WeakMap,pr=new WeakMap,qt=new WeakSet,Sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),De.batch(()=>{y(this,Kt).forEach(r=>{r.onMutationUpdate(t)}),y(this,tt).notify({mutation:this,type:"updated",action:t})})},of);function Pp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,_t,mi,lf,iy=(lf=class extends ws{constructor(t={}){super();Q(this,ln);Q(this,_t);Q(this,mi);this.config=t,z(this,ln,new Set),z(this,_t,new Map),z(this,mi,0)}build(t,n,r){const s=new sy({client:t,mutationCache:this,mutationId:++Ei(this,mi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,ln).add(t);const n=Bi(t);if(typeof n=="string"){const r=y(this,_t).get(n);r?r.push(t):y(this,_t).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,ln).delete(t)){const n=Bi(t);if(typeof n=="string"){const r=y(this,_t).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,_t).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Bi(t);if(typeof n=="string"){const r=y(this,_t).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Bi(t);if(typeof n=="string"){const s=(r=y(this,_t).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{y(this,ln).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,ln).clear(),y(this,_t).clear()})}getAll(){return Array.from(y(this,ln))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>md(n,r))}findAll(t={}){return this.getAll().filter(n=>md(t,n))}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return De.batch(()=>Promise.all(t.map(n=>n.continue().catch(rt))))}},ln=new WeakMap,_t=new WeakMap,mi=new WeakMap,lf);function Bi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var an,Tn,at,un,hn,ro,Qa,af,oy=(af=class extends ws{constructor(n,r){super();Q(this,hn);Q(this,an);Q(this,Tn);Q(this,at);Q(this,un);z(this,an,n),this.setOptions(r),this.bindMethods(),ne(this,hn,ro).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=y(this,an).defaultMutationOptions(n),Fo(this.options,r)||y(this,an).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,at),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Cr(r.mutationKey)!==Cr(this.options.mutationKey)?this.reset():((s=y(this,at))==null?void 0:s.state.status)==="pending"&&y(this,at).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,at))==null||n.removeObserver(this)}onMutationUpdate(n){ne(this,hn,ro).call(this),ne(this,hn,Qa).call(this,n)}getCurrentResult(){return y(this,Tn)}reset(){var n;(n=y(this,at))==null||n.removeObserver(this),z(this,at,void 0),ne(this,hn,ro).call(this),ne(this,hn,Qa).call(this)}mutate(n,r){var s;return z(this,un,r),(s=y(this,at))==null||s.removeObserver(this),z(this,at,y(this,an).getMutationCache().build(y(this,an),this.options)),y(this,at).addObserver(this),y(this,at).execute(n)}},an=new WeakMap,Tn=new WeakMap,at=new WeakMap,un=new WeakMap,hn=new WeakSet,ro=function(){var r;const n=((r=y(this,at))==null?void 0:r.state)??Pp();z(this,Tn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Qa=function(n){De.batch(()=>{var r,s,i,o,l,a,u,d;if(y(this,un)&&this.hasListeners()){const f=y(this,Tn).variables,g=y(this,Tn).context,S={client:y(this,an),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=y(this,un)).onSuccess)==null||s.call(r,n.data,f,g,S)}catch(w){Promise.reject(w)}try{(o=(i=y(this,un)).onSettled)==null||o.call(i,n.data,null,f,g,S)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(a=(l=y(this,un)).onError)==null||a.call(l,n.error,f,g,S)}catch(w){Promise.reject(w)}try{(d=(u=y(this,un)).onSettled)==null||d.call(u,void 0,n.error,f,g,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(y(this,Tn))})})},af),Gt,uf,ly=(uf=class extends ws{constructor(t={}){super();Q(this,Gt);this.config=t,z(this,Gt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Vu(s,n);let o=this.get(i);return o||(o=new Zv({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){y(this,Gt).has(t.queryHash)||(y(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,Gt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,Gt).get(t)}getAll(){return[...y(this,Gt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>pd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>pd(t,r)):n}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,uf),be,On,Pn,os,ls,Fn,as,us,cf,ay=(cf=class{constructor(e={}){Q(this,be);Q(this,On);Q(this,Pn);Q(this,os);Q(this,ls);Q(this,Fn);Q(this,as);Q(this,us);z(this,be,e.queryCache||new ly),z(this,On,e.mutationCache||new iy),z(this,Pn,e.defaultOptions||{}),z(this,os,new Map),z(this,ls,new Map),z(this,Fn,0)}mount(){Ei(this,Fn)._++,y(this,Fn)===1&&(z(this,as,qu.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,be).onFocus())})),z(this,us,Io.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,be).onOnline())})))}unmount(){var e,t;Ei(this,Fn)._--,y(this,Fn)===0&&((e=y(this,as))==null||e.call(this),z(this,as,void 0),(t=y(this,us))==null||t.call(this),z(this,us,void 0))}isFetching(e){return y(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,On).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,be).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,be).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Hn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,be).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,be).get(r.queryHash),i=s==null?void 0:s.state.data,o=Bv(t,i);if(o!==void 0)return y(this,be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return De.batch(()=>y(this,be).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,be).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,be);De.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,be);return De.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=De.batch(()=>y(this,be).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rt).catch(rt)}invalidateQueries(e,t={}){return De.batch(()=>(y(this,be).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=De.batch(()=>y(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,be).build(this,t);return n.isStaleByTime(Hn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rt).catch(rt)}fetchInfiniteQuery(e){return e.behavior=kd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rt).catch(rt)}ensureInfiniteQueryData(e){return e.behavior=kd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Io.isOnline()?y(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,be)}getMutationCache(){return y(this,On)}getDefaultOptions(){return y(this,Pn)}setDefaultOptions(e){z(this,Pn,e)}setQueryDefaults(e,t){y(this,os).set(Cr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,os).values()],n={};return t.forEach(r=>{ci(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,ls).set(Cr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ls).values()],n={};return t.forEach(r=>{ci(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,Pn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ku&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,Pn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,be).clear(),y(this,On).clear()}},be=new WeakMap,On=new WeakMap,Pn=new WeakMap,os=new WeakMap,ls=new WeakMap,Fn=new WeakMap,as=new WeakMap,us=new WeakMap,cf),Fp=x.createContext(void 0),Si=e=>{const t=x.useContext(Fp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uy=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Fp.Provider,{value:e,children:t})),Ip=x.createContext(!1),cy=()=>x.useContext(Ip);Ip.Provider;function dy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var fy=x.createContext(dy()),hy=()=>x.useContext(fy),py=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},my=e=>{x.useEffect(()=>{e.clearReset()},[e])},gy=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||bp(n,[e.error,r])),vy=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yy=(e,t)=>e.isLoading&&e.isFetching&&!t,xy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ed=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function wy(e,t,n){var f,g,S,w,E;const r=cy(),s=hy(),i=Si(),o=i.defaultQueryOptions(e);(g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",vy(o),py(o,s),my(s);const l=!i.getQueryCache().get(o.queryHash),[a]=x.useState(()=>new t(i,o)),u=a.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(L=>{const v=d?a.subscribe(De.batchCalls(L)):rt;return a.updateResult(),v},[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x.useEffect(()=>{a.setOptions(o)},[o,a]),xy(o,u))throw Ed(o,a,s);if(gy({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||w.call(S,o,u),o.experimental_prefetchInRender&&!kr&&yy(u,r)){const L=l?Ed(o,a,s):(E=i.getQueryCache().get(o.queryHash))==null?void 0:E.promise;L==null||L.catch(rt).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function Yu(e,t){return wy(e,ey)}function Sy(e,t){const n=Si(),[r]=x.useState(()=>new oy(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(De.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(rt)},[r]);if(s.error&&bp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Nd(e){return e.length>0&&"options"in e[0]}function ky({value:e,onChange:t,options:n,placeholder:r="Select...",trigger:s,triggerClassName:i="",panelClassName:o="",align:l="left",width:a="auto",showChevron:u=!0,title:d,disabled:f=!1,"aria-label":g}){var N;const[S,w]=x.useState(!1),E=x.useRef(null),L=x.useRef(null),p=x.useCallback(()=>{const I=k=>{const D=k.find(G=>G.value===e);return D?D.label:null};if(Nd(n))for(const k of n){const D=I(k.options);if(D)return D}else{const k=I(n);if(k)return k}return r},[e,n,r])();x.useEffect(()=>{if(!S)return;const I=D=>{E.current&&!E.current.contains(D.target)&&w(!1)},k=D=>{var G;D.key==="Escape"&&(w(!1),(G=L.current)==null||G.focus())};return window.addEventListener("click",I),window.addEventListener("keydown",k),()=>{window.removeEventListener("click",I),window.removeEventListener("keydown",k)}},[S]);const h=I=>{var k;t(I),w(!1),(k=L.current)==null||k.focus()},m=I=>I.map(k=>c.jsxs("button",{className:"dropdown-item","data-active":k.value===e,disabled:k.disabled,onClick:()=>!k.disabled&&h(k.value),role:"menuitem",children:[k.icon&&c.jsx("span",{className:"shrink-0",children:k.icon}),c.jsx("span",{className:"flex-1 truncate",children:k.label}),k.value===e&&c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-accent",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},k.value)),C=((N=L.current)==null?void 0:N.offsetWidth)??0,M=a==="trigger"?C:a==="auto"?void 0:a,R={...M?{width:M,minWidth:M}:{},...l==="right"?{right:0}:{left:0}};return c.jsxs("div",{ref:E,className:"relative",children:[s?c.jsx("div",{onClick:()=>!f&&w(I=>!I),children:s}):c.jsxs("button",{ref:L,type:"button",className:`dropdown-trigger ${i}`,onClick:()=>w(I=>!I),disabled:f,title:d,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":S,children:[c.jsx("span",{className:"truncate",children:p}),u&&c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 opacity-60 transition-transform ${S?"rotate-180":""}`,children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&c.jsx("div",{className:`dropdown-panel ${o}`,style:R,role:"listbox","aria-label":g,children:Nd(n)?n.map((I,k)=>c.jsxs("div",{children:[I.label&&c.jsx("div",{className:"dropdown-label",children:I.label}),m(I.options),k<n.length-1&&c.jsx("div",{className:"dropdown-divider"})]},I.label||k)):m(n)})]})}function Cy({onSearch:e,viewerActive:t,onBack:n,zoomPercent:r,onZoomPercentChange:s,currentLabel:i,itemCount:o,totalCount:l,sortSpec:a,metricKeys:u,onSortChange:d,filterCount:f,onOpenFilters:g,starFilters:S,onToggleStar:w,onClearStars:E,onClearFilters:L,starCounts:v,onViewMode:p,gridItemSize:h,onGridItemSize:m,leftOpen:C,rightOpen:M,onToggleLeft:R,onToggleRight:N,onPrevImage:I,onNextImage:k,canPrevImage:D,canNextImage:G}){const[ee,q]=x.useState(!1),A=x.useRef(null);x.useEffect(()=>{if(!ee)return;const re=Fe=>{A.current&&!A.current.contains(Fe.target)&&q(!1)};return window.addEventListener("click",re),()=>window.removeEventListener("click",re)},[ee]);const K=a??{kind:"builtin",key:"added",dir:"desc"},ue=K.dir,P=K.kind==="builtin"&&K.key==="random",V=u!=null&&u.length?u.map(re=>({value:`metric:${re}`,label:re})):[],W=[{label:"Layout",options:[{value:"layout:grid",label:"Grid"},{value:"layout:masonry",label:"Masonry"}]},{label:"Sort by",options:[{value:"builtin:added",label:"Date added"},{value:"builtin:name",label:"Filename"},{value:"builtin:random",label:"Random"},...V]}],ae=K.kind==="metric"?`metric:${K.key}`:`builtin:${K.key}`,te=re=>{if(re.startsWith("layout:")){const Fe=re==="layout:masonry"?"adaptive":"grid";p==null||p(Fe)}else d==null||d(jy(re,K))},Oe=(S||[]).length,$e=Ny(f,Oe),wt=Ey(o,l);return c.jsxs("div",{className:"fixed top-0 left-0 right-0 h-12 grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto] items-center px-3 gap-3 bg-panel border-b border-border z-[var(--z-toolbar)] col-span-full row-start-1 select-none",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsxs("div",{className:"flex flex-col min-w-0 leading-tight",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted",children:"Scope"}),c.jsx("span",{className:"text-sm font-medium text-text truncate",title:i||"Root",children:i||"Root"})]}),wt&&c.jsx("span",{className:"text-xs text-muted whitespace-nowrap tabular-nums",children:wt}),t&&c.jsxs("button",{className:"btn btn-sm",onClick:n,title:"Back to grid",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"Back"]})]}),c.jsxs("div",{className:`flex items-center gap-2 ${t?"opacity-40 pointer-events-none":""}`,children:[c.jsx(ky,{value:ae,onChange:te,options:W,title:"Sort and layout options","aria-label":"Sort and layout",triggerClassName:"min-w-[110px]"}),c.jsx("button",{className:"btn btn-icon",onClick:()=>{d&&d(P?K:{...K,dir:ue==="desc"?"asc":"desc"})},title:P?"Shuffle":`Sort ${ue==="desc"?"descending":"ascending"}`,"aria-label":P?"Shuffle":"Toggle sort direction","aria-disabled":t,children:P?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),c.jsx("path",{d:"M21 3v5h-5"})]}):ue==="desc"?c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 5v14"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]}):c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 19V5"}),c.jsx("path",{d:"M5 12l7-7 7 7"})]})}),c.jsxs("div",{ref:A,className:"relative",children:[c.jsxs("button",{className:`btn ${$e>0?"btn-active":""}`,onClick:()=>q(re=>!re),"aria-haspopup":"dialog","aria-expanded":ee,title:"Filters","aria-disabled":t,children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),c.jsx("span",{children:"Filters"}),$e>0&&c.jsx("span",{className:"px-1.5 py-0.5 text-[11px] rounded-full bg-accent-strong text-text",children:$e})]}),ee&&c.jsxs("div",{role:"dialog","aria-label":"Filters",className:"dropdown-panel w-[240px]",style:{top:"38px",left:0},children:[c.jsx("div",{className:"dropdown-label",children:"Rating"}),c.jsxs("div",{className:"px-1",children:[[5,4,3,2,1].map(re=>{const Fe=(S||[]).includes(re),Zt=(v==null?void 0:v[String(re)])??0;return c.jsxs("button",{onClick:()=>w==null?void 0:w(re),className:`dropdown-item justify-between ${Fe?"bg-accent-muted":""}`,children:[c.jsxs("span",{className:Fe?"text-star-active":"text-text",children:["".repeat(re),"".repeat(5-re)]}),c.jsx("span",{className:"text-xs text-muted",children:Zt})]},re)}),c.jsxs("button",{onClick:()=>w==null?void 0:w(0),className:`dropdown-item justify-between ${(S||[]).includes(0)?"bg-accent-muted":""}`,children:[c.jsx("span",{className:"text-text",children:"Unrated"}),c.jsx("span",{className:"text-xs text-muted",children:(v==null?void 0:v["0"])??0})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("div",{className:"dropdown-label",children:"Metrics"}),c.jsxs("button",{className:"dropdown-item",onClick:()=>{q(!1),g==null||g()},children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]}),c.jsx("span",{children:"Open Metrics Panel"}),(f||0)>0&&c.jsxs("span",{className:"ml-auto text-xs text-muted",children:[f," active"]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item text-muted hover:text-text",onClick:()=>{L?L():E==null||E()},disabled:$e===0,children:"Clear all filters"})]})]})]})]}),c.jsx("div",{className:"flex items-center gap-3 justify-center min-w-0",children:t?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"range",min:5,max:800,step:1,value:Math.round(Math.max(5,Math.min(800,r??100))),onChange:re=>s==null?void 0:s(Number(re.target.value)),className:"zoom-slider","aria-label":"Zoom level"}),c.jsxs("span",{className:"text-xs text-muted min-w-[42px] text-right",children:[Math.round(r??100),"%"]})]}):m&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted",children:"Size"}),c.jsx("input",{type:"range",min:80,max:500,step:10,value:h??220,onChange:re=>m(Number(re.target.value)),className:"w-28 h-1.5 bg-border rounded-full appearance-none cursor-pointer hover:bg-hover transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-text [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-text [&::-moz-range-thumb]:border-0","aria-label":"Thumbnail size"})]})}),c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[c.jsxs("div",{className:`flex items-center gap-1 mr-1 ${t?"":"opacity-0 pointer-events-none"}`,"aria-hidden":!t,children:[c.jsx("button",{className:`btn btn-icon ${D?"":"opacity-40 cursor-not-allowed"}`,title:"Previous image (A / )",onClick:()=>D&&(I==null?void 0:I()),"aria-label":"Previous image","aria-disabled":!D,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("button",{className:`btn btn-icon ${G?"":"opacity-40 cursor-not-allowed"}`,title:"Next image (D / )",onClick:()=>G&&(k==null?void 0:k()),"aria-label":"Next image","aria-disabled":!G,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 6l6 6-6 6"})})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{className:`btn btn-icon ${C?"":"opacity-50"}`,title:C?"Hide left panel (Ctrl+B)":"Show left panel (Ctrl+B)",onClick:R,"aria-pressed":C,"aria-label":"Toggle left panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"11",y:"5",width:"10",height:"14",rx:"1.5"})]})}),c.jsx("button",{className:`btn btn-icon ${M?"":"opacity-50"}`,title:M?"Hide right panel (Ctrl+Alt+B)":"Show right panel (Ctrl+Alt+B)",onClick:N,"aria-pressed":M,"aria-label":"Toggle right panel",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"15",y:"5",width:"6",height:"14",rx:"1.5"}),c.jsx("rect",{x:"3",y:"5",width:"10",height:"14",rx:"1.5"})]})})]}),t?c.jsx("div",{className:"w-[240px]","aria-hidden":"true"}):c.jsx("input",{"aria-label":"Search filename, tags, notes",placeholder:"Search...",onChange:re=>e(re.target.value),className:"h-8 w-[240px] focus:w-[320px] transition-all duration-200 rounded-lg px-3 border border-border bg-surface text-text placeholder:text-muted select-text"})]})]})}function Ey(e,t){if(typeof e!="number")return null;const n=e.toLocaleString();if(typeof t!="number")return`${n} items`;const r=t.toLocaleString();return t===e?`${n} items`:`${n} / ${r} items`}function Ny(e,t){return typeof e=="number"?e:t>0?1:0}function jy(e,t){if(e.startsWith("metric:")){const n=e.slice(7);return n?{kind:"metric",key:n,dir:t.dir}:t}if(e.startsWith("builtin:")){const n=e.slice(8);if(n==="name"||n==="added"||n==="random")return{kind:"builtin",key:n,dir:t.dir}}return t}const _p=3e4;class At extends Error{constructor(t,n,r,s,i){super(t),this.status=n,this.url=r,this.isAborted=s,this.isTimeout=i,this.name="FetchError"}}function kt(e,t={}){const{timeoutMs:n=_p,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.json()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}function Wi(e,t={}){const{timeoutMs:n=_p,...r}=t,s=new AbortController;let i;return{promise:new Promise((l,a)=>{n>0&&(i=setTimeout(()=>{s.abort(),a(new At(`Request timeout after ${n}ms`,void 0,e,!1,!0))},n)),fetch(e,{...r,signal:s.signal}).then(async u=>{if(i&&clearTimeout(i),!u.ok)throw new At(`HTTP ${u.status} for ${e}`,u.status,e);return u.blob()}).then(l).catch(u=>{i&&clearTimeout(i),u instanceof At?a(u):u.name==="AbortError"?a(new At("Request aborted",void 0,e,!0,!1)):a(new At(u.message||"Network error",void 0,e))})}),abort:()=>{i&&clearTimeout(i),s.abort()}}}class zp{constructor(t){br(this,"store",new Map);br(this,"inflight",new Map);br(this,"totalBytes",0);this.maxBytes=t}getMaxBytes(){return this.maxBytes}getTotalBytes(){return this.totalBytes}getSize(){return this.store.size}has(t){return this.store.has(t)}isInflight(t){return this.inflight.has(t)}get(t){const n=this.store.get(t);if(n)return this.store.delete(t),this.store.set(t,n),n.blob}evictIfNeeded(t){for(;this.totalBytes+t>this.maxBytes&&this.store.size>0;){const n=this.store.keys().next().value;if(n==null)break;const r=this.store.get(n);r&&(this.totalBytes-=r.size),this.store.delete(n)}}set(t,n){const r=n.size||0;if(!(r>this.maxBytes)){if(this.store.has(t)){const s=this.store.get(t);this.totalBytes-=s.size,this.store.delete(t)}this.evictIfNeeded(r),this.store.set(t,{blob:n,size:r}),this.totalBytes+=r}}async getOrFetch(t,n){const r=this.get(t);if(r)return r;const s=this.inflight.get(t);if(s)return s.promise;const i=n(),o=typeof i=="object"&&"promise"in i,l=o?i.promise:i,a=o?i.abort:void 0,u=l.then(d=>(this.set(t,d),d)).finally(()=>{this.inflight.delete(t)});return this.inflight.set(t,{promise:u,abort:a}),u}prefetch(t,n){if(this.store.has(t)||this.inflight.has(t))return;const r=n(),s=typeof r=="object"&&"promise"in r,i=s?r.promise:r,o=s?r.abort:void 0,l=i.then(a=>(this.set(t,a),a)).catch(()=>new Blob).finally(()=>{this.inflight.delete(t)});this.inflight.set(t,{promise:l,abort:o})}cancelPrefetch(t){const n=this.inflight.get(t);if(n!=null&&n.abort)try{n.abort()}catch{}this.inflight.delete(t)}clear(){for(const[t,n]of this.inflight)if(n.abort)try{n.abort()}catch{}this.inflight.clear(),this.store.clear(),this.totalBytes=0}evictPrefix(t){const n=(()=>{const s=t?`/${t.replace(/^\/+/,"")}`:"/";return s==="/"?"/":s.replace(/\/+$/,"")})(),r=s=>{const i=s.startsWith("/")?s.replace(/\/+$/,""):`/${s.replace(/\/+$/,"")}`;return n==="/"?!0:i===n||i.startsWith(`${n}/`)};for(const[s,i]of Array.from(this.store.entries()))r(s)&&(this.totalBytes-=i.size,this.store.delete(s));for(const[s,i]of Array.from(this.inflight.entries()))if(r(s)){if(i.abort)try{i.abort()}catch{}this.inflight.delete(s)}this.totalBytes<0&&(this.totalBytes=0)}}const Or=new zp(60*1024*1024),Ha=new zp(20*1024*1024),Ll={};function by(){const e=Ll==null?void 0:Ll.VITE_API_BASE,t=typeof window<"u",n=t?window.location.origin:"http://localhost",r=t?window.location.hostname:"localhost",s=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\]|.+\.localhost)$/i.test(r);if(!e)return"";let i;try{i=new URL(e,n)}catch{return""}const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])$/i.test(i.hostname);return s?i.origin:o?"":i.origin}const Xe=by();const My=40*1024*1024,me={getFolder:(e,t)=>{const n=new URLSearchParams({path:e});return t!=null&&n.set("page",String(t)),kt(`${Xe}/folders?${n}`).promise},search:(e,t)=>{const n=new URLSearchParams;return e&&n.set("q",e),t&&n.set("path",t),kt(`${Xe}/search?${n}`).promise},refreshFolder:e=>{const t=new URLSearchParams({path:e});return kt(`${Xe}/refresh?${t}`,{method:"POST"}).promise},getSidecar:e=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`).promise,getMetadata:e=>kt(`${Xe}/metadata?path=${encodeURIComponent(e)}`).promise,putSidecar:(e,t)=>kt(`${Xe}/item?path=${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).promise,getThumb:e=>Ha.getOrFetch(e,()=>Wi(`${Xe}/thumb?path=${encodeURIComponent(e)}`)),prefetchThumb:e=>{Ha.prefetch(e,()=>Wi(`${Xe}/thumb?path=${encodeURIComponent(e)}`))},getFile:e=>Or.getOrFetch(e,()=>Wi(`${Xe}/file?path=${encodeURIComponent(e)}`)),prefetchFile:async e=>{if(!(Or.has(e)||Or.isInflight(e)))try{const t=await Wi(`${Xe}/file?path=${encodeURIComponent(e)}`).promise;t.size<=My&&Or.set(e,t)}catch{}},cancelPrefetch:e=>{Or.cancelPrefetch(e)},uploadFile:async(e,t)=>{const n=new FormData;return n.append("dest",e),n.append("file",t),kt(`${Xe}/file`,{method:"POST",body:n,timeoutMs:6e4}).promise},moveFile:async(e,t)=>{const n=new FormData;return n.append("src",e),n.append("dest",t),kt(`${Xe}/move`,{method:"POST",body:n}).promise},deleteFiles:async e=>kt(`${Xe}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:e})}).promise,exportIntent:async e=>{const t=new FormData;return t.append("path",e),kt(`${Xe}/export-intent`,{method:"POST",body:t}).promise},getViews:()=>kt(`${Xe}/views`).promise,saveViews:e=>kt(`${Xe}/views`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).promise},Ry=e=>["folder",e];function Dp(e){return Yu({queryKey:Ry(e),queryFn:()=>me.getFolder(e),staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:t=>Math.min(1e3*Math.pow(2,t),5e3),refetchOnWindowFocus:!1})}function Tl(e,t=1){if(!Number.isFinite(e)||e<0)return"0 B";const n=["B","KB","MB","GB","TB"];let r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${n[r]}`}function Ly(e,t=28){if(typeof e!="string")return"";if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",s=n>0?e.slice(0,n):e,i=t-r.length;if(s.length<=i)return e;const o=Math.ceil((i-1)/2),l=Math.floor((i-1)/2);return s.slice(0,o)+""+s.slice(-l)+r}function Ol(e){try{return JSON.parse(e)}catch{return}}const Ty=/^[\/@a-zA-Z0-9._\-\/]{1,512}$/;function Xr(e){try{const t=decodeURI(e||""),r=(t.startsWith("/")?t:`/${t}`).replace(/\/{2,}/g,"/"),s=r.length>1?r.replace(/\/$/,""):r;return Ty.test(s)?s:"/"}catch{return"/"}}function jd(){return(window.location.hash||"").replace(/^#/,"")}function Oy(e){const t=Xr(e),n=`#${encodeURI(t)}`;window.location.hash!==n&&(window.location.hash=n)}function Py(e,t){const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,""),s=[n,r].filter(Boolean).join("/");return s.startsWith("/")?s:`/${s}`}function Fy(e){const n=Xr(e).split("/").filter(Boolean);return n.length<=1?"/":"/"+n.slice(0,-1).join("/")}function Iy(e){return e.endsWith("/_trash_")}const Ap="application/x-lenslet-paths",_y='[role="treeitem"].drop-target';function bd(e){var n;return Array.from(((n=e.dataTransfer)==null?void 0:n.types)||[]).includes(Ap)}function zy(e){document.querySelectorAll(_y).forEach(t=>{t!==e&&t.classList.remove("drop-target")})}function Md(e){zy(e),e.classList.add("drop-target")}function Rd(e){return e.startsWith("/")?e:`/${e}`}function Dy({path:e,isLeaf:t}){const n=Si(),r=x.useCallback(l=>{bd(l)&&(l.preventDefault(),t&&Md(l.currentTarget))},[t]),s=x.useCallback(l=>{!t||!bd(l)||(l.preventDefault(),Md(l.currentTarget))},[t]),i=x.useCallback(l=>{const a=l.currentTarget,u=document.elementFromPoint(l.clientX,l.clientY);u&&a.contains(u)||a.classList.remove("drop-target")},[]),o=x.useCallback(async l=>{const a=l.dataTransfer;if(!a)return;l.preventDefault(),l.currentTarget.classList.remove("drop-target");const u=a.getData(Ap),f=(u?JSON.parse(u):[]).filter(Boolean);if(!f.length)return;let g=f[0].split("/").slice(0,-1).join("/")||"/";g=Rd(g);const S=Rd(e);try{for(const w of f)await me.moveFile(w,S);n.invalidateQueries({queryKey:["folder",g]}),n.invalidateQueries({queryKey:["folder",S]}),n.setQueryData(["folder",g],w=>!w||!Array.isArray(w.items)?w:{...w,items:w.items.filter(E=>!f.includes(E.path))})}catch{}},[e,n]);return{onDragOver:r,onDragEnter:s,onDragLeave:i,onDrop:o}}const Ay='[role="tree"] [role="treeitem"]';function $y(){return Array.from(document.querySelectorAll(Ay))}function Uy(e,t){var i;const n=$y(),r=n.findIndex(o=>o===e);if(r===-1)return;let s=r;t==="ArrowDown"?s=Math.min(n.length-1,r+1):t==="ArrowUp"?s=Math.max(0,r-1):t==="Home"?s=0:t==="End"&&(s=n.length-1),(i=n[s])==null||i.focus()}function By({path:e,isLeaf:t,isExpanded:n,setExpanded:r,onOpen:s}){return x.useCallback(i=>{if(i.key==="Enter"){i.preventDefault(),s(e);return}if(i.key==="ArrowRight"){!t&&!n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.add(e),l}));return}if(i.key==="ArrowLeft"){!t&&n&&(i.preventDefault(),r(o=>{const l=new Set(o);return l.delete(e),l}));return}(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="Home"||i.key==="End")&&(i.preventDefault(),Uy(i.currentTarget,i.key))},[e,t,n,r,s])}function Wy({current:e,roots:t,data:n,onOpen:r,onResize:s,onContextMenu:i,className:o,showResizeHandle:l=!0}){const[a,u]=x.useState(new Set(["/"]));x.useEffect(()=>{const f=e.split("/").filter(Boolean),g=["/"];let S="";for(const w of f)S=S?`${S}/${w}`:`/${w}`,g.push(S);u(w=>{const E=new Set(w);for(const L of g)E.add(L);return E})},[e]);const d=o??"h-full overflow-auto bg-panel scrollbar-thin";return c.jsxs("div",{className:d,children:[c.jsx("div",{className:"p-1",role:"tree","aria-label":"Folders",children:t.map(f=>c.jsx($p,{path:f.path,label:f.label,depth:0,current:e,expanded:a,setExpanded:u,onOpen:r,onContextMenu:i,initial:n},f.path))}),l&&c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 left-[calc(var(--left)-3px)] hover:bg-accent/20",onMouseDown:s})]})}function $p({path:e,label:t,depth:n,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l,initial:a}){var C,M,R;const u=s.has(e),{data:d}=Dp(e),f=a&&e===a.path?a:d,g=r===e,S=(((C=f==null?void 0:f.dirs)==null?void 0:C.length)??0)===0,w=S?((M=f==null?void 0:f.items)==null?void 0:M.length)??0:0,E=By({path:e,isLeaf:S,isExpanded:u,setExpanded:i,onOpen:o}),{onDragOver:L,onDragEnter:v,onDragLeave:p,onDrop:h}=Dy({path:e,isLeaf:S}),m=N=>{N.stopPropagation(),i(I=>{const k=new Set(I);return k.has(e)?k.delete(e):k.add(e),k})};return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center gap-1.5 py-0.5 px-2 rounded-md cursor-pointer min-h-[28px] outline-none transition-colors duration-75 ${g?"bg-accent/20 text-accent font-medium":"hover:bg-white/5 text-text"}`,role:"treeitem","aria-level":n+1,"aria-expanded":S?void 0:u,"aria-selected":g,tabIndex:g?0:-1,style:{paddingLeft:8+n*14},onClick:()=>o(e),onContextMenu:N=>{N.preventDefault(),N.stopPropagation(),l&&l(N,e)},onKeyDown:E,onDragOver:L,onDragEnter:v,onDragLeave:p,onDrop:h,children:[c.jsx("span",{className:"w-4 text-center opacity-60 hover:opacity-100 text-[10px]",onClick:m,children:u?"":""}),c.jsx("span",{className:"flex-1 overflow-hidden truncate text-sm",title:t,children:Ly(t,28)}),S&&c.jsx("span",{className:"text-[10px] opacity-50 bg-white/5 border border-white/5 rounded px-1.5 min-w-[24px] text-center",children:w})]}),u&&((R=f==null?void 0:f.dirs)==null?void 0:R.map(N=>c.jsx($p,{path:Py(e,N.name),label:N.name,depth:n+1,current:r,expanded:s,setExpanded:i,onOpen:o,onContextMenu:l},N.name)))]})}class Qy{constructor(t=400){br(this,"cache",new Map);br(this,"maxSize");this.maxSize=t,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.clear(),{once:!0})}get(t){const n=this.cache.get(t);return n&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){for(this.cache.has(t)&&this.cache.delete(t);this.cache.size>=this.maxSize;){const r=this.cache.keys().next().value;if(r===void 0)break;const s=this.cache.get(r);if(this.cache.delete(r),s)try{URL.revokeObjectURL(s)}catch{}}this.cache.set(t,n)}clear(){for(const t of this.cache.values())try{URL.revokeObjectURL(t)}catch{}this.cache.clear()}}const Pl=new Qy(400);function Hy({path:e,name:t,onClick:n,selected:r,displayW:s,displayH:i,ioRoot:o,isScrolling:l,priority:a}){const u=x.useRef(null),[d,f]=x.useState(()=>Pl.get(e)??null),[g,S]=x.useState(!1),[w,E]=x.useState(()=>!!d);return x.useEffect(()=>{const L=u.current;if(!L)return;const v=new IntersectionObserver(p=>{for(const h of p)h.target===L&&S(h.isIntersecting||h.intersectionRatio>0)},{root:o??null,rootMargin:"200px 0px",threshold:.01});return v.observe(L),()=>{v.unobserve(L),v.disconnect()}},[o]),x.useEffect(()=>{if(d||!(g&&!l||a))return;let L=!0;return me.getThumb(e).then(v=>{if(!L)return;const p=URL.createObjectURL(v);Pl.set(e,p),f(p)}).catch(()=>{}),()=>{L=!1}},[e,d,g,l,a]),x.useEffect(()=>{var v;if(!d){E(!1);return}const L=(v=u.current)==null?void 0:v.querySelector("img");L&&L.complete&&L.naturalWidth>0?E(!0):E(!1)},[d]),x.useEffect(()=>{f(Pl.get(e)??null)},[e]),c.jsx("div",{ref:u,className:`absolute inset-0 relative bg-hover border border-border rounded-lg overflow-hidden select-none ${r?"outline-2 outline-accent":""} hover:outline hover:outline-1 hover:outline-accent`,onClick:n,children:d?c.jsx("img",{className:`w-full h-full object-cover block pointer-events-none select-none opacity-0 transition-opacity duration-[160ms] ${w?"opacity-100":""}`,src:d,alt:t,loading:"lazy",decoding:"async",onLoad:()=>E(!0),width:s?Math.round(s):void 0,height:i?Math.round(i):void 0}):null})}function Rr(e,t,n){let r=n.initialDeps??[],s,i=!0;function o(){var l,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,E)=>r[E]!==w)))return s;r=f;let S;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(S=Date.now()),s=t(...f),n.key&&((u=n.debug)!=null&&u.call(n))){const w=Math.round((Date.now()-d)*100)/100,E=Math.round((Date.now()-S)*100)/100,L=E/16,v=(p,h)=>{for(p=String(p);p.length<h;)p=" "+p;return p};console.info(`%c ${v(E,5)} /${v(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*L,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return o.updateDeps=l=>{r=l},o}function Ld(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Vy=(e,t)=>Math.abs(e-t)<1.01,Ky=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Td=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},qy=e=>e,Gy=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Yy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:a}=o;t({width:Math.round(l),height:Math.round(a)})};if(s(Td(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(Td(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Od={passive:!0},Pd=typeof window>"u"?!0:"onscrollend"in window,Xy=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&Pd?()=>{}:Ky(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:g}=e.options;s=f?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(s,d)},l=o(!0),a=o(!1);a(),n.addEventListener("scroll",l,Od);const u=e.options.useScrollendEvent&&Pd;return u&&n.addEventListener("scrollend",a,Od),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",a)}},Jy=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Zy=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class e0{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:qy,rangeExtractor:Gy,onChange:()=>{},measureElement:Jy,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Rr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Rr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Rr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:o,lanes:l},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const g of this.laneAssignments.keys())g>=n&&this.laneAssignments.delete(g);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,u),f=new Array(l).fill(void 0);for(let g=0;g<u;g++){const S=d[g];S&&(f[S.lane]=g)}for(let g=u;g<n;g++){const S=i(g),w=this.laneAssignments.get(g);let E,L;if(w!==void 0&&this.options.lanes>1){E=w;const m=f[E],C=m!==void 0?d[m]:void 0;L=C?C.end+this.options.gap:r+s}else{const m=this.options.lanes===1?d[g-1]:this.getFurthestMeasurement(d,g);L=m?m.end+this.options.gap:r+s,E=m?m.lane:g%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(g,E)}const v=a.get(S),p=typeof v=="number"?v:this.options.estimateSize(g),h=L+p;d[g]={index:g,start:L,size:p,end:h,key:S,lane:E},f[E]=g}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Rr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?t0({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Rr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,o)=>i===null||o===null?[]:n({startIndex:i,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const i=this.itemSizeCache.get(s.key)??s.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Rr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],a=r[l];s.push(a)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Ld(r[Up(0,r.length-1,s=>Ld(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let i=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,g]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const S=this.getScrollOffset(),w=this.getOffsetForIndex(n,g);if(!w){console.warn("Failed to get offset for index:",n);return}Vy(w[0],S)||a(g)})},a=u=>{this.targetWindow&&(i++,i<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&i.some(l=>l===null);){const l=r[o];i[l.lane]===null&&(i[l.lane]=l.end),o--}s=Math.max(...i.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Up=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function t0({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=Up(0,s,i,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const a=Array(r).fill(0);for(;l<s&&a.some(d=>d<n+t);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const Fd=typeof document<"u"?x.useLayoutEffect:x.useEffect;function n0(e){const t=x.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Hu.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=x.useState(()=>new e0(n));return r.setOptions(n),Fd(()=>r._didMount(),[]),Fd(()=>r._willUpdate()),r}function r0(e){return n0({observeElementRect:Yy,observeElementOffset:Xy,scrollToFn:Zy,...e})}function s0({containerW:e,gap:t,targetCell:n,aspect:r,captionH:s}){const i=Math.max(1,Math.floor((e+t)/(n+t))),o=(e-t*(i-1))/i,l=o*r.h/r.w,a=l+s+t;return{columns:i,cellW:o,mediaH:l,rowH:a}}const i0=1.333;function o0({items:e,containerWidth:t,targetHeight:n,gap:r,captionH:s}){if(t<=0)return[];const i=[];let o=[],l=0;const a=(u,d)=>({index:i.length,height:d+s+r,imageH:d,items:u.map(f=>({item:f.item,displayW:f.aspect*d,displayH:d,originalIndex:f.originalIndex}))});for(let u=0;u<e.length;u++){const d=e[u],f=d.w>0&&d.h>0?d.w/d.h:i0;o.push({item:d,aspect:f,originalIndex:u}),l+=f;const g=(o.length-1)*r;if(l*n+g>=t){const w=(t-g)/l;i.push(a(o,w)),o=[],l=0}}return o.length>0&&i.push(a(o,n)),i}function l0(e,t,n){return{mode:"adaptive",rows:o0({items:t,containerWidth:e,targetHeight:n.targetCell,gap:n.gap,captionH:n.captionH})}}function a0(e,t,n){const{columns:r,cellW:s,mediaH:i,rowH:o}=s0({containerW:e,gap:n.gap,targetCell:n.targetCell,aspect:n.aspect,captionH:n.captionH}),l=Math.ceil(t.length/Math.max(1,r));return{mode:"grid",columns:r,cellW:s,mediaH:i,rowH:o,rowCount:l}}function u0(e,t,n){const[r,s]=x.useState(0);x.useLayoutEffect(()=>{const a=e.current;if(!a)return;const u=()=>{const f=getComputedStyle(a),g=a.clientWidth-parseFloat(f.paddingLeft)-parseFloat(f.paddingRight);s(g)},d=new ResizeObserver(u);return d.observe(a),u(),()=>d.disconnect()},[]);const i=x.useMemo(()=>n.viewMode==="adaptive"?l0(r,t,n):a0(r,t,n),[r,t,n.viewMode,n.gap,n.targetCell,n.aspect.w,n.aspect.h,n.captionH]),o=r0({count:i.mode==="adaptive"?i.rows.length:i.rowCount,getScrollElement:()=>e.current,estimateSize:a=>i.mode==="adaptive"?i.rows[a].height:i.rowH,overscan:8}),l=o.getVirtualItems();return x.useEffect(()=>{o.measure()},[i,o]),{width:r,layout:i,rowVirtualizer:o,virtualRows:l}}function c0(e,t,n,r){if(!e.length)return null;const s=n?e.findIndex(l=>l.path===n):0,i=Math.max(1,t);let o=s;if(r.key==="ArrowRight"||r.key==="d")o=Math.min(e.length-1,s+1);else if(r.key==="ArrowLeft"||r.key==="a")o=Math.max(0,s-1);else if(r.key==="ArrowDown"||r.key==="s")o=Math.min(e.length-1,s+i);else if(r.key==="ArrowUp"||r.key==="w")o=Math.max(0,s-i);else return r.key==="Enter"&&n?"open":null;return o}const tn=12,d0=44,f0={w:4,h:3},h0=350,p0=120;function m0({items:e,selected:t,restoreToSelectionToken:n,onSelectionChange:r,onOpenViewer:s,onContextMenuItem:i,highlight:o,suppressSelectionHighlight:l=!1,viewMode:a="grid",targetCellSize:u=220}){const[d,f]=x.useState(null),[g,S]=x.useState(null),[w,E]=x.useState(!1),[L,v]=x.useState(null),[p,h]=x.useState(null),m=x.useRef(null),C=x.useRef(null),M=x.useRef(null),R=x.useRef(null),N=u,{width:I,layout:k,rowVirtualizer:D,virtualRows:G}=u0(M,e,{gap:tn,targetCell:N,aspect:f0,captionH:d0,viewMode:a}),ee=x.useMemo(()=>{const b=new Map;for(let O=0;O<e.length;O++)b.set(e[O].path,O);return b},[e]),q=x.useMemo(()=>{if(k.mode!=="adaptive")return null;const b=new Map;return k.rows.forEach((O,_)=>{let H=0;O.items.forEach((Y,X)=>{const $=H+Y.displayW/2;b.set(Y.item.path,{row:_,center:$,order:X}),H+=Y.displayW+tn})}),b},[k]);x.useEffect(()=>{if(!t.length)return;const b=t[0];L!==b&&v(b)},[t,L]);const A=x.useMemo(()=>{if(k.mode!=="adaptive")return null;let b=0;return k.rows.map(O=>{const _=b;return b+=O.height,{start:_,height:O.height}})},[k]),K=x.useRef(null),ue=(b,O)=>{try{if(K.current!=null){try{cancelAnimationFrame(K.current)}catch{}K.current=null}const _=b.scrollTop,H=O-_;if(Math.abs(H)<1){b.scrollTop=O;return}const Y=140,X=performance.now(),$=pe=>1-Math.pow(1-pe,3),Z=pe=>{const Re=Math.min(1,(pe-X)/Y),oe=$(Re);b.scrollTop=_+H*oe,Re<1?K.current=requestAnimationFrame(Z):K.current=null};K.current=requestAnimationFrame(Z)}catch{b.scrollTop=O}},[P,V]=x.useState(!1);x.useEffect(()=>{const b=M.current;if(!b)return;let O=0;const _=()=>{V(!0),window.clearTimeout(O),O=window.setTimeout(()=>V(!1),p0)};return b.addEventListener("scroll",_,{passive:!0}),()=>b.removeEventListener("scroll",_)},[]);const W=()=>{C.current!=null&&(window.clearTimeout(C.current),C.current=null)},ae=()=>{if(W(),E(!1),f(null),m.current){try{URL.revokeObjectURL(m.current)}catch{}m.current=null}S(null)},te=b=>{P||(W(),f(b),E(!1),C.current=window.setTimeout(async()=>{C.current=null;try{const O=await me.getFile(b),_=URL.createObjectURL(O);if(m.current)try{URL.revokeObjectURL(m.current)}catch{}m.current=_,S(_),E(!0)}catch{}},h0))},Oe=k.mode==="grid"?k.columns:Math.max(1,Math.floor(I/(N+tn))),$e=(b,O)=>{if(k.mode!=="adaptive")return null;const _=k.rows[b];if(!_)return null;let H=0,Y=null;for(const X of _.items){const $=H+X.displayW/2,Z=Math.abs($-O);(!Y||Z<Y.dist)&&(Y={path:X.item.path,dist:Z}),H+=X.displayW+tn}return Y?Y.path:null},wt=(b,O)=>{var oe,Ot,Ke,Ie;if(!e.length)return null;const _=b??e[0].path;if(k.mode!=="adaptive"){const we=c0(e,Oe,_,O);return we==="open"||we==null?we:((oe=e[we])==null?void 0:oe.path)??null}const H=q==null?void 0:q.get(_);if(!H)return _;const Y=ee.get(_)??0,X=O.key;if(X==="Enter")return"open";if(X==="ArrowRight"||X==="d")return((Ot=e[Math.min(e.length-1,Y+1)])==null?void 0:Ot.path)??_;if(X==="ArrowLeft"||X==="a")return((Ke=e[Math.max(0,Y-1)])==null?void 0:Ke.path)??_;const $=X==="ArrowDown"||X==="s"?1:X==="ArrowUp"||X==="w"?-1:0;if($===0)return null;const Z=H.row+$;if(Z<0||Z>=(((Ie=k.rows)==null?void 0:Ie.length)??0))return _;const pe=H.center;return $e(Z,pe)??_},re=b=>{var O;try{(O=document.getElementById(`cell-${encodeURIComponent(b)}`))==null||O.focus()}catch{}},Fe=b=>{try{me.prefetchFile(b),me.prefetchThumb(b)}catch{}},Zt=(b,O)=>{v(b),h(b);const _=!!O.shiftKey,H=!!(O.ctrlKey||O.metaKey);if(_){const Y=R.current??L??t[0]??b,X=ee.get(Y)??e.findIndex(Z=>Z.path===Y),$=ee.get(b)??e.findIndex(Z=>Z.path===b);if(X!==-1&&$!==-1){const Z=Math.min(X,$),pe=Math.max(X,$),Re=e.slice(Z,pe+1).map(oe=>oe.path);if(H){const oe=new Set(t);for(const Ot of Re)oe.add(Ot);r(Array.from(oe))}else r(Re)}else r([b])}else if(H){const Y=new Set(t);Y.has(b)?Y.delete(b):Y.add(b),r(Array.from(Y)),R.current=b}else r([b]),R.current=b;P||Fe(b),re(b)},en=(b,O)=>{var _,H;try{const Y=ye.has(b)&&t.length>0?t:[b];(_=O.dataTransfer)==null||_.setData("application/x-lenslet-paths",JSON.stringify(Y)),O.dataTransfer&&(O.dataTransfer.effectAllowed="copyMove");try{document.body.classList.add("drag-active")}catch{}const $=O.currentTarget.querySelector(".cell-content img"),Z=document.createElement("div");Z.className="drag-ghost";const pe=document.createElement("img");pe.draggable=!1,pe.alt="drag",$&&$.src&&(pe.src=$.src),Z.appendChild(pe),document.body.appendChild(Z);const Re=Z.getBoundingClientRect().width||150;(H=O.dataTransfer)==null||H.setDragImage(Z,Math.round(Re/2),0);const oe=()=>{try{Z.remove()}catch{}try{document.body.classList.remove("drag-active")}catch{}window.removeEventListener("dragend",oe),window.removeEventListener("pointerup",oe),document.removeEventListener("visibilitychange",oe)};window.addEventListener("dragend",oe),window.addEventListener("pointerup",oe),document.addEventListener("visibilitychange",oe)}catch{}};x.useEffect(()=>{const b=M.current;if(!b)return;const O=_=>{var oe,Ot,Ke;const H=wt(p,_);if(H==null)return;if(_.preventDefault(),H==="open"){p&&s(p);return}const Y=e.find(Ie=>Ie.path===H);if(!Y)return;h(Y.path),v(Y.path),r([Y.path]);try{R.current=Y.path}catch{}const X=k.mode==="grid"?Math.floor((ee.get(Y.path)??0)/Math.max(1,k.columns)):((oe=q==null?void 0:q.get(Y.path))==null?void 0:oe.row)??0,$=b.scrollTop,Z=$+b.clientHeight,pe=k.mode==="adaptive"?((Ot=A==null?void 0:A[X])==null?void 0:Ot.start)??0:X*k.rowH,Re=k.mode==="adaptive"?pe+(((Ke=A==null?void 0:A[X])==null?void 0:Ke.height)??0):pe+k.rowH;(pe<$||Re>Z)&&ue(b,pe),re(Y.path)};return b.addEventListener("keydown",O),()=>{b.removeEventListener("keydown",O)}},[e,p,Oe,s,k,q,A,ee]),x.useLayoutEffect(()=>{var X;const b=M.current;if(!b||!n||!t||t.length===0)return;const O=t[0],_=ee.get(O);if(_==null||_<0)return;let H=0;if(k.mode==="grid")H=Math.floor(_/Math.max(1,k.columns));else{let $=0,Z=k.rows.length-1;for(;$<=Z;){const pe=$+Z>>1,Re=k.rows[pe];if(_>=Re.items[0].originalIndex&&_<=Re.items[Re.items.length-1].originalIndex){H=pe;break}_<Re.items[0].originalIndex?Z=pe-1:$=pe+1}}const Y=k.mode==="adaptive"?((X=A==null?void 0:A[H])==null?void 0:X.start)??0:H*k.rowH;try{b.scrollTop=Y}catch{}},[n,k,A]);const ye=x.useMemo(()=>new Set(t),[t]),Wt=!!(d&&g&&w);x.useEffect(()=>{var b;(b=M.current)==null||b.focus()},[]),x.useEffect(()=>{var b;if(l){try{(b=M.current)==null||b.blur()}catch{}try{h(null)}catch{}}},[l]);const Xn=p?`cell-${encodeURIComponent(p)}`:void 0;return c.jsx("div",{role:"grid","aria-label":"Gallery",className:`relative h-full overflow-auto p-3 outline-none scrollbar-thin ${Wt?"cursor-zoom-in":""}`,ref:M,tabIndex:0,"aria-activedescendant":Xn,onMouseDown:()=>{var b;return(b=M.current)==null?void 0:b.focus()},style:{"--gap":`${tn}px`},children:c.jsxs("div",{className:"relative w-full",style:{height:D.getTotalSize()},children:[G.map(b=>{var X;let O=[],_={},H="";if(k.mode==="adaptive"){const $=k.rows[b.index];if(!$)return null;O=$.items,_={height:$.height,transform:`translate3d(0, ${b.start}px, 0)`,display:"flex",gap:tn,paddingBottom:tn},H="absolute top-0 left-0 right-0 w-full will-change-transform"}else{const $=b.index*k.columns;O=e.slice($,$+k.columns).map(pe=>({item:pe,displayW:k.cellW,displayH:k.mediaH})),_={transform:`translate3d(0, ${b.start}px, 0)`,gridTemplateColumns:`repeat(${k.columns}, minmax(0, 1fr))`,gap:tn,paddingBottom:tn},H="absolute top-0 left-0 right-0 w-full grid will-change-transform"}const Y=b.index===((X=G[0])==null?void 0:X.index);try{if(!P)for(const{item:$}of O)try{me.prefetchThumb($.path)}catch{}}catch{}return c.jsx("div",{className:H,role:"row",style:_,children:O.map(({item:$,displayW:Z,displayH:pe})=>{const Re=!l&&(L===$.path||ye.has($.path)),oe=k.mode==="adaptive"?{width:Z}:{},Ot=k.mode==="adaptive"?{height:pe}:{},Ke=k.mode==="adaptive"?"relative rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group shrink-0":"relative aspect-[4/3] rounded-lg overflow-hidden bg-[var(--thumb-bg,#121212)] group";return c.jsxs("div",{id:`cell-${encodeURIComponent($.path)}`,className:`relative min-w-0 ${Re?"outline outline-2 outline-accent outline-offset-2 rounded-[10px]":""}`,role:"gridcell","aria-selected":Re,tabIndex:p===$.path?0:-1,onFocus:()=>h($.path),draggable:!0,style:oe,onDragStart:Ie=>en($.path,Ie),onDragEnd:()=>{},onContextMenu:Ie=>{Ie.preventDefault(),Ie.stopPropagation(),i&&i(Ie,$.path)},children:[c.jsxs("div",{className:Ke,style:Ot,onMouseEnter:()=>{try{me.prefetchFile($.path)}catch{}},onDoubleClick:()=>s($.path),onMouseLeave:ae,children:[c.jsx("div",{className:"cell-content absolute inset-0",children:c.jsx(Hy,{path:$.path,name:$.name,selected:Re,displayW:Z,displayH:pe,ioRoot:M.current,isScrolling:P,priority:Y,onClick:Ie=>Zt($.path,Ie)})}),c.jsx("div",{className:"absolute right-0 bottom-0 w-7 h-7 cursor-zoom-in",onMouseEnter:()=>te($.path),onMouseLeave:ae,children:c.jsx("div",{className:"absolute right-0 bottom-0 h-[18px] w-[18px] flex items-center justify-center text-text select-none opacity-0 group-hover:opacity-50 hover:opacity-100 transition-all duration-[140ms]",style:{clipPath:'path("M0 9C0 4.02944 4.02944 0 9 0H18V18H0V9Z")',background:"linear-gradient(135deg, rgba(18,18,18,0.9) 0%, rgba(34,34,34,0.9) 60%, rgba(22,22,22,0.9) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",borderLeft:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 1px 2px rgba(0,0,0,0.45)",backdropFilter:"blur(1px)"},children:c.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#d9dce2]","aria-hidden":"true",style:{transform:"translate(0px,0px)"},children:[c.jsx("circle",{cx:"11",cy:"11",r:"5.4"}),c.jsx("path",{d:"M15.5 15.5 L19 19"})]})})})]}),c.jsxs("div",{className:"flex flex-col items-center text-center gap-0 mt-1 px-0.5 text-white/90",children:[c.jsx("div",{className:"text-sm leading-[18px] thumb-filename line-clamp-2 break-words hyphens-auto text-center",title:$.name,children:(()=>{const Ie=(o||"").trim();if(!Ie)return $.name;const we=$.name,Jn=we.toLowerCase().indexOf(Ie.toLowerCase());if(Jn===-1)return $.name;const jr=we.slice(0,Jn),ki=we.slice(Jn,Jn+Ie.length),Ss=we.slice(Jn+Ie.length);return c.jsxs(c.Fragment,{children:[jr,c.jsx("mark",{className:"bg-accent/20 text-inherit rounded px-0.5",children:ki}),Ss]})})()}),c.jsxs("div",{className:"text-[11px] leading-[15px] opacity-70",children:[$.w,"  ",$.h]})]})]},$.path)})},b.key)}),d&&g&&w&&Hu.createPortal(c.jsx("div",{className:"fixed inset-0 top-12 z-[999] flex items-center justify-center pointer-events-none bg-black/20 opacity-100",children:c.jsx("img",{src:g,alt:"preview",className:"max-w-[80vw] max-h-[80vh] object-contain opacity-[0.98]"})}),document.body)]},`${a}-${Oe}`)})}function Va(e,t){const[n,r]=x.useState(null),s=x.useRef(null);return x.useEffect(()=>{if(!e){if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}r(null);return}let i=!0;return e().then(o=>{if(!i)return;const l=URL.createObjectURL(o);if(s.current)try{URL.revokeObjectURL(s.current)}catch{}s.current=l,r(l)}).catch(()=>{}),()=>{i=!1}},t),x.useEffect(()=>()=>{if(s.current){try{URL.revokeObjectURL(s.current)}catch{}s.current=null}},[]),n}function g0(){const[e,t]=x.useState(1),[n,r]=x.useState(0),[s,i]=x.useState(0),[o,l]=x.useState(1),[a,u]=x.useState(!1),[d,f]=x.useState(!1),[g,S]=x.useState(!1),w=x.useRef(null),E=x.useRef(null),L=()=>{const h=w.current,m=E.current;if(!h||!m||!m.naturalWidth||!m.naturalHeight)return;const C=h.getBoundingClientRect(),M=C.width/m.naturalWidth,R=C.height/m.naturalHeight,N=Math.min(1,Math.min(M,R));l(N);const I=m.naturalWidth*N,k=m.naturalHeight*N;r((C.width-I)/2),i((C.height-k)/2)};return x.useEffect(()=>{const h=w.current;if(!h)return;const m=new ResizeObserver(()=>{try{requestAnimationFrame(()=>L())}catch{L()}});return m.observe(h),()=>m.disconnect()},[]),{scale:e,setScale:t,tx:n,setTx:r,ty:s,setTy:i,base:o,setBase:l,ready:a,setReady:u,dragging:d,setDragging:f,visible:g,setVisible:S,containerRef:w,imgRef:E,fitAndCenter:L,handleWheel:h=>{h.preventDefault();const m=h.deltaY>0?-1:1,C=1.2,M=.05,R=8,N=w.current;if(!N)return;const I=N.getBoundingClientRect(),k=h.clientX-I.left,D=h.clientY-I.top;t(G=>{const ee=Math.min(R,Math.max(M,G*Math.pow(C,m))),q=ee/G;return r(A=>k-q*(k-A)),i(A=>D-q*(D-A)),Number(ee.toFixed(4))})},handleMouseDown:h=>{const m=w.current,C=E.current;if(!m||!C||h.target!==C)return;const R=m.getBoundingClientRect();if(h.clientX<R.left||h.clientX>R.right||h.clientY<R.top||h.clientY>R.bottom)return;h.preventDefault(),h.stopPropagation(),f(!0);const N=h.clientX,I=h.clientY,k=n,D=s,G=q=>{r(k+(q.clientX-N)),i(D+(q.clientY-I))},ee=()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",ee),f(!1)};window.addEventListener("mousemove",G),window.addEventListener("mouseup",ee)}}}function v0({path:e,onClose:t,onNavigate:n,onZoomChange:r,requestedZoomPercent:s,onZoomRequestConsumed:i}){const{scale:o,setScale:l,tx:a,setTx:u,ty:d,setTy:f,base:g,ready:S,setReady:w,dragging:E,visible:L,setVisible:v,containerRef:p,imgRef:h,fitAndCenter:m,handleWheel:C,handleMouseDown:M}=g0(),R=Va(()=>me.getFile(e),[e]),N=Va(()=>me.getThumb(e),[e]),I=x.useCallback(()=>{v(!1),window.setTimeout(t,110)},[t,v]);return x.useEffect(()=>{requestAnimationFrame(()=>{var k;v(!0),(k=p.current)==null||k.focus()})},[e]),x.useEffect(()=>{const k=D=>{D.key==="Escape"?I():(D.key==="ArrowRight"||D.key==="d")&&n?n(1):(D.key==="ArrowLeft"||D.key==="a")&&n&&n(-1)};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[t,n]),x.useEffect(()=>{w(!1)},[R]),x.useEffect(()=>{r&&r(g*o*100)},[g,o,r]),x.useEffect(()=>{if(s==null)return;const k=p.current;if(!k){i&&i();return}const D=Math.max(.05,Math.min(8,s/100/Math.max(1e-6,g))),G=k.getBoundingClientRect(),ee=G.width/2,q=G.height/2;l(A=>{const K=D/A;return u(ue=>ee-K*(ee-ue)),f(ue=>q-K*(q-ue)),Number(D.toFixed(4))}),i&&i()},[s,g,i]),c.jsxs("div",{ref:p,role:"dialog","aria-modal":!0,"aria-label":"Image viewer",tabIndex:-1,className:`absolute inset-0 top-12 left-[var(--left)] right-[var(--right)] flex items-start justify-start bg-panel z-viewer overflow-hidden transition-opacity duration-[110ms] ease-out cursor-grab focus:outline-none focus-visible:outline-none ${E?"cursor-grabbing select-none":""} ${L?"opacity-100":"opacity-0"}`,style:{outline:"none"},onClick:I,onWheel:C,onMouseDown:M,onKeyDown:k=>{k.key==="Tab"&&k.preventDefault()},children:[c.jsxs("button",{"aria-label":"Close",onClick:k=>{k.stopPropagation(),I()},className:"btn btn-sm absolute top-3 right-3 z-10",title:"Close (Esc)",children:[c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"M6 6l12 12"})]}),"Close"]}),N&&c.jsx("img",{src:N,alt:"thumb",className:"absolute top-0 left-0 max-w-none max-h-none object-contain pointer-events-none transition-opacity duration-[110ms] ease-out",draggable:!1,onDragStart:k=>k.preventDefault(),style:{transform:`translate(${a}px, ${d}px) scale(${g})`,transformOrigin:"0 0",opacity:S?0:.5,filter:"blur(0.25px)"}}),R&&c.jsx("img",{ref:h,src:R,alt:"viewer",className:"max-w-none max-h-none object-contain transition-opacity duration-[110ms] ease-out will-change-transform select-none",draggable:!1,onDragStart:k=>{k.preventDefault()},onLoad:k=>{m(),l(1);try{requestAnimationFrame(()=>w(!0))}catch{w(!0)}},onClick:k=>k.stopPropagation(),style:{transform:`translate(${a}px, ${d}px) scale(${g*o})`,transformOrigin:"0 0",opacity:S?.99:0,WebkitUserDrag:"none"}})]})}const Bp=e=>["item",e],y0={v:1,tags:[],notes:"",updated_at:"",updated_by:"web"};function x0(e){return Yu({queryKey:Bp(e),queryFn:()=>me.getSidecar(e),enabled:!!e,staleTime:3e4,gcTime:5*6e4,retry:2})}function w0(e){const t=Si();return Sy({mutationFn:n=>me.putSidecar(e,n),retry:3,retryDelay:n=>Math.min(1e3*Math.pow(2,n),4e3),onSuccess:n=>{t.setQueryData(Bp(e),n)}})}const S0=6;async function Id(e,t){if(!e.length)return;const n=new Date().toISOString();let r=0;const s=[],i=async()=>{for(;r<e.length;){const l=r++,a=e[l];try{await Wp(a,t,n)}catch(u){s.push({path:a,error:u}),console.error(`[bulkUpdateSidecars] Failed for ${a}:`,u)}}},o=Array.from({length:Math.min(S0,e.length)},()=>i());if(await Promise.all(o),s.length===e.length)throw new Error(`All ${e.length} sidecar updates failed`)}const Ls=new Map,Fl=new Map;async function Wp(e,t,n){const r=n??new Date().toISOString(),s=Ls.get(e)||{};Ls.set(e,{...s,...t});const i=Fl.get(e);if(i)return i;const o=(async()=>{try{for(;Ls.has(e);){const l=Ls.get(e);if(Ls.delete(e),!l)break;let a;try{a=await me.getSidecar(e)}catch{a={...y0,updated_at:r}}const u={...a,...l,v:1,updated_at:r,updated_by:"web"};let d=0;const f=3;for(;d<f;)try{await me.putSidecar(e,u);break}catch(g){if(d++,d>=f)throw g;await new Promise(S=>setTimeout(S,200*Math.pow(2,d)))}}}finally{Fl.delete(e)}})();return Fl.set(e,o),o}function Qp(e){return!e||!(e instanceof HTMLElement)?!1:e.closest('input, textarea, [contenteditable="true"]')!==null}function so(e){if(Array.isArray(e))return e.map(so);if(e&&typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,so(n)]));if(typeof e=="string"){const t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")||t.startsWith('"')&&t.endsWith('"'))try{const r=JSON.parse(t);return so(r)}catch{return e}}return e}function Il(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function k0(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function C0(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function E0(e){const t=/(\"(\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*\"(?:\s*:)?|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\btrue\b|\bfalse\b|\bnull\b)/g;let n="",r=0;for(const s of e.matchAll(t)){const i=s.index??0,o=s[0];n+=Il(e.slice(r,i));let l="#cdd3dd";o.startsWith('"')&&o.trimEnd().endsWith(":")?l="#a7c4ff":o.startsWith('"')?l="#9ad4b5":/true|false|null/.test(o)?l="#c4b4f5":l="#d7c08c",n+=`<span style="color:${l}">${Il(o)}</span>`,r=i+o.length}return n+=Il(e.slice(r)),n}const N0=["overview","notes","metadata","basics"],_d="lenslet.inspector.sections",j0={overview:!0,notes:!0,metadata:!0,basics:!0};function Qi({title:e,open:t,onToggle:n,actions:r,children:s,contentClassName:i}){const[o,l]=x.useState(t),[a,u]=x.useState(t?"open":"closed");return x.useEffect(()=>{if(t){l(!0);const f=window.requestAnimationFrame(()=>u("open"));return()=>window.cancelAnimationFrame(f)}u("closing");const d=window.setTimeout(()=>{l(!1),u("closed")},140);return()=>window.clearTimeout(d)},[t]),c.jsxs("div",{className:"border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsxs("button",{type:"button",onClick:n,"aria-expanded":t,className:"flex items-center gap-2 text-xs uppercase tracking-wide text-muted hover:text-text transition-colors",children:[c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${t?"rotate-90":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"m9 18 6-6-6-6"})}),c.jsx("span",{children:e})]}),r]}),o&&c.jsx("div",{className:"inspector-section-body","data-state":a,"aria-hidden":!t,children:c.jsx("div",{className:i??"px-3 pb-3",children:s})})]})}function b0({path:e,selectedPaths:t=[],items:n=[],onResize:r,onStarChanged:s}){const i=!!e,{data:o,isLoading:l}=x0(e??""),a=w0(e??""),[u,d]=x.useState(j0),f=x.useCallback(b=>{d(O=>({...O,[b]:!O[b]}))},[]),[g,S]=x.useState(""),[w,E]=x.useState(""),[L,v]=x.useState(""),[p,h]=x.useState(null),[m,C]=x.useState("idle"),[M,R]=x.useState(!1),[N,I]=x.useState(null),[k,D]=x.useState({}),ee=x.useMemo(()=>{const b=n.find(O=>O.path===e);return b&&b.star!==void 0?b.star:null},[n,e])??(o==null?void 0:o.star)??null,q=t.length>1,A=x.useMemo(()=>{const b=new Set(t);return n.filter(O=>b.has(O.path))},[n,t]),K=x.useMemo(()=>A.reduce((b,O)=>b+(O.size||0),0),[A]);x.useEffect(()=>{o&&(S((o.tags||[]).join(", ")),E(o.notes||"")),v(""),h(null),C("idle"),R(!1)},[o==null?void 0:o.updated_at,e]);const ue=x.useCallback(()=>o??{v:1,tags:[],notes:"",updated_at:"",updated_by:"web"},[o]),P=x.useCallback(b=>{if(q&&t.length){Id(t,b);return}if(!e)return;const O=ue();a.mutate({...O,...b,updated_at:new Date().toISOString(),updated_by:"web"})},[q,t,e,ue,a]);x.useEffect(()=>{if(!e)return;const b=O=>{if(Qp(O.target))return;const _=O.key;if(!/^[0-5]$/.test(_))return;O.preventDefault();const H=_==="0"?null:Number(_);if(q&&t.length){P({star:H}),s==null||s(t,H);return}P({star:H}),s==null||s([e],H)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,q,t,P,s]);const V=Va(e?()=>me.getThumb(e):null,[e]),W=e?e.split("/").pop()||e:"",ae=x.useMemo(()=>{var O;if(W.includes("."))return W.slice(W.lastIndexOf(".")+1).toUpperCase();const b=n.find(_=>_.path===e);return(O=b==null?void 0:b.type)!=null&&O.includes("/")?b.type.split("/")[1].toUpperCase():""},[W,n,e]),te=x.useMemo(()=>n.find(b=>b.path===e),[n,e]),Oe=x.useMemo(()=>e?(te==null?void 0:te.source)??e:"",[te,e]),$e=x.useCallback(async()=>{if(e){C("loading"),h(null);try{const b=await me.getMetadata(e),O=so(b.meta),_=JSON.stringify(O,null,2);v(_),C("loaded")}catch(b){const O=b instanceof Error?b.message:"Failed to load metadata";v(O),h(O),C("error")}}},[e]),wt=x.useCallback(()=>{var b;L&&((b=navigator.clipboard)==null||b.writeText(L).then(()=>{R(!0),setTimeout(()=>R(!1),1200)}).catch(O=>{const _=O instanceof Error?O.message:"Copy failed";h(_)}))},[L]),re=x.useMemo(()=>L?E0(L):"",[L]),Fe=m==="loading"?"Loading metadata":L||"PNG metadata not loaded yet.",Zt=m==="loaded"&&!!L,en=Zt?"h-48":"h-24",ye=q?null:c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[L&&c.jsx("button",{className:"text-muted underline underline-offset-2 hover:text-text disabled:opacity-60 min-w-[48px] text-center",onClick:wt,disabled:!L,title:"Copy metadata",children:M?"Copied":"Copy"}),c.jsx("button",{className:"px-2 py-1 bg-transparent text-muted border border-border/60 rounded-md disabled:opacity-60 hover:border-border hover:text-text transition-colors min-w-[78px]",onClick:$e,disabled:!e||m==="loading",children:m==="loading"?"Loading":"Load meta"})]});x.useEffect(()=>{try{const b=localStorage.getItem(_d);if(!b)return;const O=JSON.parse(b);if(!O||typeof O!="object")return;const _={};for(const H of N0)typeof O[H]=="boolean"&&(_[H]=O[H]);Object.keys(_).length>0&&d(H=>({...H,..._}))}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem(_d,JSON.stringify(u))}catch{}},[u]);const Wt=x.useCallback((b,O)=>{var _;O&&((_=navigator.clipboard)==null||_.writeText(O).then(()=>{I(b),setTimeout(()=>I(H=>H===b?null:H),1e3)}).catch(()=>{}))},[]),Xn=x.useCallback((b,O)=>{if(O&&!k[b]){const _=O.offsetHeight;_&&D(H=>H[b]?H:{...H,[b]:_})}},[k]);return i?c.jsxs("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:[!q&&c.jsx("div",{className:"p-3 border-b border-border flex justify-center",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border w-[220px] h-[160px] bg-panel select-none",children:[V&&c.jsx("img",{src:V,alt:"thumb",className:"block w-full h-full object-contain"}),!!ae&&c.jsx("div",{className:"absolute top-1.5 left-1.5 bg-surface border border-border text-text text-xs px-1.5 py-0.5 rounded-md select-none",children:ae})]})}),c.jsx(Qi,{title:q?"Selection":"Item",open:u.overview,onToggle:()=>f("overview"),children:q?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-mono text-muted break-all",children:[t.length," files selected"]}),c.jsxs("div",{className:"font-mono text-muted break-all",children:["Total size: ",Tl(K)]})]}):c.jsx("div",{className:"font-mono text-text break-all",title:W,children:W})}),c.jsxs(Qi,{title:"Notes & Tags",open:u.notes,onToggle:()=>f("notes"),contentClassName:"px-3 pb-3 space-y-1.5",children:[c.jsx("textarea",{className:"w-full bg-transparent text-text border border-border/60 rounded-md px-2 py-1 min-h-[32px] resize-y scrollbar-thin placeholder:text-muted focus:border-border",placeholder:"Add notes",value:w,onChange:b=>E(b.target.value),onBlur:()=>{P({notes:w})},"aria-label":q?"Notes for selected items":"Notes"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:q?"Tags (apply to all, comma-separated)":"Tags (comma-separated)"}),c.jsx("input",{className:"w-full h-9 bg-transparent text-text border border-border/60 rounded-md px-2 placeholder:text-muted focus:border-border",placeholder:"tag1, tag2",value:g,onChange:b=>S(b.target.value),onBlur:()=>{P({tags:C0(g)})},"aria-label":q?"Tags for selected items":"Tags"})]})]}),!q&&c.jsxs(Qi,{title:"Metadata",open:u.metadata,onToggle:()=>f("metadata"),actions:ye,children:[c.jsx("pre",{className:`bg-surface-inset text-[11px] font-mono text-muted border border-border rounded-lg p-2 ${en} overflow-auto whitespace-pre-wrap leading-[1.3]`,children:Zt?c.jsx("code",{className:"block whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:re}}):Fe}),p&&c.jsx("div",{className:"text-[11px] text-danger mt-1 break-words",children:p})]}),c.jsxs(Qi,{title:"Basics",open:u.basics,onToggle:()=>f("basics"),children:[c.jsxs("div",{className:"flex items-center gap-2 text-[12px] mb-1",role:"radiogroup","aria-label":"Star rating",children:[c.jsx("span",{className:"text-muted w-16 shrink-0",children:q?"Rating (all)":"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(b=>{const O=(ee??0)>=b;return c.jsx("button",{className:`w-6 h-6 flex items-center justify-center rounded border border-border/60 bg-transparent text-[13px] ${O?"text-star-active":"text-star-inactive"} hover:border-border hover:text-star-hover transition-colors`,onClick:()=>{const _=ee===b&&!q?null:b;q&&t.length?(s==null||s(t,_),Id(t,{star:_})):e&&(s==null||s([e],_),Wp(e,{star:_}))},title:`${b} star${b>1?"s":""} (key ${b})`,"aria-label":`${b} star${b>1?"s":""}`,"aria-pressed":ee===b,children:O?"":""},b)})})]}),!q&&te&&c.jsxs("div",{className:"text-[12px] space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("dimensions",`${te.w}${te.h}`),children:"Dimensions"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:b=>Xn("dimensions",b),style:k.dimensions?{minHeight:k.dimensions}:void 0,children:N==="dimensions"?"Copied":`${te.w}${te.h}`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("size",Tl(te.size)),children:"Size"}),c.jsx("span",{className:"font-mono text-text inline-block text-right min-w-[80px]",ref:b=>Xn("size",b),style:k.size?{minHeight:k.size}:void 0,children:N==="size"?"Copied":Tl(te.size)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Wt("type",te.type),children:"Type"}),c.jsx("span",{className:"font-mono text-text break-all text-right inline-block min-w-[80px]",ref:b=>Xn("type",b),style:k.type?{minHeight:k.type}:void 0,children:N==="type"?"Copied":te.type})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-20 shrink-0 cursor-pointer",onClick:()=>Oe&&Wt("source",Oe),children:"Source"}),c.jsx("span",{className:"font-mono text-text break-all text-right max-w-[70%] inline-block min-w-[80px]",ref:b=>Xn("source",b),style:k.source?{minHeight:k.source}:void 0,children:N==="source"?"Copied":Oe})]}),(()=>{const b=te.metrics||null;if(!b)return null;const O=Object.entries(b).filter(([,X])=>X!=null);if(!O.length)return null;const _=O.sort(([X],[$])=>X.localeCompare($)),H=_.slice(0,12),Y=_.length-H.length;return c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-muted text-xs uppercase tracking-wide mb-1",children:"Metrics"}),c.jsxs("div",{className:"space-y-1",children:[H.map(([X,$])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted w-24 shrink-0",children:X}),c.jsx("span",{className:"font-mono text-text text-right",children:k0($)})]},X)),Y>0&&c.jsxs("div",{className:"text-[11px] text-muted",children:["+",Y," more"]})]})]})})()]})]}),c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})]}):c.jsx("div",{className:"col-start-3 row-start-2 border-l border-border bg-panel overflow-auto scrollbar-thin relative",children:c.jsx("div",{className:"absolute top-12 bottom-0 w-1.5 cursor-col-resize z-10 right-[calc(var(--right)-3px)] hover:bg-accent/20",onMouseDown:r})})}const M0=(e,t)=>["search",e,t];function R0(e,t){return Yu({enabled:!!e.trim(),queryKey:M0(e,t),queryFn:()=>me.search(e,t),staleTime:3e3,gcTime:6e4,placeholderData:n=>n,retry:1})}const L0=new Set([0,1,2,3,4,5]),Xu=new Set(["<","<=",">",">="]),T0=/^\d{4}-\d{2}-\d{2}$/;function O0(e,t){return!t||!t.and.length?e:e.filter(n=>P0(n,t.and))}function P0(e,t){for(const n of t)if(!F0(e,n))return!1;return!0}function F0(e,t){var n,r,s,i,o,l,a;if("stars"in t){const u=t.stars;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsIn"in t){const u=t.starsIn.values;if(!u||!u.length)return!0;const d=e.star??0;return u.includes(d)}if("starsNotIn"in t){const u=t.starsNotIn.values;if(!u||!u.length)return!0;const d=e.star??0;return!u.includes(d)}if("nameContains"in t){const u=(n=t.nameContains.value)==null?void 0:n.trim();return u?(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("nameNotContains"in t){const u=(r=t.nameNotContains.value)==null?void 0:r.trim();return u?!(e.name??"").toLowerCase().includes(u.toLowerCase()):!0}if("commentsContains"in t){const u=(s=t.commentsContains.value)==null?void 0:s.trim();if(!u)return!0;const d=e.comments??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("commentsNotContains"in t){const u=(i=t.commentsNotContains.value)==null?void 0:i.trim();if(!u)return!0;const d=e.comments??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("urlContains"in t){const u=(o=t.urlContains.value)==null?void 0:o.trim();if(!u)return!0;const d=e.source??e.url??"";return d?d.toLowerCase().includes(u.toLowerCase()):!1}if("urlNotContains"in t){const u=(l=t.urlNotContains.value)==null?void 0:l.trim();if(!u)return!0;const d=e.source??e.url??"";return d?!d.toLowerCase().includes(u.toLowerCase()):!1}if("dateRange"in t){const{from:u,to:d}=t.dateRange;if(!u&&!d)return!0;if(!e.addedAt)return!1;const f=Date.parse(e.addedAt);if(Number.isNaN(f))return!1;const g=Ad(u,!1),S=Ad(d,!0);return!(g!=null&&f<g||S!=null&&f>S)}if("widthCompare"in t){const{op:u,value:d}=t.widthCompare;if(!Number.isFinite(d))return!0;const f=e.w;return!Number.isFinite(f)||f<=0?!1:$d(f,u,d)}if("heightCompare"in t){const{op:u,value:d}=t.heightCompare;if(!Number.isFinite(d))return!0;const f=e.h;return!Number.isFinite(f)||f<=0?!1:$d(f,u,d)}if("metricRange"in t){const{key:u,min:d,max:f}=t.metricRange,g=(a=e.metrics)==null?void 0:a[u];return!(g==null||g<d||g>f)}return!0}function Ka(e){if(!e||typeof e!="object")return null;const t=e.and;if(!Array.isArray(t))return null;const n=[];for(const r of t){const s=G0(r);s&&n.push(s)}return{and:n}}function zd(e){var r;const t=e.and.find(s=>"stars"in s),n=e.and.find(s=>"starsIn"in s);return(r=n==null?void 0:n.starsIn)!=null&&r.values?n.starsIn.values:(t==null?void 0:t.stars)??[]}function _l(e,t){return Hp(e,t)}function I0(e){var n;const t=e.and.find(r=>"starsIn"in r);return((n=t==null?void 0:t.starsIn)==null?void 0:n.values)??[]}function Hp(e,t){const n=Hs(t),r=e.and.filter(s=>!("starsIn"in s)&&!("stars"in s));return n.length?{and:[{starsIn:{values:n}},...r]}:{and:r}}function _0(e){var n;const t=e.and.find(r=>"starsNotIn"in r);return((n=t==null?void 0:t.starsNotIn)==null?void 0:n.values)??[]}function Vp(e,t){const n=Hs(t),r=e.and.filter(s=>!("starsNotIn"in s));return n.length?{and:[{starsNotIn:{values:n}},...r]}:{and:r}}function z0(e){var n;const t=e.and.find(r=>"nameContains"in r);return((n=t==null?void 0:t.nameContains)==null?void 0:n.value)??null}function Kp(e,t){const n=bt(t),r=e.and.filter(s=>!("nameContains"in s));return n?{and:[{nameContains:{value:n}},...r]}:{and:r}}function D0(e){var n;const t=e.and.find(r=>"nameNotContains"in r);return((n=t==null?void 0:t.nameNotContains)==null?void 0:n.value)??null}function qp(e,t){const n=bt(t),r=e.and.filter(s=>!("nameNotContains"in s));return n?{and:[{nameNotContains:{value:n}},...r]}:{and:r}}function A0(e){var n;const t=e.and.find(r=>"commentsContains"in r);return((n=t==null?void 0:t.commentsContains)==null?void 0:n.value)??null}function Gp(e,t){const n=bt(t),r=e.and.filter(s=>!("commentsContains"in s));return n?{and:[{commentsContains:{value:n}},...r]}:{and:r}}function $0(e){var n;const t=e.and.find(r=>"commentsNotContains"in r);return((n=t==null?void 0:t.commentsNotContains)==null?void 0:n.value)??null}function Yp(e,t){const n=bt(t),r=e.and.filter(s=>!("commentsNotContains"in s));return n?{and:[{commentsNotContains:{value:n}},...r]}:{and:r}}function U0(e){var n;const t=e.and.find(r=>"urlContains"in r);return((n=t==null?void 0:t.urlContains)==null?void 0:n.value)??null}function Xp(e,t){const n=bt(t),r=e.and.filter(s=>!("urlContains"in s));return n?{and:[{urlContains:{value:n}},...r]}:{and:r}}function B0(e){var n;const t=e.and.find(r=>"urlNotContains"in r);return((n=t==null?void 0:t.urlNotContains)==null?void 0:n.value)??null}function Jp(e,t){const n=bt(t),r=e.and.filter(s=>!("urlNotContains"in s));return n?{and:[{urlNotContains:{value:n}},...r]}:{and:r}}function W0(e){const t=e.and.find(n=>"dateRange"in n);return(t==null?void 0:t.dateRange)??null}function qa(e,t){const n=_o((t==null?void 0:t.from)??null),r=_o((t==null?void 0:t.to)??null),s=e.and.filter(i=>!("dateRange"in i));return!n&&!r?{and:s}:{and:[{dateRange:{...n?{from:n}:{},...r?{to:r}:{}}},...s]}}function Q0(e){const t=e.and.find(n=>"widthCompare"in n);return(t==null?void 0:t.widthCompare)??null}function io(e,t){const n=e.and.filter(r=>!("widthCompare"in r));return!t||!Number.isFinite(t.value)||!Xu.has(t.op)?{and:n}:{and:[{widthCompare:{op:t.op,value:t.value}},...n]}}function H0(e){const t=e.and.find(n=>"heightCompare"in n);return(t==null?void 0:t.heightCompare)??null}function oo(e,t){const n=e.and.filter(r=>!("heightCompare"in r));return!t||!Number.isFinite(t.value)||!Xu.has(t.op)?{and:n}:{and:[{heightCompare:{op:t.op,value:t.value}},...n]}}function V0(e,t){const n=e.and.find(r=>"metricRange"in r&&r.metricRange.key===t);return(n==null?void 0:n.metricRange)??null}function K0(e,t,n){const r=e.and.filter(s=>!("metricRange"in s&&s.metricRange.key===t));return n?{and:[{metricRange:{key:t,min:n.min,max:n.max}},...r]}:{and:r}}function q0(e){const t=Ka(e);return t?t.and.length:0}function G0(e){var t,n,r,s,i,o,l,a;if(!e||typeof e!="object")return null;if("stars"in e){const u=Hs(e.stars);return u.length?{starsIn:{values:u}}:null}if("starsIn"in e){const u=Hs((t=e.starsIn)==null?void 0:t.values);return u.length?{starsIn:{values:u}}:null}if("starsNotIn"in e){const u=Hs((n=e.starsNotIn)==null?void 0:n.values);return u.length?{starsNotIn:{values:u}}:null}if("nameContains"in e){const u=bt((r=e.nameContains)==null?void 0:r.value);return u?{nameContains:{value:u}}:null}if("nameNotContains"in e){const u=bt((s=e.nameNotContains)==null?void 0:s.value);return u?{nameNotContains:{value:u}}:null}if("commentsContains"in e){const u=bt((i=e.commentsContains)==null?void 0:i.value);return u?{commentsContains:{value:u}}:null}if("commentsNotContains"in e){const u=bt((o=e.commentsNotContains)==null?void 0:o.value);return u?{commentsNotContains:{value:u}}:null}if("urlContains"in e){const u=bt((l=e.urlContains)==null?void 0:l.value);return u?{urlContains:{value:u}}:null}if("urlNotContains"in e){const u=bt((a=e.urlNotContains)==null?void 0:a.value);return u?{urlNotContains:{value:u}}:null}if("dateRange"in e){const u=e.dateRange,d=_o((u==null?void 0:u.from)??null),f=_o((u==null?void 0:u.to)??null);return!d&&!f?null:{dateRange:{...d?{from:d}:{},...f?{to:f}:{}}}}if("widthCompare"in e){const u=e.widthCompare,d=Dd(u==null?void 0:u.op,u==null?void 0:u.value);return d?{widthCompare:d}:null}if("heightCompare"in e){const u=e.heightCompare,d=Dd(u==null?void 0:u.op,u==null?void 0:u.value);return d?{heightCompare:d}:null}if("metricRange"in e){const u=e.metricRange;if(!u||typeof u!="object")return null;const d=typeof u.key=="string"?u.key:"",f=Ga(u.min),g=Ga(u.max);return!d||f==null||g==null||f>g?null:{metricRange:{key:d,min:f,max:g}}}return null}function Hs(e){if(!Array.isArray(e))return[];const t=[],n=new Set;for(const r of e){const s=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;!Number.isInteger(s)||!L0.has(s)||n.has(s)||(n.add(s),t.push(s))}return t}function bt(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function _o(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isNaN(n)?null:t}function Dd(e,t){if(typeof e!="string"||!Xu.has(e))return null;const n=Ga(t);return n==null?null:{op:e,value:n}}function Ad(e,t){if(!e)return null;const n=e.trim();if(!n)return null;const r=Date.parse(n);return Number.isNaN(r)?null:t&&T0.test(n)?r+24*60*60*1e3-1:r}function $d(e,t,n){switch(t){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;default:return!0}}function Ga(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function Ud(e){return e.addedAt?Date.parse(e.addedAt):0}function zo(e,t){return e.name.localeCompare(t.name)}function Y0(e,t){const n=Ud(e),r=Ud(t);return n===r?zo(e,t):n-r}function X0(e){return(t,n)=>{var i,o;const r=(i=t.metrics)==null?void 0:i[e],s=(o=n.metrics)==null?void 0:o[e];return r==null&&s==null?zo(t,n):r==null?1:s==null?-1:r===s?zo(t,n):r-s}}function J0(e,t){return O0(e,t)}function Z0(e){let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function ex(e,t){const n=Z0(t||1),r=[...e];for(let s=r.length-1;s>0;s-=1){const i=Math.floor(n()*(s+1));[r[s],r[i]]=[r[i],r[s]]}return r}function tx(e,t,n){if(t.kind==="builtin"&&t.key==="random"){const i=n??Date.now();return ex(e,i)}let r=Y0;t.kind==="metric"?r=X0(t.key):t.key==="name"&&(r=zo);const s=[...e].sort(r);return t.dir==="desc"?s.reverse():s}const Vs=40,Bd=[5,4,3,2,1],Wd=["<","<=",">",">="];function nx({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o,onChangeFilters:l}){const a=c.jsx(rx,{filters:i,onChangeFilters:l});return n.length?c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx(sx,{items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o})]}):c.jsxs("div",{className:"h-full flex flex-col gap-3 p-3 overflow-auto scrollbar-thin",children:[a,c.jsx("div",{className:"p-4 text-sm text-muted",children:"No metrics found in this dataset."})]})}function rx({filters:e,onChangeFilters:t}){const n=x.useMemo(()=>I0(e),[e]),r=x.useMemo(()=>_0(e),[e]),s=x.useMemo(()=>z0(e)??"",[e]),i=x.useMemo(()=>D0(e)??"",[e]),o=x.useMemo(()=>A0(e)??"",[e]),l=x.useMemo(()=>$0(e)??"",[e]),a=x.useMemo(()=>U0(e)??"",[e]),u=x.useMemo(()=>B0(e)??"",[e]),d=x.useMemo(()=>W0(e)??{},[e]),f=x.useMemo(()=>Gd(d.from),[d.from]),g=x.useMemo(()=>Gd(d.to),[d.to]),S=x.useMemo(()=>Q0(e),[e]),w=x.useMemo(()=>H0(e),[e]),[E,L]=x.useState((S==null?void 0:S.op)??">="),[v,p]=x.useState((w==null?void 0:w.op)??">=");x.useEffect(()=>{S!=null&&S.op&&L(S.op)},[S==null?void 0:S.op]),x.useEffect(()=>{w!=null&&w.op&&p(w.op)},[w==null?void 0:w.op]);const h=(m,C)=>{const M=new Set(n),R=new Set(r);m==="include"?M.has(C)?M.delete(C):(M.add(C),R.delete(C)):R.has(C)?R.delete(C):(R.add(C),M.delete(C));let N=Hp(e,Array.from(M));N=Vp(N,Array.from(R)),t(N)};return c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted mb-3",children:"Attributes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Rating"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Include"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Bd.map(m=>{const C=n.includes(m);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",m),"aria-pressed":C,title:`Include ${m} star${m>1?"s":""}`,children:[m,""]},`stars-in-${m}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${n.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("include",0),"aria-pressed":n.includes(0),title:"Include unrated",children:"None"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] text-muted mb-1",children:"Exclude"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Bd.map(m=>{const C=r.includes(m);return c.jsxs("button",{className:`h-7 min-w-[32px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${C?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",m),"aria-pressed":C,title:`Exclude ${m} star${m>1?"s":""}`,children:[m,""]},`stars-out-${m}`)}),c.jsx("button",{className:`h-7 min-w-[48px] px-2 rounded border text-[11px] flex items-center justify-center transition-colors ${r.includes(0)?"bg-accent-muted text-star-active border-border":"bg-surface text-text border-border/70 hover:bg-surface-hover"}`,onClick:()=>h("exclude",0),"aria-pressed":r.includes(0),title:"Exclude unrated",children:"None"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Filename"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:s,placeholder:"e.g. draft",onChange:m=>t(Kp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:i,placeholder:"e.g. v1",onChange:m=>t(qp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Comments"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:o,placeholder:"e.g. hero",onChange:m=>t(Gp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,placeholder:"e.g. todo",onChange:m=>t(Yp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"URL"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Contains"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:a,placeholder:"e.g. s3://bucket",onChange:m=>t(Xp(e,m.target.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Does not contain"}),c.jsx("input",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:u,placeholder:"e.g. http://",onChange:m=>t(Jp(e,m.target.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Date Added"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"From"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:f,onChange:m=>t(qa(e,{from:m.target.value||null,to:d.to??null}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"To"}),c.jsx("input",{type:"date",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:g,onChange:m=>t(qa(e,{from:d.from??null,to:m.target.value||null}))})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted mb-2",children:"Dimensions"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Width"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:E,onChange:m=>{const C=m.target.value;L(C),S&&t(io(e,{op:C,value:S.value}))},children:Wd.map(m=>c.jsx("option",{value:m,children:m},`w-${m}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:S?String(S.value):"",min:0,placeholder:"px",onChange:m=>{const C=m.target.value;if(!C){t(io(e,null));return}const M=Number(C);Number.isFinite(M)&&t(io(e,{op:E,value:M}))}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Height"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"h-8 w-16 rounded-lg px-1 border border-border bg-surface text-text",value:v,onChange:m=>{const C=m.target.value;p(C),w&&t(oo(e,{op:C,value:w.value}))},children:Wd.map(m=>c.jsx("option",{value:m,children:m},`h-${m}`))}),c.jsx("input",{type:"number",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:w?String(w.value):"",min:0,placeholder:"px",onChange:m=>{const C=m.target.value;if(!C){t(oo(e,null));return}const M=Number(C);Number.isFinite(M)&&t(oo(e,{op:v,value:M}))}})]})]})]})]})]})]})}function sx({items:e,filteredItems:t,metricKeys:n,selectedMetric:r,onSelectMetric:s,filters:i,onChangeRange:o}){const l=r&&n.includes(r)?r:n[0],a=x.useMemo(()=>l?Qd(e,l,Vs):null,[e,l]),u=x.useMemo(()=>l&&a?Qd(t,l,Vs,a):null,[t,l,a]),d=l?V0(i,l):null,[f,g]=x.useState(null),[S,w]=x.useState(!1),E=x.useRef(null),L=x.useRef(null),[v,p]=x.useState(""),[h,m]=x.useState(""),[C,M]=x.useState(null),R=f??d,N=a?{min:a.min,max:a.max}:null;x.useEffect(()=>{if(!d||!N){C!=="min"&&p(d?wn(d.min):""),C!=="max"&&m(d?wn(d.max):"");return}if(C!=="min"){const A=Tr(d.min,N.min)?"":wn(d.min);p(A)}if(C!=="max"){const A=Tr(d.max,N.max)?"":wn(d.max);m(A)}},[d,l,N,C]);const I=A=>{var P;if(!N||!l)return null;const K=(P=L.current)==null?void 0:P.getBoundingClientRect();if(!K)return null;const ue=Zp((A.clientX-K.left)/K.width);return N.min+(N.max-N.min)*ue},k=(A,K)=>{if(!N||!l)return;const ue=E.current??A,P=Vd(ue,A);g(P),K&&o(l,P)},D=A=>{var ue;if(!N||!l)return;A.preventDefault();const K=I(A);K!=null&&(w(!0),g(null),E.current=K,(ue=L.current)==null||ue.setPointerCapture(A.pointerId),k(K,!1))},G=A=>{if(!S)return;const K=I(A);K!=null&&k(K,!1)},ee=A=>{var ue;if(!S)return;w(!1),(ue=L.current)==null||ue.releasePointerCapture(A.pointerId);const K=I(A);K!=null&&k(K,!0),E.current=null,setTimeout(()=>g(null),0)},q=(A,K)=>{if(!N||!l)return;const ue=Kd(A),P=Kd(K);if(!ue.valid||!P.valid){ue.valid||p(d?wn(d.min):""),P.valid||m(d?wn(d.max):"");return}if(ue.value==null&&P.value==null){o(l,null);return}const V=ue.value??N.min,W=P.value??N.max,ae=qd(V,N.min,N.max),te=qd(W,N.min,N.max),Oe=Vd(ae,te);if(Tr(Oe.min,N.min)&&Tr(Oe.max,N.max)){o(l,null);return}o(l,Oe)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wide text-muted mb-1",children:"Metric"}),c.jsx("select",{className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:l,onChange:A=>s(A.target.value),children:n.map(A=>c.jsx("option",{value:A,children:A},A))})]}),a?c.jsxs("div",{className:"rounded-xl border border-border bg-panel p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted mb-2",children:[c.jsxs("span",{children:["Population: ",a.count]}),c.jsxs("span",{children:["Filtered: ",(u==null?void 0:u.count)??0]})]}),c.jsxs("svg",{ref:L,viewBox:`0 0 ${Vs} 100`,preserveAspectRatio:"none",className:"w-full h-28 cursor-crosshair rounded-md bg-surface-inset",onPointerDown:D,onPointerMove:G,onPointerUp:ee,children:[Hd(a.bins,"#2e3a4b"),u&&Hd(u.bins,"#3a8fff"),R&&N&&ix(R,N)]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted mt-2",children:[c.jsx("span",{children:Lr(N==null?void 0:N.min)}),R?c.jsx("span",{className:"text-text",children:N&&Tr(R.min,N.min)?` ${Lr(R.max)}`:N&&Tr(R.max,N.max)?` ${Lr(R.min)}`:`${Lr(R.min)}  ${Lr(R.max)}`}):c.jsx("span",{children:"Drag to filter"}),c.jsx("span",{children:Lr(N==null?void 0:N.max)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Min"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:v,placeholder:wn(N.min),onFocus:()=>M("min"),onBlur:()=>{M(null),q(v,h)},onChange:A=>p(A.target.value),onKeyDown:A=>{A.key==="Enter"&&A.currentTarget.blur()}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[11px] text-muted mb-1",children:"Max"}),c.jsx("input",{type:"number",step:"any",className:"h-8 w-full rounded-lg px-2.5 border border-border bg-surface text-text",value:h,placeholder:wn(N.max),onFocus:()=>M("max"),onBlur:()=>{M(null),q(v,h)},onChange:A=>m(A.target.value),onKeyDown:A=>{A.key==="Enter"&&A.currentTarget.blur()}})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsx("button",{className:"btn btn-sm",onClick:()=>l&&o(l,null),children:"Clear"})})]}):c.jsx("div",{className:"text-sm text-muted",children:"No values found for this metric."})]})}function Qd(e,t,n,r){var u;const s=[];for(const d of e){const f=(u=d.metrics)==null?void 0:u[t];f==null||Number.isNaN(f)||s.push(f)}if(!s.length)return null;const i=r?r.min:Math.min(...s);let o=r?r.max:Math.max(...s);i===o&&(o=i+1);const l=new Array(n).fill(0),a=n/(o-i);for(const d of s){const f=Math.max(0,Math.min(n-1,Math.floor((d-i)*a)));l[f]+=1}return{bins:l,min:i,max:o,count:s.length}}function Hd(e,t){const n=Math.max(1,...e);return e.map((r,s)=>{const i=r/n*100;return c.jsx("rect",{x:s+.05,y:100-i,width:.9,height:i,fill:t,opacity:.9},`${t}-${s}`)})}function ix(e,t){const n=(e.min-t.min)/(t.max-t.min),r=(e.max-t.min)/(t.max-t.min),s=Vs*Zp(Math.min(n,r)),i=Vs*Math.abs(r-n);return c.jsx("rect",{x:s,y:0,width:Math.max(.5,i),height:100,fill:"rgba(255,255,255,0.08)",stroke:"rgba(255,255,255,0.4)",strokeWidth:.4})}function Vd(e,t){return e<t?{min:e,max:t}:{min:t,max:e}}function Zp(e){return e<0?0:e>1?1:e}function Lr(e){if(e==null||Number.isNaN(e))return"";const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function wn(e){if(!Number.isFinite(e))return"";const t=e.toString();return t.includes("e")?e.toFixed(6):t}function Kd(e){const t=e.trim();if(!t)return{value:null,valid:!0};const n=Number(t);return Number.isFinite(n)?{value:n,valid:!0}:{value:null,valid:!1}}function qd(e,t,n){return e<t?t:e>n?n:e}function Tr(e,t){const n=Math.max(1,Math.abs(e),Math.abs(t));return Math.abs(e-t)<=1e-6*n}function Gd(e){return e?e.length>=10?e.slice(0,10):e:""}function ox(e){const[t,n]=x.useState(250),[r,s]=x.useState(240),i=x.useRef(t),o=x.useRef(r);return x.useEffect(()=>{i.current=t},[t]),x.useEffect(()=>{o.current=r},[r]),x.useEffect(()=>{try{const u=window.localStorage,d=Number(u.getItem("leftW"));Number.isFinite(d)&&d>0&&n(d);const f=Number(u.getItem("rightW"));Number.isFinite(f)&&f>0&&s(f)}catch{}},[]),{leftW:t,rightW:r,onResizeLeft:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const E=w.clientX-f.left,L=200,v=Math.max(L,f.width-o.current-200),p=Math.min(Math.max(E,L),v);n(p)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("leftW",String(i.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)},onResizeRight:u=>{u.preventDefault();const d=e.current;if(!d)return;const f=d.getBoundingClientRect(),g=w=>{const E=w.clientX-f.left,L=f.width-E,v=240,p=Math.max(v,f.width-i.current-200),h=Math.min(Math.max(L,v),p);s(h)},S=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S);try{window.localStorage.setItem("rightW",String(o.current))}catch{}};window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)}}}function lx({x:e,y:t,items:n}){return c.jsx("div",{className:"dropdown-panel fixed",role:"menu",style:{left:e,top:t,minWidth:180},onClick:r=>r.stopPropagation(),children:n.map((r,s)=>c.jsxs("button",{className:`dropdown-item w-full ${r.danger?"text-danger hover:text-danger":""}`,role:"menuitem","aria-disabled":r.disabled,disabled:r.disabled,onClick:i=>{i.stopPropagation(),r.disabled||r.onClick()},children:[r.icon&&c.jsx("span",{className:"shrink-0",children:r.icon}),c.jsx("span",{children:r.label})]},s))})}function Yd(e){return JSON.stringify(e,null,2)}function Xd(e){const t=s=>'"'+s.replaceAll('"','""')+'"',n="path,folder,name,star,type,size,width,height,tags,notes",r=e.map(s=>{const i=(s.tags||[]).join(" "),o=s.notes||"";return[s.path,s.folder,s.name,String(s.star??""),s.type??"",s.size??"",s.width??"",s.height??"",i,o].map(l=>t(String(l))).join(",")});return[n,...r].join(`
`)}function zl(e){return e.map(t=>{const n=t.path.split("/").filter(Boolean);n.pop();const r=n.length?`/${n.join("/")}`:"/";return{path:t.path,folder:r,name:t.name,star:t.star??null,type:t.type,size:t.size,width:t.w,height:t.h}})}function ax(e,t=250){const[n,r]=ao.useState(e);return ao.useEffect(()=>{const s=window.setTimeout(()=>r(e),Math.max(0,t));return()=>window.clearTimeout(s)},[e,t]),n}const Le={sortKey:"sortKey",sortDir:"sortDir",sortSpec:"sortSpec",starFilters:"starFilters",filterAst:"filterAst",selectedMetric:"selectedMetric",viewMode:"viewMode",gridItemSize:"gridItemSize",leftOpen:"leftOpen",rightOpen:"rightOpen"};function ux(){var nc;const[e,t]=x.useState("/"),[n,r]=x.useState(""),[s,i]=x.useState([]),[o,l]=x.useState(null),[a,u]=x.useState(0),[d,f]=x.useState(null),[g,S]=x.useState(100),[w,E]=x.useState(()=>({filters:{and:[]},sort:{kind:"builtin",key:"added",dir:"desc"},selectedMetric:void 0})),[L,v]=x.useState(()=>Date.now()),[p,h]=x.useState("adaptive"),[m,C]=x.useState(220),[M,R]=x.useState(!0),[N,I]=x.useState(!0),[k,D]=x.useState("folders"),[G,ee]=x.useState([]),[q,A]=x.useState(null),[K,ue]=x.useState({}),P=x.useRef(null),V=x.useRef(null),W=x.useRef(!1),ae=x.useRef(null),{leftW:te,rightW:Oe,onResizeLeft:$e,onResizeRight:wt}=ox(P),[re,Fe]=x.useState(!1),[Zt,en]=x.useState(null);x.useEffect(()=>{const j=Xr(jd());t(j);const T=()=>{const B=Xr(jd());l(null),t(se=>se===B?se:(u(de=>de+1),B))};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const{data:ye,refetch:Wt,isLoading:Xn,isError:b}=Dp(e),O=n.trim().length>0,_=ax(n,250),H=x.useMemo(()=>_.trim().replace(/\s+/g," "),[_]),Y=R0(O?H:"",e),X=x.useMemo(()=>zd(w.filters),[w.filters]),$=x.useMemo(()=>{var T;return(O?((T=Y.data)==null?void 0:T.items)??[]:(ye==null?void 0:ye.items)??[]).map(B=>({...B,star:K[B.path]!==void 0?K[B.path]:B.star}))},[O,Y.data,ye,K]),Z=x.useMemo(()=>{const j=J0($,w.filters);return tx(j,w.sort,L)},[$,w.filters,w.sort,L]),pe=$.length,Re=Z.length,oe=x.useMemo(()=>Z.map(j=>j.path),[Z]),Ot=x.useMemo(()=>{const j=$,T={0:0,1:0,2:0,3:0,4:0,5:0};for(const B of j){const se=K[B.path]??B.star??0;T[String(se)]=(T[String(se)]||0)+1}return T},[$,K]),Ke=x.useMemo(()=>{const j=new Set;let T=0;for(const B of $){const se=B.metrics;if(se)for(const de of Object.keys(se))j.add(de);if(T+=1,T>=250&&j.size>0)break}return Array.from(j).sort()},[$]);x.useEffect(()=>{Ke.length&&E(j=>{const T=j.selectedMetric&&Ke.includes(j.selectedMetric)?j.selectedMetric:Ke[0];return T===j.selectedMetric?j:{...j,selectedMetric:T}})},[Ke]),x.useEffect(()=>{w.sort.kind==="metric"&&(Ke.includes(w.sort.key)||E(j=>({...j,sort:{kind:"builtin",key:"added",dir:j.sort.dir}})))},[Ke,w.sort]);const Ie=x.useMemo(()=>q0(w.filters),[w.filters]),we=x.useCallback(j=>{E(T=>({...T,filters:j(T.filters)}))},[]),Jn=x.useCallback(j=>{E(T=>({...T,filters:j}))},[]),jr=x.useCallback(()=>{we(j=>_l(j,[]))},[we]),ki=x.useCallback(()=>{E(j=>({...j,filters:{and:[]}}))},[]),Ss=x.useCallback((j,T)=>{we(B=>K0(B,j,T))},[we]),Ju=x.useMemo(()=>{var T,B,se,de,St,Zn;const j=[];for(const fe of w.filters.and)if("stars"in fe){const J=fe.stars||[];if(!J.length)continue;j.push({id:"stars",label:`Rating in: ${Dl(J)}`,onRemove:()=>jr()})}else if("starsIn"in fe){const J=fe.starsIn.values||[];if(!J.length)continue;j.push({id:"stars-in",label:`Rating in: ${Dl(J)}`,onRemove:()=>jr()})}else if("starsNotIn"in fe){const J=fe.starsNotIn.values||[];if(!J.length)continue;j.push({id:"stars-not-in",label:`Rating not in: ${Dl(J)}`,onRemove:()=>we(ve=>Vp(ve,[]))})}else if("nameContains"in fe){const J=(T=fe.nameContains.value)==null?void 0:T.trim();if(!J)continue;j.push({id:"name-contains",label:`Filename contains: ${J}`,onRemove:()=>we(ve=>Kp(ve,""))})}else if("nameNotContains"in fe){const J=(B=fe.nameNotContains.value)==null?void 0:B.trim();if(!J)continue;j.push({id:"name-not-contains",label:`Filename not: ${J}`,onRemove:()=>we(ve=>qp(ve,""))})}else if("commentsContains"in fe){const J=(se=fe.commentsContains.value)==null?void 0:se.trim();if(!J)continue;j.push({id:"comments-contains",label:`Comments contain: ${J}`,onRemove:()=>we(ve=>Gp(ve,""))})}else if("commentsNotContains"in fe){const J=(de=fe.commentsNotContains.value)==null?void 0:de.trim();if(!J)continue;j.push({id:"comments-not-contains",label:`Comments not: ${J}`,onRemove:()=>we(ve=>Yp(ve,""))})}else if("urlContains"in fe){const J=(St=fe.urlContains.value)==null?void 0:St.trim();if(!J)continue;j.push({id:"url-contains",label:`URL contains: ${J}`,onRemove:()=>we(ve=>Xp(ve,""))})}else if("urlNotContains"in fe){const J=(Zn=fe.urlNotContains.value)==null?void 0:Zn.trim();if(!J)continue;j.push({id:"url-not-contains",label:`URL not: ${J}`,onRemove:()=>we(ve=>Jp(ve,""))})}else if("dateRange"in fe){const{from:J,to:ve}=fe.dateRange;if(!J&&!ve)continue;j.push({id:"date-range",label:`Date: ${fx(J,ve)}`,onRemove:()=>we(Qt=>qa(Qt,null))})}else if("widthCompare"in fe){const{op:J,value:ve}=fe.widthCompare;j.push({id:"width-compare",label:`Width ${J} ${ve}`,onRemove:()=>we(Qt=>io(Qt,null))})}else if("heightCompare"in fe){const{op:J,value:ve}=fe.heightCompare;j.push({id:"height-compare",label:`Height ${J} ${ve}`,onRemove:()=>we(Qt=>oo(Qt,null))})}else if("metricRange"in fe){const{key:J,min:ve,max:Qt}=fe.metricRange;j.push({id:`metric:${J}`,label:`${J}: ${px(ve,Qt)}`,onRemove:()=>Ss(J,null)})}return j},[w.filters,jr,Ss,we]),em=x.useCallback(j=>{const T=new Set(X);T.has(j)?T.delete(j):T.add(j),E(B=>({...B,filters:_l(B.filters,Array.from(T))}))},[X]),tm=x.useCallback(()=>{R(!0),D("metrics")},[]),nm=x.useCallback(j=>{E(T=>({...T,sort:j})),j.kind==="builtin"&&j.key==="random"&&v(Date.now())},[]),Zu=x.useCallback(j=>{if(j==="/"||j==="")return"Lenslet | Root";const T=j.split("/").filter(Boolean);if(!T.length)return"Lenslet";const B=T.slice(-2).join("/");return`Lenslet | ${T.length>2?`.../${B}`:`/${B}`}`},[]),rm=x.useMemo(()=>hx(e),[e]);x.useEffect(()=>{document.title=Zu(e)},[e,Zu]),x.useEffect(()=>{let j=!0;return me.getViews().then(T=>{j&&ee(T.views||[])}).catch(()=>{j&&ee([])}),()=>{j=!1}},[]),x.useEffect(()=>{O&&(i([]),l(null))},[O]),x.useEffect(()=>{try{const j=localStorage.getItem(Le.sortKey),T=localStorage.getItem(Le.sortDir),B=localStorage.getItem(Le.sortSpec),se=localStorage.getItem(Le.starFilters),de=localStorage.getItem(Le.filterAst),St=localStorage.getItem(Le.selectedMetric),Zn=localStorage.getItem(Le.viewMode),fe=localStorage.getItem(Le.gridItemSize),J=localStorage.getItem(Le.leftOpen),ve=localStorage.getItem(Le.rightOpen),rc=(qe=>{if(!qe)return null;const _e=Ol(qe);return!_e||typeof _e!="object"?null:_e.kind==="builtin"&&(_e.key==="name"||_e.key==="added"||_e.key==="random")&&(_e.dir==="asc"||_e.dir==="desc")||_e.kind==="metric"&&typeof _e.key=="string"&&_e.key.length>0&&(_e.dir==="asc"||_e.dir==="desc")?_e:null})(B)??{kind:"builtin",key:j==="name"||j==="added"||j==="random"?j:"added",dir:T==="asc"||T==="desc"?T:"desc"};rc.key==="random"&&v(Date.now());let nl=(qe=>{if(!qe)return null;const _e=Ol(qe);return Ka(_e)})(de)??{and:[]};if(se){const qe=Ol(se);if(Array.isArray(qe)){const _e=qe.filter(cm=>[0,1,2,3,4,5].includes(cm));nl=_l(nl,_e)}}if(E(qe=>({...qe,sort:rc,filters:nl,selectedMetric:St||qe.selectedMetric})),(Zn==="grid"||Zn==="adaptive")&&h(Zn),fe){const qe=Number(fe);!isNaN(qe)&&qe>=80&&qe<=500&&C(qe)}(J==="0"||J==="false")&&R(!1),(ve==="0"||ve==="false")&&I(!1)}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem(Le.sortKey,w.sort.kind==="builtin"?w.sort.key:"added"),localStorage.setItem(Le.sortDir,w.sort.dir),localStorage.setItem(Le.sortSpec,JSON.stringify(w.sort));const j=zd(w.filters);localStorage.setItem(Le.starFilters,JSON.stringify(j)),localStorage.setItem(Le.filterAst,JSON.stringify(w.filters)),w.selectedMetric?localStorage.setItem(Le.selectedMetric,w.selectedMetric):localStorage.removeItem(Le.selectedMetric),localStorage.setItem(Le.viewMode,p),localStorage.setItem(Le.gridItemSize,String(m)),localStorage.setItem(Le.leftOpen,M?"1":"0"),localStorage.setItem(Le.rightOpen,N?"1":"0")}catch{}},[w,p,m,M,N]),x.useEffect(()=>{const j=V.current;if(!j)return;const T=se=>Math.min(500,Math.max(80,se)),B=se=>{se.ctrlKey&&(se.preventDefault(),C(de=>T(de+(se.deltaY<0?20:-20))))};return j.addEventListener("wheel",B,{passive:!1}),()=>j.removeEventListener("wheel",B)},[]),x.useEffect(()=>{if(!o)return;const j=oe.indexOf(o);if(j===-1)return;const T=[oe[j-2],oe[j-1],oe[j+1],oe[j+2]].filter(B=>!!B);for(const B of T)me.prefetchFile(B),me.prefetchThumb(B)},[o,oe]),x.useEffect(()=>{var T;if(!((T=ye==null?void 0:ye.items)!=null&&T.length))return;const j=ye.items.slice(0,5);for(const B of j)me.prefetchFile(B.path)},[ye==null?void 0:ye.path,ye==null?void 0:ye.items]);const Ci=x.useCallback(j=>{l(null);const T=Xr(j);t(T),Oy(T)},[]),sm=x.useCallback(async()=>{const j=window.prompt("Save Smart Folder as:","New Smart Folder");if(!j)return;const T=cx(j,G),B={id:T,name:j,pool:{kind:"folder",path:e},view:JSON.parse(JSON.stringify(w))},se=[...G.filter(de=>de.id!==T),B];ee(se),A(T);try{await me.saveViews({version:1,views:se})}catch(de){if(de instanceof At&&de.status===403){const St=new Blob([JSON.stringify({version:1,views:se},null,2)],{type:"application/json"});lo(St,`lenslet-smart-folder-${T}.json`),alert("No-write mode: exported Smart Folder JSON instead of saving.");return}console.error("Failed to save Smart Folder:",de)}},[e,w,G]);x.useEffect(()=>{if(!q)return;const j=G.find(se=>se.id===q);if(!j){A(null);return}const T=j.pool.path===e,B=JSON.stringify(j.view)===JSON.stringify(w);(!T||!B)&&A(null)},[q,G,e,w]);const im=x.useCallback(j=>{l(j),W.current||(window.history.pushState({viewer:!0},"",window.location.href),W.current=!0)},[]),ec=x.useCallback(()=>{l(null),W.current&&(W.current=!1,window.history.back());const j=ae.current;if(j){const T=document.getElementById(`cell-${encodeURIComponent(j)}`);T==null||T.focus()}},[]);x.useEffect(()=>{const j=()=>{o&&(W.current=!1,l(null))};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[o]),x.useEffect(()=>{const j=P.current;if(!j)return;const T=de=>{de.dataTransfer&&Array.from(de.dataTransfer.types).includes("Files")&&(de.preventDefault(),Fe(!0))},B=de=>{const St=de.relatedTarget;St&&j.contains(St)||Fe(!1)},se=async de=>{var fe,J;de.preventDefault(),Fe(!1);const St=Array.from(((fe=de.dataTransfer)==null?void 0:fe.files)??[]);if(!St.length)return;if(!((((J=ye==null?void 0:ye.dirs)==null?void 0:J.length)??0)===0)){alert("Uploads are only allowed into folders without subdirectories.");return}for(const ve of St)try{await me.uploadFile(e,ve)}catch(Qt){console.error(`Failed to upload ${ve.name}:`,Qt)}Wt()};return j.addEventListener("dragover",T),j.addEventListener("dragleave",B),j.addEventListener("drop",se),()=>{j.removeEventListener("dragover",T),j.removeEventListener("dragleave",B),j.removeEventListener("drop",se)}},[e,(nc=ye==null?void 0:ye.dirs)==null?void 0:nc.length,Wt]),x.useEffect(()=>{const j=()=>en(null),T=B=>{B.key==="Escape"&&en(null)};return window.addEventListener("click",j),window.addEventListener("keydown",T),()=>{window.removeEventListener("click",j),window.removeEventListener("keydown",T)}},[]),x.useEffect(()=>{const j=T=>{if(!Qp(T.target)){if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="b"){T.preventDefault(),T.altKey?I(B=>!B):R(B=>!B);return}if(!o){if(T.key==="Backspace"||T.key==="Delete")T.preventDefault(),Ci(Fy(e));else if((T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="a")T.preventDefault(),i(Z.map(B=>B.path));else if(T.key==="Escape")s.length&&(T.preventDefault(),i([]));else if(T.key==="/"){T.preventDefault();const B=document.querySelector(".toolbar-right .input");B==null||B.focus()}}}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,Z,s,o,Ci]);const om=M?`${te}px`:"0px",lm=N?`${Oe}px`:"0px",tc=o??s[0]??null,el=tc?oe.indexOf(tc):-1,am=el>0,um=el>=0&&el<oe.length-1,tl=x.useCallback(j=>{if(!oe.length)return;const T=o??s[0];if(!T)return;const B=oe.indexOf(T);if(B===-1)return;const se=Math.min(oe.length-1,Math.max(0,B+j)),de=oe[se];!de||de===T||(o&&l(de),i([de]))},[oe,o,s]);return c.jsxs("div",{className:"grid h-full grid-cols-[var(--left)_1fr_var(--right)] grid-rows-[48px_1fr]",ref:P,style:{"--left":om,"--right":lm},children:[c.jsx(Cy,{onSearch:r,viewerActive:!!o,onBack:ec,zoomPercent:o?g:void 0,onZoomPercentChange:j=>f(j),currentLabel:rm,itemCount:Re,totalCount:pe,sortSpec:w.sort,metricKeys:Ke,onSortChange:nm,filterCount:Ie,onOpenFilters:tm,starFilters:X,onToggleStar:em,onClearStars:jr,onClearFilters:ki,starCounts:Ot,viewMode:p,onViewMode:h,gridItemSize:m,onGridItemSize:C,leftOpen:M,rightOpen:N,onToggleLeft:()=>R(j=>!j),onToggleRight:()=>I(j=>!j),onPrevImage:()=>tl(-1),onNextImage:()=>tl(1),canPrevImage:am,canNextImage:um}),M&&c.jsxs("div",{className:"col-start-1 row-start-2 relative border-r border-border bg-panel overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-y-0 left-0 w-10 border-r border-border flex flex-col items-center gap-2 py-3 bg-surface-overlay",children:[c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="folders"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Folders","aria-label":"Folders","aria-pressed":k==="folders",onClick:()=>D("folders"),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:c.jsx("path",{d:"M3 7.5h6l2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2z"})})}),c.jsx("button",{className:`w-7 h-7 rounded-md border border-border flex items-center justify-center transition-colors ${k==="metrics"?"bg-accent-muted text-accent":"bg-surface text-text hover:bg-surface-hover"}`,title:"Metrics / Filters","aria-label":"Metrics and Filters","aria-pressed":k==="metrics",onClick:()=>D("metrics"),children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[c.jsx("path",{d:"M4 19V9"}),c.jsx("path",{d:"M10 19V5"}),c.jsx("path",{d:"M16 19v-7"}),c.jsx("path",{d:"M3 19h18"})]})})]}),c.jsx("div",{className:"ml-10 h-full",children:k==="folders"?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"px-2 py-2 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Smart Folders"}),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:sm,title:"Save current view as Smart Folder",children:"+ New"})]}),G.length?c.jsx("div",{className:"flex flex-col gap-1",children:G.map(j=>{const T=j.id===q;return c.jsx("button",{className:`text-left px-2 py-1.5 rounded-md text-sm ${T?"bg-accent-muted text-accent":"hover:bg-hover text-text"}`,onClick:()=>{var se;A(j.id);const B=Ka((se=j.view)==null?void 0:se.filters)??{and:[]};E({...j.view,filters:B}),Ci(j.pool.path),D("metrics")},children:j.name},j.id)})}):c.jsx("div",{className:"text-xs text-muted px-1 py-1.5",children:"No saved Smart Folders yet."})]}),c.jsx(Wy,{current:e,roots:[{label:"Root",path:"/"}],data:ye,onOpen:j=>{A(null),Ci(j)},onContextMenu:(j,T)=>{j.preventDefault(),en({x:j.clientX,y:j.clientY,kind:"tree",payload:{path:T}})},className:"flex-1 min-h-0 overflow-auto scrollbar-thin",showResizeHandle:!1})]}):c.jsx(nx,{items:$,filteredItems:Z,metricKeys:Ke,selectedMetric:w.selectedMetric,onSelectMetric:j=>E(T=>({...T,selectedMetric:j})),filters:w.filters,onChangeRange:Ss,onChangeFilters:Jn})}),c.jsx("div",{className:"absolute top-12 bottom-0 right-0 w-1.5 cursor-col-resize z-10 hover:bg-accent/20",onMouseDown:$e})]}),c.jsxs("div",{className:"col-start-2 row-start-2 relative overflow-hidden flex flex-col",ref:V,children:[c.jsx("div",{"aria-live":"polite",className:"sr-only",children:s.length?`${s.length} selected`:""}),Ju.length>0&&c.jsx("div",{className:"sticky top-0 z-10 px-3 py-2 bg-panel border-b border-border",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted",children:"Filters"}),Ju.map(j=>c.jsxs("span",{className:"filter-chip",children:[c.jsx("span",{className:"truncate max-w-[240px]",title:j.label,children:j.label}),c.jsx("button",{className:"filter-chip-remove","aria-label":`Clear filter ${j.label}`,onClick:j.onRemove,children:""})]},j.id)),c.jsx("button",{className:"btn btn-sm btn-ghost text-xs",onClick:ki,children:"Clear all"})]})}),!1,c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(m0,{items:Z,selected:s,restoreToSelectionToken:a,onSelectionChange:i,onOpenViewer:j=>{try{ae.current=j}catch{}im(j),i([j])},highlight:O?H:"",suppressSelectionHighlight:!!o,viewMode:p,targetCellSize:m,onContextMenuItem:(j,T)=>{j.preventDefault();const B=s.length?s:[T];en({x:j.clientX,y:j.clientY,kind:"grid",payload:{paths:B}})}})})]}),N&&c.jsx(b0,{path:s[0]??null,selectedPaths:s,items:Z,onResize:wt,onStarChanged:(j,T)=>{ue(B=>{const se={...B};for(const de of j)se[de]=T;return se})}}),o&&c.jsx(v0,{path:o,onClose:ec,onZoomChange:j=>S(Math.round(j)),requestedZoomPercent:d,onZoomRequestConsumed:()=>f(null),onNavigate:tl}),re&&c.jsx("div",{className:"fixed inset-0 top-[48px] left-[var(--left)] right-[var(--right)] bg-accent/10 border-2 border-dashed border-accent text-text flex items-center justify-center text-lg z-overlay pointer-events-none",children:"Drop images to upload"}),Zt&&c.jsx(mx,{ctx:Zt,current:e,items:Z,refetch:Wt,setCtx:en})]})}function cx(e,t){const n=dx(e)||"view",r=new Set(t.map(i=>i.id));if(!r.has(n))return n;let s=2;for(;r.has(`${n}-${s}`);)s+=1;return`${n}-${s}`}function dx(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Dl(e){const t=e.filter(s=>s>0).sort((s,i)=>i-s),n=e.includes(0),r=[...t.map(s=>String(s))];return n&&r.push("None"),r.join(", ")}function fx(e,t){return e&&t?`${e} to ${t}`:e?`from ${e}`:t?`to ${t}`:""}function hx(e){if(e==="/"||e==="")return"Root";const t=e.split("/").filter(Boolean);return t.length?t.length<=2?`/${t.join("/")}`:`.../${t.slice(-2).join("/")}`:"Root"}function px(e,t){return`${Jd(e)}${Jd(t)}`}function Jd(e){const t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=10?e.toFixed(2):e.toFixed(3)}function lo(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function mx({ctx:e,current:t,items:n,refetch:r,setCtx:s}){const i=Iy(t),o=(h,m)=>h==="/"?`/${m}`:`${h}/${m}`,l=Si(),[a,u]=ao.useState(!1),[d,f]=ao.useState(null),g=()=>new Date().toISOString().replace(/[:.]/g,"-"),S=h=>{const m=C=>h==="/"?!0:C===h||C.startsWith(`${h}/`);l.invalidateQueries({predicate:({queryKey:C})=>{if(!Array.isArray(C)||C[0]!=="folder")return!1;const M=typeof C[1]=="string"?C[1]:"";return m(M)}})},w=h=>{const m=Xr(h);return m===""?"/":m},E=async()=>{const h=w(e.payload.path||"/");u(!0);try{await me.refreshFolder(h),S(h),(t===h||t.startsWith(h==="/"?"/":`${h}/`))&&await r(),Ha.evictPrefix(h),Or.evictPrefix(h)}catch(m){console.error("Failed to refresh folder:",m)}finally{u(!1),s(null)}},L=async h=>{const m=[h],C=new Set,M=[];for(;m.length;){const R=m.pop();if(!C.has(R)){C.add(R);try{const N=await me.getFolder(R);M.push(...N.items);for(const I of N.dirs)I.kind==="branch"&&m.push(o(R,I.name))}catch(N){console.error(`Failed to fetch folder ${R}:`,N)}}}return M},v=h=>async()=>{f(h);const m=e.payload.path||t;try{const C=await L(m),M=zl(C),R=h==="csv"?Xd(M):Yd(M),N=h==="csv"?"text/csv;charset=utf-8":"application/json;charset=utf-8",I=m==="/"?"root":(m.replace(/^\/+/,"")||"root").replace(/\//g,"_");lo(new Blob([R],{type:N}),`metadata_${I}_${g()}.${h}`)}catch(C){console.error("Failed to export folder:",C),alert("Failed to export folder. See console for details.")}finally{f(null),s(null)}},p=e.kind==="tree"?[{label:a?"Refreshing":"Refresh",disabled:a,onClick:E},{label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d||a,onClick:v("csv")},{label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d||a,onClick:v("json")}]:(()=>{const h=e.payload.paths??[],m=[];return m.push({label:"Move to trash",disabled:i,onClick:async()=>{if(!i){for(const C of h)try{await me.moveFile(C,"/_trash_")}catch(M){console.error(`Failed to trash ${C}:`,M)}r(),s(null)}}}),i&&(m.push({label:"Permanent delete",danger:!0,onClick:async()=>{if(confirm(`Delete ${h.length} file(s) permanently? This cannot be undone.`)){try{await me.deleteFiles(h)}catch(C){console.error("Failed to delete files:",C)}r(),s(null)}}}),m.push({label:"Recover",onClick:async()=>{for(const C of h)try{const R=(await me.getSidecar(C)).original_position,N=R&&R.split("/").slice(0,-1).join("/")||"/";await me.moveFile(C,N)}catch(M){console.error(`Failed to recover ${C}:`,M)}r(),s(null)}})),h.length&&(m.push({label:d==="csv"?"Exporting CSV":"Export metadata (CSV)",disabled:!!d,onClick:async()=>{f("csv");try{const C=new Set(h),M=n.filter(I=>C.has(I.path)),R=zl(M),N=Xd(R);lo(new Blob([N],{type:"text/csv;charset=utf-8"}),`metadata_selection_${g()}.csv`)}finally{f(null),s(null)}}}),m.push({label:d==="json"?"Exporting JSON":"Export metadata (JSON)",disabled:!!d,onClick:async()=>{f("json");try{const C=new Set(h),M=n.filter(I=>C.has(I.path)),R=zl(M),N=Yd(R);lo(new Blob([N],{type:"application/json;charset=utf-8"}),`metadata_selection_${g()}.json`)}finally{f(null),s(null)}}})),m})();return c.jsx(lx,{x:e.x,y:e.y,items:p})}const gx=new ay({defaultOptions:{queries:{staleTime:1e4,gcTime:5*6e4,retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),1e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:2,retryDelay:e=>Math.min(1e3*Math.pow(2,e),5e3)}}});function vx(){return c.jsx(uy,{client:gx,children:c.jsx(ux,{})})}Cp(document.getElementById("root")).render(c.jsx(vx,{}));
